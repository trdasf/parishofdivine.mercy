(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const c of r)if(c.type==="childList")for(const A of c.addedNodes)A.tagName==="LINK"&&A.rel==="modulepreload"&&i(A)}).observe(document,{childList:!0,subtree:!0});function s(r){const c={};return r.integrity&&(c.integrity=r.integrity),r.referrerPolicy&&(c.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?c.credentials="include":r.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function i(r){if(r.ep)return;r.ep=!0;const c=s(r);fetch(r.href,c)}})();var wk=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Mj(a){return a&&a.__esModule&&Object.prototype.hasOwnProperty.call(a,"default")?a.default:a}var vg={exports:{}},Su={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Gb;function GB(){if(Gb)return Su;Gb=1;var a=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function s(i,r,c){var A=null;if(c!==void 0&&(A=""+c),r.key!==void 0&&(A=""+r.key),"key"in r){c={};for(var d in r)d!=="key"&&(c[d]=r[d])}else c=r;return r=c.ref,{$$typeof:a,type:i,key:A,ref:r!==void 0?r:null,props:c}}return Su.Fragment=t,Su.jsx=s,Su.jsxs=s,Su}var Wb;function WB(){return Wb||(Wb=1,vg.exports=GB()),vg.exports}var e=WB(),xg={exports:{}},Na={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Yb;function YB(){if(Yb)return Na;Yb=1;var a=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),s=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),A=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),u=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),x=Symbol.iterator;function y(Q){return Q===null||typeof Q!="object"?null:(Q=x&&Q[x]||Q["@@iterator"],typeof Q=="function"?Q:null)}var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},F=Object.assign,b={};function S(Q,ne,U){this.props=Q,this.context=ne,this.refs=b,this.updater=U||p}S.prototype.isReactComponent={},S.prototype.setState=function(Q,ne){if(typeof Q!="object"&&typeof Q!="function"&&Q!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,Q,ne,"setState")},S.prototype.forceUpdate=function(Q){this.updater.enqueueForceUpdate(this,Q,"forceUpdate")};function f(){}f.prototype=S.prototype;function O(Q,ne,U){this.props=Q,this.context=ne,this.refs=b,this.updater=U||p}var M=O.prototype=new f;M.constructor=O,F(M,S.prototype),M.isPureReactComponent=!0;var J=Array.isArray,K={H:null,A:null,T:null,S:null},H=Object.prototype.hasOwnProperty;function k(Q,ne,U,V,T,ie){return U=ie.ref,{$$typeof:a,type:Q,key:ne,ref:U!==void 0?U:null,props:ie}}function Y(Q,ne){return k(Q.type,ne,void 0,void 0,void 0,Q.props)}function D(Q){return typeof Q=="object"&&Q!==null&&Q.$$typeof===a}function ge(Q){var ne={"=":"=0",":":"=2"};return"$"+Q.replace(/[=:]/g,function(U){return ne[U]})}var _=/\/+/g;function X(Q,ne){return typeof Q=="object"&&Q!==null&&Q.key!=null?ge(""+Q.key):ne.toString(36)}function re(){}function fe(Q){switch(Q.status){case"fulfilled":return Q.value;case"rejected":throw Q.reason;default:switch(typeof Q.status=="string"?Q.then(re,re):(Q.status="pending",Q.then(function(ne){Q.status==="pending"&&(Q.status="fulfilled",Q.value=ne)},function(ne){Q.status==="pending"&&(Q.status="rejected",Q.reason=ne)})),Q.status){case"fulfilled":return Q.value;case"rejected":throw Q.reason}}throw Q}function Ne(Q,ne,U,V,T){var ie=typeof Q;(ie==="undefined"||ie==="boolean")&&(Q=null);var ae=!1;if(Q===null)ae=!0;else switch(ie){case"bigint":case"string":case"number":ae=!0;break;case"object":switch(Q.$$typeof){case a:case t:ae=!0;break;case v:return ae=Q._init,Ne(ae(Q._payload),ne,U,V,T)}}if(ae)return T=T(Q),ae=V===""?"."+X(Q,0):V,J(T)?(U="",ae!=null&&(U=ae.replace(_,"$&/")+"/"),Ne(T,ne,U,"",function(B){return B})):T!=null&&(D(T)&&(T=Y(T,U+(T.key==null||Q&&Q.key===T.key?"":(""+T.key).replace(_,"$&/")+"/")+ae)),ne.push(T)),1;ae=0;var P=V===""?".":V+":";if(J(Q))for(var z=0;z<Q.length;z++)V=Q[z],ie=P+X(V,z),ae+=Ne(V,ne,U,ie,T);else if(z=y(Q),typeof z=="function")for(Q=z.call(Q),z=0;!(V=Q.next()).done;)V=V.value,ie=P+X(V,z++),ae+=Ne(V,ne,U,ie,T);else if(ie==="object"){if(typeof Q.then=="function")return Ne(fe(Q),ne,U,V,T);throw ne=String(Q),Error("Objects are not valid as a React child (found: "+(ne==="[object Object]"?"object with keys {"+Object.keys(Q).join(", ")+"}":ne)+"). If you meant to render a collection of children, use an array instead.")}return ae}function ue(Q,ne,U){if(Q==null)return Q;var V=[],T=0;return Ne(Q,V,"","",function(ie){return ne.call(U,ie,T++)}),V}function _e(Q){if(Q._status===-1){var ne=Q._result;ne=ne(),ne.then(function(U){(Q._status===0||Q._status===-1)&&(Q._status=1,Q._result=U)},function(U){(Q._status===0||Q._status===-1)&&(Q._status=2,Q._result=U)}),Q._status===-1&&(Q._status=0,Q._result=ne)}if(Q._status===1)return Q._result.default;throw Q._result}var ce=typeof reportError=="function"?reportError:function(Q){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ne=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof Q=="object"&&Q!==null&&typeof Q.message=="string"?String(Q.message):String(Q),error:Q});if(!window.dispatchEvent(ne))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",Q);return}console.error(Q)};function ye(){}return Na.Children={map:ue,forEach:function(Q,ne,U){ue(Q,function(){ne.apply(this,arguments)},U)},count:function(Q){var ne=0;return ue(Q,function(){ne++}),ne},toArray:function(Q){return ue(Q,function(ne){return ne})||[]},only:function(Q){if(!D(Q))throw Error("React.Children.only expected to receive a single React element child.");return Q}},Na.Component=S,Na.Fragment=s,Na.Profiler=r,Na.PureComponent=O,Na.StrictMode=i,Na.Suspense=h,Na.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=K,Na.act=function(){throw Error("act(...) is not supported in production builds of React.")},Na.cache=function(Q){return function(){return Q.apply(null,arguments)}},Na.cloneElement=function(Q,ne,U){if(Q==null)throw Error("The argument must be a React element, but you passed "+Q+".");var V=F({},Q.props),T=Q.key,ie=void 0;if(ne!=null)for(ae in ne.ref!==void 0&&(ie=void 0),ne.key!==void 0&&(T=""+ne.key),ne)!H.call(ne,ae)||ae==="key"||ae==="__self"||ae==="__source"||ae==="ref"&&ne.ref===void 0||(V[ae]=ne[ae]);var ae=arguments.length-2;if(ae===1)V.children=U;else if(1<ae){for(var P=Array(ae),z=0;z<ae;z++)P[z]=arguments[z+2];V.children=P}return k(Q.type,T,void 0,void 0,ie,V)},Na.createContext=function(Q){return Q={$$typeof:A,_currentValue:Q,_currentValue2:Q,_threadCount:0,Provider:null,Consumer:null},Q.Provider=Q,Q.Consumer={$$typeof:c,_context:Q},Q},Na.createElement=function(Q,ne,U){var V,T={},ie=null;if(ne!=null)for(V in ne.key!==void 0&&(ie=""+ne.key),ne)H.call(ne,V)&&V!=="key"&&V!=="__self"&&V!=="__source"&&(T[V]=ne[V]);var ae=arguments.length-2;if(ae===1)T.children=U;else if(1<ae){for(var P=Array(ae),z=0;z<ae;z++)P[z]=arguments[z+2];T.children=P}if(Q&&Q.defaultProps)for(V in ae=Q.defaultProps,ae)T[V]===void 0&&(T[V]=ae[V]);return k(Q,ie,void 0,void 0,null,T)},Na.createRef=function(){return{current:null}},Na.forwardRef=function(Q){return{$$typeof:d,render:Q}},Na.isValidElement=D,Na.lazy=function(Q){return{$$typeof:v,_payload:{_status:-1,_result:Q},_init:_e}},Na.memo=function(Q,ne){return{$$typeof:u,type:Q,compare:ne===void 0?null:ne}},Na.startTransition=function(Q){var ne=K.T,U={};K.T=U;try{var V=Q(),T=K.S;T!==null&&T(U,V),typeof V=="object"&&V!==null&&typeof V.then=="function"&&V.then(ye,ce)}catch(ie){ce(ie)}finally{K.T=ne}},Na.unstable_useCacheRefresh=function(){return K.H.useCacheRefresh()},Na.use=function(Q){return K.H.use(Q)},Na.useActionState=function(Q,ne,U){return K.H.useActionState(Q,ne,U)},Na.useCallback=function(Q,ne){return K.H.useCallback(Q,ne)},Na.useContext=function(Q){return K.H.useContext(Q)},Na.useDebugValue=function(){},Na.useDeferredValue=function(Q,ne){return K.H.useDeferredValue(Q,ne)},Na.useEffect=function(Q,ne){return K.H.useEffect(Q,ne)},Na.useId=function(){return K.H.useId()},Na.useImperativeHandle=function(Q,ne,U){return K.H.useImperativeHandle(Q,ne,U)},Na.useInsertionEffect=function(Q,ne){return K.H.useInsertionEffect(Q,ne)},Na.useLayoutEffect=function(Q,ne){return K.H.useLayoutEffect(Q,ne)},Na.useMemo=function(Q,ne){return K.H.useMemo(Q,ne)},Na.useOptimistic=function(Q,ne){return K.H.useOptimistic(Q,ne)},Na.useReducer=function(Q,ne,U){return K.H.useReducer(Q,ne,U)},Na.useRef=function(Q){return K.H.useRef(Q)},Na.useState=function(Q){return K.H.useState(Q)},Na.useSyncExternalStore=function(Q,ne,U){return K.H.useSyncExternalStore(Q,ne,U)},Na.useTransition=function(){return K.H.useTransition()},Na.version="19.0.0",Na}var Xb;function Mx(){return Xb||(Xb=1,xg.exports=YB()),xg.exports}var N=Mx();const Xn=Mj(N);var yg={exports:{}},_u={},bg={exports:{}},wg={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Jb;function XB(){return Jb||(Jb=1,function(a){function t(ue,_e){var ce=ue.length;ue.push(_e);e:for(;0<ce;){var ye=ce-1>>>1,Q=ue[ye];if(0<r(Q,_e))ue[ye]=_e,ue[ce]=Q,ce=ye;else break e}}function s(ue){return ue.length===0?null:ue[0]}function i(ue){if(ue.length===0)return null;var _e=ue[0],ce=ue.pop();if(ce!==_e){ue[0]=ce;e:for(var ye=0,Q=ue.length,ne=Q>>>1;ye<ne;){var U=2*(ye+1)-1,V=ue[U],T=U+1,ie=ue[T];if(0>r(V,ce))T<Q&&0>r(ie,V)?(ue[ye]=ie,ue[T]=ce,ye=T):(ue[ye]=V,ue[U]=ce,ye=U);else if(T<Q&&0>r(ie,ce))ue[ye]=ie,ue[T]=ce,ye=T;else break e}}return _e}function r(ue,_e){var ce=ue.sortIndex-_e.sortIndex;return ce!==0?ce:ue.id-_e.id}if(a.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;a.unstable_now=function(){return c.now()}}else{var A=Date,d=A.now();a.unstable_now=function(){return A.now()-d}}var h=[],u=[],v=1,x=null,y=3,p=!1,F=!1,b=!1,S=typeof setTimeout=="function"?setTimeout:null,f=typeof clearTimeout=="function"?clearTimeout:null,O=typeof setImmediate<"u"?setImmediate:null;function M(ue){for(var _e=s(u);_e!==null;){if(_e.callback===null)i(u);else if(_e.startTime<=ue)i(u),_e.sortIndex=_e.expirationTime,t(h,_e);else break;_e=s(u)}}function J(ue){if(b=!1,M(ue),!F)if(s(h)!==null)F=!0,fe();else{var _e=s(u);_e!==null&&Ne(J,_e.startTime-ue)}}var K=!1,H=-1,k=5,Y=-1;function D(){return!(a.unstable_now()-Y<k)}function ge(){if(K){var ue=a.unstable_now();Y=ue;var _e=!0;try{e:{F=!1,b&&(b=!1,f(H),H=-1),p=!0;var ce=y;try{t:{for(M(ue),x=s(h);x!==null&&!(x.expirationTime>ue&&D());){var ye=x.callback;if(typeof ye=="function"){x.callback=null,y=x.priorityLevel;var Q=ye(x.expirationTime<=ue);if(ue=a.unstable_now(),typeof Q=="function"){x.callback=Q,M(ue),_e=!0;break t}x===s(h)&&i(h),M(ue)}else i(h);x=s(h)}if(x!==null)_e=!0;else{var ne=s(u);ne!==null&&Ne(J,ne.startTime-ue),_e=!1}}break e}finally{x=null,y=ce,p=!1}_e=void 0}}finally{_e?_():K=!1}}}var _;if(typeof O=="function")_=function(){O(ge)};else if(typeof MessageChannel<"u"){var X=new MessageChannel,re=X.port2;X.port1.onmessage=ge,_=function(){re.postMessage(null)}}else _=function(){S(ge,0)};function fe(){K||(K=!0,_())}function Ne(ue,_e){H=S(function(){ue(a.unstable_now())},_e)}a.unstable_IdlePriority=5,a.unstable_ImmediatePriority=1,a.unstable_LowPriority=4,a.unstable_NormalPriority=3,a.unstable_Profiling=null,a.unstable_UserBlockingPriority=2,a.unstable_cancelCallback=function(ue){ue.callback=null},a.unstable_continueExecution=function(){F||p||(F=!0,fe())},a.unstable_forceFrameRate=function(ue){0>ue||125<ue?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):k=0<ue?Math.floor(1e3/ue):5},a.unstable_getCurrentPriorityLevel=function(){return y},a.unstable_getFirstCallbackNode=function(){return s(h)},a.unstable_next=function(ue){switch(y){case 1:case 2:case 3:var _e=3;break;default:_e=y}var ce=y;y=_e;try{return ue()}finally{y=ce}},a.unstable_pauseExecution=function(){},a.unstable_requestPaint=function(){},a.unstable_runWithPriority=function(ue,_e){switch(ue){case 1:case 2:case 3:case 4:case 5:break;default:ue=3}var ce=y;y=ue;try{return _e()}finally{y=ce}},a.unstable_scheduleCallback=function(ue,_e,ce){var ye=a.unstable_now();switch(typeof ce=="object"&&ce!==null?(ce=ce.delay,ce=typeof ce=="number"&&0<ce?ye+ce:ye):ce=ye,ue){case 1:var Q=-1;break;case 2:Q=250;break;case 5:Q=1073741823;break;case 4:Q=1e4;break;default:Q=5e3}return Q=ce+Q,ue={id:v++,callback:_e,priorityLevel:ue,startTime:ce,expirationTime:Q,sortIndex:-1},ce>ye?(ue.sortIndex=ce,t(u,ue),s(h)===null&&ue===s(u)&&(b?(f(H),H=-1):b=!0,Ne(J,ce-ye))):(ue.sortIndex=Q,t(h,ue),F||p||(F=!0,fe())),ue},a.unstable_shouldYield=D,a.unstable_wrapCallback=function(ue){var _e=y;return function(){var ce=y;y=_e;try{return ue.apply(this,arguments)}finally{y=ce}}}}(wg)),wg}var Zb;function JB(){return Zb||(Zb=1,bg.exports=XB()),bg.exports}var Ng={exports:{}},Cs={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ew;function ZB(){if(ew)return Cs;ew=1;var a=Mx();function t(h){var u="https://react.dev/errors/"+h;if(1<arguments.length){u+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)u+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+h+"; visit "+u+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(){}var i={d:{f:s,r:function(){throw Error(t(522))},D:s,C:s,L:s,m:s,X:s,S:s,M:s},p:0,findDOMNode:null},r=Symbol.for("react.portal");function c(h,u,v){var x=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:r,key:x==null?null:""+x,children:h,containerInfo:u,implementation:v}}var A=a.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(h,u){if(h==="font")return"";if(typeof u=="string")return u==="use-credentials"?u:""}return Cs.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,Cs.createPortal=function(h,u){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!u||u.nodeType!==1&&u.nodeType!==9&&u.nodeType!==11)throw Error(t(299));return c(h,u,null,v)},Cs.flushSync=function(h){var u=A.T,v=i.p;try{if(A.T=null,i.p=2,h)return h()}finally{A.T=u,i.p=v,i.d.f()}},Cs.preconnect=function(h,u){typeof h=="string"&&(u?(u=u.crossOrigin,u=typeof u=="string"?u==="use-credentials"?u:"":void 0):u=null,i.d.C(h,u))},Cs.prefetchDNS=function(h){typeof h=="string"&&i.d.D(h)},Cs.preinit=function(h,u){if(typeof h=="string"&&u&&typeof u.as=="string"){var v=u.as,x=d(v,u.crossOrigin),y=typeof u.integrity=="string"?u.integrity:void 0,p=typeof u.fetchPriority=="string"?u.fetchPriority:void 0;v==="style"?i.d.S(h,typeof u.precedence=="string"?u.precedence:void 0,{crossOrigin:x,integrity:y,fetchPriority:p}):v==="script"&&i.d.X(h,{crossOrigin:x,integrity:y,fetchPriority:p,nonce:typeof u.nonce=="string"?u.nonce:void 0})}},Cs.preinitModule=function(h,u){if(typeof h=="string")if(typeof u=="object"&&u!==null){if(u.as==null||u.as==="script"){var v=d(u.as,u.crossOrigin);i.d.M(h,{crossOrigin:v,integrity:typeof u.integrity=="string"?u.integrity:void 0,nonce:typeof u.nonce=="string"?u.nonce:void 0})}}else u==null&&i.d.M(h)},Cs.preload=function(h,u){if(typeof h=="string"&&typeof u=="object"&&u!==null&&typeof u.as=="string"){var v=u.as,x=d(v,u.crossOrigin);i.d.L(h,v,{crossOrigin:x,integrity:typeof u.integrity=="string"?u.integrity:void 0,nonce:typeof u.nonce=="string"?u.nonce:void 0,type:typeof u.type=="string"?u.type:void 0,fetchPriority:typeof u.fetchPriority=="string"?u.fetchPriority:void 0,referrerPolicy:typeof u.referrerPolicy=="string"?u.referrerPolicy:void 0,imageSrcSet:typeof u.imageSrcSet=="string"?u.imageSrcSet:void 0,imageSizes:typeof u.imageSizes=="string"?u.imageSizes:void 0,media:typeof u.media=="string"?u.media:void 0})}},Cs.preloadModule=function(h,u){if(typeof h=="string")if(u){var v=d(u.as,u.crossOrigin);i.d.m(h,{as:typeof u.as=="string"&&u.as!=="script"?u.as:void 0,crossOrigin:v,integrity:typeof u.integrity=="string"?u.integrity:void 0})}else i.d.m(h)},Cs.requestFormReset=function(h){i.d.r(h)},Cs.unstable_batchedUpdates=function(h,u){return h(u)},Cs.useFormState=function(h,u,v){return A.H.useFormState(h,u,v)},Cs.useFormStatus=function(){return A.H.useHostTransitionStatus()},Cs.version="19.0.0",Cs}var tw;function eC(){if(tw)return Ng.exports;tw=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(t){console.error(t)}}return a(),Ng.exports=ZB(),Ng.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var aw;function tC(){if(aw)return _u;aw=1;var a=JB(),t=Mx(),s=eC();function i(n){var l="https://react.dev/errors/"+n;if(1<arguments.length){l+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)l+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+n+"; visit "+l+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}var c=Symbol.for("react.element"),A=Symbol.for("react.transitional.element"),d=Symbol.for("react.portal"),h=Symbol.for("react.fragment"),u=Symbol.for("react.strict_mode"),v=Symbol.for("react.profiler"),x=Symbol.for("react.provider"),y=Symbol.for("react.consumer"),p=Symbol.for("react.context"),F=Symbol.for("react.forward_ref"),b=Symbol.for("react.suspense"),S=Symbol.for("react.suspense_list"),f=Symbol.for("react.memo"),O=Symbol.for("react.lazy"),M=Symbol.for("react.offscreen"),J=Symbol.for("react.memo_cache_sentinel"),K=Symbol.iterator;function H(n){return n===null||typeof n!="object"?null:(n=K&&n[K]||n["@@iterator"],typeof n=="function"?n:null)}var k=Symbol.for("react.client.reference");function Y(n){if(n==null)return null;if(typeof n=="function")return n.$$typeof===k?null:n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case h:return"Fragment";case d:return"Portal";case v:return"Profiler";case u:return"StrictMode";case b:return"Suspense";case S:return"SuspenseList"}if(typeof n=="object")switch(n.$$typeof){case p:return(n.displayName||"Context")+".Provider";case y:return(n._context.displayName||"Context")+".Consumer";case F:var l=n.render;return n=n.displayName,n||(n=l.displayName||l.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case f:return l=n.displayName||null,l!==null?l:Y(n.type)||"Memo";case O:l=n._payload,n=n._init;try{return Y(n(l))}catch{}}return null}var D=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ge=Object.assign,_,X;function re(n){if(_===void 0)try{throw Error()}catch(o){var l=o.stack.trim().match(/\n( *(at )?)/);_=l&&l[1]||"",X=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+_+n+X}var fe=!1;function Ne(n,l){if(!n||fe)return"";fe=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var m={DetermineComponentFrameRoot:function(){try{if(l){var Rt=function(){throw Error()};if(Object.defineProperty(Rt.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Rt,[])}catch(_t){var Nt=_t}Reflect.construct(n,[],Rt)}else{try{Rt.call()}catch(_t){Nt=_t}n.call(Rt.prototype)}}else{try{throw Error()}catch(_t){Nt=_t}(Rt=n())&&typeof Rt.catch=="function"&&Rt.catch(function(){})}}catch(_t){if(_t&&Nt&&typeof _t.stack=="string")return[_t.stack,Nt.stack]}return[null,null]}};m.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var w=Object.getOwnPropertyDescriptor(m.DetermineComponentFrameRoot,"name");w&&w.configurable&&Object.defineProperty(m.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var E=m.DetermineComponentFrameRoot(),xe=E[0],Te=E[1];if(xe&&Te){var Je=xe.split(`
`),At=Te.split(`
`);for(w=m=0;m<Je.length&&!Je[m].includes("DetermineComponentFrameRoot");)m++;for(;w<At.length&&!At[w].includes("DetermineComponentFrameRoot");)w++;if(m===Je.length||w===At.length)for(m=Je.length-1,w=At.length-1;1<=m&&0<=w&&Je[m]!==At[w];)w--;for(;1<=m&&0<=w;m--,w--)if(Je[m]!==At[w]){if(m!==1||w!==1)do if(m--,w--,0>w||Je[m]!==At[w]){var Et=`
`+Je[m].replace(" at new "," at ");return n.displayName&&Et.includes("<anonymous>")&&(Et=Et.replace("<anonymous>",n.displayName)),Et}while(1<=m&&0<=w);break}}}finally{fe=!1,Error.prepareStackTrace=o}return(o=n?n.displayName||n.name:"")?re(o):""}function ue(n){switch(n.tag){case 26:case 27:case 5:return re(n.type);case 16:return re("Lazy");case 13:return re("Suspense");case 19:return re("SuspenseList");case 0:case 15:return n=Ne(n.type,!1),n;case 11:return n=Ne(n.type.render,!1),n;case 1:return n=Ne(n.type,!0),n;default:return""}}function _e(n){try{var l="";do l+=ue(n),n=n.return;while(n);return l}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}function ce(n){var l=n,o=n;if(n.alternate)for(;l.return;)l=l.return;else{n=l;do l=n,l.flags&4098&&(o=l.return),n=l.return;while(n)}return l.tag===3?o:null}function ye(n){if(n.tag===13){var l=n.memoizedState;if(l===null&&(n=n.alternate,n!==null&&(l=n.memoizedState)),l!==null)return l.dehydrated}return null}function Q(n){if(ce(n)!==n)throw Error(i(188))}function ne(n){var l=n.alternate;if(!l){if(l=ce(n),l===null)throw Error(i(188));return l!==n?null:n}for(var o=n,m=l;;){var w=o.return;if(w===null)break;var E=w.alternate;if(E===null){if(m=w.return,m!==null){o=m;continue}break}if(w.child===E.child){for(E=w.child;E;){if(E===o)return Q(w),n;if(E===m)return Q(w),l;E=E.sibling}throw Error(i(188))}if(o.return!==m.return)o=w,m=E;else{for(var xe=!1,Te=w.child;Te;){if(Te===o){xe=!0,o=w,m=E;break}if(Te===m){xe=!0,m=w,o=E;break}Te=Te.sibling}if(!xe){for(Te=E.child;Te;){if(Te===o){xe=!0,o=E,m=w;break}if(Te===m){xe=!0,m=E,o=w;break}Te=Te.sibling}if(!xe)throw Error(i(189))}}if(o.alternate!==m)throw Error(i(190))}if(o.tag!==3)throw Error(i(188));return o.stateNode.current===o?n:l}function U(n){var l=n.tag;if(l===5||l===26||l===27||l===6)return n;for(n=n.child;n!==null;){if(l=U(n),l!==null)return l;n=n.sibling}return null}var V=Array.isArray,T=s.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ie={pending:!1,data:null,method:null,action:null},ae=[],P=-1;function z(n){return{current:n}}function B(n){0>P||(n.current=ae[P],ae[P]=null,P--)}function q(n,l){P++,ae[P]=n.current,n.current=l}var te=z(null),he=z(null),W=z(null),C=z(null);function Z(n,l){switch(q(W,l),q(he,n),q(te,null),n=l.nodeType,n){case 9:case 11:l=(l=l.documentElement)&&(l=l.namespaceURI)?Nb(l):0;break;default:if(n=n===8?l.parentNode:l,l=n.tagName,n=n.namespaceURI)n=Nb(n),l=jb(n,l);else switch(l){case"svg":l=1;break;case"math":l=2;break;default:l=0}}B(te),q(te,l)}function se(){B(te),B(he),B(W)}function Se(n){n.memoizedState!==null&&q(C,n);var l=te.current,o=jb(l,n.type);l!==o&&(q(he,n),q(te,o))}function He(n){he.current===n&&(B(te),B(he)),C.current===n&&(B(C),wu._currentValue=ie)}var Qe=Object.prototype.hasOwnProperty,qe=a.unstable_scheduleCallback,Ye=a.unstable_cancelCallback,st=a.unstable_shouldYield,kt=a.unstable_requestPaint,Mt=a.unstable_now,ke=a.unstable_getCurrentPriorityLevel,$e=a.unstable_ImmediatePriority,Ae=a.unstable_UserBlockingPriority,Le=a.unstable_NormalPriority,de=a.unstable_LowPriority,Me=a.unstable_IdlePriority,Ie=a.log,Ze=a.unstable_setDisableYieldValue,nt=null,ot=null;function jt(n){if(ot&&typeof ot.onCommitFiberRoot=="function")try{ot.onCommitFiberRoot(nt,n,void 0,(n.current.flags&128)===128)}catch{}}function ft(n){if(typeof Ie=="function"&&Ze(n),ot&&typeof ot.setStrictMode=="function")try{ot.setStrictMode(nt,n)}catch{}}var It=Math.clz32?Math.clz32:De,Ke=Math.log,it=Math.LN2;function De(n){return n>>>=0,n===0?32:31-(Ke(n)/it|0)|0}var Be=128,pe=4194304;function we(n){var l=n&42;if(l!==0)return l;switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return n&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return n}}function ze(n,l){var o=n.pendingLanes;if(o===0)return 0;var m=0,w=n.suspendedLanes,E=n.pingedLanes,xe=n.warmLanes;n=n.finishedLanes!==0;var Te=o&134217727;return Te!==0?(o=Te&~w,o!==0?m=we(o):(E&=Te,E!==0?m=we(E):n||(xe=Te&~xe,xe!==0&&(m=we(xe))))):(Te=o&~w,Te!==0?m=we(Te):E!==0?m=we(E):n||(xe=o&~xe,xe!==0&&(m=we(xe)))),m===0?0:l!==0&&l!==m&&!(l&w)&&(w=m&-m,xe=l&-l,w>=xe||w===32&&(xe&4194176)!==0)?l:m}function Xe(n,l){return(n.pendingLanes&~(n.suspendedLanes&~n.pingedLanes)&l)===0}function wt(n,l){switch(n){case 1:case 2:case 4:case 8:return l+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return l+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function yt(){var n=Be;return Be<<=1,!(Be&4194176)&&(Be=128),n}function Qt(){var n=pe;return pe<<=1,!(pe&62914560)&&(pe=4194304),n}function ta(n){for(var l=[],o=0;31>o;o++)l.push(n);return l}function Ft(n,l){n.pendingLanes|=l,l!==268435456&&(n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0)}function Aa(n,l,o,m,w,E){var xe=n.pendingLanes;n.pendingLanes=o,n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0,n.expiredLanes&=o,n.entangledLanes&=o,n.errorRecoveryDisabledLanes&=o,n.shellSuspendCounter=0;var Te=n.entanglements,Je=n.expirationTimes,At=n.hiddenUpdates;for(o=xe&~o;0<o;){var Et=31-It(o),Rt=1<<Et;Te[Et]=0,Je[Et]=-1;var Nt=At[Et];if(Nt!==null)for(At[Et]=null,Et=0;Et<Nt.length;Et++){var _t=Nt[Et];_t!==null&&(_t.lane&=-536870913)}o&=~Rt}m!==0&&Ue(n,m,0),E!==0&&w===0&&n.tag!==0&&(n.suspendedLanes|=E&~(xe&~l))}function Ue(n,l,o){n.pendingLanes|=l,n.suspendedLanes&=~l;var m=31-It(l);n.entangledLanes|=l,n.entanglements[m]=n.entanglements[m]|1073741824|o&4194218}function be(n,l){var o=n.entangledLanes|=l;for(n=n.entanglements;o;){var m=31-It(o),w=1<<m;w&l|n[m]&l&&(n[m]|=l),o&=~w}}function R(n){return n&=-n,2<n?8<n?n&134217727?32:268435456:8:2}function G(){var n=T.p;return n!==0?n:(n=window.event,n===void 0?32:Hb(n.type))}function oe(n,l){var o=T.p;try{return T.p=n,l()}finally{T.p=o}}var ee=Math.random().toString(36).slice(2),me="__reactFiber$"+ee,$="__reactProps$"+ee,ve="__reactContainer$"+ee,Pe="__reactEvents$"+ee,We="__reactListeners$"+ee,ut="__reactHandles$"+ee,Ct="__reactResources$"+ee,Kt="__reactMarker$"+ee;function ya(n){delete n[me],delete n[$],delete n[Pe],delete n[We],delete n[ut]}function Ra(n){var l=n[me];if(l)return l;for(var o=n.parentNode;o;){if(l=o[ve]||o[me]){if(o=l.alternate,l.child!==null||o!==null&&o.child!==null)for(n=Sb(n);n!==null;){if(o=n[me])return o;n=Sb(n)}return l}n=o,o=n.parentNode}return null}function qa(n){if(n=n[me]||n[ve]){var l=n.tag;if(l===5||l===6||l===13||l===26||l===27||l===3)return n}return null}function Qi(n){var l=n.tag;if(l===5||l===26||l===27||l===6)return n.stateNode;throw Error(i(33))}function ls(n){var l=n[Ct];return l||(l=n[Ct]={hoistableStyles:new Map,hoistableScripts:new Map}),l}function Ga(n){n[Kt]=!0}var Ln=new Set,ks={};function Yi(n,l){ra(n,l),ra(n+"Capture",l)}function ra(n,l){for(ks[n]=l,n=0;n<l.length;n++)Ln.add(l[n])}var Xi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ha=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),xo={},wA={};function tc(n){return Qe.call(wA,n)?!0:Qe.call(xo,n)?!1:ha.test(n)?wA[n]=!0:(xo[n]=!0,!1)}function ac(n,l,o){if(tc(l))if(o===null)n.removeAttribute(l);else{switch(typeof o){case"undefined":case"function":case"symbol":n.removeAttribute(l);return;case"boolean":var m=l.toLowerCase().slice(0,5);if(m!=="data-"&&m!=="aria-"){n.removeAttribute(l);return}}n.setAttribute(l,""+o)}}function ei(n,l,o){if(o===null)n.removeAttribute(l);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(l);return}n.setAttribute(l,""+o)}}function Gs(n,l,o,m){if(m===null)n.removeAttribute(o);else{switch(typeof m){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(o);return}n.setAttributeNS(l,o,""+m)}}function cs(n){switch(typeof n){case"bigint":case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function yo(n){var l=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(l==="checkbox"||l==="radio")}function bo(n){var l=yo(n)?"checked":"value",o=Object.getOwnPropertyDescriptor(n.constructor.prototype,l),m=""+n[l];if(!n.hasOwnProperty(l)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var w=o.get,E=o.set;return Object.defineProperty(n,l,{configurable:!0,get:function(){return w.call(this)},set:function(xe){m=""+xe,E.call(this,xe)}}),Object.defineProperty(n,l,{enumerable:o.enumerable}),{getValue:function(){return m},setValue:function(xe){m=""+xe},stopTracking:function(){n._valueTracker=null,delete n[l]}}}}function ic(n){n._valueTracker||(n._valueTracker=bo(n))}function Ws(n){if(!n)return!1;var l=n._valueTracker;if(!l)return!0;var o=l.getValue(),m="";return n&&(m=yo(n)?n.checked?"true":"false":n.value),n=m,n!==o?(l.setValue(n),!0):!1}function Jn(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}var xs=/[\n"\\]/g;function Ji(n){return n.replace(xs,function(l){return"\\"+l.charCodeAt(0).toString(16)+" "})}function sc(n,l,o,m,w,E,xe,Te){n.name="",xe!=null&&typeof xe!="function"&&typeof xe!="symbol"&&typeof xe!="boolean"?n.type=xe:n.removeAttribute("type"),l!=null?xe==="number"?(l===0&&n.value===""||n.value!=l)&&(n.value=""+cs(l)):n.value!==""+cs(l)&&(n.value=""+cs(l)):xe!=="submit"&&xe!=="reset"||n.removeAttribute("value"),l!=null?nc(n,xe,cs(l)):o!=null?nc(n,xe,cs(o)):m!=null&&n.removeAttribute("value"),w==null&&E!=null&&(n.defaultChecked=!!E),w!=null&&(n.checked=w&&typeof w!="function"&&typeof w!="symbol"),Te!=null&&typeof Te!="function"&&typeof Te!="symbol"&&typeof Te!="boolean"?n.name=""+cs(Te):n.removeAttribute("name")}function NA(n,l,o,m,w,E,xe,Te){if(E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"&&(n.type=E),l!=null||o!=null){if(!(E!=="submit"&&E!=="reset"||l!=null))return;o=o!=null?""+cs(o):"",l=l!=null?""+cs(l):o,Te||l===n.value||(n.value=l),n.defaultValue=l}m=m??w,m=typeof m!="function"&&typeof m!="symbol"&&!!m,n.checked=Te?n.checked:!!m,n.defaultChecked=!!m,xe!=null&&typeof xe!="function"&&typeof xe!="symbol"&&typeof xe!="boolean"&&(n.name=xe)}function nc(n,l,o){l==="number"&&Jn(n.ownerDocument)===n||n.defaultValue===""+o||(n.defaultValue=""+o)}function Fr(n,l,o,m){if(n=n.options,l){l={};for(var w=0;w<o.length;w++)l["$"+o[w]]=!0;for(o=0;o<n.length;o++)w=l.hasOwnProperty("$"+n[o].value),n[o].selected!==w&&(n[o].selected=w),w&&m&&(n[o].defaultSelected=!0)}else{for(o=""+cs(o),l=null,w=0;w<n.length;w++){if(n[w].value===o){n[w].selected=!0,m&&(n[w].defaultSelected=!0);return}l!==null||n[w].disabled||(l=n[w])}l!==null&&(l.selected=!0)}}function wo(n,l,o){if(l!=null&&(l=""+cs(l),l!==n.value&&(n.value=l),o==null)){n.defaultValue!==l&&(n.defaultValue=l);return}n.defaultValue=o!=null?""+cs(o):""}function jA(n,l,o,m){if(l==null){if(m!=null){if(o!=null)throw Error(i(92));if(V(m)){if(1<m.length)throw Error(i(93));m=m[0]}o=m}o==null&&(o=""),l=o}o=cs(l),n.defaultValue=o,m=n.textContent,m===o&&m!==""&&m!==null&&(n.value=m)}function Mn(n,l){if(l){var o=n.firstChild;if(o&&o===n.lastChild&&o.nodeType===3){o.nodeValue=l;return}}n.textContent=l}var Td=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function BA(n,l,o){var m=l.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?m?n.setProperty(l,""):l==="float"?n.cssFloat="":n[l]="":m?n.setProperty(l,o):typeof o!="number"||o===0||Td.has(l)?l==="float"?n.cssFloat=o:n[l]=(""+o).trim():n[l]=o+"px"}function CA(n,l,o){if(l!=null&&typeof l!="object")throw Error(i(62));if(n=n.style,o!=null){for(var m in o)!o.hasOwnProperty(m)||l!=null&&l.hasOwnProperty(m)||(m.indexOf("--")===0?n.setProperty(m,""):m==="float"?n.cssFloat="":n[m]="");for(var w in l)m=l[w],l.hasOwnProperty(w)&&o[w]!==m&&BA(n,w,m)}else for(var E in l)l.hasOwnProperty(E)&&BA(n,E,l[E])}function An(n){if(n.indexOf("-")===-1)return!1;switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var rc=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),lc=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ml(n){return lc.test(""+n)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":n}var Ti=null;function No(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var Zn=null,da=null;function SA(n){var l=qa(n);if(l&&(n=l.stateNode)){var o=n[$]||null;e:switch(n=l.stateNode,l.type){case"input":if(sc(n,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),l=o.name,o.type==="radio"&&l!=null){for(o=n;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+Ji(""+l)+'"][type="radio"]'),l=0;l<o.length;l++){var m=o[l];if(m!==n&&m.form===n.form){var w=m[$]||null;if(!w)throw Error(i(90));sc(m,w.value,w.defaultValue,w.defaultValue,w.checked,w.defaultChecked,w.type,w.name)}}for(l=0;l<o.length;l++)m=o[l],m.form===n.form&&Ws(m)}break e;case"textarea":wo(n,o.value,o.defaultValue);break e;case"select":l=o.value,l!=null&&Fr(n,!!o.multiple,l,!1)}}}var jo=!1;function dn(n,l,o){if(jo)return n(l,o);jo=!0;try{var m=n(l);return m}finally{if(jo=!1,(Zn!==null||da!==null)&&(zh(),Zn&&(l=Zn,n=da,da=Zn=null,SA(l),n)))for(l=0;l<n.length;l++)SA(n[l])}}function Dr(n,l){var o=n.stateNode;if(o===null)return null;var m=o[$]||null;if(m===null)return null;o=m[l];e:switch(l){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(m=!m.disabled)||(n=n.type,m=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!m;break e;default:n=!1}if(n)return null;if(o&&typeof o!="function")throw Error(i(231,l,typeof o));return o}var cc=!1;if(Xi)try{var Un={};Object.defineProperty(Un,"passive",{get:function(){cc=!0}}),window.addEventListener("test",Un,Un),window.removeEventListener("test",Un,Un)}catch{cc=!1}var Ys=null,Bo=null,oc=null;function _A(){if(oc)return oc;var n,l=Bo,o=l.length,m,w="value"in Ys?Ys.value:Ys.textContent,E=w.length;for(n=0;n<o&&l[n]===w[n];n++);var xe=o-n;for(m=1;m<=xe&&l[o-m]===w[E-m];m++);return oc=w.slice(n,1<m?1-m:void 0)}function Er(n){var l=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&l===13&&(n=13)):n=l,n===10&&(n=13),32<=n||n===13?n:0}function On(){return!0}function er(){return!1}function Zi(n){function l(o,m,w,E,xe){this._reactName=o,this._targetInst=w,this.type=m,this.nativeEvent=E,this.target=xe,this.currentTarget=null;for(var Te in n)n.hasOwnProperty(Te)&&(o=n[Te],this[Te]=o?o(E):E[Te]);return this.isDefaultPrevented=(E.defaultPrevented!=null?E.defaultPrevented:E.returnValue===!1)?On:er,this.isPropagationStopped=er,this}return ge(l.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=On)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=On)},persist:function(){},isPersistent:On}),l}var Is={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Lr=Zi(Is),kn=ge({},Is,{view:0,detail:0}),FA=Zi(kn),Ac,dc,Mr,Qs=ge({},kn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:fc,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==Mr&&(Mr&&n.type==="mousemove"?(Ac=n.screenX-Mr.screenX,dc=n.screenY-Mr.screenY):dc=Ac=0,Mr=n),Ac)},movementY:function(n){return"movementY"in n?n.movementY:dc}}),In=Zi(Qs),Rd=ge({},Qs,{dataTransfer:0}),Ur=Zi(Rd),un=ge({},kn,{relatedTarget:0}),fl=Zi(un),pl=ge({},Is,{animationName:0,elapsedTime:0,pseudoElement:0}),Pd=Zi(pl),uc=ge({},Is,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),Hd=Zi(uc),Co=ge({},Is,{data:0}),hc=Zi(Co),DA={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},mc={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},So={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function _o(n){var l=this.nativeEvent;return l.getModifierState?l.getModifierState(n):(n=So[n])?!!l[n]:!1}function fc(){return _o}var qd=ge({},kn,{key:function(n){if(n.key){var l=DA[n.key]||n.key;if(l!=="Unidentified")return l}return n.type==="keypress"?(n=Er(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?mc[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:fc,charCode:function(n){return n.type==="keypress"?Er(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?Er(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),pc=Zi(qd),gl=ge({},Qs,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),gc=Zi(gl),Or=ge({},kn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:fc}),Fo=Zi(Or),L=ge({},Is,{propertyName:0,elapsedTime:0,pseudoElement:0}),Ce=Zi(L),Ge=ge({},Qs,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),tt=Zi(Ge),ht=ge({},Is,{newState:0,oldState:0}),St=Zi(ht),Tt=[9,13,27,32],zt=Xi&&"CompositionEvent"in window,Zt=null;Xi&&"documentMode"in document&&(Zt=document.documentMode);var ga=Xi&&"TextEvent"in window&&!Zt,fa=Xi&&(!zt||Zt&&8<Zt&&11>=Zt),Sa=" ",ti=!1;function ri(n,l){switch(n){case"keyup":return Tt.indexOf(l.keyCode)!==-1;case"keydown":return l.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function pi(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var gi=!1;function Ri(n,l){switch(n){case"compositionend":return pi(l);case"keypress":return l.which!==32?null:(ti=!0,Sa);case"textInput":return n=l.data,n===Sa&&ti?null:n;default:return null}}function hn(n,l){if(gi)return n==="compositionend"||!zt&&ri(n,l)?(n=_A(),oc=Bo=Ys=null,gi=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(l.ctrlKey||l.altKey||l.metaKey)||l.ctrlKey&&l.altKey){if(l.char&&1<l.char.length)return l.char;if(l.which)return String.fromCharCode(l.which)}return null;case"compositionend":return fa&&l.locale!=="ko"?null:l.data;default:return null}}var Ts={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function mn(n){var l=n&&n.nodeName&&n.nodeName.toLowerCase();return l==="input"?!!Ts[n.type]:l==="textarea"}function Do(n,l,o,m){Zn?da?da.push(m):da=[m]:Zn=m,l=Xh(l,"onChange"),0<l.length&&(o=new Lr("onChange","change",null,o,m),n.push({event:o,listeners:l}))}var tr=null,ar=null;function vc(n){vb(n,0)}function kr(n){var l=Qi(n);if(Ws(l))return n}function xc(n,l){if(n==="change")return l}var vl=!1;if(Xi){var _i;if(Xi){var Ir="oninput"in document;if(!Ir){var xl=document.createElement("div");xl.setAttribute("oninput","return;"),Ir=typeof xl.oninput=="function"}_i=Ir}else _i=!1;vl=_i&&(!document.documentMode||9<document.documentMode)}function yl(){tr&&(tr.detachEvent("onpropertychange",yc),ar=tr=null)}function yc(n){if(n.propertyName==="value"&&kr(ar)){var l=[];Do(l,ar,n,No(n)),dn(vc,l)}}function ys(n,l,o){n==="focusin"?(yl(),tr=l,ar=o,tr.attachEvent("onpropertychange",yc)):n==="focusout"&&yl()}function Kd(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return kr(ar)}function Eo(n,l){if(n==="click")return kr(l)}function EA(n,l){if(n==="input"||n==="change")return kr(l)}function Xs(n,l){return n===l&&(n!==0||1/n===1/l)||n!==n&&l!==l}var Pi=typeof Object.is=="function"?Object.is:Xs;function Qr(n,l){if(Pi(n,l))return!0;if(typeof n!="object"||n===null||typeof l!="object"||l===null)return!1;var o=Object.keys(n),m=Object.keys(l);if(o.length!==m.length)return!1;for(m=0;m<o.length;m++){var w=o[m];if(!Qe.call(l,w)||!Pi(n[w],l[w]))return!1}return!0}function Lo(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function ir(n,l){var o=Lo(n);n=0;for(var m;o;){if(o.nodeType===3){if(m=n+o.textContent.length,n<=l&&m>=l)return{node:o,offset:l-n};n=m}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=Lo(o)}}function Tr(n,l){return n&&l?n===l?!0:n&&n.nodeType===3?!1:l&&l.nodeType===3?Tr(n,l.parentNode):"contains"in n?n.contains(l):n.compareDocumentPosition?!!(n.compareDocumentPosition(l)&16):!1:!1}function os(n){n=n!=null&&n.ownerDocument!=null&&n.ownerDocument.defaultView!=null?n.ownerDocument.defaultView:window;for(var l=Jn(n.document);l instanceof n.HTMLIFrameElement;){try{var o=typeof l.contentWindow.location.href=="string"}catch{o=!1}if(o)n=l.contentWindow;else break;l=Jn(n.document)}return l}function Ki(n){var l=n&&n.nodeName&&n.nodeName.toLowerCase();return l&&(l==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||l==="textarea"||n.contentEditable==="true")}function Rr(n,l){var o=os(l);l=n.focusedElem;var m=n.selectionRange;if(o!==l&&l&&l.ownerDocument&&Tr(l.ownerDocument.documentElement,l)){if(m!==null&&Ki(l)){if(n=m.start,o=m.end,o===void 0&&(o=n),"selectionStart"in l)l.selectionStart=n,l.selectionEnd=Math.min(o,l.value.length);else if(o=(n=l.ownerDocument||document)&&n.defaultView||window,o.getSelection){o=o.getSelection();var w=l.textContent.length,E=Math.min(m.start,w);m=m.end===void 0?E:Math.min(m.end,w),!o.extend&&E>m&&(w=m,m=E,E=w),w=ir(l,E);var xe=ir(l,m);w&&xe&&(o.rangeCount!==1||o.anchorNode!==w.node||o.anchorOffset!==w.offset||o.focusNode!==xe.node||o.focusOffset!==xe.offset)&&(n=n.createRange(),n.setStart(w.node,w.offset),o.removeAllRanges(),E>m?(o.addRange(n),o.extend(xe.node,xe.offset)):(n.setEnd(xe.node,xe.offset),o.addRange(n)))}}for(n=[],o=l;o=o.parentNode;)o.nodeType===1&&n.push({element:o,left:o.scrollLeft,top:o.scrollTop});for(typeof l.focus=="function"&&l.focus(),l=0;l<n.length;l++)o=n[l],o.element.scrollLeft=o.left,o.element.scrollTop=o.top}}var sr=Xi&&"documentMode"in document&&11>=document.documentMode,bs=null,Pr=null,Rs=null,li=!1;function bc(n,l,o){var m=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;li||bs==null||bs!==Jn(m)||(m=bs,"selectionStart"in m&&Ki(m)?m={start:m.selectionStart,end:m.selectionEnd}:(m=(m.ownerDocument&&m.ownerDocument.defaultView||window).getSelection(),m={anchorNode:m.anchorNode,anchorOffset:m.anchorOffset,focusNode:m.focusNode,focusOffset:m.focusOffset}),Rs&&Qr(Rs,m)||(Rs=m,m=Xh(Pr,"onSelect"),0<m.length&&(l=new Lr("onSelect","select",null,l,o),n.push({event:l,listeners:m}),l.target=bs)))}function vi(n,l){var o={};return o[n.toLowerCase()]=l.toLowerCase(),o["Webkit"+n]="webkit"+l,o["Moz"+n]="moz"+l,o}var Vi={animationend:vi("Animation","AnimationEnd"),animationiteration:vi("Animation","AnimationIteration"),animationstart:vi("Animation","AnimationStart"),transitionrun:vi("Transition","TransitionRun"),transitionstart:vi("Transition","TransitionStart"),transitioncancel:vi("Transition","TransitionCancel"),transitionend:vi("Transition","TransitionEnd")},Hr={},Mo={};Xi&&(Mo=document.createElement("div").style,"AnimationEvent"in window||(delete Vi.animationend.animation,delete Vi.animationiteration.animation,delete Vi.animationstart.animation),"TransitionEvent"in window||delete Vi.transitionend.transition);function fn(n){if(Hr[n])return Hr[n];if(!Vi[n])return n;var l=Vi[n],o;for(o in l)if(l.hasOwnProperty(o)&&o in Mo)return Hr[n]=l[o];return n}var qr=fn("animationend"),Kr=fn("animationiteration"),nr=fn("animationstart"),bl=fn("transitionrun"),wc=fn("transitionstart"),wl=fn("transitioncancel"),rr=fn("transitionend"),Nc=new Map,Ps="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll scrollEnd toggle touchMove waiting wheel".split(" ");function ui(n,l){Nc.set(n,l),Yi(l,[n])}var ja=[],Qa=0,ci=0;function hi(){for(var n=Qa,l=ci=Qa=0;l<n;){var o=ja[l];ja[l++]=null;var m=ja[l];ja[l++]=null;var w=ja[l];ja[l++]=null;var E=ja[l];if(ja[l++]=null,m!==null&&w!==null){var xe=m.pending;xe===null?w.next=w:(w.next=xe.next,xe.next=w),m.pending=w}E!==0&&Uo(o,w,E)}}function Js(n,l,o,m){ja[Qa++]=n,ja[Qa++]=l,ja[Qa++]=o,ja[Qa++]=m,ci|=m,n.lanes|=m,n=n.alternate,n!==null&&(n.lanes|=m)}function Nl(n,l,o,m){return Js(n,l,o,m),jc(n)}function Hs(n,l){return Js(n,null,null,l),jc(n)}function Uo(n,l,o){n.lanes|=o;var m=n.alternate;m!==null&&(m.lanes|=o);for(var w=!1,E=n.return;E!==null;)E.childLanes|=o,m=E.alternate,m!==null&&(m.childLanes|=o),E.tag===22&&(n=E.stateNode,n===null||n._visibility&1||(w=!0)),n=E,E=E.return;w&&l!==null&&n.tag===3&&(E=n.stateNode,w=31-It(o),E=E.hiddenUpdates,n=E[w],n===null?E[w]=[l]:n.push(l),l.lane=o|536870912)}function jc(n){if(50<fu)throw fu=0,Hp=null,Error(i(185));for(var l=n.return;l!==null;)n=l,l=n.return;return n.tag===3?n.stateNode:null}var lr={},ws=new WeakMap;function oi(n,l){if(typeof n=="object"&&n!==null){var o=ws.get(n);return o!==void 0?o:(l={value:n,source:l,stack:_e(l)},ws.set(n,l),l)}return{value:n,source:l,stack:_e(l)}}var cr=[],or=0,Oo=null,jl=0,As=[],Ns=0,Vr=null,pn=1,gn="";function Qn(n,l){cr[or++]=jl,cr[or++]=Oo,Oo=n,jl=l}function LA(n,l,o){As[Ns++]=pn,As[Ns++]=gn,As[Ns++]=Vr,Vr=n;var m=pn;n=gn;var w=32-It(m)-1;m&=~(1<<w),o+=1;var E=32-It(l)+w;if(30<E){var xe=w-w%5;E=(m&(1<<xe)-1).toString(32),m>>=xe,w-=xe,pn=1<<32-It(l)+w|o<<w|m,gn=E+n}else pn=1<<E|o<<w|m,gn=n}function Vd(n){n.return!==null&&(Qn(n,1),LA(n,1,0))}function zd(n){for(;n===Oo;)Oo=cr[--or],cr[or]=null,jl=cr[--or],cr[or]=null;for(;n===Vr;)Vr=As[--Ns],As[Ns]=null,gn=As[--Ns],As[Ns]=null,pn=As[--Ns],As[Ns]=null}var es=null,zi=null,ka=!1,vn=null,Tn=!1,$d=Error(i(519));function Ar(n){var l=Error(i(418,""));throw Cc(oi(l,n)),$d}function MA(n){var l=n.stateNode,o=n.type,m=n.memoizedProps;switch(l[me]=n,l[$]=m,o){case"dialog":Ua("cancel",l),Ua("close",l);break;case"iframe":case"object":case"embed":Ua("load",l);break;case"video":case"audio":for(o=0;o<gu.length;o++)Ua(gu[o],l);break;case"source":Ua("error",l);break;case"img":case"image":case"link":Ua("error",l),Ua("load",l);break;case"details":Ua("toggle",l);break;case"input":Ua("invalid",l),NA(l,m.value,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name,!0),ic(l);break;case"select":Ua("invalid",l);break;case"textarea":Ua("invalid",l),jA(l,m.value,m.defaultValue,m.children),ic(l)}o=m.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||l.textContent===""+o||m.suppressHydrationWarning===!0||wb(l.textContent,o)?(m.popover!=null&&(Ua("beforetoggle",l),Ua("toggle",l)),m.onScroll!=null&&Ua("scroll",l),m.onScrollEnd!=null&&Ua("scrollend",l),m.onClick!=null&&(l.onclick=Jh),l=!0):l=!1,l||Ar(n)}function Bc(n){for(es=n.return;es;)switch(es.tag){case 3:case 27:Tn=!0;return;case 5:case 13:Tn=!1;return;default:es=es.return}}function ko(n){if(n!==es)return!1;if(!ka)return Bc(n),ka=!0,!1;var l=!1,o;if((o=n.tag!==3&&n.tag!==27)&&((o=n.tag===5)&&(o=n.type,o=!(o!=="form"&&o!=="button")||ng(n.type,n.memoizedProps)),o=!o),o&&(l=!0),l&&zi&&Ar(n),Bc(n),n.tag===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(i(317));e:{for(n=n.nextSibling,l=0;n;){if(n.nodeType===8)if(o=n.data,o==="/$"){if(l===0){zi=xr(n.nextSibling);break e}l--}else o!=="$"&&o!=="$!"&&o!=="$?"||l++;n=n.nextSibling}zi=null}}else zi=es?xr(n.stateNode.nextSibling):null;return!0}function Io(){zi=es=null,ka=!1}function Cc(n){vn===null?vn=[n]:vn.push(n)}var Qo=Error(i(460)),yh=Error(i(474)),Gd={then:function(){}};function bh(n){return n=n.status,n==="fulfilled"||n==="rejected"}function xn(){}function Zs(n,l,o){switch(o=n[o],o===void 0?n.push(l):o!==l&&(l.then(xn,xn),l=o),l.status){case"fulfilled":return l.value;case"rejected":throw n=l.reason,n===Qo?Error(i(483)):n;default:if(typeof l.status=="string")l.then(xn,xn);else{if(n=ii,n!==null&&100<n.shellSuspendCounter)throw Error(i(482));n=l,n.status="pending",n.then(function(m){if(l.status==="pending"){var w=l;w.status="fulfilled",w.value=m}},function(m){if(l.status==="pending"){var w=l;w.status="rejected",w.reason=m}})}switch(l.status){case"fulfilled":return l.value;case"rejected":throw n=l.reason,n===Qo?Error(i(483)):n}throw qs=l,Qo}}var qs=null;function wh(){if(qs===null)throw Error(i(459));var n=qs;return qs=null,n}var Bl=null,en=0;function ds(n){var l=en;return en+=1,Bl===null&&(Bl=[]),Zs(Bl,n,l)}function To(n,l){l=l.props.ref,n.ref=l!==void 0?l:null}function UA(n,l){throw l.$$typeof===c?Error(i(525)):(n=Object.prototype.toString.call(l),Error(i(31,n==="[object Object]"?"object with keys {"+Object.keys(l).join(", ")+"}":n)))}function Wd(n){var l=n._init;return l(n._payload)}function Yd(n){function l(mt,lt){if(n){var xt=mt.deletions;xt===null?(mt.deletions=[lt],mt.flags|=16):xt.push(lt)}}function o(mt,lt){if(!n)return null;for(;lt!==null;)l(mt,lt),lt=lt.sibling;return null}function m(mt){for(var lt=new Map;mt!==null;)mt.key!==null?lt.set(mt.key,mt):lt.set(mt.index,mt),mt=mt.sibling;return lt}function w(mt,lt){return mt=Pc(mt,lt),mt.index=0,mt.sibling=null,mt}function E(mt,lt,xt){return mt.index=xt,n?(xt=mt.alternate,xt!==null?(xt=xt.index,xt<lt?(mt.flags|=33554434,lt):xt):(mt.flags|=33554434,lt)):(mt.flags|=1048576,lt)}function xe(mt){return n&&mt.alternate===null&&(mt.flags|=33554434),mt}function Te(mt,lt,xt,Ot){return lt===null||lt.tag!==6?(lt=Up(xt,mt.mode,Ot),lt.return=mt,lt):(lt=w(lt,xt),lt.return=mt,lt)}function Je(mt,lt,xt,Ot){var Wt=xt.type;return Wt===h?Et(mt,lt,xt.props.children,Ot,xt.key):lt!==null&&(lt.elementType===Wt||typeof Wt=="object"&&Wt!==null&&Wt.$$typeof===O&&Wd(Wt)===lt.type)?(lt=w(lt,xt.props),To(lt,xt),lt.return=mt,lt):(lt=Ph(xt.type,xt.key,xt.props,null,mt.mode,Ot),To(lt,xt),lt.return=mt,lt)}function At(mt,lt,xt,Ot){return lt===null||lt.tag!==4||lt.stateNode.containerInfo!==xt.containerInfo||lt.stateNode.implementation!==xt.implementation?(lt=Op(xt,mt.mode,Ot),lt.return=mt,lt):(lt=w(lt,xt.children||[]),lt.return=mt,lt)}function Et(mt,lt,xt,Ot,Wt){return lt===null||lt.tag!==7?(lt=eA(xt,mt.mode,Ot,Wt),lt.return=mt,lt):(lt=w(lt,xt),lt.return=mt,lt)}function Rt(mt,lt,xt){if(typeof lt=="string"&&lt!==""||typeof lt=="number"||typeof lt=="bigint")return lt=Up(""+lt,mt.mode,xt),lt.return=mt,lt;if(typeof lt=="object"&&lt!==null){switch(lt.$$typeof){case A:return xt=Ph(lt.type,lt.key,lt.props,null,mt.mode,xt),To(xt,lt),xt.return=mt,xt;case d:return lt=Op(lt,mt.mode,xt),lt.return=mt,lt;case O:var Ot=lt._init;return lt=Ot(lt._payload),Rt(mt,lt,xt)}if(V(lt)||H(lt))return lt=eA(lt,mt.mode,xt,null),lt.return=mt,lt;if(typeof lt.then=="function")return Rt(mt,ds(lt),xt);if(lt.$$typeof===p)return Rt(mt,Qh(mt,lt),xt);UA(mt,lt)}return null}function Nt(mt,lt,xt,Ot){var Wt=lt!==null?lt.key:null;if(typeof xt=="string"&&xt!==""||typeof xt=="number"||typeof xt=="bigint")return Wt!==null?null:Te(mt,lt,""+xt,Ot);if(typeof xt=="object"&&xt!==null){switch(xt.$$typeof){case A:return xt.key===Wt?Je(mt,lt,xt,Ot):null;case d:return xt.key===Wt?At(mt,lt,xt,Ot):null;case O:return Wt=xt._init,xt=Wt(xt._payload),Nt(mt,lt,xt,Ot)}if(V(xt)||H(xt))return Wt!==null?null:Et(mt,lt,xt,Ot,null);if(typeof xt.then=="function")return Nt(mt,lt,ds(xt),Ot);if(xt.$$typeof===p)return Nt(mt,lt,Qh(mt,xt),Ot);UA(mt,xt)}return null}function _t(mt,lt,xt,Ot,Wt){if(typeof Ot=="string"&&Ot!==""||typeof Ot=="number"||typeof Ot=="bigint")return mt=mt.get(xt)||null,Te(lt,mt,""+Ot,Wt);if(typeof Ot=="object"&&Ot!==null){switch(Ot.$$typeof){case A:return mt=mt.get(Ot.key===null?xt:Ot.key)||null,Je(lt,mt,Ot,Wt);case d:return mt=mt.get(Ot.key===null?xt:Ot.key)||null,At(lt,mt,Ot,Wt);case O:var Ca=Ot._init;return Ot=Ca(Ot._payload),_t(mt,lt,xt,Ot,Wt)}if(V(Ot)||H(Ot))return mt=mt.get(xt)||null,Et(lt,mt,Ot,Wt,null);if(typeof Ot.then=="function")return _t(mt,lt,xt,ds(Ot),Wt);if(Ot.$$typeof===p)return _t(mt,lt,xt,Qh(lt,Ot),Wt);UA(lt,Ot)}return null}function ia(mt,lt,xt,Ot){for(var Wt=null,Ca=null,la=lt,ua=lt=0,ss=null;la!==null&&ua<xt.length;ua++){la.index>ua?(ss=la,la=null):ss=la.sibling;var Ha=Nt(mt,la,xt[ua],Ot);if(Ha===null){la===null&&(la=ss);break}n&&la&&Ha.alternate===null&&l(mt,la),lt=E(Ha,lt,ua),Ca===null?Wt=Ha:Ca.sibling=Ha,Ca=Ha,la=ss}if(ua===xt.length)return o(mt,la),ka&&Qn(mt,ua),Wt;if(la===null){for(;ua<xt.length;ua++)la=Rt(mt,xt[ua],Ot),la!==null&&(lt=E(la,lt,ua),Ca===null?Wt=la:Ca.sibling=la,Ca=la);return ka&&Qn(mt,ua),Wt}for(la=m(la);ua<xt.length;ua++)ss=_t(la,mt,ua,xt[ua],Ot),ss!==null&&(n&&ss.alternate!==null&&la.delete(ss.key===null?ua:ss.key),lt=E(ss,lt,ua),Ca===null?Wt=ss:Ca.sibling=ss,Ca=ss);return n&&la.forEach(function(Gc){return l(mt,Gc)}),ka&&Qn(mt,ua),Wt}function va(mt,lt,xt,Ot){if(xt==null)throw Error(i(151));for(var Wt=null,Ca=null,la=lt,ua=lt=0,ss=null,Ha=xt.next();la!==null&&!Ha.done;ua++,Ha=xt.next()){la.index>ua?(ss=la,la=null):ss=la.sibling;var Gc=Nt(mt,la,Ha.value,Ot);if(Gc===null){la===null&&(la=ss);break}n&&la&&Gc.alternate===null&&l(mt,la),lt=E(Gc,lt,ua),Ca===null?Wt=Gc:Ca.sibling=Gc,Ca=Gc,la=ss}if(Ha.done)return o(mt,la),ka&&Qn(mt,ua),Wt;if(la===null){for(;!Ha.done;ua++,Ha=xt.next())Ha=Rt(mt,Ha.value,Ot),Ha!==null&&(lt=E(Ha,lt,ua),Ca===null?Wt=Ha:Ca.sibling=Ha,Ca=Ha);return ka&&Qn(mt,ua),Wt}for(la=m(la);!Ha.done;ua++,Ha=xt.next())Ha=_t(la,mt,ua,Ha.value,Ot),Ha!==null&&(n&&Ha.alternate!==null&&la.delete(Ha.key===null?ua:Ha.key),lt=E(Ha,lt,ua),Ca===null?Wt=Ha:Ca.sibling=Ha,Ca=Ha);return n&&la.forEach(function($B){return l(mt,$B)}),ka&&Qn(mt,ua),Wt}function Ci(mt,lt,xt,Ot){if(typeof xt=="object"&&xt!==null&&xt.type===h&&xt.key===null&&(xt=xt.props.children),typeof xt=="object"&&xt!==null){switch(xt.$$typeof){case A:e:{for(var Wt=xt.key;lt!==null;){if(lt.key===Wt){if(Wt=xt.type,Wt===h){if(lt.tag===7){o(mt,lt.sibling),Ot=w(lt,xt.props.children),Ot.return=mt,mt=Ot;break e}}else if(lt.elementType===Wt||typeof Wt=="object"&&Wt!==null&&Wt.$$typeof===O&&Wd(Wt)===lt.type){o(mt,lt.sibling),Ot=w(lt,xt.props),To(Ot,xt),Ot.return=mt,mt=Ot;break e}o(mt,lt);break}else l(mt,lt);lt=lt.sibling}xt.type===h?(Ot=eA(xt.props.children,mt.mode,Ot,xt.key),Ot.return=mt,mt=Ot):(Ot=Ph(xt.type,xt.key,xt.props,null,mt.mode,Ot),To(Ot,xt),Ot.return=mt,mt=Ot)}return xe(mt);case d:e:{for(Wt=xt.key;lt!==null;){if(lt.key===Wt)if(lt.tag===4&&lt.stateNode.containerInfo===xt.containerInfo&&lt.stateNode.implementation===xt.implementation){o(mt,lt.sibling),Ot=w(lt,xt.children||[]),Ot.return=mt,mt=Ot;break e}else{o(mt,lt);break}else l(mt,lt);lt=lt.sibling}Ot=Op(xt,mt.mode,Ot),Ot.return=mt,mt=Ot}return xe(mt);case O:return Wt=xt._init,xt=Wt(xt._payload),Ci(mt,lt,xt,Ot)}if(V(xt))return ia(mt,lt,xt,Ot);if(H(xt)){if(Wt=H(xt),typeof Wt!="function")throw Error(i(150));return xt=Wt.call(xt),va(mt,lt,xt,Ot)}if(typeof xt.then=="function")return Ci(mt,lt,ds(xt),Ot);if(xt.$$typeof===p)return Ci(mt,lt,Qh(mt,xt),Ot);UA(mt,xt)}return typeof xt=="string"&&xt!==""||typeof xt=="number"||typeof xt=="bigint"?(xt=""+xt,lt!==null&&lt.tag===6?(o(mt,lt.sibling),Ot=w(lt,xt),Ot.return=mt,mt=Ot):(o(mt,lt),Ot=Up(xt,mt.mode,Ot),Ot.return=mt,mt=Ot),xe(mt)):o(mt,lt)}return function(mt,lt,xt,Ot){try{en=0;var Wt=Ci(mt,lt,xt,Ot);return Bl=null,Wt}catch(la){if(la===Qo)throw la;var Ca=Kn(29,la,null,mt.mode);return Ca.lanes=Ot,Ca.return=mt,Ca}finally{}}}var zr=Yd(!0),Xd=Yd(!1),Sc=z(null),Cl=z(0);function Ro(n,l){n=Rl,q(Cl,n),q(Sc,l),Rl=n|l.baseLanes}function Sl(){q(Cl,Rl),q(Sc,Sc.current)}function Po(){Rl=Cl.current,B(Sc),B(Cl)}var tn=z(null),yn=null;function $r(n){var l=n.alternate;q(Fi,Fi.current&1),q(tn,n),yn===null&&(l===null||Sc.current!==null||l.memoizedState!==null)&&(yn=n)}function Nh(n){if(n.tag===22){if(q(Fi,Fi.current),q(tn,n),yn===null){var l=n.alternate;l!==null&&l.memoizedState!==null&&(yn=n)}}else Gr()}function Gr(){q(Fi,Fi.current),q(tn,tn.current)}function dr(n){B(tn),yn===n&&(yn=null),B(Fi)}var Fi=z(0);function OA(n){for(var l=n;l!==null;){if(l.tag===13){var o=l.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||o.data==="$?"||o.data==="$!"))return l}else if(l.tag===19&&l.memoizedProps.revealOrder!==void 0){if(l.flags&128)return l}else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===n)break;for(;l.sibling===null;){if(l.return===null||l.return===n)return null;l=l.return}l.sibling.return=l.return,l=l.sibling}return null}var jh=typeof AbortController<"u"?AbortController:function(){var n=[],l=this.signal={aborted:!1,addEventListener:function(o,m){n.push(m)}};this.abort=function(){l.aborted=!0,n.forEach(function(o){return o()})}},kA=a.unstable_scheduleCallback,op=a.unstable_NormalPriority,Di={$$typeof:p,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function IA(){return{controller:new jh,data:new Map,refCount:0}}function g(n){n.refCount--,n.refCount===0&&kA(op,function(){n.controller.abort()})}var j=null,I=0,le=0,je=null;function Fe(n,l){if(j===null){var o=j=[];I=0,le=Yp(),je={status:"pending",value:void 0,then:function(m){o.push(m)}}}return I++,l.then(Ee,Ee),l}function Ee(){if(--I===0&&j!==null){je!==null&&(je.status="fulfilled");var n=j;j=null,le=0,je=null;for(var l=0;l<n.length;l++)(0,n[l])()}}function Oe(n,l){var o=[],m={status:"pending",value:null,reason:null,then:function(w){o.push(w)}};return n.then(function(){m.status="fulfilled",m.value=l;for(var w=0;w<o.length;w++)(0,o[w])(l)},function(w){for(m.status="rejected",m.reason=w,w=0;w<o.length;w++)(0,o[w])(void 0)}),m}var Re=D.S;D.S=function(n,l){typeof l=="object"&&l!==null&&typeof l.then=="function"&&Fe(n,l),Re!==null&&Re(n,l)};var Ve=z(null);function at(){var n=Ve.current;return n!==null?n:ii.pooledCache}function pt(n,l){l===null?q(Ve,Ve.current):q(Ve,l.pool)}function vt(){var n=at();return n===null?null:{parent:Di._currentValue,pool:n}}var ct=0,bt=null,gt=null,et=null,rt=!1,Dt=!1,Ut=!1,Lt=0,Vt=0,qt=null,ca=0;function Pt(){throw Error(i(321))}function La(n,l){if(l===null)return!1;for(var o=0;o<l.length&&o<n.length;o++)if(!Pi(n[o],l[o]))return!1;return!0}function Ta(n,l,o,m,w,E){return ct=E,bt=l,l.memoizedState=null,l.updateQueue=null,l.lanes=0,D.H=n===null||n.memoizedState===null?El:sn,Ut=!1,E=o(m,w),Ut=!1,Dt&&(E=Ba(l,o,m,w)),Da(n),E}function Da(n){D.H=wn;var l=gt!==null&&gt.next!==null;if(ct=0,et=gt=bt=null,rt=!1,Vt=0,qt=null,l)throw Error(i(300));n===null||as||(n=n.dependencies,n!==null&&Ih(n)&&(as=!0))}function Ba(n,l,o,m){bt=n;var w=0;do{if(Dt&&(qt=null),Vt=0,Dt=!1,25<=w)throw Error(i(301));if(w+=1,et=gt=null,n.updateQueue!=null){var E=n.updateQueue;E.lastEffect=null,E.events=null,E.stores=null,E.memoCache!=null&&(E.memoCache.index=0)}D.H=fr,E=l(o,m)}while(Dt);return E}function Va(){var n=D.H,l=n.useState()[0];return l=typeof l.then=="function"?Ma(l):l,n=n.useState()[0],(gt!==null?gt.memoizedState:null)!==n&&(bt.flags|=1024),l}function Pa(){var n=Lt!==0;return Lt=0,n}function pa(n,l,o){l.updateQueue=n.updateQueue,l.flags&=-2053,n.lanes&=~o}function mi(n){if(rt){for(n=n.memoizedState;n!==null;){var l=n.queue;l!==null&&(l.pending=null),n=n.next}rt=!1}ct=0,et=gt=bt=null,Dt=!1,Vt=Lt=0,qt=null}function za(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return et===null?bt.memoizedState=et=n:et=et.next=n,et}function wa(){if(gt===null){var n=bt.alternate;n=n!==null?n.memoizedState:null}else n=gt.next;var l=et===null?bt.memoizedState:et.next;if(l!==null)et=l,gt=n;else{if(n===null)throw bt.alternate===null?Error(i(467)):Error(i(310));gt=n,n={memoizedState:gt.memoizedState,baseState:gt.baseState,baseQueue:gt.baseQueue,queue:gt.queue,next:null},et===null?bt.memoizedState=et=n:et=et.next=n}return et}var $i;$i=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}};function Ma(n){var l=Vt;return Vt+=1,qt===null&&(qt=[]),n=Zs(qt,n,l),l=bt,(et===null?l.memoizedState:et.next)===null&&(l=l.alternate,D.H=l===null||l.memoizedState===null?El:sn),n}function ts(n){if(n!==null&&typeof n=="object"){if(typeof n.then=="function")return Ma(n);if(n.$$typeof===p)return Bs(n)}throw Error(i(438,String(n)))}function us(n){var l=null,o=bt.updateQueue;if(o!==null&&(l=o.memoCache),l==null){var m=bt.alternate;m!==null&&(m=m.updateQueue,m!==null&&(m=m.memoCache,m!=null&&(l={data:m.data.map(function(w){return w.slice()}),index:0})))}if(l==null&&(l={data:[],index:0}),o===null&&(o=$i(),bt.updateQueue=o),o.memoCache=l,o=l.data[l.index],o===void 0)for(o=l.data[l.index]=Array(n),m=0;m<n;m++)o[m]=J;return l.index++,o}function Wa(n,l){return typeof l=="function"?l(n):l}function Ni(n){var l=wa();return Gi(l,gt,n)}function Gi(n,l,o){var m=n.queue;if(m===null)throw Error(i(311));m.lastRenderedReducer=o;var w=n.baseQueue,E=m.pending;if(E!==null){if(w!==null){var xe=w.next;w.next=E.next,E.next=xe}l.baseQueue=w=E,m.pending=null}if(E=n.baseState,w===null)n.memoizedState=E;else{l=w.next;var Te=xe=null,Je=null,At=l,Et=!1;do{var Rt=At.lane&-536870913;if(Rt!==At.lane?(Ia&Rt)===Rt:(ct&Rt)===Rt){var Nt=At.revertLane;if(Nt===0)Je!==null&&(Je=Je.next={lane:0,revertLane:0,action:At.action,hasEagerState:At.hasEagerState,eagerState:At.eagerState,next:null}),Rt===le&&(Et=!0);else if((ct&Nt)===Nt){At=At.next,Nt===le&&(Et=!0);continue}else Rt={lane:0,revertLane:At.revertLane,action:At.action,hasEagerState:At.hasEagerState,eagerState:At.eagerState,next:null},Je===null?(Te=Je=Rt,xe=E):Je=Je.next=Rt,bt.lanes|=Nt,Hc|=Nt;Rt=At.action,Ut&&o(E,Rt),E=At.hasEagerState?At.eagerState:o(E,Rt)}else Nt={lane:Rt,revertLane:At.revertLane,action:At.action,hasEagerState:At.hasEagerState,eagerState:At.eagerState,next:null},Je===null?(Te=Je=Nt,xe=E):Je=Je.next=Nt,bt.lanes|=Rt,Hc|=Rt;At=At.next}while(At!==null&&At!==l);if(Je===null?xe=E:Je.next=Te,!Pi(E,n.memoizedState)&&(as=!0,Et&&(o=je,o!==null)))throw o;n.memoizedState=E,n.baseState=xe,n.baseQueue=Je,m.lastRenderedState=E}return w===null&&(m.lanes=0),[n.memoizedState,m.dispatch]}function js(n){var l=wa(),o=l.queue;if(o===null)throw Error(i(311));o.lastRenderedReducer=n;var m=o.dispatch,w=o.pending,E=l.memoizedState;if(w!==null){o.pending=null;var xe=w=w.next;do E=n(E,xe.action),xe=xe.next;while(xe!==w);Pi(E,l.memoizedState)||(as=!0),l.memoizedState=E,l.baseQueue===null&&(l.baseState=E),o.lastRenderedState=E}return[E,m]}function bn(n,l,o){var m=bt,w=wa(),E=ka;if(E){if(o===void 0)throw Error(i(407));o=o()}else o=l();var xe=!Pi((gt||w).memoizedState,o);if(xe&&(w.memoizedState=o,as=!0),w=w.queue,zo(Wr.bind(null,m,w,n),[n]),w.getSnapshot!==l||xe||et!==null&&et.memoizedState.tag&1){if(m.flags|=2048,Yr(9,Rn.bind(null,m,w,o,l),{destroy:void 0},null),ii===null)throw Error(i(349));E||ct&60||Ei(m,l,o)}return o}function Ei(n,l,o){n.flags|=16384,n={getSnapshot:l,value:o},l=bt.updateQueue,l===null?(l=$i(),bt.updateQueue=l,l.stores=[n]):(o=l.stores,o===null?l.stores=[n]:o.push(n))}function Rn(n,l,o,m){l.value=o,l.getSnapshot=m,_l(l)&&ur(n)}function Wr(n,l,o){return o(function(){_l(l)&&ur(n)})}function _l(n){var l=n.getSnapshot;n=n.value;try{var o=l();return!Pi(n,o)}catch{return!0}}function ur(n){var l=Hs(n,2);l!==null&&Ks(l,n,2)}function ai(n){var l=za();if(typeof n=="function"){var o=n;if(n=o(),Ut){ft(!0);try{o()}finally{ft(!1)}}}return l.memoizedState=l.baseState=n,l.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Wa,lastRenderedState:n},l}function QA(n,l,o,m){return n.baseState=o,Gi(n,gt,typeof m=="function"?m:Wa)}function Bh(n,l,o,m,w){if(zA(n))throw Error(i(485));if(n=l.action,n!==null){var E={payload:w,action:n,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(xe){E.listeners.push(xe)}};D.T!==null?o(!0):E.isTransition=!1,m(E),o=l.pending,o===null?(E.next=l.pending=E,Jd(l,E)):(E.next=o.next,l.pending=o.next=E)}}function Jd(n,l){var o=l.action,m=l.payload,w=n.state;if(l.isTransition){var E=D.T,xe={};D.T=xe;try{var Te=o(w,m),Je=D.S;Je!==null&&Je(xe,Te),Ho(n,l,Te)}catch(At){Fc(n,l,At)}finally{D.T=E}}else try{E=o(w,m),Ho(n,l,E)}catch(At){Fc(n,l,At)}}function Ho(n,l,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(m){_c(n,l,m)},function(m){return Fc(n,l,m)}):_c(n,l,o)}function _c(n,l,o){l.status="fulfilled",l.value=o,an(l),n.state=o,l=n.pending,l!==null&&(o=l.next,o===l?n.pending=null:(o=o.next,l.next=o,Jd(n,o)))}function Fc(n,l,o){var m=n.pending;if(n.pending=null,m!==null){m=m.next;do l.status="rejected",l.reason=o,an(l),l=l.next;while(l!==m)}n.action=null}function an(n){n=n.listeners;for(var l=0;l<n.length;l++)(0,n[l])()}function Fl(n,l){return l}function Dl(n,l){if(ka){var o=ii.formState;if(o!==null){e:{var m=bt;if(ka){if(zi){t:{for(var w=zi,E=Tn;w.nodeType!==8;){if(!E){w=null;break t}if(w=xr(w.nextSibling),w===null){w=null;break t}}E=w.data,w=E==="F!"||E==="F"?w:null}if(w){zi=xr(w.nextSibling),m=w.data==="F!";break e}}Ar(m)}m=!1}m&&(l=o[0])}}return o=za(),o.memoizedState=o.baseState=l,m={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Fl,lastRenderedState:l},o.queue=m,o=Uh.bind(null,bt,m),m.dispatch=o,m=ai(!1),E=Jr.bind(null,bt,!1,m.queue),m=za(),w={state:l,dispatch:null,action:n,pending:null},m.queue=w,o=Bh.bind(null,bt,w,E,o),w.dispatch=o,m.memoizedState=n,[l,o,!1]}function Zd(n){var l=wa();return qo(l,gt,n)}function qo(n,l,o){l=Gi(n,l,Fl)[0],n=Ni(Wa)[0],l=typeof l=="object"&&l!==null&&typeof l.then=="function"?Ma(l):l;var m=wa(),w=m.queue,E=w.dispatch;return o!==m.memoizedState&&(bt.flags|=2048,Yr(9,Ch.bind(null,w,o),{destroy:void 0},null)),[l,E,n]}function Ch(n,l){n.action=l}function Ko(n){var l=wa(),o=gt;if(o!==null)return qo(l,o,n);wa(),l=l.memoizedState,o=wa();var m=o.queue.dispatch;return o.memoizedState=n,[l,m,!1]}function Yr(n,l,o,m){return n={tag:n,create:l,inst:o,deps:m,next:null},l=bt.updateQueue,l===null&&(l=$i(),bt.updateQueue=l),o=l.lastEffect,o===null?l.lastEffect=n.next=n:(m=o.next,o.next=n,n.next=m,l.lastEffect=n),n}function Vo(){return wa().memoizedState}function Xr(n,l,o,m){var w=za();bt.flags|=n,w.memoizedState=Yr(1|l,o,{destroy:void 0},m===void 0?null:m)}function TA(n,l,o,m){var w=wa();m=m===void 0?null:m;var E=w.memoizedState.inst;gt!==null&&m!==null&&La(m,gt.memoizedState.deps)?w.memoizedState=Yr(l,o,E,m):(bt.flags|=n,w.memoizedState=Yr(1|l,o,E,m))}function Sh(n,l){Xr(8390656,8,n,l)}function zo(n,l){TA(2048,8,n,l)}function hr(n,l){return TA(4,2,n,l)}function _h(n,l){return TA(4,4,n,l)}function Fh(n,l){if(typeof l=="function"){n=n();var o=l(n);return function(){typeof o=="function"?o():l(null)}}if(l!=null)return n=n(),l.current=n,function(){l.current=null}}function Dh(n,l,o){o=o!=null?o.concat([n]):null,TA(4,4,Fh.bind(null,l,n),o)}function RA(){}function $o(n,l){var o=wa();l=l===void 0?null:l;var m=o.memoizedState;return l!==null&&La(l,m[1])?m[0]:(o.memoizedState=[n,l],n)}function eu(n,l){var o=wa();l=l===void 0?null:l;var m=o.memoizedState;if(l!==null&&La(l,m[1]))return m[0];if(m=n(),Ut){ft(!0);try{n()}finally{ft(!1)}}return o.memoizedState=[m,l],m}function PA(n,l,o){return o===void 0||ct&1073741824?n.memoizedState=l:(n.memoizedState=o,n=eb(),bt.lanes|=n,Hc|=n,o)}function Go(n,l,o,m){return Pi(o,l)?o:Sc.current!==null?(n=PA(n,o,m),Pi(n,l)||(as=!0),n):ct&42?(n=eb(),bt.lanes|=n,Hc|=n,l):(as=!0,n.memoizedState=o)}function HA(n,l,o,m,w){var E=T.p;T.p=E!==0&&8>E?E:8;var xe=D.T,Te={};D.T=Te,Jr(n,!1,l,o);try{var Je=w(),At=D.S;if(At!==null&&At(Te,Je),Je!==null&&typeof Je=="object"&&typeof Je.then=="function"){var Et=Oe(Je,m);Dc(n,l,Et,Sn(n))}else Dc(n,l,m,Sn(n))}catch(Rt){Dc(n,l,{then:function(){},status:"rejected",reason:Rt},Sn())}finally{T.p=E,D.T=xe}}function Wo(){}function qA(n,l,o,m){if(n.tag!==5)throw Error(i(476));var w=Eh(n).queue;HA(n,w,l,ie,o===null?Wo:function(){return Yo(n),o(m)})}function Eh(n){var l=n.memoizedState;if(l!==null)return l;l={memoizedState:ie,baseState:ie,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Wa,lastRenderedState:ie},next:null};var o={};return l.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Wa,lastRenderedState:o},next:null},n.memoizedState=l,n=n.alternate,n!==null&&(n.memoizedState=l),l}function Yo(n){var l=Eh(n).next.queue;Dc(n,l,{},Sn())}function KA(){return Bs(wu)}function VA(){return wa().memoizedState}function mr(){return wa().memoizedState}function Lh(n){for(var l=n.return;l!==null;){switch(l.tag){case 24:case 3:var o=Sn();n=kc(o);var m=Ic(l,n,o);m!==null&&(Ks(m,l,o),nu(m,l,o)),l={cache:IA()},n.payload=l;return}l=l.return}}function Mh(n,l,o){var m=Sn();o={lane:m,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null},zA(n)?tu(l,o):(o=Nl(n,l,o,m),o!==null&&(Ks(o,n,m),Oh(o,l,m)))}function Uh(n,l,o){var m=Sn();Dc(n,l,o,m)}function Dc(n,l,o,m){var w={lane:m,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null};if(zA(n))tu(l,w);else{var E=n.alternate;if(n.lanes===0&&(E===null||E.lanes===0)&&(E=l.lastRenderedReducer,E!==null))try{var xe=l.lastRenderedState,Te=E(xe,o);if(w.hasEagerState=!0,w.eagerState=Te,Pi(Te,xe))return Js(n,l,w,0),ii===null&&hi(),!1}catch{}finally{}if(o=Nl(n,l,w,m),o!==null)return Ks(o,n,m),Oh(o,l,m),!0}return!1}function Jr(n,l,o,m){if(m={lane:2,revertLane:Yp(),action:m,hasEagerState:!1,eagerState:null,next:null},zA(n)){if(l)throw Error(i(479))}else l=Nl(n,o,m,2),l!==null&&Ks(l,n,2)}function zA(n){var l=n.alternate;return n===bt||l!==null&&l===bt}function tu(n,l){Dt=rt=!0;var o=n.pending;o===null?l.next=l:(l.next=o.next,o.next=l),n.pending=l}function Oh(n,l,o){if(o&4194176){var m=l.lanes;m&=n.pendingLanes,o|=m,l.lanes=o,be(n,o)}}var wn={readContext:Bs,use:ts,useCallback:Pt,useContext:Pt,useEffect:Pt,useImperativeHandle:Pt,useLayoutEffect:Pt,useInsertionEffect:Pt,useMemo:Pt,useReducer:Pt,useRef:Pt,useState:Pt,useDebugValue:Pt,useDeferredValue:Pt,useTransition:Pt,useSyncExternalStore:Pt,useId:Pt};wn.useCacheRefresh=Pt,wn.useMemoCache=Pt,wn.useHostTransitionStatus=Pt,wn.useFormState=Pt,wn.useActionState=Pt,wn.useOptimistic=Pt;var El={readContext:Bs,use:ts,useCallback:function(n,l){return za().memoizedState=[n,l===void 0?null:l],n},useContext:Bs,useEffect:Sh,useImperativeHandle:function(n,l,o){o=o!=null?o.concat([n]):null,Xr(4194308,4,Fh.bind(null,l,n),o)},useLayoutEffect:function(n,l){return Xr(4194308,4,n,l)},useInsertionEffect:function(n,l){Xr(4,2,n,l)},useMemo:function(n,l){var o=za();l=l===void 0?null:l;var m=n();if(Ut){ft(!0);try{n()}finally{ft(!1)}}return o.memoizedState=[m,l],m},useReducer:function(n,l,o){var m=za();if(o!==void 0){var w=o(l);if(Ut){ft(!0);try{o(l)}finally{ft(!1)}}}else w=l;return m.memoizedState=m.baseState=w,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:w},m.queue=n,n=n.dispatch=Mh.bind(null,bt,n),[m.memoizedState,n]},useRef:function(n){var l=za();return n={current:n},l.memoizedState=n},useState:function(n){n=ai(n);var l=n.queue,o=Uh.bind(null,bt,l);return l.dispatch=o,[n.memoizedState,o]},useDebugValue:RA,useDeferredValue:function(n,l){var o=za();return PA(o,n,l)},useTransition:function(){var n=ai(!1);return n=HA.bind(null,bt,n.queue,!0,!1),za().memoizedState=n,[!1,n]},useSyncExternalStore:function(n,l,o){var m=bt,w=za();if(ka){if(o===void 0)throw Error(i(407));o=o()}else{if(o=l(),ii===null)throw Error(i(349));Ia&60||Ei(m,l,o)}w.memoizedState=o;var E={value:o,getSnapshot:l};return w.queue=E,Sh(Wr.bind(null,m,E,n),[n]),m.flags|=2048,Yr(9,Rn.bind(null,m,E,o,l),{destroy:void 0},null),o},useId:function(){var n=za(),l=ii.identifierPrefix;if(ka){var o=gn,m=pn;o=(m&~(1<<32-It(m)-1)).toString(32)+o,l=":"+l+"R"+o,o=Lt++,0<o&&(l+="H"+o.toString(32)),l+=":"}else o=ca++,l=":"+l+"r"+o.toString(32)+":";return n.memoizedState=l},useCacheRefresh:function(){return za().memoizedState=Lh.bind(null,bt)}};El.useMemoCache=us,El.useHostTransitionStatus=KA,El.useFormState=Dl,El.useActionState=Dl,El.useOptimistic=function(n){var l=za();l.memoizedState=l.baseState=n;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return l.queue=o,l=Jr.bind(null,bt,!0,o),o.dispatch=l,[n,l]};var sn={readContext:Bs,use:ts,useCallback:$o,useContext:Bs,useEffect:zo,useImperativeHandle:Dh,useInsertionEffect:hr,useLayoutEffect:_h,useMemo:eu,useReducer:Ni,useRef:Vo,useState:function(){return Ni(Wa)},useDebugValue:RA,useDeferredValue:function(n,l){var o=wa();return Go(o,gt.memoizedState,n,l)},useTransition:function(){var n=Ni(Wa)[0],l=wa().memoizedState;return[typeof n=="boolean"?n:Ma(n),l]},useSyncExternalStore:bn,useId:VA};sn.useCacheRefresh=mr,sn.useMemoCache=us,sn.useHostTransitionStatus=KA,sn.useFormState=Zd,sn.useActionState=Zd,sn.useOptimistic=function(n,l){var o=wa();return QA(o,gt,n,l)};var fr={readContext:Bs,use:ts,useCallback:$o,useContext:Bs,useEffect:zo,useImperativeHandle:Dh,useInsertionEffect:hr,useLayoutEffect:_h,useMemo:eu,useReducer:js,useRef:Vo,useState:function(){return js(Wa)},useDebugValue:RA,useDeferredValue:function(n,l){var o=wa();return gt===null?PA(o,n,l):Go(o,gt.memoizedState,n,l)},useTransition:function(){var n=js(Wa)[0],l=wa().memoizedState;return[typeof n=="boolean"?n:Ma(n),l]},useSyncExternalStore:bn,useId:VA};fr.useCacheRefresh=mr,fr.useMemoCache=us,fr.useHostTransitionStatus=KA,fr.useFormState=Ko,fr.useActionState=Ko,fr.useOptimistic=function(n,l){var o=wa();return gt!==null?QA(o,gt,n,l):(o.baseState=n,[n,o.queue.dispatch])};function Ec(n,l,o,m){l=n.memoizedState,o=o(m,l),o=o==null?l:ge({},l,o),n.memoizedState=o,n.lanes===0&&(n.updateQueue.baseState=o)}var Nn={isMounted:function(n){return(n=n._reactInternals)?ce(n)===n:!1},enqueueSetState:function(n,l,o){n=n._reactInternals;var m=Sn(),w=kc(m);w.payload=l,o!=null&&(w.callback=o),l=Ic(n,w,m),l!==null&&(Ks(l,n,m),nu(l,n,m))},enqueueReplaceState:function(n,l,o){n=n._reactInternals;var m=Sn(),w=kc(m);w.tag=1,w.payload=l,o!=null&&(w.callback=o),l=Ic(n,w,m),l!==null&&(Ks(l,n,m),nu(l,n,m))},enqueueForceUpdate:function(n,l){n=n._reactInternals;var o=Sn(),m=kc(o);m.tag=2,l!=null&&(m.callback=l),l=Ic(n,m,o),l!==null&&(Ks(l,n,o),nu(l,n,o))}};function pr(n,l,o,m,w,E,xe){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(m,E,xe):l.prototype&&l.prototype.isPureReactComponent?!Qr(o,m)||!Qr(w,E):!0}function gr(n,l,o,m){n=l.state,typeof l.componentWillReceiveProps=="function"&&l.componentWillReceiveProps(o,m),typeof l.UNSAFE_componentWillReceiveProps=="function"&&l.UNSAFE_componentWillReceiveProps(o,m),l.state!==n&&Nn.enqueueReplaceState(l,l.state,null)}function Pn(n,l){var o=l;if("ref"in l){o={};for(var m in l)m!=="ref"&&(o[m]=l[m])}if(n=n.defaultProps){o===l&&(o=ge({},o));for(var w in n)o[w]===void 0&&(o[w]=n[w])}return o}var Lc=typeof reportError=="function"?reportError:function(n){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var l=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof n=="object"&&n!==null&&typeof n.message=="string"?String(n.message):String(n),error:n});if(!window.dispatchEvent(l))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",n);return}console.error(n)};function au(n){Lc(n)}function kh(n){console.error(n)}function $A(n){Lc(n)}function Mc(n,l){try{var o=n.onUncaughtError;o(l.value,{componentStack:l.stack})}catch(m){setTimeout(function(){throw m})}}function hy(n,l,o){try{var m=n.onCaughtError;m(o.value,{componentStack:o.stack,errorBoundary:l.tag===1?l.stateNode:null})}catch(w){setTimeout(function(){throw w})}}function Ap(n,l,o){return o=kc(o),o.tag=3,o.payload={element:null},o.callback=function(){Mc(n,l)},o}function my(n){return n=kc(n),n.tag=3,n}function fy(n,l,o,m){var w=o.type.getDerivedStateFromError;if(typeof w=="function"){var E=m.value;n.payload=function(){return w(E)},n.callback=function(){hy(l,o,m)}}var xe=o.stateNode;xe!==null&&typeof xe.componentDidCatch=="function"&&(n.callback=function(){hy(l,o,m),typeof w!="function"&&(qc===null?qc=new Set([this]):qc.add(this));var Te=m.stack;this.componentDidCatch(m.value,{componentStack:Te!==null?Te:""})})}function z2(n,l,o,m,w){if(o.flags|=32768,m!==null&&typeof m=="object"&&typeof m.then=="function"){if(l=o.alternate,l!==null&&su(l,o,w,!0),o=tn.current,o!==null){switch(o.tag){case 13:return yn===null?Vp():o.alternate===null&&Bi===0&&(Bi=3),o.flags&=-257,o.flags|=65536,o.lanes=w,m===Gd?o.flags|=16384:(l=o.updateQueue,l===null?o.updateQueue=new Set([m]):l.add(m),$p(n,m,w)),!1;case 22:return o.flags|=65536,m===Gd?o.flags|=16384:(l=o.updateQueue,l===null?(l={transitions:null,markerInstances:null,retryQueue:new Set([m])},o.updateQueue=l):(o=l.retryQueue,o===null?l.retryQueue=new Set([m]):o.add(m)),$p(n,m,w)),!1}throw Error(i(435,o.tag))}return $p(n,m,w),Vp(),!1}if(ka)return l=tn.current,l!==null?(!(l.flags&65536)&&(l.flags|=256),l.flags|=65536,l.lanes=w,m!==$d&&(n=Error(i(422),{cause:m}),Cc(oi(n,o)))):(m!==$d&&(l=Error(i(423),{cause:m}),Cc(oi(l,o))),n=n.current.alternate,n.flags|=65536,w&=-w,n.lanes|=w,m=oi(m,o),w=Ap(n.stateNode,m,w),Bp(n,w),Bi!==4&&(Bi=2)),!1;var E=Error(i(520),{cause:m});if(E=oi(E,o),hu===null?hu=[E]:hu.push(E),Bi!==4&&(Bi=2),l===null)return!0;m=oi(m,o),o=l;do{switch(o.tag){case 3:return o.flags|=65536,n=w&-w,o.lanes|=n,n=Ap(o.stateNode,m,n),Bp(o,n),!1;case 1:if(l=o.type,E=o.stateNode,(o.flags&128)===0&&(typeof l.getDerivedStateFromError=="function"||E!==null&&typeof E.componentDidCatch=="function"&&(qc===null||!qc.has(E))))return o.flags|=65536,w&=-w,o.lanes|=w,w=my(w),fy(w,n,o,m),Bp(o,w),!1}o=o.return}while(o!==null);return!1}var py=Error(i(461)),as=!1;function hs(n,l,o,m){l.child=n===null?Xd(l,null,o,m):zr(l,n.child,o,m)}function gy(n,l,o,m,w){o=o.render;var E=l.ref;if("ref"in m){var xe={};for(var Te in m)Te!=="ref"&&(xe[Te]=m[Te])}else xe=m;return Jo(l),m=Ta(n,l,o,xe,E,w),Te=Pa(),n!==null&&!as?(pa(n,l,w),Ll(n,l,w)):(ka&&Te&&Vd(l),l.flags|=1,hs(n,l,m,w),l.child)}function vy(n,l,o,m,w){if(n===null){var E=o.type;return typeof E=="function"&&!Mp(E)&&E.defaultProps===void 0&&o.compare===null?(l.tag=15,l.type=E,xy(n,l,E,m,w)):(n=Ph(o.type,null,m,l,l.mode,w),n.ref=l.ref,n.return=l,l.child=n)}if(E=n.child,!xp(n,w)){var xe=E.memoizedProps;if(o=o.compare,o=o!==null?o:Qr,o(xe,m)&&n.ref===l.ref)return Ll(n,l,w)}return l.flags|=1,n=Pc(E,m),n.ref=l.ref,n.return=l,l.child=n}function xy(n,l,o,m,w){if(n!==null){var E=n.memoizedProps;if(Qr(E,m)&&n.ref===l.ref)if(as=!1,l.pendingProps=m=E,xp(n,w))n.flags&131072&&(as=!0);else return l.lanes=n.lanes,Ll(n,l,w)}return dp(n,l,o,m,w)}function yy(n,l,o){var m=l.pendingProps,w=m.children,E=(l.stateNode._pendingVisibility&2)!==0,xe=n!==null?n.memoizedState:null;if(iu(n,l),m.mode==="hidden"||E){if(l.flags&128){if(m=xe!==null?xe.baseLanes|o:o,n!==null){for(w=l.child=n.child,E=0;w!==null;)E=E|w.lanes|w.childLanes,w=w.sibling;l.childLanes=E&~m}else l.childLanes=0,l.child=null;return by(n,l,m,o)}if(o&536870912)l.memoizedState={baseLanes:0,cachePool:null},n!==null&&pt(l,xe!==null?xe.cachePool:null),xe!==null?Ro(l,xe):Sl(),Nh(l);else return l.lanes=l.childLanes=536870912,by(n,l,xe!==null?xe.baseLanes|o:o,o)}else xe!==null?(pt(l,xe.cachePool),Ro(l,xe),Gr(),l.memoizedState=null):(n!==null&&pt(l,null),Sl(),Gr());return hs(n,l,w,o),l.child}function by(n,l,o,m){var w=at();return w=w===null?null:{parent:Di._currentValue,pool:w},l.memoizedState={baseLanes:o,cachePool:w},n!==null&&pt(l,null),Sl(),Nh(l),n!==null&&su(n,l,m,!0),null}function iu(n,l){var o=l.ref;if(o===null)n!==null&&n.ref!==null&&(l.flags|=2097664);else{if(typeof o!="function"&&typeof o!="object")throw Error(i(284));(n===null||n.ref!==o)&&(l.flags|=2097664)}}function dp(n,l,o,m,w){return Jo(l),o=Ta(n,l,o,m,void 0,w),m=Pa(),n!==null&&!as?(pa(n,l,w),Ll(n,l,w)):(ka&&m&&Vd(l),l.flags|=1,hs(n,l,o,w),l.child)}function wy(n,l,o,m,w,E){return Jo(l),l.updateQueue=null,o=Ba(l,m,o,w),Da(n),m=Pa(),n!==null&&!as?(pa(n,l,E),Ll(n,l,E)):(ka&&m&&Vd(l),l.flags|=1,hs(n,l,o,E),l.child)}function Ny(n,l,o,m,w){if(Jo(l),l.stateNode===null){var E=lr,xe=o.contextType;typeof xe=="object"&&xe!==null&&(E=Bs(xe)),E=new o(m,E),l.memoizedState=E.state!==null&&E.state!==void 0?E.state:null,E.updater=Nn,l.stateNode=E,E._reactInternals=l,E=l.stateNode,E.props=m,E.state=l.memoizedState,E.refs={},Np(l),xe=o.contextType,E.context=typeof xe=="object"&&xe!==null?Bs(xe):lr,E.state=l.memoizedState,xe=o.getDerivedStateFromProps,typeof xe=="function"&&(Ec(l,o,xe,m),E.state=l.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof E.getSnapshotBeforeUpdate=="function"||typeof E.UNSAFE_componentWillMount!="function"&&typeof E.componentWillMount!="function"||(xe=E.state,typeof E.componentWillMount=="function"&&E.componentWillMount(),typeof E.UNSAFE_componentWillMount=="function"&&E.UNSAFE_componentWillMount(),xe!==E.state&&Nn.enqueueReplaceState(E,E.state,null),lu(l,m,E,w),ru(),E.state=l.memoizedState),typeof E.componentDidMount=="function"&&(l.flags|=4194308),m=!0}else if(n===null){E=l.stateNode;var Te=l.memoizedProps,Je=Pn(o,Te);E.props=Je;var At=E.context,Et=o.contextType;xe=lr,typeof Et=="object"&&Et!==null&&(xe=Bs(Et));var Rt=o.getDerivedStateFromProps;Et=typeof Rt=="function"||typeof E.getSnapshotBeforeUpdate=="function",Te=l.pendingProps!==Te,Et||typeof E.UNSAFE_componentWillReceiveProps!="function"&&typeof E.componentWillReceiveProps!="function"||(Te||At!==xe)&&gr(l,E,m,xe),Oc=!1;var Nt=l.memoizedState;E.state=Nt,lu(l,m,E,w),ru(),At=l.memoizedState,Te||Nt!==At||Oc?(typeof Rt=="function"&&(Ec(l,o,Rt,m),At=l.memoizedState),(Je=Oc||pr(l,o,Je,m,Nt,At,xe))?(Et||typeof E.UNSAFE_componentWillMount!="function"&&typeof E.componentWillMount!="function"||(typeof E.componentWillMount=="function"&&E.componentWillMount(),typeof E.UNSAFE_componentWillMount=="function"&&E.UNSAFE_componentWillMount()),typeof E.componentDidMount=="function"&&(l.flags|=4194308)):(typeof E.componentDidMount=="function"&&(l.flags|=4194308),l.memoizedProps=m,l.memoizedState=At),E.props=m,E.state=At,E.context=xe,m=Je):(typeof E.componentDidMount=="function"&&(l.flags|=4194308),m=!1)}else{E=l.stateNode,jp(n,l),xe=l.memoizedProps,Et=Pn(o,xe),E.props=Et,Rt=l.pendingProps,Nt=E.context,At=o.contextType,Je=lr,typeof At=="object"&&At!==null&&(Je=Bs(At)),Te=o.getDerivedStateFromProps,(At=typeof Te=="function"||typeof E.getSnapshotBeforeUpdate=="function")||typeof E.UNSAFE_componentWillReceiveProps!="function"&&typeof E.componentWillReceiveProps!="function"||(xe!==Rt||Nt!==Je)&&gr(l,E,m,Je),Oc=!1,Nt=l.memoizedState,E.state=Nt,lu(l,m,E,w),ru();var _t=l.memoizedState;xe!==Rt||Nt!==_t||Oc||n!==null&&n.dependencies!==null&&Ih(n.dependencies)?(typeof Te=="function"&&(Ec(l,o,Te,m),_t=l.memoizedState),(Et=Oc||pr(l,o,Et,m,Nt,_t,Je)||n!==null&&n.dependencies!==null&&Ih(n.dependencies))?(At||typeof E.UNSAFE_componentWillUpdate!="function"&&typeof E.componentWillUpdate!="function"||(typeof E.componentWillUpdate=="function"&&E.componentWillUpdate(m,_t,Je),typeof E.UNSAFE_componentWillUpdate=="function"&&E.UNSAFE_componentWillUpdate(m,_t,Je)),typeof E.componentDidUpdate=="function"&&(l.flags|=4),typeof E.getSnapshotBeforeUpdate=="function"&&(l.flags|=1024)):(typeof E.componentDidUpdate!="function"||xe===n.memoizedProps&&Nt===n.memoizedState||(l.flags|=4),typeof E.getSnapshotBeforeUpdate!="function"||xe===n.memoizedProps&&Nt===n.memoizedState||(l.flags|=1024),l.memoizedProps=m,l.memoizedState=_t),E.props=m,E.state=_t,E.context=Je,m=Et):(typeof E.componentDidUpdate!="function"||xe===n.memoizedProps&&Nt===n.memoizedState||(l.flags|=4),typeof E.getSnapshotBeforeUpdate!="function"||xe===n.memoizedProps&&Nt===n.memoizedState||(l.flags|=1024),m=!1)}return E=m,iu(n,l),m=(l.flags&128)!==0,E||m?(E=l.stateNode,o=m&&typeof o.getDerivedStateFromError!="function"?null:E.render(),l.flags|=1,n!==null&&m?(l.child=zr(l,n.child,null,w),l.child=zr(l,null,o,w)):hs(n,l,o,w),l.memoizedState=E.state,n=l.child):n=Ll(n,l,w),n}function jy(n,l,o,m){return Io(),l.flags|=256,hs(n,l,o,m),l.child}var up={dehydrated:null,treeContext:null,retryLane:0};function hp(n){return{baseLanes:n,cachePool:vt()}}function mp(n,l,o){return n=n!==null?n.childLanes&~o:0,l&&(n|=Vn),n}function By(n,l,o){var m=l.pendingProps,w=!1,E=(l.flags&128)!==0,xe;if((xe=E)||(xe=n!==null&&n.memoizedState===null?!1:(Fi.current&2)!==0),xe&&(w=!0,l.flags&=-129),xe=(l.flags&32)!==0,l.flags&=-33,n===null){if(ka){if(w?$r(l):Gr(),ka){var Te=zi,Je;if(Je=Te){e:{for(Je=Te,Te=Tn;Je.nodeType!==8;){if(!Te){Te=null;break e}if(Je=xr(Je.nextSibling),Je===null){Te=null;break e}}Te=Je}Te!==null?(l.memoizedState={dehydrated:Te,treeContext:Vr!==null?{id:pn,overflow:gn}:null,retryLane:536870912},Je=Kn(18,null,null,0),Je.stateNode=Te,Je.return=l,l.child=Je,es=l,zi=null,Je=!0):Je=!1}Je||Ar(l)}if(Te=l.memoizedState,Te!==null&&(Te=Te.dehydrated,Te!==null))return Te.data==="$!"?l.lanes=16:l.lanes=536870912,null;dr(l)}return Te=m.children,m=m.fallback,w?(Gr(),w=l.mode,Te=pp({mode:"hidden",children:Te},w),m=eA(m,w,o,null),Te.return=l,m.return=l,Te.sibling=m,l.child=Te,w=l.child,w.memoizedState=hp(o),w.childLanes=mp(n,xe,o),l.memoizedState=up,m):($r(l),fp(l,Te))}if(Je=n.memoizedState,Je!==null&&(Te=Je.dehydrated,Te!==null)){if(E)l.flags&256?($r(l),l.flags&=-257,l=gp(n,l,o)):l.memoizedState!==null?(Gr(),l.child=n.child,l.flags|=128,l=null):(Gr(),w=m.fallback,Te=l.mode,m=pp({mode:"visible",children:m.children},Te),w=eA(w,Te,o,null),w.flags|=2,m.return=l,w.return=l,m.sibling=w,l.child=m,zr(l,n.child,null,o),m=l.child,m.memoizedState=hp(o),m.childLanes=mp(n,xe,o),l.memoizedState=up,l=w);else if($r(l),Te.data==="$!"){if(xe=Te.nextSibling&&Te.nextSibling.dataset,xe)var At=xe.dgst;xe=At,m=Error(i(419)),m.stack="",m.digest=xe,Cc({value:m,source:null,stack:null}),l=gp(n,l,o)}else if(as||su(n,l,o,!1),xe=(o&n.childLanes)!==0,as||xe){if(xe=ii,xe!==null){if(m=o&-o,m&42)m=1;else switch(m){case 2:m=1;break;case 8:m=4;break;case 32:m=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:m=64;break;case 268435456:m=134217728;break;default:m=0}if(m=m&(xe.suspendedLanes|o)?0:m,m!==0&&m!==Je.retryLane)throw Je.retryLane=m,Hs(n,m),Ks(xe,n,m),py}Te.data==="$?"||Vp(),l=gp(n,l,o)}else Te.data==="$?"?(l.flags|=128,l.child=n.child,l=lB.bind(null,n),Te._reactRetry=l,l=null):(n=Je.treeContext,zi=xr(Te.nextSibling),es=l,ka=!0,vn=null,Tn=!1,n!==null&&(As[Ns++]=pn,As[Ns++]=gn,As[Ns++]=Vr,pn=n.id,gn=n.overflow,Vr=l),l=fp(l,m.children),l.flags|=4096);return l}return w?(Gr(),w=m.fallback,Te=l.mode,Je=n.child,At=Je.sibling,m=Pc(Je,{mode:"hidden",children:m.children}),m.subtreeFlags=Je.subtreeFlags&31457280,At!==null?w=Pc(At,w):(w=eA(w,Te,o,null),w.flags|=2),w.return=l,m.return=l,m.sibling=w,l.child=m,m=w,w=l.child,Te=n.child.memoizedState,Te===null?Te=hp(o):(Je=Te.cachePool,Je!==null?(At=Di._currentValue,Je=Je.parent!==At?{parent:At,pool:At}:Je):Je=vt(),Te={baseLanes:Te.baseLanes|o,cachePool:Je}),w.memoizedState=Te,w.childLanes=mp(n,xe,o),l.memoizedState=up,m):($r(l),o=n.child,n=o.sibling,o=Pc(o,{mode:"visible",children:m.children}),o.return=l,o.sibling=null,n!==null&&(xe=l.deletions,xe===null?(l.deletions=[n],l.flags|=16):xe.push(n)),l.child=o,l.memoizedState=null,o)}function fp(n,l){return l=pp({mode:"visible",children:l},n.mode),l.return=n,n.child=l}function pp(n,l){return Xy(n,l,0,null)}function gp(n,l,o){return zr(l,n.child,null,o),n=fp(l,l.pendingProps.children),n.flags|=2,l.memoizedState=null,n}function Cy(n,l,o){n.lanes|=l;var m=n.alternate;m!==null&&(m.lanes|=l),bp(n.return,l,o)}function vp(n,l,o,m,w){var E=n.memoizedState;E===null?n.memoizedState={isBackwards:l,rendering:null,renderingStartTime:0,last:m,tail:o,tailMode:w}:(E.isBackwards=l,E.rendering=null,E.renderingStartTime=0,E.last=m,E.tail=o,E.tailMode=w)}function Sy(n,l,o){var m=l.pendingProps,w=m.revealOrder,E=m.tail;if(hs(n,l,m.children,o),m=Fi.current,m&2)m=m&1|2,l.flags|=128;else{if(n!==null&&n.flags&128)e:for(n=l.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&Cy(n,o,l);else if(n.tag===19)Cy(n,o,l);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===l)break e;for(;n.sibling===null;){if(n.return===null||n.return===l)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}m&=1}switch(q(Fi,m),w){case"forwards":for(o=l.child,w=null;o!==null;)n=o.alternate,n!==null&&OA(n)===null&&(w=o),o=o.sibling;o=w,o===null?(w=l.child,l.child=null):(w=o.sibling,o.sibling=null),vp(l,!1,w,o,E);break;case"backwards":for(o=null,w=l.child,l.child=null;w!==null;){if(n=w.alternate,n!==null&&OA(n)===null){l.child=w;break}n=w.sibling,w.sibling=o,o=w,w=n}vp(l,!0,o,null,E);break;case"together":vp(l,!1,null,null,void 0);break;default:l.memoizedState=null}return l.child}function Ll(n,l,o){if(n!==null&&(l.dependencies=n.dependencies),Hc|=l.lanes,!(o&l.childLanes))if(n!==null){if(su(n,l,o,!1),(o&l.childLanes)===0)return null}else return null;if(n!==null&&l.child!==n.child)throw Error(i(153));if(l.child!==null){for(n=l.child,o=Pc(n,n.pendingProps),l.child=o,o.return=l;n.sibling!==null;)n=n.sibling,o=o.sibling=Pc(n,n.pendingProps),o.return=l;o.sibling=null}return l.child}function xp(n,l){return n.lanes&l?!0:(n=n.dependencies,!!(n!==null&&Ih(n)))}function $2(n,l,o){switch(l.tag){case 3:Z(l,l.stateNode.containerInfo),Uc(l,Di,n.memoizedState.cache),Io();break;case 27:case 5:Se(l);break;case 4:Z(l,l.stateNode.containerInfo);break;case 10:Uc(l,l.type,l.memoizedProps.value);break;case 13:var m=l.memoizedState;if(m!==null)return m.dehydrated!==null?($r(l),l.flags|=128,null):o&l.child.childLanes?By(n,l,o):($r(l),n=Ll(n,l,o),n!==null?n.sibling:null);$r(l);break;case 19:var w=(n.flags&128)!==0;if(m=(o&l.childLanes)!==0,m||(su(n,l,o,!1),m=(o&l.childLanes)!==0),w){if(m)return Sy(n,l,o);l.flags|=128}if(w=l.memoizedState,w!==null&&(w.rendering=null,w.tail=null,w.lastEffect=null),q(Fi,Fi.current),m)break;return null;case 22:case 23:return l.lanes=0,yy(n,l,o);case 24:Uc(l,Di,n.memoizedState.cache)}return Ll(n,l,o)}function _y(n,l,o){if(n!==null)if(n.memoizedProps!==l.pendingProps)as=!0;else{if(!xp(n,o)&&!(l.flags&128))return as=!1,$2(n,l,o);as=!!(n.flags&131072)}else as=!1,ka&&l.flags&1048576&&LA(l,jl,l.index);switch(l.lanes=0,l.tag){case 16:e:{n=l.pendingProps;var m=l.elementType,w=m._init;if(m=w(m._payload),l.type=m,typeof m=="function")Mp(m)?(n=Pn(m,n),l.tag=1,l=Ny(null,l,m,n,o)):(l.tag=0,l=dp(null,l,m,n,o));else{if(m!=null){if(w=m.$$typeof,w===F){l.tag=11,l=gy(null,l,m,n,o);break e}else if(w===f){l.tag=14,l=vy(null,l,m,n,o);break e}}throw l=Y(m)||m,Error(i(306,l,""))}}return l;case 0:return dp(n,l,l.type,l.pendingProps,o);case 1:return m=l.type,w=Pn(m,l.pendingProps),Ny(n,l,m,w,o);case 3:e:{if(Z(l,l.stateNode.containerInfo),n===null)throw Error(i(387));var E=l.pendingProps;w=l.memoizedState,m=w.element,jp(n,l),lu(l,E,null,o);var xe=l.memoizedState;if(E=xe.cache,Uc(l,Di,E),E!==w.cache&&wp(l,[Di],o,!0),ru(),E=xe.element,w.isDehydrated)if(w={element:E,isDehydrated:!1,cache:xe.cache},l.updateQueue.baseState=w,l.memoizedState=w,l.flags&256){l=jy(n,l,E,o);break e}else if(E!==m){m=oi(Error(i(424)),l),Cc(m),l=jy(n,l,E,o);break e}else for(zi=xr(l.stateNode.containerInfo.firstChild),es=l,ka=!0,vn=null,Tn=!0,o=Xd(l,null,E,o),l.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling;else{if(Io(),E===m){l=Ll(n,l,o);break e}hs(n,l,E,o)}l=l.child}return l;case 26:return iu(n,l),n===null?(o=Eb(l.type,null,l.pendingProps,null))?l.memoizedState=o:ka||(o=l.type,n=l.pendingProps,m=Zh(W.current).createElement(o),m[me]=l,m[$]=n,ms(m,o,n),Ga(m),l.stateNode=m):l.memoizedState=Eb(l.type,n.memoizedProps,l.pendingProps,n.memoizedState),null;case 27:return Se(l),n===null&&ka&&(m=l.stateNode=_b(l.type,l.pendingProps,W.current),es=l,Tn=!0,zi=xr(m.firstChild)),m=l.pendingProps.children,n!==null||ka?hs(n,l,m,o):l.child=zr(l,null,m,o),iu(n,l),l.child;case 5:return n===null&&ka&&((w=m=zi)&&(m=NB(m,l.type,l.pendingProps,Tn),m!==null?(l.stateNode=m,es=l,zi=xr(m.firstChild),Tn=!1,w=!0):w=!1),w||Ar(l)),Se(l),w=l.type,E=l.pendingProps,xe=n!==null?n.memoizedProps:null,m=E.children,ng(w,E)?m=null:xe!==null&&ng(w,xe)&&(l.flags|=32),l.memoizedState!==null&&(w=Ta(n,l,Va,null,null,o),wu._currentValue=w),iu(n,l),hs(n,l,m,o),l.child;case 6:return n===null&&ka&&((n=o=zi)&&(o=jB(o,l.pendingProps,Tn),o!==null?(l.stateNode=o,es=l,zi=null,n=!0):n=!1),n||Ar(l)),null;case 13:return By(n,l,o);case 4:return Z(l,l.stateNode.containerInfo),m=l.pendingProps,n===null?l.child=zr(l,null,m,o):hs(n,l,m,o),l.child;case 11:return gy(n,l,l.type,l.pendingProps,o);case 7:return hs(n,l,l.pendingProps,o),l.child;case 8:return hs(n,l,l.pendingProps.children,o),l.child;case 12:return hs(n,l,l.pendingProps.children,o),l.child;case 10:return m=l.pendingProps,Uc(l,l.type,m.value),hs(n,l,m.children,o),l.child;case 9:return w=l.type._context,m=l.pendingProps.children,Jo(l),w=Bs(w),m=m(w),l.flags|=1,hs(n,l,m,o),l.child;case 14:return vy(n,l,l.type,l.pendingProps,o);case 15:return xy(n,l,l.type,l.pendingProps,o);case 19:return Sy(n,l,o);case 22:return yy(n,l,o);case 24:return Jo(l),m=Bs(Di),n===null?(w=at(),w===null&&(w=ii,E=IA(),w.pooledCache=E,E.refCount++,E!==null&&(w.pooledCacheLanes|=o),w=E),l.memoizedState={parent:m,cache:w},Np(l),Uc(l,Di,w)):(n.lanes&o&&(jp(n,l),lu(l,null,null,o),ru()),w=n.memoizedState,E=l.memoizedState,w.parent!==m?(w={parent:m,cache:m},l.memoizedState=w,l.lanes===0&&(l.memoizedState=l.updateQueue.baseState=w),Uc(l,Di,m)):(m=E.cache,Uc(l,Di,m),m!==w.cache&&wp(l,[Di],o,!0))),hs(n,l,l.pendingProps.children,o),l.child;case 29:throw l.pendingProps}throw Error(i(156,l.tag))}var yp=z(null),Xo=null,Ml=null;function Uc(n,l,o){q(yp,l._currentValue),l._currentValue=o}function Ul(n){n._currentValue=yp.current,B(yp)}function bp(n,l,o){for(;n!==null;){var m=n.alternate;if((n.childLanes&l)!==l?(n.childLanes|=l,m!==null&&(m.childLanes|=l)):m!==null&&(m.childLanes&l)!==l&&(m.childLanes|=l),n===o)break;n=n.return}}function wp(n,l,o,m){var w=n.child;for(w!==null&&(w.return=n);w!==null;){var E=w.dependencies;if(E!==null){var xe=w.child;E=E.firstContext;e:for(;E!==null;){var Te=E;E=w;for(var Je=0;Je<l.length;Je++)if(Te.context===l[Je]){E.lanes|=o,Te=E.alternate,Te!==null&&(Te.lanes|=o),bp(E.return,o,n),m||(xe=null);break e}E=Te.next}}else if(w.tag===18){if(xe=w.return,xe===null)throw Error(i(341));xe.lanes|=o,E=xe.alternate,E!==null&&(E.lanes|=o),bp(xe,o,n),xe=null}else xe=w.child;if(xe!==null)xe.return=w;else for(xe=w;xe!==null;){if(xe===n){xe=null;break}if(w=xe.sibling,w!==null){w.return=xe.return,xe=w;break}xe=xe.return}w=xe}}function su(n,l,o,m){n=null;for(var w=l,E=!1;w!==null;){if(!E){if(w.flags&524288)E=!0;else if(w.flags&262144)break}if(w.tag===10){var xe=w.alternate;if(xe===null)throw Error(i(387));if(xe=xe.memoizedProps,xe!==null){var Te=w.type;Pi(w.pendingProps.value,xe.value)||(n!==null?n.push(Te):n=[Te])}}else if(w===C.current){if(xe=w.alternate,xe===null)throw Error(i(387));xe.memoizedState.memoizedState!==w.memoizedState.memoizedState&&(n!==null?n.push(wu):n=[wu])}w=w.return}n!==null&&wp(l,n,o,m),l.flags|=262144}function Ih(n){for(n=n.firstContext;n!==null;){if(!Pi(n.context._currentValue,n.memoizedValue))return!0;n=n.next}return!1}function Jo(n){Xo=n,Ml=null,n=n.dependencies,n!==null&&(n.firstContext=null)}function Bs(n){return Fy(Xo,n)}function Qh(n,l){return Xo===null&&Jo(n),Fy(n,l)}function Fy(n,l){var o=l._currentValue;if(l={context:l,memoizedValue:o,next:null},Ml===null){if(n===null)throw Error(i(308));Ml=l,n.dependencies={lanes:0,firstContext:l},n.flags|=524288}else Ml=Ml.next=l;return o}var Oc=!1;function Np(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function jp(n,l){n=n.updateQueue,l.updateQueue===n&&(l.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,callbacks:null})}function kc(n){return{lane:n,tag:0,payload:null,callback:null,next:null}}function Ic(n,l,o){var m=n.updateQueue;if(m===null)return null;if(m=m.shared,yi&2){var w=m.pending;return w===null?l.next=l:(l.next=w.next,w.next=l),m.pending=l,l=jc(n),Uo(n,null,o),l}return Js(n,m,l,o),jc(n)}function nu(n,l,o){if(l=l.updateQueue,l!==null&&(l=l.shared,(o&4194176)!==0)){var m=l.lanes;m&=n.pendingLanes,o|=m,l.lanes=o,be(n,o)}}function Bp(n,l){var o=n.updateQueue,m=n.alternate;if(m!==null&&(m=m.updateQueue,o===m)){var w=null,E=null;if(o=o.firstBaseUpdate,o!==null){do{var xe={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};E===null?w=E=xe:E=E.next=xe,o=o.next}while(o!==null);E===null?w=E=l:E=E.next=l}else w=E=l;o={baseState:m.baseState,firstBaseUpdate:w,lastBaseUpdate:E,shared:m.shared,callbacks:m.callbacks},n.updateQueue=o;return}n=o.lastBaseUpdate,n===null?o.firstBaseUpdate=l:n.next=l,o.lastBaseUpdate=l}var Cp=!1;function ru(){if(Cp){var n=je;if(n!==null)throw n}}function lu(n,l,o,m){Cp=!1;var w=n.updateQueue;Oc=!1;var E=w.firstBaseUpdate,xe=w.lastBaseUpdate,Te=w.shared.pending;if(Te!==null){w.shared.pending=null;var Je=Te,At=Je.next;Je.next=null,xe===null?E=At:xe.next=At,xe=Je;var Et=n.alternate;Et!==null&&(Et=Et.updateQueue,Te=Et.lastBaseUpdate,Te!==xe&&(Te===null?Et.firstBaseUpdate=At:Te.next=At,Et.lastBaseUpdate=Je))}if(E!==null){var Rt=w.baseState;xe=0,Et=At=Je=null,Te=E;do{var Nt=Te.lane&-536870913,_t=Nt!==Te.lane;if(_t?(Ia&Nt)===Nt:(m&Nt)===Nt){Nt!==0&&Nt===le&&(Cp=!0),Et!==null&&(Et=Et.next={lane:0,tag:Te.tag,payload:Te.payload,callback:null,next:null});e:{var ia=n,va=Te;Nt=l;var Ci=o;switch(va.tag){case 1:if(ia=va.payload,typeof ia=="function"){Rt=ia.call(Ci,Rt,Nt);break e}Rt=ia;break e;case 3:ia.flags=ia.flags&-65537|128;case 0:if(ia=va.payload,Nt=typeof ia=="function"?ia.call(Ci,Rt,Nt):ia,Nt==null)break e;Rt=ge({},Rt,Nt);break e;case 2:Oc=!0}}Nt=Te.callback,Nt!==null&&(n.flags|=64,_t&&(n.flags|=8192),_t=w.callbacks,_t===null?w.callbacks=[Nt]:_t.push(Nt))}else _t={lane:Nt,tag:Te.tag,payload:Te.payload,callback:Te.callback,next:null},Et===null?(At=Et=_t,Je=Rt):Et=Et.next=_t,xe|=Nt;if(Te=Te.next,Te===null){if(Te=w.shared.pending,Te===null)break;_t=Te,Te=_t.next,_t.next=null,w.lastBaseUpdate=_t,w.shared.pending=null}}while(!0);Et===null&&(Je=Rt),w.baseState=Je,w.firstBaseUpdate=At,w.lastBaseUpdate=Et,E===null&&(w.shared.lanes=0),Hc|=xe,n.lanes=xe,n.memoizedState=Rt}}function Dy(n,l){if(typeof n!="function")throw Error(i(191,n));n.call(l)}function Ey(n,l){var o=n.callbacks;if(o!==null)for(n.callbacks=null,n=0;n<o.length;n++)Dy(o[n],l)}function cu(n,l){try{var o=l.updateQueue,m=o!==null?o.lastEffect:null;if(m!==null){var w=m.next;o=w;do{if((o.tag&n)===n){m=void 0;var E=o.create,xe=o.inst;m=E(),xe.destroy=m}o=o.next}while(o!==w)}}catch(Te){Ja(l,l.return,Te)}}function Qc(n,l,o){try{var m=l.updateQueue,w=m!==null?m.lastEffect:null;if(w!==null){var E=w.next;m=E;do{if((m.tag&n)===n){var xe=m.inst,Te=xe.destroy;if(Te!==void 0){xe.destroy=void 0,w=l;var Je=o;try{Te()}catch(At){Ja(w,Je,At)}}}m=m.next}while(m!==E)}}catch(At){Ja(l,l.return,At)}}function Ly(n){var l=n.updateQueue;if(l!==null){var o=n.stateNode;try{Ey(l,o)}catch(m){Ja(n,n.return,m)}}}function My(n,l,o){o.props=Pn(n.type,n.memoizedProps),o.state=n.memoizedState;try{o.componentWillUnmount()}catch(m){Ja(n,l,m)}}function Zo(n,l){try{var o=n.ref;if(o!==null){var m=n.stateNode;switch(n.tag){case 26:case 27:case 5:var w=m;break;default:w=m}typeof o=="function"?n.refCleanup=o(w):o.current=w}}catch(E){Ja(n,l,E)}}function jn(n,l){var o=n.ref,m=n.refCleanup;if(o!==null)if(typeof m=="function")try{m()}catch(w){Ja(n,l,w)}finally{n.refCleanup=null,n=n.alternate,n!=null&&(n.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(w){Ja(n,l,w)}else o.current=null}function Uy(n){var l=n.type,o=n.memoizedProps,m=n.stateNode;try{e:switch(l){case"button":case"input":case"select":case"textarea":o.autoFocus&&m.focus();break e;case"img":o.src?m.src=o.src:o.srcSet&&(m.srcset=o.srcSet)}}catch(w){Ja(n,n.return,w)}}function Oy(n,l,o){try{var m=n.stateNode;vB(m,n.type,o,l),m[$]=l}catch(w){Ja(n,n.return,w)}}function ky(n){return n.tag===5||n.tag===3||n.tag===26||n.tag===27||n.tag===4}function Sp(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||ky(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==27&&n.tag!==18;){if(n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function _p(n,l,o){var m=n.tag;if(m===5||m===6)n=n.stateNode,l?o.nodeType===8?o.parentNode.insertBefore(n,l):o.insertBefore(n,l):(o.nodeType===8?(l=o.parentNode,l.insertBefore(n,o)):(l=o,l.appendChild(n)),o=o._reactRootContainer,o!=null||l.onclick!==null||(l.onclick=Jh));else if(m!==4&&m!==27&&(n=n.child,n!==null))for(_p(n,l,o),n=n.sibling;n!==null;)_p(n,l,o),n=n.sibling}function Th(n,l,o){var m=n.tag;if(m===5||m===6)n=n.stateNode,l?o.insertBefore(n,l):o.appendChild(n);else if(m!==4&&m!==27&&(n=n.child,n!==null))for(Th(n,l,o),n=n.sibling;n!==null;)Th(n,l,o),n=n.sibling}var Ol=!1,ji=!1,Fp=!1,Iy=typeof WeakSet=="function"?WeakSet:Set,is=null,Qy=!1;function G2(n,l){if(n=n.containerInfo,ig=nm,n=os(n),Ki(n)){if("selectionStart"in n)var o={start:n.selectionStart,end:n.selectionEnd};else e:{o=(o=n.ownerDocument)&&o.defaultView||window;var m=o.getSelection&&o.getSelection();if(m&&m.rangeCount!==0){o=m.anchorNode;var w=m.anchorOffset,E=m.focusNode;m=m.focusOffset;try{o.nodeType,E.nodeType}catch{o=null;break e}var xe=0,Te=-1,Je=-1,At=0,Et=0,Rt=n,Nt=null;t:for(;;){for(var _t;Rt!==o||w!==0&&Rt.nodeType!==3||(Te=xe+w),Rt!==E||m!==0&&Rt.nodeType!==3||(Je=xe+m),Rt.nodeType===3&&(xe+=Rt.nodeValue.length),(_t=Rt.firstChild)!==null;)Nt=Rt,Rt=_t;for(;;){if(Rt===n)break t;if(Nt===o&&++At===w&&(Te=xe),Nt===E&&++Et===m&&(Je=xe),(_t=Rt.nextSibling)!==null)break;Rt=Nt,Nt=Rt.parentNode}Rt=_t}o=Te===-1||Je===-1?null:{start:Te,end:Je}}else o=null}o=o||{start:0,end:0}}else o=null;for(sg={focusedElem:n,selectionRange:o},nm=!1,is=l;is!==null;)if(l=is,n=l.child,(l.subtreeFlags&1028)!==0&&n!==null)n.return=l,is=n;else for(;is!==null;){switch(l=is,E=l.alternate,n=l.flags,l.tag){case 0:break;case 11:case 15:break;case 1:if(n&1024&&E!==null){n=void 0,o=l,w=E.memoizedProps,E=E.memoizedState,m=o.stateNode;try{var ia=Pn(o.type,w,o.elementType===o.type);n=m.getSnapshotBeforeUpdate(ia,E),m.__reactInternalSnapshotBeforeUpdate=n}catch(va){Ja(o,o.return,va)}}break;case 3:if(n&1024){if(n=l.stateNode.containerInfo,o=n.nodeType,o===9)cg(n);else if(o===1)switch(n.nodeName){case"HEAD":case"HTML":case"BODY":cg(n);break;default:n.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(n&1024)throw Error(i(163))}if(n=l.sibling,n!==null){n.return=l.return,is=n;break}is=l.return}return ia=Qy,Qy=!1,ia}function Ty(n,l,o){var m=o.flags;switch(o.tag){case 0:case 11:case 15:Il(n,o),m&4&&cu(5,o);break;case 1:if(Il(n,o),m&4)if(n=o.stateNode,l===null)try{n.componentDidMount()}catch(Te){Ja(o,o.return,Te)}else{var w=Pn(o.type,l.memoizedProps);l=l.memoizedState;try{n.componentDidUpdate(w,l,n.__reactInternalSnapshotBeforeUpdate)}catch(Te){Ja(o,o.return,Te)}}m&64&&Ly(o),m&512&&Zo(o,o.return);break;case 3:if(Il(n,o),m&64&&(m=o.updateQueue,m!==null)){if(n=null,o.child!==null)switch(o.child.tag){case 27:case 5:n=o.child.stateNode;break;case 1:n=o.child.stateNode}try{Ey(m,n)}catch(Te){Ja(o,o.return,Te)}}break;case 26:Il(n,o),m&512&&Zo(o,o.return);break;case 27:case 5:Il(n,o),l===null&&m&4&&Uy(o),m&512&&Zo(o,o.return);break;case 12:Il(n,o);break;case 13:Il(n,o),m&4&&Hy(n,o);break;case 22:if(w=o.memoizedState!==null||Ol,!w){l=l!==null&&l.memoizedState!==null||ji;var E=Ol,xe=ji;Ol=w,(ji=l)&&!xe?Tc(n,o,(o.subtreeFlags&8772)!==0):Il(n,o),Ol=E,ji=xe}m&512&&(o.memoizedProps.mode==="manual"?Zo(o,o.return):jn(o,o.return));break;default:Il(n,o)}}function Ry(n){var l=n.alternate;l!==null&&(n.alternate=null,Ry(l)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(l=n.stateNode,l!==null&&ya(l)),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}var Hi=null,Bn=!1;function kl(n,l,o){for(o=o.child;o!==null;)Py(n,l,o),o=o.sibling}function Py(n,l,o){if(ot&&typeof ot.onCommitFiberUnmount=="function")try{ot.onCommitFiberUnmount(nt,o)}catch{}switch(o.tag){case 26:ji||jn(o,l),kl(n,l,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:ji||jn(o,l);var m=Hi,w=Bn;for(Hi=o.stateNode,kl(n,l,o),o=o.stateNode,l=o.attributes;l.length;)o.removeAttributeNode(l[0]);ya(o),Hi=m,Bn=w;break;case 5:ji||jn(o,l);case 6:w=Hi;var E=Bn;if(Hi=null,kl(n,l,o),Hi=w,Bn=E,Hi!==null)if(Bn)try{n=Hi,m=o.stateNode,n.nodeType===8?n.parentNode.removeChild(m):n.removeChild(m)}catch(xe){Ja(o,l,xe)}else try{Hi.removeChild(o.stateNode)}catch(xe){Ja(o,l,xe)}break;case 18:Hi!==null&&(Bn?(l=Hi,o=o.stateNode,l.nodeType===8?lg(l.parentNode,o):l.nodeType===1&&lg(l,o),Cu(l)):lg(Hi,o.stateNode));break;case 4:m=Hi,w=Bn,Hi=o.stateNode.containerInfo,Bn=!0,kl(n,l,o),Hi=m,Bn=w;break;case 0:case 11:case 14:case 15:ji||Qc(2,o,l),ji||Qc(4,o,l),kl(n,l,o);break;case 1:ji||(jn(o,l),m=o.stateNode,typeof m.componentWillUnmount=="function"&&My(o,l,m)),kl(n,l,o);break;case 21:kl(n,l,o);break;case 22:ji||jn(o,l),ji=(m=ji)||o.memoizedState!==null,kl(n,l,o),ji=m;break;default:kl(n,l,o)}}function Hy(n,l){if(l.memoizedState===null&&(n=l.alternate,n!==null&&(n=n.memoizedState,n!==null&&(n=n.dehydrated,n!==null))))try{Cu(n)}catch(o){Ja(l,l.return,o)}}function W2(n){switch(n.tag){case 13:case 19:var l=n.stateNode;return l===null&&(l=n.stateNode=new Iy),l;case 22:return n=n.stateNode,l=n._retryCache,l===null&&(l=n._retryCache=new Iy),l;default:throw Error(i(435,n.tag))}}function Dp(n,l){var o=W2(n);l.forEach(function(m){var w=cB.bind(null,n,m);o.has(m)||(o.add(m),m.then(w,w))})}function Hn(n,l){var o=l.deletions;if(o!==null)for(var m=0;m<o.length;m++){var w=o[m],E=n,xe=l,Te=xe;e:for(;Te!==null;){switch(Te.tag){case 27:case 5:Hi=Te.stateNode,Bn=!1;break e;case 3:Hi=Te.stateNode.containerInfo,Bn=!0;break e;case 4:Hi=Te.stateNode.containerInfo,Bn=!0;break e}Te=Te.return}if(Hi===null)throw Error(i(160));Py(E,xe,w),Hi=null,Bn=!1,E=w.alternate,E!==null&&(E.return=null),w.return=null}if(l.subtreeFlags&13878)for(l=l.child;l!==null;)qy(l,n),l=l.sibling}var vr=null;function qy(n,l){var o=n.alternate,m=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:Hn(l,n),qn(n),m&4&&(Qc(3,n,n.return),cu(3,n),Qc(5,n,n.return));break;case 1:Hn(l,n),qn(n),m&512&&(ji||o===null||jn(o,o.return)),m&64&&Ol&&(n=n.updateQueue,n!==null&&(m=n.callbacks,m!==null&&(o=n.shared.hiddenCallbacks,n.shared.hiddenCallbacks=o===null?m:o.concat(m))));break;case 26:var w=vr;if(Hn(l,n),qn(n),m&512&&(ji||o===null||jn(o,o.return)),m&4){var E=o!==null?o.memoizedState:null;if(m=n.memoizedState,o===null)if(m===null)if(n.stateNode===null){e:{m=n.type,o=n.memoizedProps,w=w.ownerDocument||w;t:switch(m){case"title":E=w.getElementsByTagName("title")[0],(!E||E[Kt]||E[me]||E.namespaceURI==="http://www.w3.org/2000/svg"||E.hasAttribute("itemprop"))&&(E=w.createElement(m),w.head.insertBefore(E,w.querySelector("head > title"))),ms(E,m,o),E[me]=n,Ga(E),m=E;break e;case"link":var xe=Ub("link","href",w).get(m+(o.href||""));if(xe){for(var Te=0;Te<xe.length;Te++)if(E=xe[Te],E.getAttribute("href")===(o.href==null?null:o.href)&&E.getAttribute("rel")===(o.rel==null?null:o.rel)&&E.getAttribute("title")===(o.title==null?null:o.title)&&E.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){xe.splice(Te,1);break t}}E=w.createElement(m),ms(E,m,o),w.head.appendChild(E);break;case"meta":if(xe=Ub("meta","content",w).get(m+(o.content||""))){for(Te=0;Te<xe.length;Te++)if(E=xe[Te],E.getAttribute("content")===(o.content==null?null:""+o.content)&&E.getAttribute("name")===(o.name==null?null:o.name)&&E.getAttribute("property")===(o.property==null?null:o.property)&&E.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&E.getAttribute("charset")===(o.charSet==null?null:o.charSet)){xe.splice(Te,1);break t}}E=w.createElement(m),ms(E,m,o),w.head.appendChild(E);break;default:throw Error(i(468,m))}E[me]=n,Ga(E),m=E}n.stateNode=m}else Ob(w,n.type,n.stateNode);else n.stateNode=Mb(w,m,n.memoizedProps);else E!==m?(E===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):E.count--,m===null?Ob(w,n.type,n.stateNode):Mb(w,m,n.memoizedProps)):m===null&&n.stateNode!==null&&Oy(n,n.memoizedProps,o.memoizedProps)}break;case 27:if(m&4&&n.alternate===null){w=n.stateNode,E=n.memoizedProps;try{for(var Je=w.firstChild;Je;){var At=Je.nextSibling,Et=Je.nodeName;Je[Kt]||Et==="HEAD"||Et==="BODY"||Et==="SCRIPT"||Et==="STYLE"||Et==="LINK"&&Je.rel.toLowerCase()==="stylesheet"||w.removeChild(Je),Je=At}for(var Rt=n.type,Nt=w.attributes;Nt.length;)w.removeAttributeNode(Nt[0]);ms(w,Rt,E),w[me]=n,w[$]=E}catch(ia){Ja(n,n.return,ia)}}case 5:if(Hn(l,n),qn(n),m&512&&(ji||o===null||jn(o,o.return)),n.flags&32){w=n.stateNode;try{Mn(w,"")}catch(ia){Ja(n,n.return,ia)}}m&4&&n.stateNode!=null&&(w=n.memoizedProps,Oy(n,w,o!==null?o.memoizedProps:w)),m&1024&&(Fp=!0);break;case 6:if(Hn(l,n),qn(n),m&4){if(n.stateNode===null)throw Error(i(162));m=n.memoizedProps,o=n.stateNode;try{o.nodeValue=m}catch(ia){Ja(n,n.return,ia)}}break;case 3:if(am=null,w=vr,vr=em(l.containerInfo),Hn(l,n),vr=w,qn(n),m&4&&o!==null&&o.memoizedState.isDehydrated)try{Cu(l.containerInfo)}catch(ia){Ja(n,n.return,ia)}Fp&&(Fp=!1,Ky(n));break;case 4:m=vr,vr=em(n.stateNode.containerInfo),Hn(l,n),qn(n),vr=m;break;case 12:Hn(l,n),qn(n);break;case 13:Hn(l,n),qn(n),n.child.flags&8192&&n.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(Tp=Mt()),m&4&&(m=n.updateQueue,m!==null&&(n.updateQueue=null,Dp(n,m)));break;case 22:if(m&512&&(ji||o===null||jn(o,o.return)),Je=n.memoizedState!==null,At=o!==null&&o.memoizedState!==null,Et=Ol,Rt=ji,Ol=Et||Je,ji=Rt||At,Hn(l,n),ji=Rt,Ol=Et,qn(n),l=n.stateNode,l._current=n,l._visibility&=-3,l._visibility|=l._pendingVisibility&2,m&8192&&(l._visibility=Je?l._visibility&-2:l._visibility|1,Je&&(l=Ol||ji,o===null||At||l||GA(n)),n.memoizedProps===null||n.memoizedProps.mode!=="manual"))e:for(o=null,l=n;;){if(l.tag===5||l.tag===26||l.tag===27){if(o===null){At=o=l;try{if(w=At.stateNode,Je)E=w.style,typeof E.setProperty=="function"?E.setProperty("display","none","important"):E.display="none";else{xe=At.stateNode,Te=At.memoizedProps.style;var _t=Te!=null&&Te.hasOwnProperty("display")?Te.display:null;xe.style.display=_t==null||typeof _t=="boolean"?"":(""+_t).trim()}}catch(ia){Ja(At,At.return,ia)}}}else if(l.tag===6){if(o===null){At=l;try{At.stateNode.nodeValue=Je?"":At.memoizedProps}catch(ia){Ja(At,At.return,ia)}}}else if((l.tag!==22&&l.tag!==23||l.memoizedState===null||l===n)&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===n)break e;for(;l.sibling===null;){if(l.return===null||l.return===n)break e;o===l&&(o=null),l=l.return}o===l&&(o=null),l.sibling.return=l.return,l=l.sibling}m&4&&(m=n.updateQueue,m!==null&&(o=m.retryQueue,o!==null&&(m.retryQueue=null,Dp(n,o))));break;case 19:Hn(l,n),qn(n),m&4&&(m=n.updateQueue,m!==null&&(n.updateQueue=null,Dp(n,m)));break;case 21:break;default:Hn(l,n),qn(n)}}function qn(n){var l=n.flags;if(l&2){try{if(n.tag!==27){e:{for(var o=n.return;o!==null;){if(ky(o)){var m=o;break e}o=o.return}throw Error(i(160))}switch(m.tag){case 27:var w=m.stateNode,E=Sp(n);Th(n,E,w);break;case 5:var xe=m.stateNode;m.flags&32&&(Mn(xe,""),m.flags&=-33);var Te=Sp(n);Th(n,Te,xe);break;case 3:case 4:var Je=m.stateNode.containerInfo,At=Sp(n);_p(n,At,Je);break;default:throw Error(i(161))}}}catch(Et){Ja(n,n.return,Et)}n.flags&=-3}l&4096&&(n.flags&=-4097)}function Ky(n){if(n.subtreeFlags&1024)for(n=n.child;n!==null;){var l=n;Ky(l),l.tag===5&&l.flags&1024&&l.stateNode.reset(),n=n.sibling}}function Il(n,l){if(l.subtreeFlags&8772)for(l=l.child;l!==null;)Ty(n,l.alternate,l),l=l.sibling}function GA(n){for(n=n.child;n!==null;){var l=n;switch(l.tag){case 0:case 11:case 14:case 15:Qc(4,l,l.return),GA(l);break;case 1:jn(l,l.return);var o=l.stateNode;typeof o.componentWillUnmount=="function"&&My(l,l.return,o),GA(l);break;case 26:case 27:case 5:jn(l,l.return),GA(l);break;case 22:jn(l,l.return),l.memoizedState===null&&GA(l);break;default:GA(l)}n=n.sibling}}function Tc(n,l,o){for(o=o&&(l.subtreeFlags&8772)!==0,l=l.child;l!==null;){var m=l.alternate,w=n,E=l,xe=E.flags;switch(E.tag){case 0:case 11:case 15:Tc(w,E,o),cu(4,E);break;case 1:if(Tc(w,E,o),m=E,w=m.stateNode,typeof w.componentDidMount=="function")try{w.componentDidMount()}catch(At){Ja(m,m.return,At)}if(m=E,w=m.updateQueue,w!==null){var Te=m.stateNode;try{var Je=w.shared.hiddenCallbacks;if(Je!==null)for(w.shared.hiddenCallbacks=null,w=0;w<Je.length;w++)Dy(Je[w],Te)}catch(At){Ja(m,m.return,At)}}o&&xe&64&&Ly(E),Zo(E,E.return);break;case 26:case 27:case 5:Tc(w,E,o),o&&m===null&&xe&4&&Uy(E),Zo(E,E.return);break;case 12:Tc(w,E,o);break;case 13:Tc(w,E,o),o&&xe&4&&Hy(w,E);break;case 22:E.memoizedState===null&&Tc(w,E,o),Zo(E,E.return);break;default:Tc(w,E,o)}l=l.sibling}}function Ep(n,l){var o=null;n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),n=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(n=l.memoizedState.cachePool.pool),n!==o&&(n!=null&&n.refCount++,o!=null&&g(o))}function Lp(n,l){n=null,l.alternate!==null&&(n=l.alternate.memoizedState.cache),l=l.memoizedState.cache,l!==n&&(l.refCount++,n!=null&&g(n))}function Rc(n,l,o,m){if(l.subtreeFlags&10256)for(l=l.child;l!==null;)Vy(n,l,o,m),l=l.sibling}function Vy(n,l,o,m){var w=l.flags;switch(l.tag){case 0:case 11:case 15:Rc(n,l,o,m),w&2048&&cu(9,l);break;case 3:Rc(n,l,o,m),w&2048&&(n=null,l.alternate!==null&&(n=l.alternate.memoizedState.cache),l=l.memoizedState.cache,l!==n&&(l.refCount++,n!=null&&g(n)));break;case 12:if(w&2048){Rc(n,l,o,m),n=l.stateNode;try{var E=l.memoizedProps,xe=E.id,Te=E.onPostCommit;typeof Te=="function"&&Te(xe,l.alternate===null?"mount":"update",n.passiveEffectDuration,-0)}catch(Je){Ja(l,l.return,Je)}}else Rc(n,l,o,m);break;case 23:break;case 22:E=l.stateNode,l.memoizedState!==null?E._visibility&4?Rc(n,l,o,m):ou(n,l):E._visibility&4?Rc(n,l,o,m):(E._visibility|=4,WA(n,l,o,m,(l.subtreeFlags&10256)!==0)),w&2048&&Ep(l.alternate,l);break;case 24:Rc(n,l,o,m),w&2048&&Lp(l.alternate,l);break;default:Rc(n,l,o,m)}}function WA(n,l,o,m,w){for(w=w&&(l.subtreeFlags&10256)!==0,l=l.child;l!==null;){var E=n,xe=l,Te=o,Je=m,At=xe.flags;switch(xe.tag){case 0:case 11:case 15:WA(E,xe,Te,Je,w),cu(8,xe);break;case 23:break;case 22:var Et=xe.stateNode;xe.memoizedState!==null?Et._visibility&4?WA(E,xe,Te,Je,w):ou(E,xe):(Et._visibility|=4,WA(E,xe,Te,Je,w)),w&&At&2048&&Ep(xe.alternate,xe);break;case 24:WA(E,xe,Te,Je,w),w&&At&2048&&Lp(xe.alternate,xe);break;default:WA(E,xe,Te,Je,w)}l=l.sibling}}function ou(n,l){if(l.subtreeFlags&10256)for(l=l.child;l!==null;){var o=n,m=l,w=m.flags;switch(m.tag){case 22:ou(o,m),w&2048&&Ep(m.alternate,m);break;case 24:ou(o,m),w&2048&&Lp(m.alternate,m);break;default:ou(o,m)}l=l.sibling}}var Au=8192;function YA(n){if(n.subtreeFlags&Au)for(n=n.child;n!==null;)zy(n),n=n.sibling}function zy(n){switch(n.tag){case 26:YA(n),n.flags&Au&&n.memoizedState!==null&&IB(vr,n.memoizedState,n.memoizedProps);break;case 5:YA(n);break;case 3:case 4:var l=vr;vr=em(n.stateNode.containerInfo),YA(n),vr=l;break;case 22:n.memoizedState===null&&(l=n.alternate,l!==null&&l.memoizedState!==null?(l=Au,Au=16777216,YA(n),Au=l):YA(n));break;default:YA(n)}}function $y(n){var l=n.alternate;if(l!==null&&(n=l.child,n!==null)){l.child=null;do l=n.sibling,n.sibling=null,n=l;while(n!==null)}}function du(n){var l=n.deletions;if(n.flags&16){if(l!==null)for(var o=0;o<l.length;o++){var m=l[o];is=m,Wy(m,n)}$y(n)}if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Gy(n),n=n.sibling}function Gy(n){switch(n.tag){case 0:case 11:case 15:du(n),n.flags&2048&&Qc(9,n,n.return);break;case 3:du(n);break;case 12:du(n);break;case 22:var l=n.stateNode;n.memoizedState!==null&&l._visibility&4&&(n.return===null||n.return.tag!==13)?(l._visibility&=-5,Rh(n)):du(n);break;default:du(n)}}function Rh(n){var l=n.deletions;if(n.flags&16){if(l!==null)for(var o=0;o<l.length;o++){var m=l[o];is=m,Wy(m,n)}$y(n)}for(n=n.child;n!==null;){switch(l=n,l.tag){case 0:case 11:case 15:Qc(8,l,l.return),Rh(l);break;case 22:o=l.stateNode,o._visibility&4&&(o._visibility&=-5,Rh(l));break;default:Rh(l)}n=n.sibling}}function Wy(n,l){for(;is!==null;){var o=is;switch(o.tag){case 0:case 11:case 15:Qc(8,o,l);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var m=o.memoizedState.cachePool.pool;m!=null&&m.refCount++}break;case 24:g(o.memoizedState.cache)}if(m=o.child,m!==null)m.return=o,is=m;else e:for(o=n;is!==null;){m=is;var w=m.sibling,E=m.return;if(Ry(m),m===o){is=null;break e}if(w!==null){w.return=E,is=w;break e}is=E}}}function Y2(n,l,o,m){this.tag=n,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=l,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=m,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Kn(n,l,o,m){return new Y2(n,l,o,m)}function Mp(n){return n=n.prototype,!(!n||!n.isReactComponent)}function Pc(n,l){var o=n.alternate;return o===null?(o=Kn(n.tag,l,n.key,n.mode),o.elementType=n.elementType,o.type=n.type,o.stateNode=n.stateNode,o.alternate=n,n.alternate=o):(o.pendingProps=l,o.type=n.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=n.flags&31457280,o.childLanes=n.childLanes,o.lanes=n.lanes,o.child=n.child,o.memoizedProps=n.memoizedProps,o.memoizedState=n.memoizedState,o.updateQueue=n.updateQueue,l=n.dependencies,o.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext},o.sibling=n.sibling,o.index=n.index,o.ref=n.ref,o.refCleanup=n.refCleanup,o}function Yy(n,l){n.flags&=31457282;var o=n.alternate;return o===null?(n.childLanes=0,n.lanes=l,n.child=null,n.subtreeFlags=0,n.memoizedProps=null,n.memoizedState=null,n.updateQueue=null,n.dependencies=null,n.stateNode=null):(n.childLanes=o.childLanes,n.lanes=o.lanes,n.child=o.child,n.subtreeFlags=0,n.deletions=null,n.memoizedProps=o.memoizedProps,n.memoizedState=o.memoizedState,n.updateQueue=o.updateQueue,n.type=o.type,l=o.dependencies,n.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext}),n}function Ph(n,l,o,m,w,E){var xe=0;if(m=n,typeof n=="function")Mp(n)&&(xe=1);else if(typeof n=="string")xe=OB(n,o,te.current)?26:n==="html"||n==="head"||n==="body"?27:5;else e:switch(n){case h:return eA(o.children,w,E,l);case u:xe=8,w|=24;break;case v:return n=Kn(12,o,l,w|2),n.elementType=v,n.lanes=E,n;case b:return n=Kn(13,o,l,w),n.elementType=b,n.lanes=E,n;case S:return n=Kn(19,o,l,w),n.elementType=S,n.lanes=E,n;case M:return Xy(o,w,E,l);default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case x:case p:xe=10;break e;case y:xe=9;break e;case F:xe=11;break e;case f:xe=14;break e;case O:xe=16,m=null;break e}xe=29,o=Error(i(130,n===null?"null":typeof n,"")),m=null}return l=Kn(xe,o,l,w),l.elementType=n,l.type=m,l.lanes=E,l}function eA(n,l,o,m){return n=Kn(7,n,m,l),n.lanes=o,n}function Xy(n,l,o,m){n=Kn(22,n,m,l),n.elementType=M,n.lanes=o;var w={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var E=w._current;if(E===null)throw Error(i(456));if(!(w._pendingVisibility&2)){var xe=Hs(E,2);xe!==null&&(w._pendingVisibility|=2,Ks(xe,E,2))}},attach:function(){var E=w._current;if(E===null)throw Error(i(456));if(w._pendingVisibility&2){var xe=Hs(E,2);xe!==null&&(w._pendingVisibility&=-3,Ks(xe,E,2))}}};return n.stateNode=w,n}function Up(n,l,o){return n=Kn(6,n,null,l),n.lanes=o,n}function Op(n,l,o){return l=Kn(4,n.children!==null?n.children:[],n.key,l),l.lanes=o,l.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},l}function Ql(n){n.flags|=4}function Jy(n,l){if(l.type!=="stylesheet"||l.state.loading&4)n.flags&=-16777217;else if(n.flags|=16777216,!kb(l)){if(l=tn.current,l!==null&&((Ia&4194176)===Ia?yn!==null:(Ia&62914560)!==Ia&&!(Ia&536870912)||l!==yn))throw qs=Gd,yh;n.flags|=8192}}function Hh(n,l){l!==null&&(n.flags|=4),n.flags&16384&&(l=n.tag!==22?Qt():536870912,n.lanes|=l,JA|=l)}function uu(n,l){if(!ka)switch(n.tailMode){case"hidden":l=n.tail;for(var o=null;l!==null;)l.alternate!==null&&(o=l),l=l.sibling;o===null?n.tail=null:o.sibling=null;break;case"collapsed":o=n.tail;for(var m=null;o!==null;)o.alternate!==null&&(m=o),o=o.sibling;m===null?l||n.tail===null?n.tail=null:n.tail.sibling=null:m.sibling=null}}function xi(n){var l=n.alternate!==null&&n.alternate.child===n.child,o=0,m=0;if(l)for(var w=n.child;w!==null;)o|=w.lanes|w.childLanes,m|=w.subtreeFlags&31457280,m|=w.flags&31457280,w.return=n,w=w.sibling;else for(w=n.child;w!==null;)o|=w.lanes|w.childLanes,m|=w.subtreeFlags,m|=w.flags,w.return=n,w=w.sibling;return n.subtreeFlags|=m,n.childLanes=o,l}function X2(n,l,o){var m=l.pendingProps;switch(zd(l),l.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return xi(l),null;case 1:return xi(l),null;case 3:return o=l.stateNode,m=null,n!==null&&(m=n.memoizedState.cache),l.memoizedState.cache!==m&&(l.flags|=2048),Ul(Di),se(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(n===null||n.child===null)&&(ko(l)?Ql(l):n===null||n.memoizedState.isDehydrated&&!(l.flags&256)||(l.flags|=1024,vn!==null&&(qp(vn),vn=null))),xi(l),null;case 26:return o=l.memoizedState,n===null?(Ql(l),o!==null?(xi(l),Jy(l,o)):(xi(l),l.flags&=-16777217)):o?o!==n.memoizedState?(Ql(l),xi(l),Jy(l,o)):(xi(l),l.flags&=-16777217):(n.memoizedProps!==m&&Ql(l),xi(l),l.flags&=-16777217),null;case 27:He(l),o=W.current;var w=l.type;if(n!==null&&l.stateNode!=null)n.memoizedProps!==m&&Ql(l);else{if(!m){if(l.stateNode===null)throw Error(i(166));return xi(l),null}n=te.current,ko(l)?MA(l):(n=_b(w,m,o),l.stateNode=n,Ql(l))}return xi(l),null;case 5:if(He(l),o=l.type,n!==null&&l.stateNode!=null)n.memoizedProps!==m&&Ql(l);else{if(!m){if(l.stateNode===null)throw Error(i(166));return xi(l),null}if(n=te.current,ko(l))MA(l);else{switch(w=Zh(W.current),n){case 1:n=w.createElementNS("http://www.w3.org/2000/svg",o);break;case 2:n=w.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;default:switch(o){case"svg":n=w.createElementNS("http://www.w3.org/2000/svg",o);break;case"math":n=w.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;case"script":n=w.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild);break;case"select":n=typeof m.is=="string"?w.createElement("select",{is:m.is}):w.createElement("select"),m.multiple?n.multiple=!0:m.size&&(n.size=m.size);break;default:n=typeof m.is=="string"?w.createElement(o,{is:m.is}):w.createElement(o)}}n[me]=l,n[$]=m;e:for(w=l.child;w!==null;){if(w.tag===5||w.tag===6)n.appendChild(w.stateNode);else if(w.tag!==4&&w.tag!==27&&w.child!==null){w.child.return=w,w=w.child;continue}if(w===l)break e;for(;w.sibling===null;){if(w.return===null||w.return===l)break e;w=w.return}w.sibling.return=w.return,w=w.sibling}l.stateNode=n;e:switch(ms(n,o,m),o){case"button":case"input":case"select":case"textarea":n=!!m.autoFocus;break e;case"img":n=!0;break e;default:n=!1}n&&Ql(l)}}return xi(l),l.flags&=-16777217,null;case 6:if(n&&l.stateNode!=null)n.memoizedProps!==m&&Ql(l);else{if(typeof m!="string"&&l.stateNode===null)throw Error(i(166));if(n=W.current,ko(l)){if(n=l.stateNode,o=l.memoizedProps,m=null,w=es,w!==null)switch(w.tag){case 27:case 5:m=w.memoizedProps}n[me]=l,n=!!(n.nodeValue===o||m!==null&&m.suppressHydrationWarning===!0||wb(n.nodeValue,o)),n||Ar(l)}else n=Zh(n).createTextNode(m),n[me]=l,l.stateNode=n}return xi(l),null;case 13:if(m=l.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(w=ko(l),m!==null&&m.dehydrated!==null){if(n===null){if(!w)throw Error(i(318));if(w=l.memoizedState,w=w!==null?w.dehydrated:null,!w)throw Error(i(317));w[me]=l}else Io(),!(l.flags&128)&&(l.memoizedState=null),l.flags|=4;xi(l),w=!1}else vn!==null&&(qp(vn),vn=null),w=!0;if(!w)return l.flags&256?(dr(l),l):(dr(l),null)}if(dr(l),l.flags&128)return l.lanes=o,l;if(o=m!==null,n=n!==null&&n.memoizedState!==null,o){m=l.child,w=null,m.alternate!==null&&m.alternate.memoizedState!==null&&m.alternate.memoizedState.cachePool!==null&&(w=m.alternate.memoizedState.cachePool.pool);var E=null;m.memoizedState!==null&&m.memoizedState.cachePool!==null&&(E=m.memoizedState.cachePool.pool),E!==w&&(m.flags|=2048)}return o!==n&&o&&(l.child.flags|=8192),Hh(l,l.updateQueue),xi(l),null;case 4:return se(),n===null&&eg(l.stateNode.containerInfo),xi(l),null;case 10:return Ul(l.type),xi(l),null;case 19:if(B(Fi),w=l.memoizedState,w===null)return xi(l),null;if(m=(l.flags&128)!==0,E=w.rendering,E===null)if(m)uu(w,!1);else{if(Bi!==0||n!==null&&n.flags&128)for(n=l.child;n!==null;){if(E=OA(n),E!==null){for(l.flags|=128,uu(w,!1),n=E.updateQueue,l.updateQueue=n,Hh(l,n),l.subtreeFlags=0,n=o,o=l.child;o!==null;)Yy(o,n),o=o.sibling;return q(Fi,Fi.current&1|2),l.child}n=n.sibling}w.tail!==null&&Mt()>qh&&(l.flags|=128,m=!0,uu(w,!1),l.lanes=4194304)}else{if(!m)if(n=OA(E),n!==null){if(l.flags|=128,m=!0,n=n.updateQueue,l.updateQueue=n,Hh(l,n),uu(w,!0),w.tail===null&&w.tailMode==="hidden"&&!E.alternate&&!ka)return xi(l),null}else 2*Mt()-w.renderingStartTime>qh&&o!==536870912&&(l.flags|=128,m=!0,uu(w,!1),l.lanes=4194304);w.isBackwards?(E.sibling=l.child,l.child=E):(n=w.last,n!==null?n.sibling=E:l.child=E,w.last=E)}return w.tail!==null?(l=w.tail,w.rendering=l,w.tail=l.sibling,w.renderingStartTime=Mt(),l.sibling=null,n=Fi.current,q(Fi,m?n&1|2:n&1),l):(xi(l),null);case 22:case 23:return dr(l),Po(),m=l.memoizedState!==null,n!==null?n.memoizedState!==null!==m&&(l.flags|=8192):m&&(l.flags|=8192),m?o&536870912&&!(l.flags&128)&&(xi(l),l.subtreeFlags&6&&(l.flags|=8192)):xi(l),o=l.updateQueue,o!==null&&Hh(l,o.retryQueue),o=null,n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),m=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(m=l.memoizedState.cachePool.pool),m!==o&&(l.flags|=2048),n!==null&&B(Ve),null;case 24:return o=null,n!==null&&(o=n.memoizedState.cache),l.memoizedState.cache!==o&&(l.flags|=2048),Ul(Di),xi(l),null;case 25:return null}throw Error(i(156,l.tag))}function J2(n,l){switch(zd(l),l.tag){case 1:return n=l.flags,n&65536?(l.flags=n&-65537|128,l):null;case 3:return Ul(Di),se(),n=l.flags,n&65536&&!(n&128)?(l.flags=n&-65537|128,l):null;case 26:case 27:case 5:return He(l),null;case 13:if(dr(l),n=l.memoizedState,n!==null&&n.dehydrated!==null){if(l.alternate===null)throw Error(i(340));Io()}return n=l.flags,n&65536?(l.flags=n&-65537|128,l):null;case 19:return B(Fi),null;case 4:return se(),null;case 10:return Ul(l.type),null;case 22:case 23:return dr(l),Po(),n!==null&&B(Ve),n=l.flags,n&65536?(l.flags=n&-65537|128,l):null;case 24:return Ul(Di),null;case 25:return null;default:return null}}function Zy(n,l){switch(zd(l),l.tag){case 3:Ul(Di),se();break;case 26:case 27:case 5:He(l);break;case 4:se();break;case 13:dr(l);break;case 19:B(Fi);break;case 10:Ul(l.type);break;case 22:case 23:dr(l),Po(),n!==null&&B(Ve);break;case 24:Ul(Di)}}var Z2={getCacheForType:function(n){var l=Bs(Di),o=l.data.get(n);return o===void 0&&(o=n(),l.data.set(n,o)),o}},eB=typeof WeakMap=="function"?WeakMap:Map,yi=0,ii=null,_a=null,Ia=0,si=0,Cn=null,Tl=!1,XA=!1,kp=!1,Rl=0,Bi=0,Hc=0,tA=0,Ip=0,Vn=0,JA=0,hu=null,Zr=null,Qp=!1,Tp=0,qh=1/0,Kh=null,qc=null,Vh=!1,aA=null,mu=0,Rp=0,Pp=null,fu=0,Hp=null;function Sn(){if(yi&2&&Ia!==0)return Ia&-Ia;if(D.T!==null){var n=le;return n!==0?n:Yp()}return G()}function eb(){Vn===0&&(Vn=!(Ia&536870912)||ka?yt():536870912);var n=tn.current;return n!==null&&(n.flags|=32),Vn}function Ks(n,l,o){(n===ii&&si===2||n.cancelPendingCommit!==null)&&(ZA(n,0),Pl(n,Ia,Vn,!1)),Ft(n,o),(!(yi&2)||n!==ii)&&(n===ii&&(!(yi&2)&&(tA|=o),Bi===4&&Pl(n,Ia,Vn,!1)),el(n))}function tb(n,l,o){if(yi&6)throw Error(i(327));var m=!o&&(l&60)===0&&(l&n.expiredLanes)===0||Xe(n,l),w=m?iB(n,l):zp(n,l,!0),E=m;do{if(w===0){XA&&!m&&Pl(n,l,0,!1);break}else if(w===6)Pl(n,l,0,!Tl);else{if(o=n.current.alternate,E&&!tB(o)){w=zp(n,l,!1),E=!1;continue}if(w===2){if(E=l,n.errorRecoveryDisabledLanes&E)var xe=0;else xe=n.pendingLanes&-536870913,xe=xe!==0?xe:xe&536870912?536870912:0;if(xe!==0){l=xe;e:{var Te=n;w=hu;var Je=Te.current.memoizedState.isDehydrated;if(Je&&(ZA(Te,xe).flags|=256),xe=zp(Te,xe,!1),xe!==2){if(kp&&!Je){Te.errorRecoveryDisabledLanes|=E,tA|=E,w=4;break e}E=Zr,Zr=w,E!==null&&qp(E)}w=xe}if(E=!1,w!==2)continue}}if(w===1){ZA(n,0),Pl(n,l,0,!0);break}e:{switch(m=n,w){case 0:case 1:throw Error(i(345));case 4:if((l&4194176)===l){Pl(m,l,Vn,!Tl);break e}break;case 2:Zr=null;break;case 3:case 5:break;default:throw Error(i(329))}if(m.finishedWork=o,m.finishedLanes=l,(l&62914560)===l&&(E=Tp+300-Mt(),10<E)){if(Pl(m,l,Vn,!Tl),ze(m,0)!==0)break e;m.timeoutHandle=Bb(ab.bind(null,m,o,Zr,Kh,Qp,l,Vn,tA,JA,Tl,2,-0,0),E);break e}ab(m,o,Zr,Kh,Qp,l,Vn,tA,JA,Tl,0,-0,0)}}break}while(!0);el(n)}function qp(n){Zr===null?Zr=n:Zr.push.apply(Zr,n)}function ab(n,l,o,m,w,E,xe,Te,Je,At,Et,Rt,Nt){var _t=l.subtreeFlags;if((_t&8192||(_t&16785408)===16785408)&&(bu={stylesheets:null,count:0,unsuspend:kB},zy(l),l=QB(),l!==null)){n.cancelPendingCommit=l(ob.bind(null,n,o,m,w,xe,Te,Je,1,Rt,Nt)),Pl(n,E,xe,!At);return}ob(n,o,m,w,xe,Te,Je,Et,Rt,Nt)}function tB(n){for(var l=n;;){var o=l.tag;if((o===0||o===11||o===15)&&l.flags&16384&&(o=l.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var m=0;m<o.length;m++){var w=o[m],E=w.getSnapshot;w=w.value;try{if(!Pi(E(),w))return!1}catch{return!1}}if(o=l.child,l.subtreeFlags&16384&&o!==null)o.return=l,l=o;else{if(l===n)break;for(;l.sibling===null;){if(l.return===null||l.return===n)return!0;l=l.return}l.sibling.return=l.return,l=l.sibling}}return!0}function Pl(n,l,o,m){l&=~Ip,l&=~tA,n.suspendedLanes|=l,n.pingedLanes&=~l,m&&(n.warmLanes|=l),m=n.expirationTimes;for(var w=l;0<w;){var E=31-It(w),xe=1<<E;m[E]=-1,w&=~xe}o!==0&&Ue(n,o,l)}function zh(){return yi&6?!0:(pu(0),!1)}function Kp(){if(_a!==null){if(si===0)var n=_a.return;else n=_a,Ml=Xo=null,mi(n),Bl=null,en=0,n=_a;for(;n!==null;)Zy(n.alternate,n),n=n.return;_a=null}}function ZA(n,l){n.finishedWork=null,n.finishedLanes=0;var o=n.timeoutHandle;o!==-1&&(n.timeoutHandle=-1,yB(o)),o=n.cancelPendingCommit,o!==null&&(n.cancelPendingCommit=null,o()),Kp(),ii=n,_a=o=Pc(n.current,null),Ia=l,si=0,Cn=null,Tl=!1,XA=Xe(n,l),kp=!1,JA=Vn=Ip=tA=Hc=Bi=0,Zr=hu=null,Qp=!1,l&8&&(l|=l&32);var m=n.entangledLanes;if(m!==0)for(n=n.entanglements,m&=l;0<m;){var w=31-It(m),E=1<<w;l|=n[w],m&=~E}return Rl=l,hi(),o}function ib(n,l){bt=null,D.H=wn,l===Qo?(l=wh(),si=3):l===yh?(l=wh(),si=4):si=l===py?8:l!==null&&typeof l=="object"&&typeof l.then=="function"?6:1,Cn=l,_a===null&&(Bi=1,Mc(n,oi(l,n.current)))}function sb(){var n=D.H;return D.H=wn,n===null?wn:n}function nb(){var n=D.A;return D.A=Z2,n}function Vp(){Bi=4,Tl||(Ia&4194176)!==Ia&&tn.current!==null||(XA=!0),!(Hc&134217727)&&!(tA&134217727)||ii===null||Pl(ii,Ia,Vn,!1)}function zp(n,l,o){var m=yi;yi|=2;var w=sb(),E=nb();(ii!==n||Ia!==l)&&(Kh=null,ZA(n,l)),l=!1;var xe=Bi;e:do try{if(si!==0&&_a!==null){var Te=_a,Je=Cn;switch(si){case 8:Kp(),xe=6;break e;case 3:case 2:case 6:tn.current===null&&(l=!0);var At=si;if(si=0,Cn=null,ed(n,Te,Je,At),o&&XA){xe=0;break e}break;default:At=si,si=0,Cn=null,ed(n,Te,Je,At)}}aB(),xe=Bi;break}catch(Et){ib(n,Et)}while(!0);return l&&n.shellSuspendCounter++,Ml=Xo=null,yi=m,D.H=w,D.A=E,_a===null&&(ii=null,Ia=0,hi()),xe}function aB(){for(;_a!==null;)rb(_a)}function iB(n,l){var o=yi;yi|=2;var m=sb(),w=nb();ii!==n||Ia!==l?(Kh=null,qh=Mt()+500,ZA(n,l)):XA=Xe(n,l);e:do try{if(si!==0&&_a!==null){l=_a;var E=Cn;t:switch(si){case 1:si=0,Cn=null,ed(n,l,E,1);break;case 2:if(bh(E)){si=0,Cn=null,lb(l);break}l=function(){si===2&&ii===n&&(si=7),el(n)},E.then(l,l);break e;case 3:si=7;break e;case 4:si=5;break e;case 7:bh(E)?(si=0,Cn=null,lb(l)):(si=0,Cn=null,ed(n,l,E,7));break;case 5:var xe=null;switch(_a.tag){case 26:xe=_a.memoizedState;case 5:case 27:var Te=_a;if(!xe||kb(xe)){si=0,Cn=null;var Je=Te.sibling;if(Je!==null)_a=Je;else{var At=Te.return;At!==null?(_a=At,$h(At)):_a=null}break t}}si=0,Cn=null,ed(n,l,E,5);break;case 6:si=0,Cn=null,ed(n,l,E,6);break;case 8:Kp(),Bi=6;break e;default:throw Error(i(462))}}sB();break}catch(Et){ib(n,Et)}while(!0);return Ml=Xo=null,D.H=m,D.A=w,yi=o,_a!==null?0:(ii=null,Ia=0,hi(),Bi)}function sB(){for(;_a!==null&&!st();)rb(_a)}function rb(n){var l=_y(n.alternate,n,Rl);n.memoizedProps=n.pendingProps,l===null?$h(n):_a=l}function lb(n){var l=n,o=l.alternate;switch(l.tag){case 15:case 0:l=wy(o,l,l.pendingProps,l.type,void 0,Ia);break;case 11:l=wy(o,l,l.pendingProps,l.type.render,l.ref,Ia);break;case 5:mi(l);default:Zy(o,l),l=_a=Yy(l,Rl),l=_y(o,l,Rl)}n.memoizedProps=n.pendingProps,l===null?$h(n):_a=l}function ed(n,l,o,m){Ml=Xo=null,mi(l),Bl=null,en=0;var w=l.return;try{if(z2(n,w,l,o,Ia)){Bi=1,Mc(n,oi(o,n.current)),_a=null;return}}catch(E){if(w!==null)throw _a=w,E;Bi=1,Mc(n,oi(o,n.current)),_a=null;return}l.flags&32768?(ka||m===1?n=!0:XA||Ia&536870912?n=!1:(Tl=n=!0,(m===2||m===3||m===6)&&(m=tn.current,m!==null&&m.tag===13&&(m.flags|=16384))),cb(l,n)):$h(l)}function $h(n){var l=n;do{if(l.flags&32768){cb(l,Tl);return}n=l.return;var o=X2(l.alternate,l,Rl);if(o!==null){_a=o;return}if(l=l.sibling,l!==null){_a=l;return}_a=l=n}while(l!==null);Bi===0&&(Bi=5)}function cb(n,l){do{var o=J2(n.alternate,n);if(o!==null){o.flags&=32767,_a=o;return}if(o=n.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!l&&(n=n.sibling,n!==null)){_a=n;return}_a=n=o}while(n!==null);Bi=6,_a=null}function ob(n,l,o,m,w,E,xe,Te,Je,At){var Et=D.T,Rt=T.p;try{T.p=2,D.T=null,nB(n,l,o,m,Rt,w,E,xe,Te,Je,At)}finally{D.T=Et,T.p=Rt}}function nB(n,l,o,m,w,E,xe,Te){do td();while(aA!==null);if(yi&6)throw Error(i(327));var Je=n.finishedWork;if(m=n.finishedLanes,Je===null)return null;if(n.finishedWork=null,n.finishedLanes=0,Je===n.current)throw Error(i(177));n.callbackNode=null,n.callbackPriority=0,n.cancelPendingCommit=null;var At=Je.lanes|Je.childLanes;if(At|=ci,Aa(n,m,At,E,xe,Te),n===ii&&(_a=ii=null,Ia=0),!(Je.subtreeFlags&10256)&&!(Je.flags&10256)||Vh||(Vh=!0,Rp=At,Pp=o,oB(Le,function(){return td(),null})),o=(Je.flags&15990)!==0,Je.subtreeFlags&15990||o?(o=D.T,D.T=null,E=T.p,T.p=2,xe=yi,yi|=4,G2(n,Je),qy(Je,n),Rr(sg,n.containerInfo),nm=!!ig,sg=ig=null,n.current=Je,Ty(n,Je.alternate,Je),kt(),yi=xe,T.p=E,D.T=o):n.current=Je,Vh?(Vh=!1,aA=n,mu=m):Ab(n,At),At=n.pendingLanes,At===0&&(qc=null),jt(Je.stateNode),el(n),l!==null)for(w=n.onRecoverableError,Je=0;Je<l.length;Je++)At=l[Je],w(At.value,{componentStack:At.stack});return mu&3&&td(),At=n.pendingLanes,m&4194218&&At&42?n===Hp?fu++:(fu=0,Hp=n):fu=0,pu(0),null}function Ab(n,l){(n.pooledCacheLanes&=l)===0&&(l=n.pooledCache,l!=null&&(n.pooledCache=null,g(l)))}function td(){if(aA!==null){var n=aA,l=Rp;Rp=0;var o=R(mu),m=D.T,w=T.p;try{if(T.p=32>o?32:o,D.T=null,aA===null)var E=!1;else{o=Pp,Pp=null;var xe=aA,Te=mu;if(aA=null,mu=0,yi&6)throw Error(i(331));var Je=yi;if(yi|=4,Gy(xe.current),Vy(xe,xe.current,Te,o),yi=Je,pu(0,!1),ot&&typeof ot.onPostCommitFiberRoot=="function")try{ot.onPostCommitFiberRoot(nt,xe)}catch{}E=!0}return E}finally{T.p=w,D.T=m,Ab(n,l)}}return!1}function db(n,l,o){l=oi(o,l),l=Ap(n.stateNode,l,2),n=Ic(n,l,2),n!==null&&(Ft(n,2),el(n))}function Ja(n,l,o){if(n.tag===3)db(n,n,o);else for(;l!==null;){if(l.tag===3){db(l,n,o);break}else if(l.tag===1){var m=l.stateNode;if(typeof l.type.getDerivedStateFromError=="function"||typeof m.componentDidCatch=="function"&&(qc===null||!qc.has(m))){n=oi(o,n),o=my(2),m=Ic(l,o,2),m!==null&&(fy(o,m,l,n),Ft(m,2),el(m));break}}l=l.return}}function $p(n,l,o){var m=n.pingCache;if(m===null){m=n.pingCache=new eB;var w=new Set;m.set(l,w)}else w=m.get(l),w===void 0&&(w=new Set,m.set(l,w));w.has(o)||(kp=!0,w.add(o),n=rB.bind(null,n,l,o),l.then(n,n))}function rB(n,l,o){var m=n.pingCache;m!==null&&m.delete(l),n.pingedLanes|=n.suspendedLanes&o,n.warmLanes&=~o,ii===n&&(Ia&o)===o&&(Bi===4||Bi===3&&(Ia&62914560)===Ia&&300>Mt()-Tp?!(yi&2)&&ZA(n,0):Ip|=o,JA===Ia&&(JA=0)),el(n)}function ub(n,l){l===0&&(l=Qt()),n=Hs(n,l),n!==null&&(Ft(n,l),el(n))}function lB(n){var l=n.memoizedState,o=0;l!==null&&(o=l.retryLane),ub(n,o)}function cB(n,l){var o=0;switch(n.tag){case 13:var m=n.stateNode,w=n.memoizedState;w!==null&&(o=w.retryLane);break;case 19:m=n.stateNode;break;case 22:m=n.stateNode._retryCache;break;default:throw Error(i(314))}m!==null&&m.delete(l),ub(n,o)}function oB(n,l){return qe(n,l)}var Gh=null,ad=null,Gp=!1,Wh=!1,Wp=!1,iA=0;function el(n){n!==ad&&n.next===null&&(ad===null?Gh=ad=n:ad=ad.next=n),Wh=!0,Gp||(Gp=!0,dB(AB))}function pu(n,l){if(!Wp&&Wh){Wp=!0;do for(var o=!1,m=Gh;m!==null;){if(n!==0){var w=m.pendingLanes;if(w===0)var E=0;else{var xe=m.suspendedLanes,Te=m.pingedLanes;E=(1<<31-It(42|n)+1)-1,E&=w&~(xe&~Te),E=E&201326677?E&201326677|1:E?E|2:0}E!==0&&(o=!0,fb(m,E))}else E=Ia,E=ze(m,m===ii?E:0),!(E&3)||Xe(m,E)||(o=!0,fb(m,E));m=m.next}while(o);Wp=!1}}function AB(){Wh=Gp=!1;var n=0;iA!==0&&(xB()&&(n=iA),iA=0);for(var l=Mt(),o=null,m=Gh;m!==null;){var w=m.next,E=hb(m,l);E===0?(m.next=null,o===null?Gh=w:o.next=w,w===null&&(ad=o)):(o=m,(n!==0||E&3)&&(Wh=!0)),m=w}pu(n)}function hb(n,l){for(var o=n.suspendedLanes,m=n.pingedLanes,w=n.expirationTimes,E=n.pendingLanes&-62914561;0<E;){var xe=31-It(E),Te=1<<xe,Je=w[xe];Je===-1?(!(Te&o)||Te&m)&&(w[xe]=wt(Te,l)):Je<=l&&(n.expiredLanes|=Te),E&=~Te}if(l=ii,o=Ia,o=ze(n,n===l?o:0),m=n.callbackNode,o===0||n===l&&si===2||n.cancelPendingCommit!==null)return m!==null&&m!==null&&Ye(m),n.callbackNode=null,n.callbackPriority=0;if(!(o&3)||Xe(n,o)){if(l=o&-o,l===n.callbackPriority)return l;switch(m!==null&&Ye(m),R(o)){case 2:case 8:o=Ae;break;case 32:o=Le;break;case 268435456:o=Me;break;default:o=Le}return m=mb.bind(null,n),o=qe(o,m),n.callbackPriority=l,n.callbackNode=o,l}return m!==null&&m!==null&&Ye(m),n.callbackPriority=2,n.callbackNode=null,2}function mb(n,l){var o=n.callbackNode;if(td()&&n.callbackNode!==o)return null;var m=Ia;return m=ze(n,n===ii?m:0),m===0?null:(tb(n,m,l),hb(n,Mt()),n.callbackNode!=null&&n.callbackNode===o?mb.bind(null,n):null)}function fb(n,l){if(td())return null;tb(n,l,!0)}function dB(n){bB(function(){yi&6?qe($e,n):n()})}function Yp(){return iA===0&&(iA=yt()),iA}function pb(n){return n==null||typeof n=="symbol"||typeof n=="boolean"?null:typeof n=="function"?n:ml(""+n)}function gb(n,l){var o=l.ownerDocument.createElement("input");return o.name=l.name,o.value=l.value,n.id&&o.setAttribute("form",n.id),l.parentNode.insertBefore(o,l),n=new FormData(n),o.parentNode.removeChild(o),n}function uB(n,l,o,m,w){if(l==="submit"&&o&&o.stateNode===w){var E=pb((w[$]||null).action),xe=m.submitter;xe&&(l=(l=xe[$]||null)?pb(l.formAction):xe.getAttribute("formAction"),l!==null&&(E=l,xe=null));var Te=new Lr("action","action",null,m,w);n.push({event:Te,listeners:[{instance:null,listener:function(){if(m.defaultPrevented){if(iA!==0){var Je=xe?gb(w,xe):new FormData(w);qA(o,{pending:!0,data:Je,method:w.method,action:E},null,Je)}}else typeof E=="function"&&(Te.preventDefault(),Je=xe?gb(w,xe):new FormData(w),qA(o,{pending:!0,data:Je,method:w.method,action:E},E,Je))},currentTarget:w}]})}}for(var Xp=0;Xp<Ps.length;Xp++){var Jp=Ps[Xp],hB=Jp.toLowerCase(),mB=Jp[0].toUpperCase()+Jp.slice(1);ui(hB,"on"+mB)}ui(qr,"onAnimationEnd"),ui(Kr,"onAnimationIteration"),ui(nr,"onAnimationStart"),ui("dblclick","onDoubleClick"),ui("focusin","onFocus"),ui("focusout","onBlur"),ui(bl,"onTransitionRun"),ui(wc,"onTransitionStart"),ui(wl,"onTransitionCancel"),ui(rr,"onTransitionEnd"),ra("onMouseEnter",["mouseout","mouseover"]),ra("onMouseLeave",["mouseout","mouseover"]),ra("onPointerEnter",["pointerout","pointerover"]),ra("onPointerLeave",["pointerout","pointerover"]),Yi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Yi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Yi("onBeforeInput",["compositionend","keypress","textInput","paste"]),Yi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Yi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Yi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var gu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),fB=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(gu));function vb(n,l){l=(l&4)!==0;for(var o=0;o<n.length;o++){var m=n[o],w=m.event;m=m.listeners;e:{var E=void 0;if(l)for(var xe=m.length-1;0<=xe;xe--){var Te=m[xe],Je=Te.instance,At=Te.currentTarget;if(Te=Te.listener,Je!==E&&w.isPropagationStopped())break e;E=Te,w.currentTarget=At;try{E(w)}catch(Et){Lc(Et)}w.currentTarget=null,E=Je}else for(xe=0;xe<m.length;xe++){if(Te=m[xe],Je=Te.instance,At=Te.currentTarget,Te=Te.listener,Je!==E&&w.isPropagationStopped())break e;E=Te,w.currentTarget=At;try{E(w)}catch(Et){Lc(Et)}w.currentTarget=null,E=Je}}}}function Ua(n,l){var o=l[Pe];o===void 0&&(o=l[Pe]=new Set);var m=n+"__bubble";o.has(m)||(xb(l,n,2,!1),o.add(m))}function Zp(n,l,o){var m=0;l&&(m|=4),xb(o,n,m,l)}var Yh="_reactListening"+Math.random().toString(36).slice(2);function eg(n){if(!n[Yh]){n[Yh]=!0,Ln.forEach(function(o){o!=="selectionchange"&&(fB.has(o)||Zp(o,!1,n),Zp(o,!0,n))});var l=n.nodeType===9?n:n.ownerDocument;l===null||l[Yh]||(l[Yh]=!0,Zp("selectionchange",!1,l))}}function xb(n,l,o,m){switch(Hb(l)){case 2:var w=PB;break;case 8:w=HB;break;default:w=hg}o=w.bind(null,l,o,n),w=void 0,!cc||l!=="touchstart"&&l!=="touchmove"&&l!=="wheel"||(w=!0),m?w!==void 0?n.addEventListener(l,o,{capture:!0,passive:w}):n.addEventListener(l,o,!0):w!==void 0?n.addEventListener(l,o,{passive:w}):n.addEventListener(l,o,!1)}function tg(n,l,o,m,w){var E=m;if(!(l&1)&&!(l&2)&&m!==null)e:for(;;){if(m===null)return;var xe=m.tag;if(xe===3||xe===4){var Te=m.stateNode.containerInfo;if(Te===w||Te.nodeType===8&&Te.parentNode===w)break;if(xe===4)for(xe=m.return;xe!==null;){var Je=xe.tag;if((Je===3||Je===4)&&(Je=xe.stateNode.containerInfo,Je===w||Je.nodeType===8&&Je.parentNode===w))return;xe=xe.return}for(;Te!==null;){if(xe=Ra(Te),xe===null)return;if(Je=xe.tag,Je===5||Je===6||Je===26||Je===27){m=E=xe;continue e}Te=Te.parentNode}}m=m.return}dn(function(){var At=E,Et=No(o),Rt=[];e:{var Nt=Nc.get(n);if(Nt!==void 0){var _t=Lr,ia=n;switch(n){case"keypress":if(Er(o)===0)break e;case"keydown":case"keyup":_t=pc;break;case"focusin":ia="focus",_t=fl;break;case"focusout":ia="blur",_t=fl;break;case"beforeblur":case"afterblur":_t=fl;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":_t=In;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":_t=Ur;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":_t=Fo;break;case qr:case Kr:case nr:_t=Pd;break;case rr:_t=Ce;break;case"scroll":case"scrollend":_t=FA;break;case"wheel":_t=tt;break;case"copy":case"cut":case"paste":_t=Hd;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":_t=gc;break;case"toggle":case"beforetoggle":_t=St}var va=(l&4)!==0,Ci=!va&&(n==="scroll"||n==="scrollend"),mt=va?Nt!==null?Nt+"Capture":null:Nt;va=[];for(var lt=At,xt;lt!==null;){var Ot=lt;if(xt=Ot.stateNode,Ot=Ot.tag,Ot!==5&&Ot!==26&&Ot!==27||xt===null||mt===null||(Ot=Dr(lt,mt),Ot!=null&&va.push(vu(lt,Ot,xt))),Ci)break;lt=lt.return}0<va.length&&(Nt=new _t(Nt,ia,null,o,Et),Rt.push({event:Nt,listeners:va}))}}if(!(l&7)){e:{if(Nt=n==="mouseover"||n==="pointerover",_t=n==="mouseout"||n==="pointerout",Nt&&o!==Ti&&(ia=o.relatedTarget||o.fromElement)&&(Ra(ia)||ia[ve]))break e;if((_t||Nt)&&(Nt=Et.window===Et?Et:(Nt=Et.ownerDocument)?Nt.defaultView||Nt.parentWindow:window,_t?(ia=o.relatedTarget||o.toElement,_t=At,ia=ia?Ra(ia):null,ia!==null&&(Ci=ce(ia),va=ia.tag,ia!==Ci||va!==5&&va!==27&&va!==6)&&(ia=null)):(_t=null,ia=At),_t!==ia)){if(va=In,Ot="onMouseLeave",mt="onMouseEnter",lt="mouse",(n==="pointerout"||n==="pointerover")&&(va=gc,Ot="onPointerLeave",mt="onPointerEnter",lt="pointer"),Ci=_t==null?Nt:Qi(_t),xt=ia==null?Nt:Qi(ia),Nt=new va(Ot,lt+"leave",_t,o,Et),Nt.target=Ci,Nt.relatedTarget=xt,Ot=null,Ra(Et)===At&&(va=new va(mt,lt+"enter",ia,o,Et),va.target=xt,va.relatedTarget=Ci,Ot=va),Ci=Ot,_t&&ia)t:{for(va=_t,mt=ia,lt=0,xt=va;xt;xt=id(xt))lt++;for(xt=0,Ot=mt;Ot;Ot=id(Ot))xt++;for(;0<lt-xt;)va=id(va),lt--;for(;0<xt-lt;)mt=id(mt),xt--;for(;lt--;){if(va===mt||mt!==null&&va===mt.alternate)break t;va=id(va),mt=id(mt)}va=null}else va=null;_t!==null&&yb(Rt,Nt,_t,va,!1),ia!==null&&Ci!==null&&yb(Rt,Ci,ia,va,!0)}}e:{if(Nt=At?Qi(At):window,_t=Nt.nodeName&&Nt.nodeName.toLowerCase(),_t==="select"||_t==="input"&&Nt.type==="file")var Wt=xc;else if(mn(Nt))if(vl)Wt=EA;else{Wt=Kd;var Ca=ys}else _t=Nt.nodeName,!_t||_t.toLowerCase()!=="input"||Nt.type!=="checkbox"&&Nt.type!=="radio"?At&&An(At.elementType)&&(Wt=xc):Wt=Eo;if(Wt&&(Wt=Wt(n,At))){Do(Rt,Wt,o,Et);break e}Ca&&Ca(n,Nt,At),n==="focusout"&&At&&Nt.type==="number"&&At.memoizedProps.value!=null&&nc(Nt,"number",Nt.value)}switch(Ca=At?Qi(At):window,n){case"focusin":(mn(Ca)||Ca.contentEditable==="true")&&(bs=Ca,Pr=At,Rs=null);break;case"focusout":Rs=Pr=bs=null;break;case"mousedown":li=!0;break;case"contextmenu":case"mouseup":case"dragend":li=!1,bc(Rt,o,Et);break;case"selectionchange":if(sr)break;case"keydown":case"keyup":bc(Rt,o,Et)}var la;if(zt)e:{switch(n){case"compositionstart":var ua="onCompositionStart";break e;case"compositionend":ua="onCompositionEnd";break e;case"compositionupdate":ua="onCompositionUpdate";break e}ua=void 0}else gi?ri(n,o)&&(ua="onCompositionEnd"):n==="keydown"&&o.keyCode===229&&(ua="onCompositionStart");ua&&(fa&&o.locale!=="ko"&&(gi||ua!=="onCompositionStart"?ua==="onCompositionEnd"&&gi&&(la=_A()):(Ys=Et,Bo="value"in Ys?Ys.value:Ys.textContent,gi=!0)),Ca=Xh(At,ua),0<Ca.length&&(ua=new hc(ua,n,null,o,Et),Rt.push({event:ua,listeners:Ca}),la?ua.data=la:(la=pi(o),la!==null&&(ua.data=la)))),(la=ga?Ri(n,o):hn(n,o))&&(ua=Xh(At,"onBeforeInput"),0<ua.length&&(Ca=new hc("onBeforeInput","beforeinput",null,o,Et),Rt.push({event:Ca,listeners:ua}),Ca.data=la)),uB(Rt,n,At,o,Et)}vb(Rt,l)})}function vu(n,l,o){return{instance:n,listener:l,currentTarget:o}}function Xh(n,l){for(var o=l+"Capture",m=[];n!==null;){var w=n,E=w.stateNode;w=w.tag,w!==5&&w!==26&&w!==27||E===null||(w=Dr(n,o),w!=null&&m.unshift(vu(n,w,E)),w=Dr(n,l),w!=null&&m.push(vu(n,w,E))),n=n.return}return m}function id(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5&&n.tag!==27);return n||null}function yb(n,l,o,m,w){for(var E=l._reactName,xe=[];o!==null&&o!==m;){var Te=o,Je=Te.alternate,At=Te.stateNode;if(Te=Te.tag,Je!==null&&Je===m)break;Te!==5&&Te!==26&&Te!==27||At===null||(Je=At,w?(At=Dr(o,E),At!=null&&xe.unshift(vu(o,At,Je))):w||(At=Dr(o,E),At!=null&&xe.push(vu(o,At,Je)))),o=o.return}xe.length!==0&&n.push({event:l,listeners:xe})}var pB=/\r\n?/g,gB=/\u0000|\uFFFD/g;function bb(n){return(typeof n=="string"?n:""+n).replace(pB,`
`).replace(gB,"")}function wb(n,l){return l=bb(l),bb(n)===l}function Jh(){}function Ya(n,l,o,m,w,E){switch(o){case"children":typeof m=="string"?l==="body"||l==="textarea"&&m===""||Mn(n,m):(typeof m=="number"||typeof m=="bigint")&&l!=="body"&&Mn(n,""+m);break;case"className":ei(n,"class",m);break;case"tabIndex":ei(n,"tabindex",m);break;case"dir":case"role":case"viewBox":case"width":case"height":ei(n,o,m);break;case"style":CA(n,m,E);break;case"data":if(l!=="object"){ei(n,"data",m);break}case"src":case"href":if(m===""&&(l!=="a"||o!=="href")){n.removeAttribute(o);break}if(m==null||typeof m=="function"||typeof m=="symbol"||typeof m=="boolean"){n.removeAttribute(o);break}m=ml(""+m),n.setAttribute(o,m);break;case"action":case"formAction":if(typeof m=="function"){n.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof E=="function"&&(o==="formAction"?(l!=="input"&&Ya(n,l,"name",w.name,w,null),Ya(n,l,"formEncType",w.formEncType,w,null),Ya(n,l,"formMethod",w.formMethod,w,null),Ya(n,l,"formTarget",w.formTarget,w,null)):(Ya(n,l,"encType",w.encType,w,null),Ya(n,l,"method",w.method,w,null),Ya(n,l,"target",w.target,w,null)));if(m==null||typeof m=="symbol"||typeof m=="boolean"){n.removeAttribute(o);break}m=ml(""+m),n.setAttribute(o,m);break;case"onClick":m!=null&&(n.onclick=Jh);break;case"onScroll":m!=null&&Ua("scroll",n);break;case"onScrollEnd":m!=null&&Ua("scrollend",n);break;case"dangerouslySetInnerHTML":if(m!=null){if(typeof m!="object"||!("__html"in m))throw Error(i(61));if(o=m.__html,o!=null){if(w.children!=null)throw Error(i(60));n.innerHTML=o}}break;case"multiple":n.multiple=m&&typeof m!="function"&&typeof m!="symbol";break;case"muted":n.muted=m&&typeof m!="function"&&typeof m!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(m==null||typeof m=="function"||typeof m=="boolean"||typeof m=="symbol"){n.removeAttribute("xlink:href");break}o=ml(""+m),n.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":m!=null&&typeof m!="function"&&typeof m!="symbol"?n.setAttribute(o,""+m):n.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":m&&typeof m!="function"&&typeof m!="symbol"?n.setAttribute(o,""):n.removeAttribute(o);break;case"capture":case"download":m===!0?n.setAttribute(o,""):m!==!1&&m!=null&&typeof m!="function"&&typeof m!="symbol"?n.setAttribute(o,m):n.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":m!=null&&typeof m!="function"&&typeof m!="symbol"&&!isNaN(m)&&1<=m?n.setAttribute(o,m):n.removeAttribute(o);break;case"rowSpan":case"start":m==null||typeof m=="function"||typeof m=="symbol"||isNaN(m)?n.removeAttribute(o):n.setAttribute(o,m);break;case"popover":Ua("beforetoggle",n),Ua("toggle",n),ac(n,"popover",m);break;case"xlinkActuate":Gs(n,"http://www.w3.org/1999/xlink","xlink:actuate",m);break;case"xlinkArcrole":Gs(n,"http://www.w3.org/1999/xlink","xlink:arcrole",m);break;case"xlinkRole":Gs(n,"http://www.w3.org/1999/xlink","xlink:role",m);break;case"xlinkShow":Gs(n,"http://www.w3.org/1999/xlink","xlink:show",m);break;case"xlinkTitle":Gs(n,"http://www.w3.org/1999/xlink","xlink:title",m);break;case"xlinkType":Gs(n,"http://www.w3.org/1999/xlink","xlink:type",m);break;case"xmlBase":Gs(n,"http://www.w3.org/XML/1998/namespace","xml:base",m);break;case"xmlLang":Gs(n,"http://www.w3.org/XML/1998/namespace","xml:lang",m);break;case"xmlSpace":Gs(n,"http://www.w3.org/XML/1998/namespace","xml:space",m);break;case"is":ac(n,"is",m);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=rc.get(o)||o,ac(n,o,m))}}function ag(n,l,o,m,w,E){switch(o){case"style":CA(n,m,E);break;case"dangerouslySetInnerHTML":if(m!=null){if(typeof m!="object"||!("__html"in m))throw Error(i(61));if(o=m.__html,o!=null){if(w.children!=null)throw Error(i(60));n.innerHTML=o}}break;case"children":typeof m=="string"?Mn(n,m):(typeof m=="number"||typeof m=="bigint")&&Mn(n,""+m);break;case"onScroll":m!=null&&Ua("scroll",n);break;case"onScrollEnd":m!=null&&Ua("scrollend",n);break;case"onClick":m!=null&&(n.onclick=Jh);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!ks.hasOwnProperty(o))e:{if(o[0]==="o"&&o[1]==="n"&&(w=o.endsWith("Capture"),l=o.slice(2,w?o.length-7:void 0),E=n[$]||null,E=E!=null?E[o]:null,typeof E=="function"&&n.removeEventListener(l,E,w),typeof m=="function")){typeof E!="function"&&E!==null&&(o in n?n[o]=null:n.hasAttribute(o)&&n.removeAttribute(o)),n.addEventListener(l,m,w);break e}o in n?n[o]=m:m===!0?n.setAttribute(o,""):ac(n,o,m)}}}function ms(n,l,o){switch(l){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ua("error",n),Ua("load",n);var m=!1,w=!1,E;for(E in o)if(o.hasOwnProperty(E)){var xe=o[E];if(xe!=null)switch(E){case"src":m=!0;break;case"srcSet":w=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,l));default:Ya(n,l,E,xe,o,null)}}w&&Ya(n,l,"srcSet",o.srcSet,o,null),m&&Ya(n,l,"src",o.src,o,null);return;case"input":Ua("invalid",n);var Te=E=xe=w=null,Je=null,At=null;for(m in o)if(o.hasOwnProperty(m)){var Et=o[m];if(Et!=null)switch(m){case"name":w=Et;break;case"type":xe=Et;break;case"checked":Je=Et;break;case"defaultChecked":At=Et;break;case"value":E=Et;break;case"defaultValue":Te=Et;break;case"children":case"dangerouslySetInnerHTML":if(Et!=null)throw Error(i(137,l));break;default:Ya(n,l,m,Et,o,null)}}NA(n,E,Te,Je,At,xe,w,!1),ic(n);return;case"select":Ua("invalid",n),m=xe=E=null;for(w in o)if(o.hasOwnProperty(w)&&(Te=o[w],Te!=null))switch(w){case"value":E=Te;break;case"defaultValue":xe=Te;break;case"multiple":m=Te;default:Ya(n,l,w,Te,o,null)}l=E,o=xe,n.multiple=!!m,l!=null?Fr(n,!!m,l,!1):o!=null&&Fr(n,!!m,o,!0);return;case"textarea":Ua("invalid",n),E=w=m=null;for(xe in o)if(o.hasOwnProperty(xe)&&(Te=o[xe],Te!=null))switch(xe){case"value":m=Te;break;case"defaultValue":w=Te;break;case"children":E=Te;break;case"dangerouslySetInnerHTML":if(Te!=null)throw Error(i(91));break;default:Ya(n,l,xe,Te,o,null)}jA(n,m,w,E),ic(n);return;case"option":for(Je in o)if(o.hasOwnProperty(Je)&&(m=o[Je],m!=null))switch(Je){case"selected":n.selected=m&&typeof m!="function"&&typeof m!="symbol";break;default:Ya(n,l,Je,m,o,null)}return;case"dialog":Ua("cancel",n),Ua("close",n);break;case"iframe":case"object":Ua("load",n);break;case"video":case"audio":for(m=0;m<gu.length;m++)Ua(gu[m],n);break;case"image":Ua("error",n),Ua("load",n);break;case"details":Ua("toggle",n);break;case"embed":case"source":case"link":Ua("error",n),Ua("load",n);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(At in o)if(o.hasOwnProperty(At)&&(m=o[At],m!=null))switch(At){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,l));default:Ya(n,l,At,m,o,null)}return;default:if(An(l)){for(Et in o)o.hasOwnProperty(Et)&&(m=o[Et],m!==void 0&&ag(n,l,Et,m,o,void 0));return}}for(Te in o)o.hasOwnProperty(Te)&&(m=o[Te],m!=null&&Ya(n,l,Te,m,o,null))}function vB(n,l,o,m){switch(l){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var w=null,E=null,xe=null,Te=null,Je=null,At=null,Et=null;for(_t in o){var Rt=o[_t];if(o.hasOwnProperty(_t)&&Rt!=null)switch(_t){case"checked":break;case"value":break;case"defaultValue":Je=Rt;default:m.hasOwnProperty(_t)||Ya(n,l,_t,null,m,Rt)}}for(var Nt in m){var _t=m[Nt];if(Rt=o[Nt],m.hasOwnProperty(Nt)&&(_t!=null||Rt!=null))switch(Nt){case"type":E=_t;break;case"name":w=_t;break;case"checked":At=_t;break;case"defaultChecked":Et=_t;break;case"value":xe=_t;break;case"defaultValue":Te=_t;break;case"children":case"dangerouslySetInnerHTML":if(_t!=null)throw Error(i(137,l));break;default:_t!==Rt&&Ya(n,l,Nt,_t,m,Rt)}}sc(n,xe,Te,Je,At,Et,E,w);return;case"select":_t=xe=Te=Nt=null;for(E in o)if(Je=o[E],o.hasOwnProperty(E)&&Je!=null)switch(E){case"value":break;case"multiple":_t=Je;default:m.hasOwnProperty(E)||Ya(n,l,E,null,m,Je)}for(w in m)if(E=m[w],Je=o[w],m.hasOwnProperty(w)&&(E!=null||Je!=null))switch(w){case"value":Nt=E;break;case"defaultValue":Te=E;break;case"multiple":xe=E;default:E!==Je&&Ya(n,l,w,E,m,Je)}l=Te,o=xe,m=_t,Nt!=null?Fr(n,!!o,Nt,!1):!!m!=!!o&&(l!=null?Fr(n,!!o,l,!0):Fr(n,!!o,o?[]:"",!1));return;case"textarea":_t=Nt=null;for(Te in o)if(w=o[Te],o.hasOwnProperty(Te)&&w!=null&&!m.hasOwnProperty(Te))switch(Te){case"value":break;case"children":break;default:Ya(n,l,Te,null,m,w)}for(xe in m)if(w=m[xe],E=o[xe],m.hasOwnProperty(xe)&&(w!=null||E!=null))switch(xe){case"value":Nt=w;break;case"defaultValue":_t=w;break;case"children":break;case"dangerouslySetInnerHTML":if(w!=null)throw Error(i(91));break;default:w!==E&&Ya(n,l,xe,w,m,E)}wo(n,Nt,_t);return;case"option":for(var ia in o)if(Nt=o[ia],o.hasOwnProperty(ia)&&Nt!=null&&!m.hasOwnProperty(ia))switch(ia){case"selected":n.selected=!1;break;default:Ya(n,l,ia,null,m,Nt)}for(Je in m)if(Nt=m[Je],_t=o[Je],m.hasOwnProperty(Je)&&Nt!==_t&&(Nt!=null||_t!=null))switch(Je){case"selected":n.selected=Nt&&typeof Nt!="function"&&typeof Nt!="symbol";break;default:Ya(n,l,Je,Nt,m,_t)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var va in o)Nt=o[va],o.hasOwnProperty(va)&&Nt!=null&&!m.hasOwnProperty(va)&&Ya(n,l,va,null,m,Nt);for(At in m)if(Nt=m[At],_t=o[At],m.hasOwnProperty(At)&&Nt!==_t&&(Nt!=null||_t!=null))switch(At){case"children":case"dangerouslySetInnerHTML":if(Nt!=null)throw Error(i(137,l));break;default:Ya(n,l,At,Nt,m,_t)}return;default:if(An(l)){for(var Ci in o)Nt=o[Ci],o.hasOwnProperty(Ci)&&Nt!==void 0&&!m.hasOwnProperty(Ci)&&ag(n,l,Ci,void 0,m,Nt);for(Et in m)Nt=m[Et],_t=o[Et],!m.hasOwnProperty(Et)||Nt===_t||Nt===void 0&&_t===void 0||ag(n,l,Et,Nt,m,_t);return}}for(var mt in o)Nt=o[mt],o.hasOwnProperty(mt)&&Nt!=null&&!m.hasOwnProperty(mt)&&Ya(n,l,mt,null,m,Nt);for(Rt in m)Nt=m[Rt],_t=o[Rt],!m.hasOwnProperty(Rt)||Nt===_t||Nt==null&&_t==null||Ya(n,l,Rt,Nt,m,_t)}var ig=null,sg=null;function Zh(n){return n.nodeType===9?n:n.ownerDocument}function Nb(n){switch(n){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function jb(n,l){if(n===0)switch(l){case"svg":return 1;case"math":return 2;default:return 0}return n===1&&l==="foreignObject"?0:n}function ng(n,l){return n==="textarea"||n==="noscript"||typeof l.children=="string"||typeof l.children=="number"||typeof l.children=="bigint"||typeof l.dangerouslySetInnerHTML=="object"&&l.dangerouslySetInnerHTML!==null&&l.dangerouslySetInnerHTML.__html!=null}var rg=null;function xB(){var n=window.event;return n&&n.type==="popstate"?n===rg?!1:(rg=n,!0):(rg=null,!1)}var Bb=typeof setTimeout=="function"?setTimeout:void 0,yB=typeof clearTimeout=="function"?clearTimeout:void 0,Cb=typeof Promise=="function"?Promise:void 0,bB=typeof queueMicrotask=="function"?queueMicrotask:typeof Cb<"u"?function(n){return Cb.resolve(null).then(n).catch(wB)}:Bb;function wB(n){setTimeout(function(){throw n})}function lg(n,l){var o=l,m=0;do{var w=o.nextSibling;if(n.removeChild(o),w&&w.nodeType===8)if(o=w.data,o==="/$"){if(m===0){n.removeChild(w),Cu(l);return}m--}else o!=="$"&&o!=="$?"&&o!=="$!"||m++;o=w}while(o);Cu(l)}function cg(n){var l=n.firstChild;for(l&&l.nodeType===10&&(l=l.nextSibling);l;){var o=l;switch(l=l.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":cg(o),ya(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}n.removeChild(o)}}function NB(n,l,o,m){for(;n.nodeType===1;){var w=o;if(n.nodeName.toLowerCase()!==l.toLowerCase()){if(!m&&(n.nodeName!=="INPUT"||n.type!=="hidden"))break}else if(m){if(!n[Kt])switch(l){case"meta":if(!n.hasAttribute("itemprop"))break;return n;case"link":if(E=n.getAttribute("rel"),E==="stylesheet"&&n.hasAttribute("data-precedence"))break;if(E!==w.rel||n.getAttribute("href")!==(w.href==null?null:w.href)||n.getAttribute("crossorigin")!==(w.crossOrigin==null?null:w.crossOrigin)||n.getAttribute("title")!==(w.title==null?null:w.title))break;return n;case"style":if(n.hasAttribute("data-precedence"))break;return n;case"script":if(E=n.getAttribute("src"),(E!==(w.src==null?null:w.src)||n.getAttribute("type")!==(w.type==null?null:w.type)||n.getAttribute("crossorigin")!==(w.crossOrigin==null?null:w.crossOrigin))&&E&&n.hasAttribute("async")&&!n.hasAttribute("itemprop"))break;return n;default:return n}}else if(l==="input"&&n.type==="hidden"){var E=w.name==null?null:""+w.name;if(w.type==="hidden"&&n.getAttribute("name")===E)return n}else return n;if(n=xr(n.nextSibling),n===null)break}return null}function jB(n,l,o){if(l==="")return null;for(;n.nodeType!==3;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!o||(n=xr(n.nextSibling),n===null))return null;return n}function xr(n){for(;n!=null;n=n.nextSibling){var l=n.nodeType;if(l===1||l===3)break;if(l===8){if(l=n.data,l==="$"||l==="$!"||l==="$?"||l==="F!"||l==="F")break;if(l==="/$")return null}}return n}function Sb(n){n=n.previousSibling;for(var l=0;n;){if(n.nodeType===8){var o=n.data;if(o==="$"||o==="$!"||o==="$?"){if(l===0)return n;l--}else o==="/$"&&l++}n=n.previousSibling}return null}function _b(n,l,o){switch(l=Zh(o),n){case"html":if(n=l.documentElement,!n)throw Error(i(452));return n;case"head":if(n=l.head,!n)throw Error(i(453));return n;case"body":if(n=l.body,!n)throw Error(i(454));return n;default:throw Error(i(451))}}var zn=new Map,Fb=new Set;function em(n){return typeof n.getRootNode=="function"?n.getRootNode():n.ownerDocument}var Hl=T.d;T.d={f:BB,r:CB,D:SB,C:_B,L:FB,m:DB,X:LB,S:EB,M:MB};function BB(){var n=Hl.f(),l=zh();return n||l}function CB(n){var l=qa(n);l!==null&&l.tag===5&&l.type==="form"?Yo(l):Hl.r(n)}var sd=typeof document>"u"?null:document;function Db(n,l,o){var m=sd;if(m&&typeof l=="string"&&l){var w=Ji(l);w='link[rel="'+n+'"][href="'+w+'"]',typeof o=="string"&&(w+='[crossorigin="'+o+'"]'),Fb.has(w)||(Fb.add(w),n={rel:n,crossOrigin:o,href:l},m.querySelector(w)===null&&(l=m.createElement("link"),ms(l,"link",n),Ga(l),m.head.appendChild(l)))}}function SB(n){Hl.D(n),Db("dns-prefetch",n,null)}function _B(n,l){Hl.C(n,l),Db("preconnect",n,l)}function FB(n,l,o){Hl.L(n,l,o);var m=sd;if(m&&n&&l){var w='link[rel="preload"][as="'+Ji(l)+'"]';l==="image"&&o&&o.imageSrcSet?(w+='[imagesrcset="'+Ji(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(w+='[imagesizes="'+Ji(o.imageSizes)+'"]')):w+='[href="'+Ji(n)+'"]';var E=w;switch(l){case"style":E=nd(n);break;case"script":E=rd(n)}zn.has(E)||(n=ge({rel:"preload",href:l==="image"&&o&&o.imageSrcSet?void 0:n,as:l},o),zn.set(E,n),m.querySelector(w)!==null||l==="style"&&m.querySelector(xu(E))||l==="script"&&m.querySelector(yu(E))||(l=m.createElement("link"),ms(l,"link",n),Ga(l),m.head.appendChild(l)))}}function DB(n,l){Hl.m(n,l);var o=sd;if(o&&n){var m=l&&typeof l.as=="string"?l.as:"script",w='link[rel="modulepreload"][as="'+Ji(m)+'"][href="'+Ji(n)+'"]',E=w;switch(m){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":E=rd(n)}if(!zn.has(E)&&(n=ge({rel:"modulepreload",href:n},l),zn.set(E,n),o.querySelector(w)===null)){switch(m){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(yu(E)))return}m=o.createElement("link"),ms(m,"link",n),Ga(m),o.head.appendChild(m)}}}function EB(n,l,o){Hl.S(n,l,o);var m=sd;if(m&&n){var w=ls(m).hoistableStyles,E=nd(n);l=l||"default";var xe=w.get(E);if(!xe){var Te={loading:0,preload:null};if(xe=m.querySelector(xu(E)))Te.loading=5;else{n=ge({rel:"stylesheet",href:n,"data-precedence":l},o),(o=zn.get(E))&&og(n,o);var Je=xe=m.createElement("link");Ga(Je),ms(Je,"link",n),Je._p=new Promise(function(At,Et){Je.onload=At,Je.onerror=Et}),Je.addEventListener("load",function(){Te.loading|=1}),Je.addEventListener("error",function(){Te.loading|=2}),Te.loading|=4,tm(xe,l,m)}xe={type:"stylesheet",instance:xe,count:1,state:Te},w.set(E,xe)}}}function LB(n,l){Hl.X(n,l);var o=sd;if(o&&n){var m=ls(o).hoistableScripts,w=rd(n),E=m.get(w);E||(E=o.querySelector(yu(w)),E||(n=ge({src:n,async:!0},l),(l=zn.get(w))&&Ag(n,l),E=o.createElement("script"),Ga(E),ms(E,"link",n),o.head.appendChild(E)),E={type:"script",instance:E,count:1,state:null},m.set(w,E))}}function MB(n,l){Hl.M(n,l);var o=sd;if(o&&n){var m=ls(o).hoistableScripts,w=rd(n),E=m.get(w);E||(E=o.querySelector(yu(w)),E||(n=ge({src:n,async:!0,type:"module"},l),(l=zn.get(w))&&Ag(n,l),E=o.createElement("script"),Ga(E),ms(E,"link",n),o.head.appendChild(E)),E={type:"script",instance:E,count:1,state:null},m.set(w,E))}}function Eb(n,l,o,m){var w=(w=W.current)?em(w):null;if(!w)throw Error(i(446));switch(n){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(l=nd(o.href),o=ls(w).hoistableStyles,m=o.get(l),m||(m={type:"style",instance:null,count:0,state:null},o.set(l,m)),m):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){n=nd(o.href);var E=ls(w).hoistableStyles,xe=E.get(n);if(xe||(w=w.ownerDocument||w,xe={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},E.set(n,xe),(E=w.querySelector(xu(n)))&&!E._p&&(xe.instance=E,xe.state.loading=5),zn.has(n)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},zn.set(n,o),E||UB(w,n,o,xe.state))),l&&m===null)throw Error(i(528,""));return xe}if(l&&m!==null)throw Error(i(529,""));return null;case"script":return l=o.async,o=o.src,typeof o=="string"&&l&&typeof l!="function"&&typeof l!="symbol"?(l=rd(o),o=ls(w).hoistableScripts,m=o.get(l),m||(m={type:"script",instance:null,count:0,state:null},o.set(l,m)),m):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,n))}}function nd(n){return'href="'+Ji(n)+'"'}function xu(n){return'link[rel="stylesheet"]['+n+"]"}function Lb(n){return ge({},n,{"data-precedence":n.precedence,precedence:null})}function UB(n,l,o,m){n.querySelector('link[rel="preload"][as="style"]['+l+"]")?m.loading=1:(l=n.createElement("link"),m.preload=l,l.addEventListener("load",function(){return m.loading|=1}),l.addEventListener("error",function(){return m.loading|=2}),ms(l,"link",o),Ga(l),n.head.appendChild(l))}function rd(n){return'[src="'+Ji(n)+'"]'}function yu(n){return"script[async]"+n}function Mb(n,l,o){if(l.count++,l.instance===null)switch(l.type){case"style":var m=n.querySelector('style[data-href~="'+Ji(o.href)+'"]');if(m)return l.instance=m,Ga(m),m;var w=ge({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return m=(n.ownerDocument||n).createElement("style"),Ga(m),ms(m,"style",w),tm(m,o.precedence,n),l.instance=m;case"stylesheet":w=nd(o.href);var E=n.querySelector(xu(w));if(E)return l.state.loading|=4,l.instance=E,Ga(E),E;m=Lb(o),(w=zn.get(w))&&og(m,w),E=(n.ownerDocument||n).createElement("link"),Ga(E);var xe=E;return xe._p=new Promise(function(Te,Je){xe.onload=Te,xe.onerror=Je}),ms(E,"link",m),l.state.loading|=4,tm(E,o.precedence,n),l.instance=E;case"script":return E=rd(o.src),(w=n.querySelector(yu(E)))?(l.instance=w,Ga(w),w):(m=o,(w=zn.get(E))&&(m=ge({},o),Ag(m,w)),n=n.ownerDocument||n,w=n.createElement("script"),Ga(w),ms(w,"link",m),n.head.appendChild(w),l.instance=w);case"void":return null;default:throw Error(i(443,l.type))}else l.type==="stylesheet"&&!(l.state.loading&4)&&(m=l.instance,l.state.loading|=4,tm(m,o.precedence,n));return l.instance}function tm(n,l,o){for(var m=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),w=m.length?m[m.length-1]:null,E=w,xe=0;xe<m.length;xe++){var Te=m[xe];if(Te.dataset.precedence===l)E=Te;else if(E!==w)break}E?E.parentNode.insertBefore(n,E.nextSibling):(l=o.nodeType===9?o.head:o,l.insertBefore(n,l.firstChild))}function og(n,l){n.crossOrigin==null&&(n.crossOrigin=l.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=l.referrerPolicy),n.title==null&&(n.title=l.title)}function Ag(n,l){n.crossOrigin==null&&(n.crossOrigin=l.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=l.referrerPolicy),n.integrity==null&&(n.integrity=l.integrity)}var am=null;function Ub(n,l,o){if(am===null){var m=new Map,w=am=new Map;w.set(o,m)}else w=am,m=w.get(o),m||(m=new Map,w.set(o,m));if(m.has(n))return m;for(m.set(n,null),o=o.getElementsByTagName(n),w=0;w<o.length;w++){var E=o[w];if(!(E[Kt]||E[me]||n==="link"&&E.getAttribute("rel")==="stylesheet")&&E.namespaceURI!=="http://www.w3.org/2000/svg"){var xe=E.getAttribute(l)||"";xe=n+xe;var Te=m.get(xe);Te?Te.push(E):m.set(xe,[E])}}return m}function Ob(n,l,o){n=n.ownerDocument||n,n.head.insertBefore(o,l==="title"?n.querySelector("head > title"):null)}function OB(n,l,o){if(o===1||l.itemProp!=null)return!1;switch(n){case"meta":case"title":return!0;case"style":if(typeof l.precedence!="string"||typeof l.href!="string"||l.href==="")break;return!0;case"link":if(typeof l.rel!="string"||typeof l.href!="string"||l.href===""||l.onLoad||l.onError)break;switch(l.rel){case"stylesheet":return n=l.disabled,typeof l.precedence=="string"&&n==null;default:return!0}case"script":if(l.async&&typeof l.async!="function"&&typeof l.async!="symbol"&&!l.onLoad&&!l.onError&&l.src&&typeof l.src=="string")return!0}return!1}function kb(n){return!(n.type==="stylesheet"&&!(n.state.loading&3))}var bu=null;function kB(){}function IB(n,l,o){if(bu===null)throw Error(i(475));var m=bu;if(l.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&!(l.state.loading&4)){if(l.instance===null){var w=nd(o.href),E=n.querySelector(xu(w));if(E){n=E._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(m.count++,m=im.bind(m),n.then(m,m)),l.state.loading|=4,l.instance=E,Ga(E);return}E=n.ownerDocument||n,o=Lb(o),(w=zn.get(w))&&og(o,w),E=E.createElement("link"),Ga(E);var xe=E;xe._p=new Promise(function(Te,Je){xe.onload=Te,xe.onerror=Je}),ms(E,"link",o),l.instance=E}m.stylesheets===null&&(m.stylesheets=new Map),m.stylesheets.set(l,n),(n=l.state.preload)&&!(l.state.loading&3)&&(m.count++,l=im.bind(m),n.addEventListener("load",l),n.addEventListener("error",l))}}function QB(){if(bu===null)throw Error(i(475));var n=bu;return n.stylesheets&&n.count===0&&dg(n,n.stylesheets),0<n.count?function(l){var o=setTimeout(function(){if(n.stylesheets&&dg(n,n.stylesheets),n.unsuspend){var m=n.unsuspend;n.unsuspend=null,m()}},6e4);return n.unsuspend=l,function(){n.unsuspend=null,clearTimeout(o)}}:null}function im(){if(this.count--,this.count===0){if(this.stylesheets)dg(this,this.stylesheets);else if(this.unsuspend){var n=this.unsuspend;this.unsuspend=null,n()}}}var sm=null;function dg(n,l){n.stylesheets=null,n.unsuspend!==null&&(n.count++,sm=new Map,l.forEach(TB,n),sm=null,im.call(n))}function TB(n,l){if(!(l.state.loading&4)){var o=sm.get(n);if(o)var m=o.get(null);else{o=new Map,sm.set(n,o);for(var w=n.querySelectorAll("link[data-precedence],style[data-precedence]"),E=0;E<w.length;E++){var xe=w[E];(xe.nodeName==="LINK"||xe.getAttribute("media")!=="not all")&&(o.set(xe.dataset.precedence,xe),m=xe)}m&&o.set(null,m)}w=l.instance,xe=w.getAttribute("data-precedence"),E=o.get(xe)||m,E===m&&o.set(null,w),o.set(xe,w),this.count++,m=im.bind(this),w.addEventListener("load",m),w.addEventListener("error",m),E?E.parentNode.insertBefore(w,E.nextSibling):(n=n.nodeType===9?n.head:n,n.insertBefore(w,n.firstChild)),l.state.loading|=4}}var wu={$$typeof:p,Provider:null,Consumer:null,_currentValue:ie,_currentValue2:ie,_threadCount:0};function RB(n,l,o,m,w,E,xe,Te){this.tag=1,this.containerInfo=n,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ta(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ta(0),this.hiddenUpdates=ta(null),this.identifierPrefix=m,this.onUncaughtError=w,this.onCaughtError=E,this.onRecoverableError=xe,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=Te,this.incompleteTransitions=new Map}function Ib(n,l,o,m,w,E,xe,Te,Je,At,Et,Rt){return n=new RB(n,l,o,xe,Te,Je,At,Rt),l=1,E===!0&&(l|=24),E=Kn(3,null,null,l),n.current=E,E.stateNode=n,l=IA(),l.refCount++,n.pooledCache=l,l.refCount++,E.memoizedState={element:m,isDehydrated:o,cache:l},Np(E),n}function Qb(n){return n?(n=lr,n):lr}function Tb(n,l,o,m,w,E){w=Qb(w),m.context===null?m.context=w:m.pendingContext=w,m=kc(l),m.payload={element:o},E=E===void 0?null:E,E!==null&&(m.callback=E),o=Ic(n,m,l),o!==null&&(Ks(o,n,l),nu(o,n,l))}function Rb(n,l){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var o=n.retryLane;n.retryLane=o!==0&&o<l?o:l}}function ug(n,l){Rb(n,l),(n=n.alternate)&&Rb(n,l)}function Pb(n){if(n.tag===13){var l=Hs(n,67108864);l!==null&&Ks(l,n,67108864),ug(n,67108864)}}var nm=!0;function PB(n,l,o,m){var w=D.T;D.T=null;var E=T.p;try{T.p=2,hg(n,l,o,m)}finally{T.p=E,D.T=w}}function HB(n,l,o,m){var w=D.T;D.T=null;var E=T.p;try{T.p=8,hg(n,l,o,m)}finally{T.p=E,D.T=w}}function hg(n,l,o,m){if(nm){var w=mg(m);if(w===null)tg(n,l,m,rm,o),qb(n,m);else if(KB(w,n,l,o,m))m.stopPropagation();else if(qb(n,m),l&4&&-1<qB.indexOf(n)){for(;w!==null;){var E=qa(w);if(E!==null)switch(E.tag){case 3:if(E=E.stateNode,E.current.memoizedState.isDehydrated){var xe=we(E.pendingLanes);if(xe!==0){var Te=E;for(Te.pendingLanes|=2,Te.entangledLanes|=2;xe;){var Je=1<<31-It(xe);Te.entanglements[1]|=Je,xe&=~Je}el(E),!(yi&6)&&(qh=Mt()+500,pu(0))}}break;case 13:Te=Hs(E,2),Te!==null&&Ks(Te,E,2),zh(),ug(E,2)}if(E=mg(m),E===null&&tg(n,l,m,rm,o),E===w)break;w=E}w!==null&&m.stopPropagation()}else tg(n,l,m,null,o)}}function mg(n){return n=No(n),fg(n)}var rm=null;function fg(n){if(rm=null,n=Ra(n),n!==null){var l=ce(n);if(l===null)n=null;else{var o=l.tag;if(o===13){if(n=ye(l),n!==null)return n;n=null}else if(o===3){if(l.stateNode.current.memoizedState.isDehydrated)return l.tag===3?l.stateNode.containerInfo:null;n=null}else l!==n&&(n=null)}}return rm=n,null}function Hb(n){switch(n){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ke()){case $e:return 2;case Ae:return 8;case Le:case de:return 32;case Me:return 268435456;default:return 32}default:return 32}}var pg=!1,Kc=null,Vc=null,zc=null,Nu=new Map,ju=new Map,$c=[],qB="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function qb(n,l){switch(n){case"focusin":case"focusout":Kc=null;break;case"dragenter":case"dragleave":Vc=null;break;case"mouseover":case"mouseout":zc=null;break;case"pointerover":case"pointerout":Nu.delete(l.pointerId);break;case"gotpointercapture":case"lostpointercapture":ju.delete(l.pointerId)}}function Bu(n,l,o,m,w,E){return n===null||n.nativeEvent!==E?(n={blockedOn:l,domEventName:o,eventSystemFlags:m,nativeEvent:E,targetContainers:[w]},l!==null&&(l=qa(l),l!==null&&Pb(l)),n):(n.eventSystemFlags|=m,l=n.targetContainers,w!==null&&l.indexOf(w)===-1&&l.push(w),n)}function KB(n,l,o,m,w){switch(l){case"focusin":return Kc=Bu(Kc,n,l,o,m,w),!0;case"dragenter":return Vc=Bu(Vc,n,l,o,m,w),!0;case"mouseover":return zc=Bu(zc,n,l,o,m,w),!0;case"pointerover":var E=w.pointerId;return Nu.set(E,Bu(Nu.get(E)||null,n,l,o,m,w)),!0;case"gotpointercapture":return E=w.pointerId,ju.set(E,Bu(ju.get(E)||null,n,l,o,m,w)),!0}return!1}function Kb(n){var l=Ra(n.target);if(l!==null){var o=ce(l);if(o!==null){if(l=o.tag,l===13){if(l=ye(o),l!==null){n.blockedOn=l,oe(n.priority,function(){if(o.tag===13){var m=Sn(),w=Hs(o,m);w!==null&&Ks(w,o,m),ug(o,m)}});return}}else if(l===3&&o.stateNode.current.memoizedState.isDehydrated){n.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}n.blockedOn=null}function lm(n){if(n.blockedOn!==null)return!1;for(var l=n.targetContainers;0<l.length;){var o=mg(n.nativeEvent);if(o===null){o=n.nativeEvent;var m=new o.constructor(o.type,o);Ti=m,o.target.dispatchEvent(m),Ti=null}else return l=qa(o),l!==null&&Pb(l),n.blockedOn=o,!1;l.shift()}return!0}function Vb(n,l,o){lm(n)&&o.delete(l)}function VB(){pg=!1,Kc!==null&&lm(Kc)&&(Kc=null),Vc!==null&&lm(Vc)&&(Vc=null),zc!==null&&lm(zc)&&(zc=null),Nu.forEach(Vb),ju.forEach(Vb)}function cm(n,l){n.blockedOn===l&&(n.blockedOn=null,pg||(pg=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,VB)))}var om=null;function zb(n){om!==n&&(om=n,a.unstable_scheduleCallback(a.unstable_NormalPriority,function(){om===n&&(om=null);for(var l=0;l<n.length;l+=3){var o=n[l],m=n[l+1],w=n[l+2];if(typeof m!="function"){if(fg(m||o)===null)continue;break}var E=qa(o);E!==null&&(n.splice(l,3),l-=3,qA(E,{pending:!0,data:w,method:o.method,action:m},m,w))}}))}function Cu(n){function l(Je){return cm(Je,n)}Kc!==null&&cm(Kc,n),Vc!==null&&cm(Vc,n),zc!==null&&cm(zc,n),Nu.forEach(l),ju.forEach(l);for(var o=0;o<$c.length;o++){var m=$c[o];m.blockedOn===n&&(m.blockedOn=null)}for(;0<$c.length&&(o=$c[0],o.blockedOn===null);)Kb(o),o.blockedOn===null&&$c.shift();if(o=(n.ownerDocument||n).$$reactFormReplay,o!=null)for(m=0;m<o.length;m+=3){var w=o[m],E=o[m+1],xe=w[$]||null;if(typeof E=="function")xe||zb(o);else if(xe){var Te=null;if(E&&E.hasAttribute("formAction")){if(w=E,xe=E[$]||null)Te=xe.formAction;else if(fg(w)!==null)continue}else Te=xe.action;typeof Te=="function"?o[m+1]=Te:(o.splice(m,3),m-=3),zb(o)}}}function gg(n){this._internalRoot=n}Am.prototype.render=gg.prototype.render=function(n){var l=this._internalRoot;if(l===null)throw Error(i(409));var o=l.current,m=Sn();Tb(o,m,n,l,null,null)},Am.prototype.unmount=gg.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var l=n.containerInfo;n.tag===0&&td(),Tb(n.current,2,null,n,null,null),zh(),l[ve]=null}};function Am(n){this._internalRoot=n}Am.prototype.unstable_scheduleHydration=function(n){if(n){var l=G();n={blockedOn:null,target:n,priority:l};for(var o=0;o<$c.length&&l!==0&&l<$c[o].priority;o++);$c.splice(o,0,n),o===0&&Kb(n)}};var $b=t.version;if($b!=="19.0.0")throw Error(i(527,$b,"19.0.0"));T.findDOMNode=function(n){var l=n._reactInternals;if(l===void 0)throw typeof n.render=="function"?Error(i(188)):(n=Object.keys(n).join(","),Error(i(268,n)));return n=ne(l),n=n!==null?U(n):null,n=n===null?null:n.stateNode,n};var zB={bundleType:0,version:"19.0.0",rendererPackageName:"react-dom",currentDispatcherRef:D,findFiberByHostInstance:Ra,reconcilerVersion:"19.0.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var dm=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!dm.isDisabled&&dm.supportsFiber)try{nt=dm.inject(zB),ot=dm}catch{}}return _u.createRoot=function(n,l){if(!r(n))throw Error(i(299));var o=!1,m="",w=au,E=kh,xe=$A,Te=null;return l!=null&&(l.unstable_strictMode===!0&&(o=!0),l.identifierPrefix!==void 0&&(m=l.identifierPrefix),l.onUncaughtError!==void 0&&(w=l.onUncaughtError),l.onCaughtError!==void 0&&(E=l.onCaughtError),l.onRecoverableError!==void 0&&(xe=l.onRecoverableError),l.unstable_transitionCallbacks!==void 0&&(Te=l.unstable_transitionCallbacks)),l=Ib(n,1,!1,null,null,o,m,w,E,xe,Te,null),n[ve]=l.current,eg(n.nodeType===8?n.parentNode:n),new gg(l)},_u.hydrateRoot=function(n,l,o){if(!r(n))throw Error(i(299));var m=!1,w="",E=au,xe=kh,Te=$A,Je=null,At=null;return o!=null&&(o.unstable_strictMode===!0&&(m=!0),o.identifierPrefix!==void 0&&(w=o.identifierPrefix),o.onUncaughtError!==void 0&&(E=o.onUncaughtError),o.onCaughtError!==void 0&&(xe=o.onCaughtError),o.onRecoverableError!==void 0&&(Te=o.onRecoverableError),o.unstable_transitionCallbacks!==void 0&&(Je=o.unstable_transitionCallbacks),o.formState!==void 0&&(At=o.formState)),l=Ib(n,1,!0,l,o??null,m,w,E,xe,Te,Je,At),l.context=Qb(null),o=l.current,m=Sn(),w=kc(m),w.callback=null,Ic(o,w,m),l.current.lanes=m,Ft(l,m),el(l),n[ve]=l.current,eg(n),new Am(l)},_u.version="19.0.0",_u}var iw;function aC(){if(iw)return yg.exports;iw=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(t){console.error(t)}}return a(),yg.exports=tC(),yg.exports}var iC=aC(),Fu={},sw;function sC(){if(sw)return Fu;sw=1,Object.defineProperty(Fu,"__esModule",{value:!0}),Fu.parse=A,Fu.serialize=u;const a=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,t=/^[\u0021-\u003A\u003C-\u007E]*$/,s=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,i=/^[\u0020-\u003A\u003D-\u007E]*$/,r=Object.prototype.toString,c=(()=>{const y=function(){};return y.prototype=Object.create(null),y})();function A(y,p){const F=new c,b=y.length;if(b<2)return F;const S=(p==null?void 0:p.decode)||v;let f=0;do{const O=y.indexOf("=",f);if(O===-1)break;const M=y.indexOf(";",f),J=M===-1?b:M;if(O>J){f=y.lastIndexOf(";",O-1)+1;continue}const K=d(y,f,O),H=h(y,O,K),k=y.slice(K,H);if(F[k]===void 0){let Y=d(y,O+1,J),D=h(y,J,Y);const ge=S(y.slice(Y,D));F[k]=ge}f=J+1}while(f<b);return F}function d(y,p,F){do{const b=y.charCodeAt(p);if(b!==32&&b!==9)return p}while(++p<F);return F}function h(y,p,F){for(;p>F;){const b=y.charCodeAt(--p);if(b!==32&&b!==9)return p+1}return F}function u(y,p,F){const b=(F==null?void 0:F.encode)||encodeURIComponent;if(!a.test(y))throw new TypeError(`argument name is invalid: ${y}`);const S=b(p);if(!t.test(S))throw new TypeError(`argument val is invalid: ${p}`);let f=y+"="+S;if(!F)return f;if(F.maxAge!==void 0){if(!Number.isInteger(F.maxAge))throw new TypeError(`option maxAge is invalid: ${F.maxAge}`);f+="; Max-Age="+F.maxAge}if(F.domain){if(!s.test(F.domain))throw new TypeError(`option domain is invalid: ${F.domain}`);f+="; Domain="+F.domain}if(F.path){if(!i.test(F.path))throw new TypeError(`option path is invalid: ${F.path}`);f+="; Path="+F.path}if(F.expires){if(!x(F.expires)||!Number.isFinite(F.expires.valueOf()))throw new TypeError(`option expires is invalid: ${F.expires}`);f+="; Expires="+F.expires.toUTCString()}if(F.httpOnly&&(f+="; HttpOnly"),F.secure&&(f+="; Secure"),F.partitioned&&(f+="; Partitioned"),F.priority)switch(typeof F.priority=="string"?F.priority.toLowerCase():void 0){case"low":f+="; Priority=Low";break;case"medium":f+="; Priority=Medium";break;case"high":f+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${F.priority}`)}if(F.sameSite)switch(typeof F.sameSite=="string"?F.sameSite.toLowerCase():F.sameSite){case!0:case"strict":f+="; SameSite=Strict";break;case"lax":f+="; SameSite=Lax";break;case"none":f+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${F.sameSite}`)}return f}function v(y){if(y.indexOf("%")===-1)return y;try{return decodeURIComponent(y)}catch{return y}}function x(y){return r.call(y)==="[object Date]"}return Fu}sC();/**
 * react-router v7.2.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var nw="popstate";function nC(a={}){function t(r,c){let{pathname:A="/",search:d="",hash:h=""}=vA(r.location.hash.substring(1));return!A.startsWith("/")&&!A.startsWith(".")&&(A="/"+A),bv("",{pathname:A,search:d,hash:h},c.state&&c.state.usr||null,c.state&&c.state.key||"default")}function s(r,c){let A=r.document.querySelector("base"),d="";if(A&&A.getAttribute("href")){let h=r.location.href,u=h.indexOf("#");d=u===-1?h:h.slice(0,u)}return d+"#"+(typeof c=="string"?c:th(c))}function i(r,c){jr(r.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(c)})`)}return lC(t,s,i,a)}function wi(a,t){if(a===!1||a===null||typeof a>"u")throw new Error(t)}function jr(a,t){if(!a){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function rC(){return Math.random().toString(36).substring(2,10)}function rw(a,t){return{usr:a.state,key:a.key,idx:t}}function bv(a,t,s=null,i){return{pathname:typeof a=="string"?a:a.pathname,search:"",hash:"",...typeof t=="string"?vA(t):t,state:s,key:t&&t.key||i||rC()}}function th({pathname:a="/",search:t="",hash:s=""}){return t&&t!=="?"&&(a+=t.charAt(0)==="?"?t:"?"+t),s&&s!=="#"&&(a+=s.charAt(0)==="#"?s:"#"+s),a}function vA(a){let t={};if(a){let s=a.indexOf("#");s>=0&&(t.hash=a.substring(s),a=a.substring(0,s));let i=a.indexOf("?");i>=0&&(t.search=a.substring(i),a=a.substring(0,i)),a&&(t.pathname=a)}return t}function lC(a,t,s,i={}){let{window:r=document.defaultView,v5Compat:c=!1}=i,A=r.history,d="POP",h=null,u=v();u==null&&(u=0,A.replaceState({...A.state,idx:u},""));function v(){return(A.state||{idx:null}).idx}function x(){d="POP";let S=v(),f=S==null?null:S-u;u=S,h&&h({action:d,location:b.location,delta:f})}function y(S,f){d="PUSH";let O=bv(b.location,S,f);s&&s(O,S),u=v()+1;let M=rw(O,u),J=b.createHref(O);try{A.pushState(M,"",J)}catch(K){if(K instanceof DOMException&&K.name==="DataCloneError")throw K;r.location.assign(J)}c&&h&&h({action:d,location:b.location,delta:1})}function p(S,f){d="REPLACE";let O=bv(b.location,S,f);s&&s(O,S),u=v();let M=rw(O,u),J=b.createHref(O);A.replaceState(M,"",J),c&&h&&h({action:d,location:b.location,delta:0})}function F(S){let f=r.location.origin!=="null"?r.location.origin:r.location.href,O=typeof S=="string"?S:th(S);return O=O.replace(/ $/,"%20"),wi(f,`No window.location.(origin|href) available to create URL for href: ${O}`),new URL(O,f)}let b={get action(){return d},get location(){return a(r,A)},listen(S){if(h)throw new Error("A history only accepts one active listener");return r.addEventListener(nw,x),h=S,()=>{r.removeEventListener(nw,x),h=null}},createHref(S){return t(r,S)},createURL:F,encodeLocation(S){let f=F(S);return{pathname:f.pathname,search:f.search,hash:f.hash}},push:y,replace:p,go(S){return A.go(S)}};return b}function Uj(a,t,s="/"){return cC(a,t,s,!1)}function cC(a,t,s,i){let r=typeof t=="string"?vA(t):t,c=oo(r.pathname||"/",s);if(c==null)return null;let A=Oj(a);oC(A);let d=null;for(let h=0;d==null&&h<A.length;++h){let u=yC(c);d=vC(A[h],u,i)}return d}function Oj(a,t=[],s=[],i=""){let r=(c,A,d)=>{let h={relativePath:d===void 0?c.path||"":d,caseSensitive:c.caseSensitive===!0,childrenIndex:A,route:c};h.relativePath.startsWith("/")&&(wi(h.relativePath.startsWith(i),`Absolute route path "${h.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),h.relativePath=h.relativePath.slice(i.length));let u=$l([i,h.relativePath]),v=s.concat(h);c.children&&c.children.length>0&&(wi(c.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${u}".`),Oj(c.children,t,v,u)),!(c.path==null&&!c.index)&&t.push({path:u,score:pC(u,c.index),routesMeta:v})};return a.forEach((c,A)=>{var d;if(c.path===""||!((d=c.path)!=null&&d.includes("?")))r(c,A);else for(let h of kj(c.path))r(c,A,h)}),t}function kj(a){let t=a.split("/");if(t.length===0)return[];let[s,...i]=t,r=s.endsWith("?"),c=s.replace(/\?$/,"");if(i.length===0)return r?[c,""]:[c];let A=kj(i.join("/")),d=[];return d.push(...A.map(h=>h===""?c:[c,h].join("/"))),r&&d.push(...A),d.map(h=>a.startsWith("/")&&h===""?"/":h)}function oC(a){a.sort((t,s)=>t.score!==s.score?s.score-t.score:gC(t.routesMeta.map(i=>i.childrenIndex),s.routesMeta.map(i=>i.childrenIndex)))}var AC=/^:[\w-]+$/,dC=3,uC=2,hC=1,mC=10,fC=-2,lw=a=>a==="*";function pC(a,t){let s=a.split("/"),i=s.length;return s.some(lw)&&(i+=fC),t&&(i+=uC),s.filter(r=>!lw(r)).reduce((r,c)=>r+(AC.test(c)?dC:c===""?hC:mC),i)}function gC(a,t){return a.length===t.length&&a.slice(0,-1).every((i,r)=>i===t[r])?a[a.length-1]-t[t.length-1]:0}function vC(a,t,s=!1){let{routesMeta:i}=a,r={},c="/",A=[];for(let d=0;d<i.length;++d){let h=i[d],u=d===i.length-1,v=c==="/"?t:t.slice(c.length)||"/",x=cf({path:h.relativePath,caseSensitive:h.caseSensitive,end:u},v),y=h.route;if(!x&&u&&s&&!i[i.length-1].route.index&&(x=cf({path:h.relativePath,caseSensitive:h.caseSensitive,end:!1},v)),!x)return null;Object.assign(r,x.params),A.push({params:r,pathname:$l([c,x.pathname]),pathnameBase:jC($l([c,x.pathnameBase])),route:y}),x.pathnameBase!=="/"&&(c=$l([c,x.pathnameBase]))}return A}function cf(a,t){typeof a=="string"&&(a={path:a,caseSensitive:!1,end:!0});let[s,i]=xC(a.path,a.caseSensitive,a.end),r=t.match(s);if(!r)return null;let c=r[0],A=c.replace(/(.)\/+$/,"$1"),d=r.slice(1);return{params:i.reduce((u,{paramName:v,isOptional:x},y)=>{if(v==="*"){let F=d[y]||"";A=c.slice(0,c.length-F.length).replace(/(.)\/+$/,"$1")}const p=d[y];return x&&!p?u[v]=void 0:u[v]=(p||"").replace(/%2F/g,"/"),u},{}),pathname:c,pathnameBase:A,pattern:a}}function xC(a,t=!1,s=!0){jr(a==="*"||!a.endsWith("*")||a.endsWith("/*"),`Route path "${a}" will be treated as if it were "${a.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${a.replace(/\*$/,"/*")}".`);let i=[],r="^"+a.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(A,d,h)=>(i.push({paramName:d,isOptional:h!=null}),h?"/?([^\\/]+)?":"/([^\\/]+)"));return a.endsWith("*")?(i.push({paramName:"*"}),r+=a==="*"||a==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):s?r+="\\/*$":a!==""&&a!=="/"&&(r+="(?:(?=\\/|$))"),[new RegExp(r,t?void 0:"i"),i]}function yC(a){try{return a.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return jr(!1,`The URL path "${a}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),a}}function oo(a,t){if(t==="/")return a;if(!a.toLowerCase().startsWith(t.toLowerCase()))return null;let s=t.endsWith("/")?t.length-1:t.length,i=a.charAt(s);return i&&i!=="/"?null:a.slice(s)||"/"}function bC(a,t="/"){let{pathname:s,search:i="",hash:r=""}=typeof a=="string"?vA(a):a;return{pathname:s?s.startsWith("/")?s:wC(s,t):t,search:BC(i),hash:CC(r)}}function wC(a,t){let s=t.replace(/\/+$/,"").split("/");return a.split("/").forEach(r=>{r===".."?s.length>1&&s.pop():r!=="."&&s.push(r)}),s.length>1?s.join("/"):"/"}function jg(a,t,s,i){return`Cannot include a '${a}' character in a manually specified \`to.${t}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${s}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function NC(a){return a.filter((t,s)=>s===0||t.route.path&&t.route.path.length>0)}function Ij(a){let t=NC(a);return t.map((s,i)=>i===t.length-1?s.pathname:s.pathnameBase)}function Qj(a,t,s,i=!1){let r;typeof a=="string"?r=vA(a):(r={...a},wi(!r.pathname||!r.pathname.includes("?"),jg("?","pathname","search",r)),wi(!r.pathname||!r.pathname.includes("#"),jg("#","pathname","hash",r)),wi(!r.search||!r.search.includes("#"),jg("#","search","hash",r)));let c=a===""||r.pathname==="",A=c?"/":r.pathname,d;if(A==null)d=s;else{let x=t.length-1;if(!i&&A.startsWith("..")){let y=A.split("/");for(;y[0]==="..";)y.shift(),x-=1;r.pathname=y.join("/")}d=x>=0?t[x]:"/"}let h=bC(r,d),u=A&&A!=="/"&&A.endsWith("/"),v=(c||A===".")&&s.endsWith("/");return!h.pathname.endsWith("/")&&(u||v)&&(h.pathname+="/"),h}var $l=a=>a.join("/").replace(/\/\/+/g,"/"),jC=a=>a.replace(/\/+$/,"").replace(/^\/*/,"/"),BC=a=>!a||a==="?"?"":a.startsWith("?")?a:"?"+a,CC=a=>!a||a==="#"?"":a.startsWith("#")?a:"#"+a;function SC(a){return a!=null&&typeof a.status=="number"&&typeof a.statusText=="string"&&typeof a.internal=="boolean"&&"data"in a}var Tj=["POST","PUT","PATCH","DELETE"];new Set(Tj);var _C=["GET",...Tj];new Set(_C);var Md=N.createContext(null);Md.displayName="DataRouter";var Ef=N.createContext(null);Ef.displayName="DataRouterState";var Rj=N.createContext({isTransitioning:!1});Rj.displayName="ViewTransition";var FC=N.createContext(new Map);FC.displayName="Fetchers";var DC=N.createContext(null);DC.displayName="Await";var Al=N.createContext(null);Al.displayName="Navigation";var oh=N.createContext(null);oh.displayName="Location";var Zl=N.createContext({outlet:null,matches:[],isDataRoute:!1});Zl.displayName="Route";var Ux=N.createContext(null);Ux.displayName="RouteError";function EC(a,{relative:t}={}){wi(Ah(),"useHref() may be used only in the context of a <Router> component.");let{basename:s,navigator:i}=N.useContext(Al),{hash:r,pathname:c,search:A}=dh(a,{relative:t}),d=c;return s!=="/"&&(d=c==="/"?s:$l([s,c])),i.createHref({pathname:d,search:A,hash:r})}function Ah(){return N.useContext(oh)!=null}function oa(){return wi(Ah(),"useLocation() may be used only in the context of a <Router> component."),N.useContext(oh).location}var Pj="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Hj(a){N.useContext(Al).static||N.useLayoutEffect(a)}function Jt(){let{isDataRoute:a}=N.useContext(Zl);return a?KC():LC()}function LC(){wi(Ah(),"useNavigate() may be used only in the context of a <Router> component.");let a=N.useContext(Md),{basename:t,navigator:s}=N.useContext(Al),{matches:i}=N.useContext(Zl),{pathname:r}=oa(),c=JSON.stringify(Ij(i)),A=N.useRef(!1);return Hj(()=>{A.current=!0}),N.useCallback((h,u={})=>{if(jr(A.current,Pj),!A.current)return;if(typeof h=="number"){s.go(h);return}let v=Qj(h,JSON.parse(c),r,u.relative==="path");a==null&&t!=="/"&&(v.pathname=v.pathname==="/"?t:$l([t,v.pathname])),(u.replace?s.replace:s.push)(v,u.state,u)},[t,s,c,r,a])}N.createContext(null);function dh(a,{relative:t}={}){let{matches:s}=N.useContext(Zl),{pathname:i}=oa(),r=JSON.stringify(Ij(s));return N.useMemo(()=>Qj(a,JSON.parse(r),i,t==="path"),[a,r,i,t])}function MC(a,t){return qj(a,t)}function qj(a,t,s,i){var O;wi(Ah(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:r,static:c}=N.useContext(Al),{matches:A}=N.useContext(Zl),d=A[A.length-1],h=d?d.params:{},u=d?d.pathname:"/",v=d?d.pathnameBase:"/",x=d&&d.route;{let M=x&&x.path||"";Kj(u,!x||M.endsWith("*")||M.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${u}" (under <Route path="${M}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${M}"> to <Route path="${M==="/"?"*":`${M}/*`}">.`)}let y=oa(),p;if(t){let M=typeof t=="string"?vA(t):t;wi(v==="/"||((O=M.pathname)==null?void 0:O.startsWith(v)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${v}" but pathname "${M.pathname}" was given in the \`location\` prop.`),p=M}else p=y;let F=p.pathname||"/",b=F;if(v!=="/"){let M=v.replace(/^\//,"").split("/");b="/"+F.replace(/^\//,"").split("/").slice(M.length).join("/")}let S=!c&&s&&s.matches&&s.matches.length>0?s.matches:Uj(a,{pathname:b});jr(x||S!=null,`No routes matched location "${p.pathname}${p.search}${p.hash}" `),jr(S==null||S[S.length-1].route.element!==void 0||S[S.length-1].route.Component!==void 0||S[S.length-1].route.lazy!==void 0,`Matched leaf route at location "${p.pathname}${p.search}${p.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let f=QC(S&&S.map(M=>Object.assign({},M,{params:Object.assign({},h,M.params),pathname:$l([v,r.encodeLocation?r.encodeLocation(M.pathname).pathname:M.pathname]),pathnameBase:M.pathnameBase==="/"?v:$l([v,r.encodeLocation?r.encodeLocation(M.pathnameBase).pathname:M.pathnameBase])})),A,s,i);return t&&f?N.createElement(oh.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...p},navigationType:"POP"}},f):f}function UC(){let a=qC(),t=SC(a)?`${a.status} ${a.statusText}`:a instanceof Error?a.message:JSON.stringify(a),s=a instanceof Error?a.stack:null,i="rgba(200,200,200, 0.5)",r={padding:"0.5rem",backgroundColor:i},c={padding:"2px 4px",backgroundColor:i},A=null;return console.error("Error handled by React Router default ErrorBoundary:",a),A=N.createElement(N.Fragment,null,N.createElement("p",null," Hey developer "),N.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",N.createElement("code",{style:c},"ErrorBoundary")," or"," ",N.createElement("code",{style:c},"errorElement")," prop on your route.")),N.createElement(N.Fragment,null,N.createElement("h2",null,"Unexpected Application Error!"),N.createElement("h3",{style:{fontStyle:"italic"}},t),s?N.createElement("pre",{style:r},s):null,A)}var OC=N.createElement(UC,null),kC=class extends N.Component{constructor(a){super(a),this.state={location:a.location,revalidation:a.revalidation,error:a.error}}static getDerivedStateFromError(a){return{error:a}}static getDerivedStateFromProps(a,t){return t.location!==a.location||t.revalidation!=="idle"&&a.revalidation==="idle"?{error:a.error,location:a.location,revalidation:a.revalidation}:{error:a.error!==void 0?a.error:t.error,location:t.location,revalidation:a.revalidation||t.revalidation}}componentDidCatch(a,t){console.error("React Router caught the following error during render",a,t)}render(){return this.state.error!==void 0?N.createElement(Zl.Provider,{value:this.props.routeContext},N.createElement(Ux.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function IC({routeContext:a,match:t,children:s}){let i=N.useContext(Md);return i&&i.static&&i.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=t.route.id),N.createElement(Zl.Provider,{value:a},s)}function QC(a,t=[],s=null,i=null){if(a==null){if(!s)return null;if(s.errors)a=s.matches;else if(t.length===0&&!s.initialized&&s.matches.length>0)a=s.matches;else return null}let r=a,c=s==null?void 0:s.errors;if(c!=null){let h=r.findIndex(u=>u.route.id&&(c==null?void 0:c[u.route.id])!==void 0);wi(h>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(c).join(",")}`),r=r.slice(0,Math.min(r.length,h+1))}let A=!1,d=-1;if(s)for(let h=0;h<r.length;h++){let u=r[h];if((u.route.HydrateFallback||u.route.hydrateFallbackElement)&&(d=h),u.route.id){let{loaderData:v,errors:x}=s,y=u.route.loader&&!v.hasOwnProperty(u.route.id)&&(!x||x[u.route.id]===void 0);if(u.route.lazy||y){A=!0,d>=0?r=r.slice(0,d+1):r=[r[0]];break}}}return r.reduceRight((h,u,v)=>{let x,y=!1,p=null,F=null;s&&(x=c&&u.route.id?c[u.route.id]:void 0,p=u.route.errorElement||OC,A&&(d<0&&v===0?(Kj("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),y=!0,F=null):d===v&&(y=!0,F=u.route.hydrateFallbackElement||null)));let b=t.concat(r.slice(0,v+1)),S=()=>{let f;return x?f=p:y?f=F:u.route.Component?f=N.createElement(u.route.Component,null):u.route.element?f=u.route.element:f=h,N.createElement(IC,{match:u,routeContext:{outlet:h,matches:b,isDataRoute:s!=null},children:f})};return s&&(u.route.ErrorBoundary||u.route.errorElement||v===0)?N.createElement(kC,{location:s.location,revalidation:s.revalidation,component:p,error:x,children:S(),routeContext:{outlet:null,matches:b,isDataRoute:!0}}):S()},null)}function Ox(a){return`${a} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function TC(a){let t=N.useContext(Md);return wi(t,Ox(a)),t}function RC(a){let t=N.useContext(Ef);return wi(t,Ox(a)),t}function PC(a){let t=N.useContext(Zl);return wi(t,Ox(a)),t}function kx(a){let t=PC(a),s=t.matches[t.matches.length-1];return wi(s.route.id,`${a} can only be used on routes that contain a unique "id"`),s.route.id}function HC(){return kx("useRouteId")}function qC(){var i;let a=N.useContext(Ux),t=RC("useRouteError"),s=kx("useRouteError");return a!==void 0?a:(i=t.errors)==null?void 0:i[s]}function KC(){let{router:a}=TC("useNavigate"),t=kx("useNavigate"),s=N.useRef(!1);return Hj(()=>{s.current=!0}),N.useCallback(async(r,c={})=>{jr(s.current,Pj),s.current&&(typeof r=="number"?a.navigate(r):await a.navigate(r,{fromRouteId:t,...c}))},[a,t])}var cw={};function Kj(a,t,s){!t&&!cw[a]&&(cw[a]=!0,jr(!1,s))}N.memo(VC);function VC({routes:a,future:t,state:s}){return qj(a,void 0,s,t)}function Yt(a){wi(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function zC({basename:a="/",children:t=null,location:s,navigationType:i="POP",navigator:r,static:c=!1}){wi(!Ah(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let A=a.replace(/^\/*/,"/"),d=N.useMemo(()=>({basename:A,navigator:r,static:c,future:{}}),[A,r,c]);typeof s=="string"&&(s=vA(s));let{pathname:h="/",search:u="",hash:v="",state:x=null,key:y="default"}=s,p=N.useMemo(()=>{let F=oo(h,A);return F==null?null:{location:{pathname:F,search:u,hash:v,state:x,key:y},navigationType:i}},[A,h,u,v,x,y,i]);return jr(p!=null,`<Router basename="${A}"> is not able to match the URL "${h}${u}${v}" because it does not start with the basename, so the <Router> won't render anything.`),p==null?null:N.createElement(Al.Provider,{value:d},N.createElement(oh.Provider,{children:t,value:p}))}function $C({children:a,location:t}){return MC(wv(a),t)}function wv(a,t=[]){let s=[];return N.Children.forEach(a,(i,r)=>{if(!N.isValidElement(i))return;let c=[...t,r];if(i.type===N.Fragment){s.push.apply(s,wv(i.props.children,c));return}wi(i.type===Yt,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),wi(!i.props.index||!i.props.children,"An index route cannot have child routes.");let A={id:i.props.id||c.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(A.children=wv(i.props.children,c)),s.push(A)}),s}var Vm="get",zm="application/x-www-form-urlencoded";function Lf(a){return a!=null&&typeof a.tagName=="string"}function GC(a){return Lf(a)&&a.tagName.toLowerCase()==="button"}function WC(a){return Lf(a)&&a.tagName.toLowerCase()==="form"}function YC(a){return Lf(a)&&a.tagName.toLowerCase()==="input"}function XC(a){return!!(a.metaKey||a.altKey||a.ctrlKey||a.shiftKey)}function JC(a,t){return a.button===0&&(!t||t==="_self")&&!XC(a)}var um=null;function ZC(){if(um===null)try{new FormData(document.createElement("form"),0),um=!1}catch{um=!0}return um}var e5=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Bg(a){return a!=null&&!e5.has(a)?(jr(!1,`"${a}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${zm}"`),null):a}function t5(a,t){let s,i,r,c,A;if(WC(a)){let d=a.getAttribute("action");i=d?oo(d,t):null,s=a.getAttribute("method")||Vm,r=Bg(a.getAttribute("enctype"))||zm,c=new FormData(a)}else if(GC(a)||YC(a)&&(a.type==="submit"||a.type==="image")){let d=a.form;if(d==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let h=a.getAttribute("formaction")||d.getAttribute("action");if(i=h?oo(h,t):null,s=a.getAttribute("formmethod")||d.getAttribute("method")||Vm,r=Bg(a.getAttribute("formenctype"))||Bg(d.getAttribute("enctype"))||zm,c=new FormData(d,a),!ZC()){let{name:u,type:v,value:x}=a;if(v==="image"){let y=u?`${u}.`:"";c.append(`${y}x`,"0"),c.append(`${y}y`,"0")}else u&&c.append(u,x)}}else{if(Lf(a))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');s=Vm,i=null,r=zm,A=a}return c&&r==="text/plain"&&(A=c,c=void 0),{action:i,method:s.toLowerCase(),encType:r,formData:c,body:A}}function Ix(a,t){if(a===!1||a===null||typeof a>"u")throw new Error(t)}async function a5(a,t){if(a.id in t)return t[a.id];try{let s=await import(a.module);return t[a.id]=s,s}catch(s){return console.error(`Error loading route module \`${a.module}\`, reloading page...`),console.error(s),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function i5(a){return a==null?!1:a.href==null?a.rel==="preload"&&typeof a.imageSrcSet=="string"&&typeof a.imageSizes=="string":typeof a.rel=="string"&&typeof a.href=="string"}async function s5(a,t,s){let i=await Promise.all(a.map(async r=>{let c=t.routes[r.route.id];if(c){let A=await a5(c,s);return A.links?A.links():[]}return[]}));return c5(i.flat(1).filter(i5).filter(r=>r.rel==="stylesheet"||r.rel==="preload").map(r=>r.rel==="stylesheet"?{...r,rel:"prefetch",as:"style"}:{...r,rel:"prefetch"}))}function ow(a,t,s,i,r,c){let A=(h,u)=>s[u]?h.route.id!==s[u].route.id:!0,d=(h,u)=>{var v;return s[u].pathname!==h.pathname||((v=s[u].route.path)==null?void 0:v.endsWith("*"))&&s[u].params["*"]!==h.params["*"]};return c==="assets"?t.filter((h,u)=>A(h,u)||d(h,u)):c==="data"?t.filter((h,u)=>{var x;let v=i.routes[h.route.id];if(!v||!v.hasLoader)return!1;if(A(h,u)||d(h,u))return!0;if(h.route.shouldRevalidate){let y=h.route.shouldRevalidate({currentUrl:new URL(r.pathname+r.search+r.hash,window.origin),currentParams:((x=s[0])==null?void 0:x.params)||{},nextUrl:new URL(a,window.origin),nextParams:h.params,defaultShouldRevalidate:!0});if(typeof y=="boolean")return y}return!0}):[]}function n5(a,t,{includeHydrateFallback:s}={}){return r5(a.map(i=>{let r=t.routes[i.route.id];if(!r)return[];let c=[r.module];return r.clientActionModule&&(c=c.concat(r.clientActionModule)),r.clientLoaderModule&&(c=c.concat(r.clientLoaderModule)),s&&r.hydrateFallbackModule&&(c=c.concat(r.hydrateFallbackModule)),r.imports&&(c=c.concat(r.imports)),c}).flat(1))}function r5(a){return[...new Set(a)]}function l5(a){let t={},s=Object.keys(a).sort();for(let i of s)t[i]=a[i];return t}function c5(a,t){let s=new Set;return new Set(t),a.reduce((i,r)=>{let c=JSON.stringify(l5(r));return s.has(c)||(s.add(c),i.push({key:c,link:r})),i},[])}function o5(a){let t=typeof a=="string"?new URL(a,typeof window>"u"?"server://singlefetch/":window.location.origin):a;return t.pathname==="/"?t.pathname="_root.data":t.pathname=`${t.pathname.replace(/\/$/,"")}.data`,t}function A5(){let a=N.useContext(Md);return Ix(a,"You must render this element inside a <DataRouterContext.Provider> element"),a}function d5(){let a=N.useContext(Ef);return Ix(a,"You must render this element inside a <DataRouterStateContext.Provider> element"),a}var Qx=N.createContext(void 0);Qx.displayName="FrameworkContext";function Vj(){let a=N.useContext(Qx);return Ix(a,"You must render this element inside a <HydratedRouter> element"),a}function u5(a,t){let s=N.useContext(Qx),[i,r]=N.useState(!1),[c,A]=N.useState(!1),{onFocus:d,onBlur:h,onMouseEnter:u,onMouseLeave:v,onTouchStart:x}=t,y=N.useRef(null);N.useEffect(()=>{if(a==="render"&&A(!0),a==="viewport"){let b=f=>{f.forEach(O=>{A(O.isIntersecting)})},S=new IntersectionObserver(b,{threshold:.5});return y.current&&S.observe(y.current),()=>{S.disconnect()}}},[a]),N.useEffect(()=>{if(i){let b=setTimeout(()=>{A(!0)},100);return()=>{clearTimeout(b)}}},[i]);let p=()=>{r(!0)},F=()=>{r(!1),A(!1)};return s?a!=="intent"?[c,y,{}]:[c,y,{onFocus:Du(d,p),onBlur:Du(h,F),onMouseEnter:Du(u,p),onMouseLeave:Du(v,F),onTouchStart:Du(x,p)}]:[!1,y,{}]}function Du(a,t){return s=>{a&&a(s),s.defaultPrevented||t(s)}}function h5({page:a,...t}){let{router:s}=A5(),i=N.useMemo(()=>Uj(s.routes,a,s.basename),[s.routes,a,s.basename]);return i?N.createElement(f5,{page:a,matches:i,...t}):null}function m5(a){let{manifest:t,routeModules:s}=Vj(),[i,r]=N.useState([]);return N.useEffect(()=>{let c=!1;return s5(a,t,s).then(A=>{c||r(A)}),()=>{c=!0}},[a,t,s]),i}function f5({page:a,matches:t,...s}){let i=oa(),{manifest:r,routeModules:c}=Vj(),{loaderData:A,matches:d}=d5(),h=N.useMemo(()=>ow(a,t,d,r,i,"data"),[a,t,d,r,i]),u=N.useMemo(()=>ow(a,t,d,r,i,"assets"),[a,t,d,r,i]),v=N.useMemo(()=>{if(a===i.pathname+i.search+i.hash)return[];let p=new Set,F=!1;if(t.forEach(S=>{var O;let f=r.routes[S.route.id];!f||!f.hasLoader||(!h.some(M=>M.route.id===S.route.id)&&S.route.id in A&&((O=c[S.route.id])!=null&&O.shouldRevalidate)||f.hasClientLoader?F=!0:p.add(S.route.id))}),p.size===0)return[];let b=o5(a);return F&&p.size>0&&b.searchParams.set("_routes",t.filter(S=>p.has(S.route.id)).map(S=>S.route.id).join(",")),[b.pathname+b.search]},[A,i,r,h,t,a,c]),x=N.useMemo(()=>n5(u,r),[u,r]),y=m5(u);return N.createElement(N.Fragment,null,v.map(p=>N.createElement("link",{key:p,rel:"prefetch",as:"fetch",href:p,...s})),x.map(p=>N.createElement("link",{key:p,rel:"modulepreload",href:p,...s})),y.map(({key:p,link:F})=>N.createElement("link",{key:p,...F})))}function p5(...a){return t=>{a.forEach(s=>{typeof s=="function"?s(t):s!=null&&(s.current=t)})}}var zj=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{zj&&(window.__reactRouterVersion="7.2.0")}catch{}function g5({basename:a,children:t,window:s}){let i=N.useRef();i.current==null&&(i.current=nC({window:s,v5Compat:!0}));let r=i.current,[c,A]=N.useState({action:r.action,location:r.location}),d=N.useCallback(h=>{N.startTransition(()=>A(h))},[A]);return N.useLayoutEffect(()=>r.listen(d),[r,d]),N.createElement(zC,{basename:a,children:t,location:c.location,navigationType:c.action,navigator:r})}var $j=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,bi=N.forwardRef(function({onClick:t,discover:s="render",prefetch:i="none",relative:r,reloadDocument:c,replace:A,state:d,target:h,to:u,preventScrollReset:v,viewTransition:x,...y},p){let{basename:F}=N.useContext(Al),b=typeof u=="string"&&$j.test(u),S,f=!1;if(typeof u=="string"&&b&&(S=u,zj))try{let D=new URL(window.location.href),ge=u.startsWith("//")?new URL(D.protocol+u):new URL(u),_=oo(ge.pathname,F);ge.origin===D.origin&&_!=null?u=_+ge.search+ge.hash:f=!0}catch{jr(!1,`<Link to="${u}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let O=EC(u,{relative:r}),[M,J,K]=u5(i,y),H=b5(u,{replace:A,state:d,target:h,preventScrollReset:v,relative:r,viewTransition:x});function k(D){t&&t(D),D.defaultPrevented||H(D)}let Y=N.createElement("a",{...y,...K,href:S||O,onClick:f||c?t:k,ref:p5(p,J),target:h,"data-discover":!b&&s==="render"?"true":void 0});return M&&!b?N.createElement(N.Fragment,null,Y,N.createElement(h5,{page:O})):Y});bi.displayName="Link";var v5=N.forwardRef(function({"aria-current":t="page",caseSensitive:s=!1,className:i="",end:r=!1,style:c,to:A,viewTransition:d,children:h,...u},v){let x=dh(A,{relative:u.relative}),y=oa(),p=N.useContext(Ef),{navigator:F,basename:b}=N.useContext(Al),S=p!=null&&C5(x)&&d===!0,f=F.encodeLocation?F.encodeLocation(x).pathname:x.pathname,O=y.pathname,M=p&&p.navigation&&p.navigation.location?p.navigation.location.pathname:null;s||(O=O.toLowerCase(),M=M?M.toLowerCase():null,f=f.toLowerCase()),M&&b&&(M=oo(M,b)||M);const J=f!=="/"&&f.endsWith("/")?f.length-1:f.length;let K=O===f||!r&&O.startsWith(f)&&O.charAt(J)==="/",H=M!=null&&(M===f||!r&&M.startsWith(f)&&M.charAt(f.length)==="/"),k={isActive:K,isPending:H,isTransitioning:S},Y=K?t:void 0,D;typeof i=="function"?D=i(k):D=[i,K?"active":null,H?"pending":null,S?"transitioning":null].filter(Boolean).join(" ");let ge=typeof c=="function"?c(k):c;return N.createElement(bi,{...u,"aria-current":Y,className:D,ref:v,style:ge,to:A,viewTransition:d},typeof h=="function"?h(k):h)});v5.displayName="NavLink";var x5=N.forwardRef(({discover:a="render",fetcherKey:t,navigate:s,reloadDocument:i,replace:r,state:c,method:A=Vm,action:d,onSubmit:h,relative:u,preventScrollReset:v,viewTransition:x,...y},p)=>{let F=j5(),b=B5(d,{relative:u}),S=A.toLowerCase()==="get"?"get":"post",f=typeof d=="string"&&$j.test(d),O=M=>{if(h&&h(M),M.defaultPrevented)return;M.preventDefault();let J=M.nativeEvent.submitter,K=(J==null?void 0:J.getAttribute("formmethod"))||A;F(J||M.currentTarget,{fetcherKey:t,method:K,navigate:s,replace:r,state:c,relative:u,preventScrollReset:v,viewTransition:x})};return N.createElement("form",{ref:p,method:S,action:b,onSubmit:i?h:O,...y,"data-discover":!f&&a==="render"?"true":void 0})});x5.displayName="Form";function y5(a){return`${a} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Gj(a){let t=N.useContext(Md);return wi(t,y5(a)),t}function b5(a,{target:t,replace:s,state:i,preventScrollReset:r,relative:c,viewTransition:A}={}){let d=Jt(),h=oa(),u=dh(a,{relative:c});return N.useCallback(v=>{if(JC(v,t)){v.preventDefault();let x=s!==void 0?s:th(h)===th(u);d(a,{replace:x,state:i,preventScrollReset:r,relative:c,viewTransition:A})}},[h,d,u,s,i,t,a,r,c,A])}var w5=0,N5=()=>`__${String(++w5)}__`;function j5(){let{router:a}=Gj("useSubmit"),{basename:t}=N.useContext(Al),s=HC();return N.useCallback(async(i,r={})=>{let{action:c,method:A,encType:d,formData:h,body:u}=t5(i,t);if(r.navigate===!1){let v=r.fetcherKey||N5();await a.fetch(v,s,r.action||c,{preventScrollReset:r.preventScrollReset,formData:h,body:u,formMethod:r.method||A,formEncType:r.encType||d,flushSync:r.flushSync})}else await a.navigate(r.action||c,{preventScrollReset:r.preventScrollReset,formData:h,body:u,formMethod:r.method||A,formEncType:r.encType||d,replace:r.replace,state:r.state,fromRouteId:s,flushSync:r.flushSync,viewTransition:r.viewTransition})},[a,t,s])}function B5(a,{relative:t}={}){let{basename:s}=N.useContext(Al),i=N.useContext(Zl);wi(i,"useFormAction must be used inside a RouteContext");let[r]=i.matches.slice(-1),c={...dh(a||".",{relative:t})},A=oa();if(a==null){c.search=A.search;let d=new URLSearchParams(c.search),h=d.getAll("index");if(h.some(v=>v==="")){d.delete("index"),h.filter(x=>x).forEach(x=>d.append("index",x));let v=d.toString();c.search=v?`?${v}`:""}}return(!a||a===".")&&r.route.index&&(c.search=c.search?c.search.replace(/^\?/,"?index&"):"?index"),s!=="/"&&(c.pathname=c.pathname==="/"?s:$l([s,c.pathname])),th(c)}function C5(a,t={}){let s=N.useContext(Rj);wi(s!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=Gj("useViewTransitionState"),r=dh(a,{relative:t.relative});if(!s.isTransitioning)return!1;let c=oo(s.currentLocation.pathname,i)||s.currentLocation.pathname,A=oo(s.nextLocation.pathname,i)||s.nextLocation.pathname;return cf(r.pathname,A)!=null||cf(r.pathname,c)!=null}new TextEncoder;/*!
 * Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com
 * License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License)
 * Copyright 2024 Fonticons, Inc.
 */function S5(a,t,s){return(t=F5(t))in a?Object.defineProperty(a,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):a[t]=s,a}function Aw(a,t){var s=Object.keys(a);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(a);t&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(a,r).enumerable})),s.push.apply(s,i)}return s}function Ht(a){for(var t=1;t<arguments.length;t++){var s=arguments[t]!=null?arguments[t]:{};t%2?Aw(Object(s),!0).forEach(function(i){S5(a,i,s[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(s)):Aw(Object(s)).forEach(function(i){Object.defineProperty(a,i,Object.getOwnPropertyDescriptor(s,i))})}return a}function _5(a,t){if(typeof a!="object"||!a)return a;var s=a[Symbol.toPrimitive];if(s!==void 0){var i=s.call(a,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(a)}function F5(a){var t=_5(a,"string");return typeof t=="symbol"?t:t+""}const dw=()=>{};let Tx={},Wj={},Yj=null,Xj={mark:dw,measure:dw};try{typeof window<"u"&&(Tx=window),typeof document<"u"&&(Wj=document),typeof MutationObserver<"u"&&(Yj=MutationObserver),typeof performance<"u"&&(Xj=performance)}catch{}const{userAgent:uw=""}=Tx.navigator||{},Ao=Tx,di=Wj,hw=Yj,hm=Xj;Ao.document;const ec=!!di.documentElement&&!!di.head&&typeof di.addEventListener=="function"&&typeof di.createElement=="function",Jj=~uw.indexOf("MSIE")||~uw.indexOf("Trident/");var D5=/fa(s|r|l|t|d|dr|dl|dt|b|k|kd|ss|sr|sl|st|sds|sdr|sdl|sdt)?[\-\ ]/,E5=/Font ?Awesome ?([56 ]*)(Solid|Regular|Light|Thin|Duotone|Brands|Free|Pro|Sharp Duotone|Sharp|Kit)?.*/i,Zj={classic:{fa:"solid",fas:"solid","fa-solid":"solid",far:"regular","fa-regular":"regular",fal:"light","fa-light":"light",fat:"thin","fa-thin":"thin",fab:"brands","fa-brands":"brands"},duotone:{fa:"solid",fad:"solid","fa-solid":"solid","fa-duotone":"solid",fadr:"regular","fa-regular":"regular",fadl:"light","fa-light":"light",fadt:"thin","fa-thin":"thin"},sharp:{fa:"solid",fass:"solid","fa-solid":"solid",fasr:"regular","fa-regular":"regular",fasl:"light","fa-light":"light",fast:"thin","fa-thin":"thin"},"sharp-duotone":{fa:"solid",fasds:"solid","fa-solid":"solid",fasdr:"regular","fa-regular":"regular",fasdl:"light","fa-light":"light",fasdt:"thin","fa-thin":"thin"}},L5={GROUP:"duotone-group",PRIMARY:"primary",SECONDARY:"secondary"},e0=["fa-classic","fa-duotone","fa-sharp","fa-sharp-duotone"],Os="classic",Mf="duotone",M5="sharp",U5="sharp-duotone",t0=[Os,Mf,M5,U5],O5={classic:{900:"fas",400:"far",normal:"far",300:"fal",100:"fat"},duotone:{900:"fad",400:"fadr",300:"fadl",100:"fadt"},sharp:{900:"fass",400:"fasr",300:"fasl",100:"fast"},"sharp-duotone":{900:"fasds",400:"fasdr",300:"fasdl",100:"fasdt"}},k5={"Font Awesome 6 Free":{900:"fas",400:"far"},"Font Awesome 6 Pro":{900:"fas",400:"far",normal:"far",300:"fal",100:"fat"},"Font Awesome 6 Brands":{400:"fab",normal:"fab"},"Font Awesome 6 Duotone":{900:"fad",400:"fadr",normal:"fadr",300:"fadl",100:"fadt"},"Font Awesome 6 Sharp":{900:"fass",400:"fasr",normal:"fasr",300:"fasl",100:"fast"},"Font Awesome 6 Sharp Duotone":{900:"fasds",400:"fasdr",normal:"fasdr",300:"fasdl",100:"fasdt"}},I5=new Map([["classic",{defaultShortPrefixId:"fas",defaultStyleId:"solid",styleIds:["solid","regular","light","thin","brands"],futureStyleIds:[],defaultFontWeight:900}],["sharp",{defaultShortPrefixId:"fass",defaultStyleId:"solid",styleIds:["solid","regular","light","thin"],futureStyleIds:[],defaultFontWeight:900}],["duotone",{defaultShortPrefixId:"fad",defaultStyleId:"solid",styleIds:["solid","regular","light","thin"],futureStyleIds:[],defaultFontWeight:900}],["sharp-duotone",{defaultShortPrefixId:"fasds",defaultStyleId:"solid",styleIds:["solid","regular","light","thin"],futureStyleIds:[],defaultFontWeight:900}]]),Q5={classic:{solid:"fas",regular:"far",light:"fal",thin:"fat",brands:"fab"},duotone:{solid:"fad",regular:"fadr",light:"fadl",thin:"fadt"},sharp:{solid:"fass",regular:"fasr",light:"fasl",thin:"fast"},"sharp-duotone":{solid:"fasds",regular:"fasdr",light:"fasdl",thin:"fasdt"}},T5=["fak","fa-kit","fakd","fa-kit-duotone"],mw={kit:{fak:"kit","fa-kit":"kit"},"kit-duotone":{fakd:"kit-duotone","fa-kit-duotone":"kit-duotone"}},R5=["kit"],P5={kit:{"fa-kit":"fak"}},H5=["fak","fakd"],q5={kit:{fak:"fa-kit"}},fw={kit:{kit:"fak"},"kit-duotone":{"kit-duotone":"fakd"}},mm={GROUP:"duotone-group",SWAP_OPACITY:"swap-opacity",PRIMARY:"primary",SECONDARY:"secondary"},K5=["fa-classic","fa-duotone","fa-sharp","fa-sharp-duotone"],V5=["fak","fa-kit","fakd","fa-kit-duotone"],z5={"Font Awesome Kit":{400:"fak",normal:"fak"},"Font Awesome Kit Duotone":{400:"fakd",normal:"fakd"}},$5={classic:{"fa-brands":"fab","fa-duotone":"fad","fa-light":"fal","fa-regular":"far","fa-solid":"fas","fa-thin":"fat"},duotone:{"fa-regular":"fadr","fa-light":"fadl","fa-thin":"fadt"},sharp:{"fa-solid":"fass","fa-regular":"fasr","fa-light":"fasl","fa-thin":"fast"},"sharp-duotone":{"fa-solid":"fasds","fa-regular":"fasdr","fa-light":"fasdl","fa-thin":"fasdt"}},G5={classic:["fas","far","fal","fat","fad"],duotone:["fadr","fadl","fadt"],sharp:["fass","fasr","fasl","fast"],"sharp-duotone":["fasds","fasdr","fasdl","fasdt"]},Nv={classic:{fab:"fa-brands",fad:"fa-duotone",fal:"fa-light",far:"fa-regular",fas:"fa-solid",fat:"fa-thin"},duotone:{fadr:"fa-regular",fadl:"fa-light",fadt:"fa-thin"},sharp:{fass:"fa-solid",fasr:"fa-regular",fasl:"fa-light",fast:"fa-thin"},"sharp-duotone":{fasds:"fa-solid",fasdr:"fa-regular",fasdl:"fa-light",fasdt:"fa-thin"}},W5=["fa-solid","fa-regular","fa-light","fa-thin","fa-duotone","fa-brands"],jv=["fa","fas","far","fal","fat","fad","fadr","fadl","fadt","fab","fass","fasr","fasl","fast","fasds","fasdr","fasdl","fasdt",...K5,...W5],Y5=["solid","regular","light","thin","duotone","brands"],a0=[1,2,3,4,5,6,7,8,9,10],X5=a0.concat([11,12,13,14,15,16,17,18,19,20]),J5=[...Object.keys(G5),...Y5,"2xs","xs","sm","lg","xl","2xl","beat","border","fade","beat-fade","bounce","flip-both","flip-horizontal","flip-vertical","flip","fw","inverse","layers-counter","layers-text","layers","li","pull-left","pull-right","pulse","rotate-180","rotate-270","rotate-90","rotate-by","shake","spin-pulse","spin-reverse","spin","stack-1x","stack-2x","stack","ul",mm.GROUP,mm.SWAP_OPACITY,mm.PRIMARY,mm.SECONDARY].concat(a0.map(a=>"".concat(a,"x"))).concat(X5.map(a=>"w-".concat(a))),Z5={"Font Awesome 5 Free":{900:"fas",400:"far"},"Font Awesome 5 Pro":{900:"fas",400:"far",normal:"far",300:"fal"},"Font Awesome 5 Brands":{400:"fab",normal:"fab"},"Font Awesome 5 Duotone":{900:"fad"}};const Wl="___FONT_AWESOME___",Bv=16,i0="fa",s0="svg-inline--fa",fA="data-fa-i2svg",Cv="data-fa-pseudo-element",eS="data-fa-pseudo-element-pending",Rx="data-prefix",Px="data-icon",pw="fontawesome-i2svg",tS="async",aS=["HTML","HEAD","STYLE","SCRIPT"],n0=(()=>{try{return!0}catch{return!1}})();function uh(a){return new Proxy(a,{get(t,s){return s in t?t[s]:t[Os]}})}const r0=Ht({},Zj);r0[Os]=Ht(Ht(Ht(Ht({},{"fa-duotone":"duotone"}),Zj[Os]),mw.kit),mw["kit-duotone"]);const iS=uh(r0),Sv=Ht({},Q5);Sv[Os]=Ht(Ht(Ht(Ht({},{duotone:"fad"}),Sv[Os]),fw.kit),fw["kit-duotone"]);const gw=uh(Sv),_v=Ht({},Nv);_v[Os]=Ht(Ht({},_v[Os]),q5.kit);const Hx=uh(_v),Fv=Ht({},$5);Fv[Os]=Ht(Ht({},Fv[Os]),P5.kit);uh(Fv);const sS=D5,l0="fa-layers-text",nS=E5,rS=Ht({},O5);uh(rS);const lS=["class","data-prefix","data-icon","data-fa-transform","data-fa-mask"],Cg=L5,cS=[...R5,...J5],zu=Ao.FontAwesomeConfig||{};function oS(a){var t=di.querySelector("script["+a+"]");if(t)return t.getAttribute(a)}function AS(a){return a===""?!0:a==="false"?!1:a==="true"?!0:a}di&&typeof di.querySelector=="function"&&[["data-family-prefix","familyPrefix"],["data-css-prefix","cssPrefix"],["data-family-default","familyDefault"],["data-style-default","styleDefault"],["data-replacement-class","replacementClass"],["data-auto-replace-svg","autoReplaceSvg"],["data-auto-add-css","autoAddCss"],["data-auto-a11y","autoA11y"],["data-search-pseudo-elements","searchPseudoElements"],["data-observe-mutations","observeMutations"],["data-mutate-approach","mutateApproach"],["data-keep-original-source","keepOriginalSource"],["data-measure-performance","measurePerformance"],["data-show-missing-icons","showMissingIcons"]].forEach(t=>{let[s,i]=t;const r=AS(oS(s));r!=null&&(zu[i]=r)});const c0={styleDefault:"solid",familyDefault:Os,cssPrefix:i0,replacementClass:s0,autoReplaceSvg:!0,autoAddCss:!0,autoA11y:!0,searchPseudoElements:!1,observeMutations:!0,mutateApproach:"async",keepOriginalSource:!0,measurePerformance:!1,showMissingIcons:!0};zu.familyPrefix&&(zu.cssPrefix=zu.familyPrefix);const Ed=Ht(Ht({},c0),zu);Ed.autoReplaceSvg||(Ed.observeMutations=!1);const na={};Object.keys(c0).forEach(a=>{Object.defineProperty(na,a,{enumerable:!0,set:function(t){Ed[a]=t,$u.forEach(s=>s(na))},get:function(){return Ed[a]}})});Object.defineProperty(na,"familyPrefix",{enumerable:!0,set:function(a){Ed.cssPrefix=a,$u.forEach(t=>t(na))},get:function(){return Ed.cssPrefix}});Ao.FontAwesomeConfig=na;const $u=[];function dS(a){return $u.push(a),()=>{$u.splice($u.indexOf(a),1)}}const Wc=Bv,nl={size:16,x:0,y:0,rotate:0,flipX:!1,flipY:!1};function uS(a){if(!a||!ec)return;const t=di.createElement("style");t.setAttribute("type","text/css"),t.innerHTML=a;const s=di.head.childNodes;let i=null;for(let r=s.length-1;r>-1;r--){const c=s[r],A=(c.tagName||"").toUpperCase();["STYLE","LINK"].indexOf(A)>-1&&(i=c)}return di.head.insertBefore(t,i),a}const hS="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";function ah(){let a=12,t="";for(;a-- >0;)t+=hS[Math.random()*62|0];return t}function Ud(a){const t=[];for(let s=(a||[]).length>>>0;s--;)t[s]=a[s];return t}function qx(a){return a.classList?Ud(a.classList):(a.getAttribute("class")||"").split(" ").filter(t=>t)}function o0(a){return"".concat(a).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function mS(a){return Object.keys(a||{}).reduce((t,s)=>t+"".concat(s,'="').concat(o0(a[s]),'" '),"").trim()}function Uf(a){return Object.keys(a||{}).reduce((t,s)=>t+"".concat(s,": ").concat(a[s].trim(),";"),"")}function Kx(a){return a.size!==nl.size||a.x!==nl.x||a.y!==nl.y||a.rotate!==nl.rotate||a.flipX||a.flipY}function fS(a){let{transform:t,containerWidth:s,iconWidth:i}=a;const r={transform:"translate(".concat(s/2," 256)")},c="translate(".concat(t.x*32,", ").concat(t.y*32,") "),A="scale(".concat(t.size/16*(t.flipX?-1:1),", ").concat(t.size/16*(t.flipY?-1:1),") "),d="rotate(".concat(t.rotate," 0 0)"),h={transform:"".concat(c," ").concat(A," ").concat(d)},u={transform:"translate(".concat(i/2*-1," -256)")};return{outer:r,inner:h,path:u}}function pS(a){let{transform:t,width:s=Bv,height:i=Bv,startCentered:r=!1}=a,c="";return r&&Jj?c+="translate(".concat(t.x/Wc-s/2,"em, ").concat(t.y/Wc-i/2,"em) "):r?c+="translate(calc(-50% + ".concat(t.x/Wc,"em), calc(-50% + ").concat(t.y/Wc,"em)) "):c+="translate(".concat(t.x/Wc,"em, ").concat(t.y/Wc,"em) "),c+="scale(".concat(t.size/Wc*(t.flipX?-1:1),", ").concat(t.size/Wc*(t.flipY?-1:1),") "),c+="rotate(".concat(t.rotate,"deg) "),c}var gS=`:root, :host {
  --fa-font-solid: normal 900 1em/1 "Font Awesome 6 Free";
  --fa-font-regular: normal 400 1em/1 "Font Awesome 6 Free";
  --fa-font-light: normal 300 1em/1 "Font Awesome 6 Pro";
  --fa-font-thin: normal 100 1em/1 "Font Awesome 6 Pro";
  --fa-font-duotone: normal 900 1em/1 "Font Awesome 6 Duotone";
  --fa-font-duotone-regular: normal 400 1em/1 "Font Awesome 6 Duotone";
  --fa-font-duotone-light: normal 300 1em/1 "Font Awesome 6 Duotone";
  --fa-font-duotone-thin: normal 100 1em/1 "Font Awesome 6 Duotone";
  --fa-font-brands: normal 400 1em/1 "Font Awesome 6 Brands";
  --fa-font-sharp-solid: normal 900 1em/1 "Font Awesome 6 Sharp";
  --fa-font-sharp-regular: normal 400 1em/1 "Font Awesome 6 Sharp";
  --fa-font-sharp-light: normal 300 1em/1 "Font Awesome 6 Sharp";
  --fa-font-sharp-thin: normal 100 1em/1 "Font Awesome 6 Sharp";
  --fa-font-sharp-duotone-solid: normal 900 1em/1 "Font Awesome 6 Sharp Duotone";
  --fa-font-sharp-duotone-regular: normal 400 1em/1 "Font Awesome 6 Sharp Duotone";
  --fa-font-sharp-duotone-light: normal 300 1em/1 "Font Awesome 6 Sharp Duotone";
  --fa-font-sharp-duotone-thin: normal 100 1em/1 "Font Awesome 6 Sharp Duotone";
}

svg:not(:root).svg-inline--fa, svg:not(:host).svg-inline--fa {
  overflow: visible;
  box-sizing: content-box;
}

.svg-inline--fa {
  display: var(--fa-display, inline-block);
  height: 1em;
  overflow: visible;
  vertical-align: -0.125em;
}
.svg-inline--fa.fa-2xs {
  vertical-align: 0.1em;
}
.svg-inline--fa.fa-xs {
  vertical-align: 0em;
}
.svg-inline--fa.fa-sm {
  vertical-align: -0.0714285705em;
}
.svg-inline--fa.fa-lg {
  vertical-align: -0.2em;
}
.svg-inline--fa.fa-xl {
  vertical-align: -0.25em;
}
.svg-inline--fa.fa-2xl {
  vertical-align: -0.3125em;
}
.svg-inline--fa.fa-pull-left {
  margin-right: var(--fa-pull-margin, 0.3em);
  width: auto;
}
.svg-inline--fa.fa-pull-right {
  margin-left: var(--fa-pull-margin, 0.3em);
  width: auto;
}
.svg-inline--fa.fa-li {
  width: var(--fa-li-width, 2em);
  top: 0.25em;
}
.svg-inline--fa.fa-fw {
  width: var(--fa-fw-width, 1.25em);
}

.fa-layers svg.svg-inline--fa {
  bottom: 0;
  left: 0;
  margin: auto;
  position: absolute;
  right: 0;
  top: 0;
}

.fa-layers-counter, .fa-layers-text {
  display: inline-block;
  position: absolute;
  text-align: center;
}

.fa-layers {
  display: inline-block;
  height: 1em;
  position: relative;
  text-align: center;
  vertical-align: -0.125em;
  width: 1em;
}
.fa-layers svg.svg-inline--fa {
  transform-origin: center center;
}

.fa-layers-text {
  left: 50%;
  top: 50%;
  transform: translate(-50%, -50%);
  transform-origin: center center;
}

.fa-layers-counter {
  background-color: var(--fa-counter-background-color, #ff253a);
  border-radius: var(--fa-counter-border-radius, 1em);
  box-sizing: border-box;
  color: var(--fa-inverse, #fff);
  line-height: var(--fa-counter-line-height, 1);
  max-width: var(--fa-counter-max-width, 5em);
  min-width: var(--fa-counter-min-width, 1.5em);
  overflow: hidden;
  padding: var(--fa-counter-padding, 0.25em 0.5em);
  right: var(--fa-right, 0);
  text-overflow: ellipsis;
  top: var(--fa-top, 0);
  transform: scale(var(--fa-counter-scale, 0.25));
  transform-origin: top right;
}

.fa-layers-bottom-right {
  bottom: var(--fa-bottom, 0);
  right: var(--fa-right, 0);
  top: auto;
  transform: scale(var(--fa-layers-scale, 0.25));
  transform-origin: bottom right;
}

.fa-layers-bottom-left {
  bottom: var(--fa-bottom, 0);
  left: var(--fa-left, 0);
  right: auto;
  top: auto;
  transform: scale(var(--fa-layers-scale, 0.25));
  transform-origin: bottom left;
}

.fa-layers-top-right {
  top: var(--fa-top, 0);
  right: var(--fa-right, 0);
  transform: scale(var(--fa-layers-scale, 0.25));
  transform-origin: top right;
}

.fa-layers-top-left {
  left: var(--fa-left, 0);
  right: auto;
  top: var(--fa-top, 0);
  transform: scale(var(--fa-layers-scale, 0.25));
  transform-origin: top left;
}

.fa-1x {
  font-size: 1em;
}

.fa-2x {
  font-size: 2em;
}

.fa-3x {
  font-size: 3em;
}

.fa-4x {
  font-size: 4em;
}

.fa-5x {
  font-size: 5em;
}

.fa-6x {
  font-size: 6em;
}

.fa-7x {
  font-size: 7em;
}

.fa-8x {
  font-size: 8em;
}

.fa-9x {
  font-size: 9em;
}

.fa-10x {
  font-size: 10em;
}

.fa-2xs {
  font-size: 0.625em;
  line-height: 0.1em;
  vertical-align: 0.225em;
}

.fa-xs {
  font-size: 0.75em;
  line-height: 0.0833333337em;
  vertical-align: 0.125em;
}

.fa-sm {
  font-size: 0.875em;
  line-height: 0.0714285718em;
  vertical-align: 0.0535714295em;
}

.fa-lg {
  font-size: 1.25em;
  line-height: 0.05em;
  vertical-align: -0.075em;
}

.fa-xl {
  font-size: 1.5em;
  line-height: 0.0416666682em;
  vertical-align: -0.125em;
}

.fa-2xl {
  font-size: 2em;
  line-height: 0.03125em;
  vertical-align: -0.1875em;
}

.fa-fw {
  text-align: center;
  width: 1.25em;
}

.fa-ul {
  list-style-type: none;
  margin-left: var(--fa-li-margin, 2.5em);
  padding-left: 0;
}
.fa-ul > li {
  position: relative;
}

.fa-li {
  left: calc(-1 * var(--fa-li-width, 2em));
  position: absolute;
  text-align: center;
  width: var(--fa-li-width, 2em);
  line-height: inherit;
}

.fa-border {
  border-color: var(--fa-border-color, #eee);
  border-radius: var(--fa-border-radius, 0.1em);
  border-style: var(--fa-border-style, solid);
  border-width: var(--fa-border-width, 0.08em);
  padding: var(--fa-border-padding, 0.2em 0.25em 0.15em);
}

.fa-pull-left {
  float: left;
  margin-right: var(--fa-pull-margin, 0.3em);
}

.fa-pull-right {
  float: right;
  margin-left: var(--fa-pull-margin, 0.3em);
}

.fa-beat {
  animation-name: fa-beat;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, ease-in-out);
}

.fa-bounce {
  animation-name: fa-bounce;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.28, 0.84, 0.42, 1));
}

.fa-fade {
  animation-name: fa-fade;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));
}

.fa-beat-fade {
  animation-name: fa-beat-fade;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));
}

.fa-flip {
  animation-name: fa-flip;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, ease-in-out);
}

.fa-shake {
  animation-name: fa-shake;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, linear);
}

.fa-spin {
  animation-name: fa-spin;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 2s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, linear);
}

.fa-spin-reverse {
  --fa-animation-direction: reverse;
}

.fa-pulse,
.fa-spin-pulse {
  animation-name: fa-spin;
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, steps(8));
}

@media (prefers-reduced-motion: reduce) {
  .fa-beat,
.fa-bounce,
.fa-fade,
.fa-beat-fade,
.fa-flip,
.fa-pulse,
.fa-shake,
.fa-spin,
.fa-spin-pulse {
    animation-delay: -1ms;
    animation-duration: 1ms;
    animation-iteration-count: 1;
    transition-delay: 0s;
    transition-duration: 0s;
  }
}
@keyframes fa-beat {
  0%, 90% {
    transform: scale(1);
  }
  45% {
    transform: scale(var(--fa-beat-scale, 1.25));
  }
}
@keyframes fa-bounce {
  0% {
    transform: scale(1, 1) translateY(0);
  }
  10% {
    transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);
  }
  30% {
    transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));
  }
  50% {
    transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);
  }
  57% {
    transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));
  }
  64% {
    transform: scale(1, 1) translateY(0);
  }
  100% {
    transform: scale(1, 1) translateY(0);
  }
}
@keyframes fa-fade {
  50% {
    opacity: var(--fa-fade-opacity, 0.4);
  }
}
@keyframes fa-beat-fade {
  0%, 100% {
    opacity: var(--fa-beat-fade-opacity, 0.4);
    transform: scale(1);
  }
  50% {
    opacity: 1;
    transform: scale(var(--fa-beat-fade-scale, 1.125));
  }
}
@keyframes fa-flip {
  50% {
    transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));
  }
}
@keyframes fa-shake {
  0% {
    transform: rotate(-15deg);
  }
  4% {
    transform: rotate(15deg);
  }
  8%, 24% {
    transform: rotate(-18deg);
  }
  12%, 28% {
    transform: rotate(18deg);
  }
  16% {
    transform: rotate(-22deg);
  }
  20% {
    transform: rotate(22deg);
  }
  32% {
    transform: rotate(-12deg);
  }
  36% {
    transform: rotate(12deg);
  }
  40%, 100% {
    transform: rotate(0deg);
  }
}
@keyframes fa-spin {
  0% {
    transform: rotate(0deg);
  }
  100% {
    transform: rotate(360deg);
  }
}
.fa-rotate-90 {
  transform: rotate(90deg);
}

.fa-rotate-180 {
  transform: rotate(180deg);
}

.fa-rotate-270 {
  transform: rotate(270deg);
}

.fa-flip-horizontal {
  transform: scale(-1, 1);
}

.fa-flip-vertical {
  transform: scale(1, -1);
}

.fa-flip-both,
.fa-flip-horizontal.fa-flip-vertical {
  transform: scale(-1, -1);
}

.fa-rotate-by {
  transform: rotate(var(--fa-rotate-angle, 0));
}

.fa-stack {
  display: inline-block;
  vertical-align: middle;
  height: 2em;
  position: relative;
  width: 2.5em;
}

.fa-stack-1x,
.fa-stack-2x {
  bottom: 0;
  left: 0;
  margin: auto;
  position: absolute;
  right: 0;
  top: 0;
  z-index: var(--fa-stack-z-index, auto);
}

.svg-inline--fa.fa-stack-1x {
  height: 1em;
  width: 1.25em;
}
.svg-inline--fa.fa-stack-2x {
  height: 2em;
  width: 2.5em;
}

.fa-inverse {
  color: var(--fa-inverse, #fff);
}

.sr-only,
.fa-sr-only {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border-width: 0;
}

.sr-only-focusable:not(:focus),
.fa-sr-only-focusable:not(:focus) {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border-width: 0;
}

.svg-inline--fa .fa-primary {
  fill: var(--fa-primary-color, currentColor);
  opacity: var(--fa-primary-opacity, 1);
}

.svg-inline--fa .fa-secondary {
  fill: var(--fa-secondary-color, currentColor);
  opacity: var(--fa-secondary-opacity, 0.4);
}

.svg-inline--fa.fa-swap-opacity .fa-primary {
  opacity: var(--fa-secondary-opacity, 0.4);
}

.svg-inline--fa.fa-swap-opacity .fa-secondary {
  opacity: var(--fa-primary-opacity, 1);
}

.svg-inline--fa mask .fa-primary,
.svg-inline--fa mask .fa-secondary {
  fill: black;
}`;function A0(){const a=i0,t=s0,s=na.cssPrefix,i=na.replacementClass;let r=gS;if(s!==a||i!==t){const c=new RegExp("\\.".concat(a,"\\-"),"g"),A=new RegExp("\\--".concat(a,"\\-"),"g"),d=new RegExp("\\.".concat(t),"g");r=r.replace(c,".".concat(s,"-")).replace(A,"--".concat(s,"-")).replace(d,".".concat(i))}return r}let vw=!1;function Sg(){na.autoAddCss&&!vw&&(uS(A0()),vw=!0)}var vS={mixout(){return{dom:{css:A0,insertCss:Sg}}},hooks(){return{beforeDOMElementCreation(){Sg()},beforeI2svg(){Sg()}}}};const Yl=Ao||{};Yl[Wl]||(Yl[Wl]={});Yl[Wl].styles||(Yl[Wl].styles={});Yl[Wl].hooks||(Yl[Wl].hooks={});Yl[Wl].shims||(Yl[Wl].shims=[]);var rl=Yl[Wl];const d0=[],u0=function(){di.removeEventListener("DOMContentLoaded",u0),of=1,d0.map(a=>a())};let of=!1;ec&&(of=(di.documentElement.doScroll?/^loaded|^c/:/^loaded|^i|^c/).test(di.readyState),of||di.addEventListener("DOMContentLoaded",u0));function xS(a){ec&&(of?setTimeout(a,0):d0.push(a))}function hh(a){const{tag:t,attributes:s={},children:i=[]}=a;return typeof a=="string"?o0(a):"<".concat(t," ").concat(mS(s),">").concat(i.map(hh).join(""),"</").concat(t,">")}function xw(a,t,s){if(a&&a[t]&&a[t][s])return{prefix:t,iconName:s,icon:a[t][s]}}var _g=function(t,s,i,r){var c=Object.keys(t),A=c.length,d=s,h,u,v;for(i===void 0?(h=1,v=t[c[0]]):(h=0,v=i);h<A;h++)u=c[h],v=d(v,t[u],u,t);return v};function yS(a){const t=[];let s=0;const i=a.length;for(;s<i;){const r=a.charCodeAt(s++);if(r>=55296&&r<=56319&&s<i){const c=a.charCodeAt(s++);(c&64512)==56320?t.push(((r&1023)<<10)+(c&1023)+65536):(t.push(r),s--)}else t.push(r)}return t}function Dv(a){const t=yS(a);return t.length===1?t[0].toString(16):null}function bS(a,t){const s=a.length;let i=a.charCodeAt(t),r;return i>=55296&&i<=56319&&s>t+1&&(r=a.charCodeAt(t+1),r>=56320&&r<=57343)?(i-55296)*1024+r-56320+65536:i}function yw(a){return Object.keys(a).reduce((t,s)=>{const i=a[s];return!!i.icon?t[i.iconName]=i.icon:t[s]=i,t},{})}function Ev(a,t){let s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const{skipHooks:i=!1}=s,r=yw(t);typeof rl.hooks.addPack=="function"&&!i?rl.hooks.addPack(a,yw(t)):rl.styles[a]=Ht(Ht({},rl.styles[a]||{}),r),a==="fas"&&Ev("fa",t)}const{styles:ih,shims:wS}=rl,h0=Object.keys(Hx),NS=h0.reduce((a,t)=>(a[t]=Object.keys(Hx[t]),a),{});let Vx=null,m0={},f0={},p0={},g0={},v0={};function jS(a){return~cS.indexOf(a)}function BS(a,t){const s=t.split("-"),i=s[0],r=s.slice(1).join("-");return i===a&&r!==""&&!jS(r)?r:null}const x0=()=>{const a=i=>_g(ih,(r,c,A)=>(r[A]=_g(c,i,{}),r),{});m0=a((i,r,c)=>(r[3]&&(i[r[3]]=c),r[2]&&r[2].filter(d=>typeof d=="number").forEach(d=>{i[d.toString(16)]=c}),i)),f0=a((i,r,c)=>(i[c]=c,r[2]&&r[2].filter(d=>typeof d=="string").forEach(d=>{i[d]=c}),i)),v0=a((i,r,c)=>{const A=r[2];return i[c]=c,A.forEach(d=>{i[d]=c}),i});const t="far"in ih||na.autoFetchSvg,s=_g(wS,(i,r)=>{const c=r[0];let A=r[1];const d=r[2];return A==="far"&&!t&&(A="fas"),typeof c=="string"&&(i.names[c]={prefix:A,iconName:d}),typeof c=="number"&&(i.unicodes[c.toString(16)]={prefix:A,iconName:d}),i},{names:{},unicodes:{}});p0=s.names,g0=s.unicodes,Vx=Of(na.styleDefault,{family:na.familyDefault})};dS(a=>{Vx=Of(a.styleDefault,{family:na.familyDefault})});x0();function zx(a,t){return(m0[a]||{})[t]}function CS(a,t){return(f0[a]||{})[t]}function cA(a,t){return(v0[a]||{})[t]}function y0(a){return p0[a]||{prefix:null,iconName:null}}function SS(a){const t=g0[a],s=zx("fas",a);return t||(s?{prefix:"fas",iconName:s}:null)||{prefix:null,iconName:null}}function uo(){return Vx}const b0=()=>({prefix:null,iconName:null,rest:[]});function _S(a){let t=Os;const s=h0.reduce((i,r)=>(i[r]="".concat(na.cssPrefix,"-").concat(r),i),{});return t0.forEach(i=>{(a.includes(s[i])||a.some(r=>NS[i].includes(r)))&&(t=i)}),t}function Of(a){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{family:s=Os}=t,i=iS[s][a];if(s===Mf&&!a)return"fad";const r=gw[s][a]||gw[s][i],c=a in rl.styles?a:null;return r||c||null}function FS(a){let t=[],s=null;return a.forEach(i=>{const r=BS(na.cssPrefix,i);r?s=r:i&&t.push(i)}),{iconName:s,rest:t}}function bw(a){return a.sort().filter((t,s,i)=>i.indexOf(t)===s)}function kf(a){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{skipLookups:s=!1}=t;let i=null;const r=jv.concat(V5),c=bw(a.filter(x=>r.includes(x))),A=bw(a.filter(x=>!jv.includes(x))),d=c.filter(x=>(i=x,!e0.includes(x))),[h=null]=d,u=_S(c),v=Ht(Ht({},FS(A)),{},{prefix:Of(h,{family:u})});return Ht(Ht(Ht({},v),MS({values:a,family:u,styles:ih,config:na,canonical:v,givenPrefix:i})),DS(s,i,v))}function DS(a,t,s){let{prefix:i,iconName:r}=s;if(a||!i||!r)return{prefix:i,iconName:r};const c=t==="fa"?y0(r):{},A=cA(i,r);return r=c.iconName||A||r,i=c.prefix||i,i==="far"&&!ih.far&&ih.fas&&!na.autoFetchSvg&&(i="fas"),{prefix:i,iconName:r}}const ES=t0.filter(a=>a!==Os||a!==Mf),LS=Object.keys(Nv).filter(a=>a!==Os).map(a=>Object.keys(Nv[a])).flat();function MS(a){const{values:t,family:s,canonical:i,givenPrefix:r="",styles:c={},config:A={}}=a,d=s===Mf,h=t.includes("fa-duotone")||t.includes("fad"),u=A.familyDefault==="duotone",v=i.prefix==="fad"||i.prefix==="fa-duotone";if(!d&&(h||u||v)&&(i.prefix="fad"),(t.includes("fa-brands")||t.includes("fab"))&&(i.prefix="fab"),!i.prefix&&ES.includes(s)&&(Object.keys(c).find(y=>LS.includes(y))||A.autoFetchSvg)){const y=I5.get(s).defaultShortPrefixId;i.prefix=y,i.iconName=cA(i.prefix,i.iconName)||i.iconName}return(i.prefix==="fa"||r==="fa")&&(i.prefix=uo()||"fas"),i}class US{constructor(){this.definitions={}}add(){for(var t=arguments.length,s=new Array(t),i=0;i<t;i++)s[i]=arguments[i];const r=s.reduce(this._pullDefinitions,{});Object.keys(r).forEach(c=>{this.definitions[c]=Ht(Ht({},this.definitions[c]||{}),r[c]),Ev(c,r[c]);const A=Hx[Os][c];A&&Ev(A,r[c]),x0()})}reset(){this.definitions={}}_pullDefinitions(t,s){const i=s.prefix&&s.iconName&&s.icon?{0:s}:s;return Object.keys(i).map(r=>{const{prefix:c,iconName:A,icon:d}=i[r],h=d[2];t[c]||(t[c]={}),h.length>0&&h.forEach(u=>{typeof u=="string"&&(t[c][u]=d)}),t[c][A]=d}),t}}let ww=[],xd={};const Nd={},OS=Object.keys(Nd);function kS(a,t){let{mixoutsTo:s}=t;return ww=a,xd={},Object.keys(Nd).forEach(i=>{OS.indexOf(i)===-1&&delete Nd[i]}),ww.forEach(i=>{const r=i.mixout?i.mixout():{};if(Object.keys(r).forEach(c=>{typeof r[c]=="function"&&(s[c]=r[c]),typeof r[c]=="object"&&Object.keys(r[c]).forEach(A=>{s[c]||(s[c]={}),s[c][A]=r[c][A]})}),i.hooks){const c=i.hooks();Object.keys(c).forEach(A=>{xd[A]||(xd[A]=[]),xd[A].push(c[A])})}i.provides&&i.provides(Nd)}),s}function Lv(a,t){for(var s=arguments.length,i=new Array(s>2?s-2:0),r=2;r<s;r++)i[r-2]=arguments[r];return(xd[a]||[]).forEach(A=>{t=A.apply(null,[t,...i])}),t}function pA(a){for(var t=arguments.length,s=new Array(t>1?t-1:0),i=1;i<t;i++)s[i-1]=arguments[i];(xd[a]||[]).forEach(c=>{c.apply(null,s)})}function ho(){const a=arguments[0],t=Array.prototype.slice.call(arguments,1);return Nd[a]?Nd[a].apply(null,t):void 0}function Mv(a){a.prefix==="fa"&&(a.prefix="fas");let{iconName:t}=a;const s=a.prefix||uo();if(t)return t=cA(s,t)||t,xw(w0.definitions,s,t)||xw(rl.styles,s,t)}const w0=new US,IS=()=>{na.autoReplaceSvg=!1,na.observeMutations=!1,pA("noAuto")},QS={i2svg:function(){let a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return ec?(pA("beforeI2svg",a),ho("pseudoElements2svg",a),ho("i2svg",a)):Promise.reject(new Error("Operation requires a DOM of some kind."))},watch:function(){let a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const{autoReplaceSvgRoot:t}=a;na.autoReplaceSvg===!1&&(na.autoReplaceSvg=!0),na.observeMutations=!0,xS(()=>{RS({autoReplaceSvgRoot:t}),pA("watch",a)})}},TS={icon:a=>{if(a===null)return null;if(typeof a=="object"&&a.prefix&&a.iconName)return{prefix:a.prefix,iconName:cA(a.prefix,a.iconName)||a.iconName};if(Array.isArray(a)&&a.length===2){const t=a[1].indexOf("fa-")===0?a[1].slice(3):a[1],s=Of(a[0]);return{prefix:s,iconName:cA(s,t)||t}}if(typeof a=="string"&&(a.indexOf("".concat(na.cssPrefix,"-"))>-1||a.match(sS))){const t=kf(a.split(" "),{skipLookups:!0});return{prefix:t.prefix||uo(),iconName:cA(t.prefix,t.iconName)||t.iconName}}if(typeof a=="string"){const t=uo();return{prefix:t,iconName:cA(t,a)||a}}}},En={noAuto:IS,config:na,dom:QS,parse:TS,library:w0,findIconDefinition:Mv,toHtml:hh},RS=function(){let a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const{autoReplaceSvgRoot:t=di}=a;(Object.keys(rl.styles).length>0||na.autoFetchSvg)&&ec&&na.autoReplaceSvg&&En.dom.i2svg({node:t})};function If(a,t){return Object.defineProperty(a,"abstract",{get:t}),Object.defineProperty(a,"html",{get:function(){return a.abstract.map(s=>hh(s))}}),Object.defineProperty(a,"node",{get:function(){if(!ec)return;const s=di.createElement("div");return s.innerHTML=a.html,s.children}}),a}function PS(a){let{children:t,main:s,mask:i,attributes:r,styles:c,transform:A}=a;if(Kx(A)&&s.found&&!i.found){const{width:d,height:h}=s,u={x:d/h/2,y:.5};r.style=Uf(Ht(Ht({},c),{},{"transform-origin":"".concat(u.x+A.x/16,"em ").concat(u.y+A.y/16,"em")}))}return[{tag:"svg",attributes:r,children:t}]}function HS(a){let{prefix:t,iconName:s,children:i,attributes:r,symbol:c}=a;const A=c===!0?"".concat(t,"-").concat(na.cssPrefix,"-").concat(s):c;return[{tag:"svg",attributes:{style:"display: none;"},children:[{tag:"symbol",attributes:Ht(Ht({},r),{},{id:A}),children:i}]}]}function $x(a){const{icons:{main:t,mask:s},prefix:i,iconName:r,transform:c,symbol:A,title:d,maskId:h,titleId:u,extra:v,watchable:x=!1}=a,{width:y,height:p}=s.found?s:t,F=H5.includes(i),b=[na.replacementClass,r?"".concat(na.cssPrefix,"-").concat(r):""].filter(K=>v.classes.indexOf(K)===-1).filter(K=>K!==""||!!K).concat(v.classes).join(" ");let S={children:[],attributes:Ht(Ht({},v.attributes),{},{"data-prefix":i,"data-icon":r,class:b,role:v.attributes.role||"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 ".concat(y," ").concat(p)})};const f=F&&!~v.classes.indexOf("fa-fw")?{width:"".concat(y/p*16*.0625,"em")}:{};x&&(S.attributes[fA]=""),d&&(S.children.push({tag:"title",attributes:{id:S.attributes["aria-labelledby"]||"title-".concat(u||ah())},children:[d]}),delete S.attributes.title);const O=Ht(Ht({},S),{},{prefix:i,iconName:r,main:t,mask:s,maskId:h,transform:c,symbol:A,styles:Ht(Ht({},f),v.styles)}),{children:M,attributes:J}=s.found&&t.found?ho("generateAbstractMask",O)||{children:[],attributes:{}}:ho("generateAbstractIcon",O)||{children:[],attributes:{}};return O.children=M,O.attributes=J,A?HS(O):PS(O)}function Nw(a){const{content:t,width:s,height:i,transform:r,title:c,extra:A,watchable:d=!1}=a,h=Ht(Ht(Ht({},A.attributes),c?{title:c}:{}),{},{class:A.classes.join(" ")});d&&(h[fA]="");const u=Ht({},A.styles);Kx(r)&&(u.transform=pS({transform:r,startCentered:!0,width:s,height:i}),u["-webkit-transform"]=u.transform);const v=Uf(u);v.length>0&&(h.style=v);const x=[];return x.push({tag:"span",attributes:h,children:[t]}),c&&x.push({tag:"span",attributes:{class:"sr-only"},children:[c]}),x}function qS(a){const{content:t,title:s,extra:i}=a,r=Ht(Ht(Ht({},i.attributes),s?{title:s}:{}),{},{class:i.classes.join(" ")}),c=Uf(i.styles);c.length>0&&(r.style=c);const A=[];return A.push({tag:"span",attributes:r,children:[t]}),s&&A.push({tag:"span",attributes:{class:"sr-only"},children:[s]}),A}const{styles:Fg}=rl;function Uv(a){const t=a[0],s=a[1],[i]=a.slice(4);let r=null;return Array.isArray(i)?r={tag:"g",attributes:{class:"".concat(na.cssPrefix,"-").concat(Cg.GROUP)},children:[{tag:"path",attributes:{class:"".concat(na.cssPrefix,"-").concat(Cg.SECONDARY),fill:"currentColor",d:i[0]}},{tag:"path",attributes:{class:"".concat(na.cssPrefix,"-").concat(Cg.PRIMARY),fill:"currentColor",d:i[1]}}]}:r={tag:"path",attributes:{fill:"currentColor",d:i}},{found:!0,width:t,height:s,icon:r}}const KS={found:!1,width:512,height:512};function VS(a,t){!n0&&!na.showMissingIcons&&a&&console.error('Icon with name "'.concat(a,'" and prefix "').concat(t,'" is missing.'))}function Ov(a,t){let s=t;return t==="fa"&&na.styleDefault!==null&&(t=uo()),new Promise((i,r)=>{if(s==="fa"){const c=y0(a)||{};a=c.iconName||a,t=c.prefix||t}if(a&&t&&Fg[t]&&Fg[t][a]){const c=Fg[t][a];return i(Uv(c))}VS(a,t),i(Ht(Ht({},KS),{},{icon:na.showMissingIcons&&a?ho("missingIconAbstract")||{}:{}}))})}const jw=()=>{},kv=na.measurePerformance&&hm&&hm.mark&&hm.measure?hm:{mark:jw,measure:jw},Qu='FA "6.7.2"',zS=a=>(kv.mark("".concat(Qu," ").concat(a," begins")),()=>N0(a)),N0=a=>{kv.mark("".concat(Qu," ").concat(a," ends")),kv.measure("".concat(Qu," ").concat(a),"".concat(Qu," ").concat(a," begins"),"".concat(Qu," ").concat(a," ends"))};var Gx={begin:zS,end:N0};const $m=()=>{};function Bw(a){return typeof(a.getAttribute?a.getAttribute(fA):null)=="string"}function $S(a){const t=a.getAttribute?a.getAttribute(Rx):null,s=a.getAttribute?a.getAttribute(Px):null;return t&&s}function GS(a){return a&&a.classList&&a.classList.contains&&a.classList.contains(na.replacementClass)}function WS(){return na.autoReplaceSvg===!0?Gm.replace:Gm[na.autoReplaceSvg]||Gm.replace}function YS(a){return di.createElementNS("http://www.w3.org/2000/svg",a)}function XS(a){return di.createElement(a)}function j0(a){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{ceFn:s=a.tag==="svg"?YS:XS}=t;if(typeof a=="string")return di.createTextNode(a);const i=s(a.tag);return Object.keys(a.attributes||[]).forEach(function(c){i.setAttribute(c,a.attributes[c])}),(a.children||[]).forEach(function(c){i.appendChild(j0(c,{ceFn:s}))}),i}function JS(a){let t=" ".concat(a.outerHTML," ");return t="".concat(t,"Font Awesome fontawesome.com "),t}const Gm={replace:function(a){const t=a[0];if(t.parentNode)if(a[1].forEach(s=>{t.parentNode.insertBefore(j0(s),t)}),t.getAttribute(fA)===null&&na.keepOriginalSource){let s=di.createComment(JS(t));t.parentNode.replaceChild(s,t)}else t.remove()},nest:function(a){const t=a[0],s=a[1];if(~qx(t).indexOf(na.replacementClass))return Gm.replace(a);const i=new RegExp("".concat(na.cssPrefix,"-.*"));if(delete s[0].attributes.id,s[0].attributes.class){const c=s[0].attributes.class.split(" ").reduce((A,d)=>(d===na.replacementClass||d.match(i)?A.toSvg.push(d):A.toNode.push(d),A),{toNode:[],toSvg:[]});s[0].attributes.class=c.toSvg.join(" "),c.toNode.length===0?t.removeAttribute("class"):t.setAttribute("class",c.toNode.join(" "))}const r=s.map(c=>hh(c)).join(`
`);t.setAttribute(fA,""),t.innerHTML=r}};function Cw(a){a()}function B0(a,t){const s=typeof t=="function"?t:$m;if(a.length===0)s();else{let i=Cw;na.mutateApproach===tS&&(i=Ao.requestAnimationFrame||Cw),i(()=>{const r=WS(),c=Gx.begin("mutate");a.map(r),c(),s()})}}let Wx=!1;function C0(){Wx=!0}function Iv(){Wx=!1}let Af=null;function Sw(a){if(!hw||!na.observeMutations)return;const{treeCallback:t=$m,nodeCallback:s=$m,pseudoElementsCallback:i=$m,observeMutationsRoot:r=di}=a;Af=new hw(c=>{if(Wx)return;const A=uo();Ud(c).forEach(d=>{if(d.type==="childList"&&d.addedNodes.length>0&&!Bw(d.addedNodes[0])&&(na.searchPseudoElements&&i(d.target),t(d.target)),d.type==="attributes"&&d.target.parentNode&&na.searchPseudoElements&&i(d.target.parentNode),d.type==="attributes"&&Bw(d.target)&&~lS.indexOf(d.attributeName))if(d.attributeName==="class"&&$S(d.target)){const{prefix:h,iconName:u}=kf(qx(d.target));d.target.setAttribute(Rx,h||A),u&&d.target.setAttribute(Px,u)}else GS(d.target)&&s(d.target)})}),ec&&Af.observe(r,{childList:!0,attributes:!0,characterData:!0,subtree:!0})}function ZS(){Af&&Af.disconnect()}function e_(a){const t=a.getAttribute("style");let s=[];return t&&(s=t.split(";").reduce((i,r)=>{const c=r.split(":"),A=c[0],d=c.slice(1);return A&&d.length>0&&(i[A]=d.join(":").trim()),i},{})),s}function t_(a){const t=a.getAttribute("data-prefix"),s=a.getAttribute("data-icon"),i=a.innerText!==void 0?a.innerText.trim():"";let r=kf(qx(a));return r.prefix||(r.prefix=uo()),t&&s&&(r.prefix=t,r.iconName=s),r.iconName&&r.prefix||(r.prefix&&i.length>0&&(r.iconName=CS(r.prefix,a.innerText)||zx(r.prefix,Dv(a.innerText))),!r.iconName&&na.autoFetchSvg&&a.firstChild&&a.firstChild.nodeType===Node.TEXT_NODE&&(r.iconName=a.firstChild.data)),r}function a_(a){const t=Ud(a.attributes).reduce((r,c)=>(r.name!=="class"&&r.name!=="style"&&(r[c.name]=c.value),r),{}),s=a.getAttribute("title"),i=a.getAttribute("data-fa-title-id");return na.autoA11y&&(s?t["aria-labelledby"]="".concat(na.replacementClass,"-title-").concat(i||ah()):(t["aria-hidden"]="true",t.focusable="false")),t}function i_(){return{iconName:null,title:null,titleId:null,prefix:null,transform:nl,symbol:!1,mask:{iconName:null,prefix:null,rest:[]},maskId:null,extra:{classes:[],styles:{},attributes:{}}}}function _w(a){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{styleParser:!0};const{iconName:s,prefix:i,rest:r}=t_(a),c=a_(a),A=Lv("parseNodeAttributes",{},a);let d=t.styleParser?e_(a):[];return Ht({iconName:s,title:a.getAttribute("title"),titleId:a.getAttribute("data-fa-title-id"),prefix:i,transform:nl,mask:{iconName:null,prefix:null,rest:[]},maskId:null,symbol:!1,extra:{classes:r,styles:d,attributes:c}},A)}const{styles:s_}=rl;function S0(a){const t=na.autoReplaceSvg==="nest"?_w(a,{styleParser:!1}):_w(a);return~t.extra.classes.indexOf(l0)?ho("generateLayersText",a,t):ho("generateSvgReplacementMutation",a,t)}function n_(){return[...T5,...jv]}function Fw(a){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(!ec)return Promise.resolve();const s=di.documentElement.classList,i=v=>s.add("".concat(pw,"-").concat(v)),r=v=>s.remove("".concat(pw,"-").concat(v)),c=na.autoFetchSvg?n_():e0.concat(Object.keys(s_));c.includes("fa")||c.push("fa");const A=[".".concat(l0,":not([").concat(fA,"])")].concat(c.map(v=>".".concat(v,":not([").concat(fA,"])"))).join(", ");if(A.length===0)return Promise.resolve();let d=[];try{d=Ud(a.querySelectorAll(A))}catch{}if(d.length>0)i("pending"),r("complete");else return Promise.resolve();const h=Gx.begin("onTree"),u=d.reduce((v,x)=>{try{const y=S0(x);y&&v.push(y)}catch(y){n0||y.name==="MissingIcon"&&console.error(y)}return v},[]);return new Promise((v,x)=>{Promise.all(u).then(y=>{B0(y,()=>{i("active"),i("complete"),r("pending"),typeof t=="function"&&t(),h(),v()})}).catch(y=>{h(),x(y)})})}function r_(a){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;S0(a).then(s=>{s&&B0([s],t)})}function l_(a){return function(t){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const i=(t||{}).icon?t:Mv(t||{});let{mask:r}=s;return r&&(r=(r||{}).icon?r:Mv(r||{})),a(i,Ht(Ht({},s),{},{mask:r}))}}const c_=function(a){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{transform:s=nl,symbol:i=!1,mask:r=null,maskId:c=null,title:A=null,titleId:d=null,classes:h=[],attributes:u={},styles:v={}}=t;if(!a)return;const{prefix:x,iconName:y,icon:p}=a;return If(Ht({type:"icon"},a),()=>(pA("beforeDOMElementCreation",{iconDefinition:a,params:t}),na.autoA11y&&(A?u["aria-labelledby"]="".concat(na.replacementClass,"-title-").concat(d||ah()):(u["aria-hidden"]="true",u.focusable="false")),$x({icons:{main:Uv(p),mask:r?Uv(r.icon):{found:!1,width:null,height:null,icon:{}}},prefix:x,iconName:y,transform:Ht(Ht({},nl),s),symbol:i,title:A,maskId:c,titleId:d,extra:{attributes:u,styles:v,classes:h}})))};var o_={mixout(){return{icon:l_(c_)}},hooks(){return{mutationObserverCallbacks(a){return a.treeCallback=Fw,a.nodeCallback=r_,a}}},provides(a){a.i2svg=function(t){const{node:s=di,callback:i=()=>{}}=t;return Fw(s,i)},a.generateSvgReplacementMutation=function(t,s){const{iconName:i,title:r,titleId:c,prefix:A,transform:d,symbol:h,mask:u,maskId:v,extra:x}=s;return new Promise((y,p)=>{Promise.all([Ov(i,A),u.iconName?Ov(u.iconName,u.prefix):Promise.resolve({found:!1,width:512,height:512,icon:{}})]).then(F=>{let[b,S]=F;y([t,$x({icons:{main:b,mask:S},prefix:A,iconName:i,transform:d,symbol:h,maskId:v,title:r,titleId:c,extra:x,watchable:!0})])}).catch(p)})},a.generateAbstractIcon=function(t){let{children:s,attributes:i,main:r,transform:c,styles:A}=t;const d=Uf(A);d.length>0&&(i.style=d);let h;return Kx(c)&&(h=ho("generateAbstractTransformGrouping",{main:r,transform:c,containerWidth:r.width,iconWidth:r.width})),s.push(h||r.icon),{children:s,attributes:i}}}},A_={mixout(){return{layer(a){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{classes:s=[]}=t;return If({type:"layer"},()=>{pA("beforeDOMElementCreation",{assembler:a,params:t});let i=[];return a(r=>{Array.isArray(r)?r.map(c=>{i=i.concat(c.abstract)}):i=i.concat(r.abstract)}),[{tag:"span",attributes:{class:["".concat(na.cssPrefix,"-layers"),...s].join(" ")},children:i}]})}}}},d_={mixout(){return{counter(a){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{title:s=null,classes:i=[],attributes:r={},styles:c={}}=t;return If({type:"counter",content:a},()=>(pA("beforeDOMElementCreation",{content:a,params:t}),qS({content:a.toString(),title:s,extra:{attributes:r,styles:c,classes:["".concat(na.cssPrefix,"-layers-counter"),...i]}})))}}}},u_={mixout(){return{text(a){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{transform:s=nl,title:i=null,classes:r=[],attributes:c={},styles:A={}}=t;return If({type:"text",content:a},()=>(pA("beforeDOMElementCreation",{content:a,params:t}),Nw({content:a,transform:Ht(Ht({},nl),s),title:i,extra:{attributes:c,styles:A,classes:["".concat(na.cssPrefix,"-layers-text"),...r]}})))}}},provides(a){a.generateLayersText=function(t,s){const{title:i,transform:r,extra:c}=s;let A=null,d=null;if(Jj){const h=parseInt(getComputedStyle(t).fontSize,10),u=t.getBoundingClientRect();A=u.width/h,d=u.height/h}return na.autoA11y&&!i&&(c.attributes["aria-hidden"]="true"),Promise.resolve([t,Nw({content:t.innerHTML,width:A,height:d,transform:r,title:i,extra:c,watchable:!0})])}}};const h_=new RegExp('"',"ug"),Dw=[1105920,1112319],Ew=Ht(Ht(Ht(Ht({},{FontAwesome:{normal:"fas",400:"fas"}}),k5),Z5),z5),Qv=Object.keys(Ew).reduce((a,t)=>(a[t.toLowerCase()]=Ew[t],a),{}),m_=Object.keys(Qv).reduce((a,t)=>{const s=Qv[t];return a[t]=s[900]||[...Object.entries(s)][0][1],a},{});function f_(a){const t=a.replace(h_,""),s=bS(t,0),i=s>=Dw[0]&&s<=Dw[1],r=t.length===2?t[0]===t[1]:!1;return{value:Dv(r?t[0]:t),isSecondary:i||r}}function p_(a,t){const s=a.replace(/^['"]|['"]$/g,"").toLowerCase(),i=parseInt(t),r=isNaN(i)?"normal":i;return(Qv[s]||{})[r]||m_[s]}function Lw(a,t){const s="".concat(eS).concat(t.replace(":","-"));return new Promise((i,r)=>{if(a.getAttribute(s)!==null)return i();const A=Ud(a.children).filter(y=>y.getAttribute(Cv)===t)[0],d=Ao.getComputedStyle(a,t),h=d.getPropertyValue("font-family"),u=h.match(nS),v=d.getPropertyValue("font-weight"),x=d.getPropertyValue("content");if(A&&!u)return a.removeChild(A),i();if(u&&x!=="none"&&x!==""){const y=d.getPropertyValue("content");let p=p_(h,v);const{value:F,isSecondary:b}=f_(y),S=u[0].startsWith("FontAwesome");let f=zx(p,F),O=f;if(S){const M=SS(F);M.iconName&&M.prefix&&(f=M.iconName,p=M.prefix)}if(f&&!b&&(!A||A.getAttribute(Rx)!==p||A.getAttribute(Px)!==O)){a.setAttribute(s,O),A&&a.removeChild(A);const M=i_(),{extra:J}=M;J.attributes[Cv]=t,Ov(f,p).then(K=>{const H=$x(Ht(Ht({},M),{},{icons:{main:K,mask:b0()},prefix:p,iconName:O,extra:J,watchable:!0})),k=di.createElementNS("http://www.w3.org/2000/svg","svg");t==="::before"?a.insertBefore(k,a.firstChild):a.appendChild(k),k.outerHTML=H.map(Y=>hh(Y)).join(`
`),a.removeAttribute(s),i()}).catch(r)}else i()}else i()})}function g_(a){return Promise.all([Lw(a,"::before"),Lw(a,"::after")])}function v_(a){return a.parentNode!==document.head&&!~aS.indexOf(a.tagName.toUpperCase())&&!a.getAttribute(Cv)&&(!a.parentNode||a.parentNode.tagName!=="svg")}function Mw(a){if(ec)return new Promise((t,s)=>{const i=Ud(a.querySelectorAll("*")).filter(v_).map(g_),r=Gx.begin("searchPseudoElements");C0(),Promise.all(i).then(()=>{r(),Iv(),t()}).catch(()=>{r(),Iv(),s()})})}var x_={hooks(){return{mutationObserverCallbacks(a){return a.pseudoElementsCallback=Mw,a}}},provides(a){a.pseudoElements2svg=function(t){const{node:s=di}=t;na.searchPseudoElements&&Mw(s)}}};let Uw=!1;var y_={mixout(){return{dom:{unwatch(){C0(),Uw=!0}}}},hooks(){return{bootstrap(){Sw(Lv("mutationObserverCallbacks",{}))},noAuto(){ZS()},watch(a){const{observeMutationsRoot:t}=a;Uw?Iv():Sw(Lv("mutationObserverCallbacks",{observeMutationsRoot:t}))}}}};const Ow=a=>{let t={size:16,x:0,y:0,flipX:!1,flipY:!1,rotate:0};return a.toLowerCase().split(" ").reduce((s,i)=>{const r=i.toLowerCase().split("-"),c=r[0];let A=r.slice(1).join("-");if(c&&A==="h")return s.flipX=!0,s;if(c&&A==="v")return s.flipY=!0,s;if(A=parseFloat(A),isNaN(A))return s;switch(c){case"grow":s.size=s.size+A;break;case"shrink":s.size=s.size-A;break;case"left":s.x=s.x-A;break;case"right":s.x=s.x+A;break;case"up":s.y=s.y-A;break;case"down":s.y=s.y+A;break;case"rotate":s.rotate=s.rotate+A;break}return s},t)};var b_={mixout(){return{parse:{transform:a=>Ow(a)}}},hooks(){return{parseNodeAttributes(a,t){const s=t.getAttribute("data-fa-transform");return s&&(a.transform=Ow(s)),a}}},provides(a){a.generateAbstractTransformGrouping=function(t){let{main:s,transform:i,containerWidth:r,iconWidth:c}=t;const A={transform:"translate(".concat(r/2," 256)")},d="translate(".concat(i.x*32,", ").concat(i.y*32,") "),h="scale(".concat(i.size/16*(i.flipX?-1:1),", ").concat(i.size/16*(i.flipY?-1:1),") "),u="rotate(".concat(i.rotate," 0 0)"),v={transform:"".concat(d," ").concat(h," ").concat(u)},x={transform:"translate(".concat(c/2*-1," -256)")},y={outer:A,inner:v,path:x};return{tag:"g",attributes:Ht({},y.outer),children:[{tag:"g",attributes:Ht({},y.inner),children:[{tag:s.icon.tag,children:s.icon.children,attributes:Ht(Ht({},s.icon.attributes),y.path)}]}]}}}};const Dg={x:0,y:0,width:"100%",height:"100%"};function kw(a){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return a.attributes&&(a.attributes.fill||t)&&(a.attributes.fill="black"),a}function w_(a){return a.tag==="g"?a.children:[a]}var N_={hooks(){return{parseNodeAttributes(a,t){const s=t.getAttribute("data-fa-mask"),i=s?kf(s.split(" ").map(r=>r.trim())):b0();return i.prefix||(i.prefix=uo()),a.mask=i,a.maskId=t.getAttribute("data-fa-mask-id"),a}}},provides(a){a.generateAbstractMask=function(t){let{children:s,attributes:i,main:r,mask:c,maskId:A,transform:d}=t;const{width:h,icon:u}=r,{width:v,icon:x}=c,y=fS({transform:d,containerWidth:v,iconWidth:h}),p={tag:"rect",attributes:Ht(Ht({},Dg),{},{fill:"white"})},F=u.children?{children:u.children.map(kw)}:{},b={tag:"g",attributes:Ht({},y.inner),children:[kw(Ht({tag:u.tag,attributes:Ht(Ht({},u.attributes),y.path)},F))]},S={tag:"g",attributes:Ht({},y.outer),children:[b]},f="mask-".concat(A||ah()),O="clip-".concat(A||ah()),M={tag:"mask",attributes:Ht(Ht({},Dg),{},{id:f,maskUnits:"userSpaceOnUse",maskContentUnits:"userSpaceOnUse"}),children:[p,S]},J={tag:"defs",children:[{tag:"clipPath",attributes:{id:O},children:w_(x)},M]};return s.push(J,{tag:"rect",attributes:Ht({fill:"currentColor","clip-path":"url(#".concat(O,")"),mask:"url(#".concat(f,")")},Dg)}),{children:s,attributes:i}}}},j_={provides(a){let t=!1;Ao.matchMedia&&(t=Ao.matchMedia("(prefers-reduced-motion: reduce)").matches),a.missingIconAbstract=function(){const s=[],i={fill:"currentColor"},r={attributeType:"XML",repeatCount:"indefinite",dur:"2s"};s.push({tag:"path",attributes:Ht(Ht({},i),{},{d:"M156.5,447.7l-12.6,29.5c-18.7-9.5-35.9-21.2-51.5-34.9l22.7-22.7C127.6,430.5,141.5,440,156.5,447.7z M40.6,272H8.5 c1.4,21.2,5.4,41.7,11.7,61.1L50,321.2C45.1,305.5,41.8,289,40.6,272z M40.6,240c1.4-18.8,5.2-37,11.1-54.1l-29.5-12.6 C14.7,194.3,10,216.7,8.5,240H40.6z M64.3,156.5c7.8-14.9,17.2-28.8,28.1-41.5L69.7,92.3c-13.7,15.6-25.5,32.8-34.9,51.5 L64.3,156.5z M397,419.6c-13.9,12-29.4,22.3-46.1,30.4l11.9,29.8c20.7-9.9,39.8-22.6,56.9-37.6L397,419.6z M115,92.4 c13.9-12,29.4-22.3,46.1-30.4l-11.9-29.8c-20.7,9.9-39.8,22.6-56.8,37.6L115,92.4z M447.7,355.5c-7.8,14.9-17.2,28.8-28.1,41.5 l22.7,22.7c13.7-15.6,25.5-32.9,34.9-51.5L447.7,355.5z M471.4,272c-1.4,18.8-5.2,37-11.1,54.1l29.5,12.6 c7.5-21.1,12.2-43.5,13.6-66.8H471.4z M321.2,462c-15.7,5-32.2,8.2-49.2,9.4v32.1c21.2-1.4,41.7-5.4,61.1-11.7L321.2,462z M240,471.4c-18.8-1.4-37-5.2-54.1-11.1l-12.6,29.5c21.1,7.5,43.5,12.2,66.8,13.6V471.4z M462,190.8c5,15.7,8.2,32.2,9.4,49.2h32.1 c-1.4-21.2-5.4-41.7-11.7-61.1L462,190.8z M92.4,397c-12-13.9-22.3-29.4-30.4-46.1l-29.8,11.9c9.9,20.7,22.6,39.8,37.6,56.9 L92.4,397z M272,40.6c18.8,1.4,36.9,5.2,54.1,11.1l12.6-29.5C317.7,14.7,295.3,10,272,8.5V40.6z M190.8,50 c15.7-5,32.2-8.2,49.2-9.4V8.5c-21.2,1.4-41.7,5.4-61.1,11.7L190.8,50z M442.3,92.3L419.6,115c12,13.9,22.3,29.4,30.5,46.1 l29.8-11.9C470,128.5,457.3,109.4,442.3,92.3z M397,92.4l22.7-22.7c-15.6-13.7-32.8-25.5-51.5-34.9l-12.6,29.5 C370.4,72.1,384.4,81.5,397,92.4z"})});const c=Ht(Ht({},r),{},{attributeName:"opacity"}),A={tag:"circle",attributes:Ht(Ht({},i),{},{cx:"256",cy:"364",r:"28"}),children:[]};return t||A.children.push({tag:"animate",attributes:Ht(Ht({},r),{},{attributeName:"r",values:"28;14;28;28;14;28;"})},{tag:"animate",attributes:Ht(Ht({},c),{},{values:"1;0;1;1;0;1;"})}),s.push(A),s.push({tag:"path",attributes:Ht(Ht({},i),{},{opacity:"1",d:"M263.7,312h-16c-6.6,0-12-5.4-12-12c0-71,77.4-63.9,77.4-107.8c0-20-17.8-40.2-57.4-40.2c-29.1,0-44.3,9.6-59.2,28.7 c-3.9,5-11.1,6-16.2,2.4l-13.1-9.2c-5.6-3.9-6.9-11.8-2.6-17.2c21.2-27.2,46.4-44.7,91.2-44.7c52.3,0,97.4,29.8,97.4,80.2 c0,67.6-77.4,63.5-77.4,107.8C275.7,306.6,270.3,312,263.7,312z"}),children:t?[]:[{tag:"animate",attributes:Ht(Ht({},c),{},{values:"1;0;0;0;0;1;"})}]}),t||s.push({tag:"path",attributes:Ht(Ht({},i),{},{opacity:"0",d:"M232.5,134.5l7,168c0.3,6.4,5.6,11.5,12,11.5h9c6.4,0,11.7-5.1,12-11.5l7-168c0.3-6.8-5.2-12.5-12-12.5h-23 C237.7,122,232.2,127.7,232.5,134.5z"}),children:[{tag:"animate",attributes:Ht(Ht({},c),{},{values:"0;0;1;1;0;0;"})}]}),{tag:"g",attributes:{class:"missing"},children:s}}}},B_={hooks(){return{parseNodeAttributes(a,t){const s=t.getAttribute("data-fa-symbol"),i=s===null?!1:s===""?!0:s;return a.symbol=i,a}}}},C_=[vS,o_,A_,d_,u_,x_,y_,b_,N_,j_,B_];kS(C_,{mixoutsTo:En});En.noAuto;En.config;En.library;En.dom;const Tv=En.parse;En.findIconDefinition;En.toHtml;const S_=En.icon;En.layer;En.text;En.counter;var Eg={exports:{}},Lg,Iw;function __(){if(Iw)return Lg;Iw=1;var a="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return Lg=a,Lg}var Mg,Qw;function F_(){if(Qw)return Mg;Qw=1;var a=__();function t(){}function s(){}return s.resetWarningCache=t,Mg=function(){function i(A,d,h,u,v,x){if(x!==a){var y=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw y.name="Invariant Violation",y}}i.isRequired=i;function r(){return i}var c={array:i,bigint:i,bool:i,func:i,number:i,object:i,string:i,symbol:i,any:i,arrayOf:r,element:i,elementType:i,instanceOf:r,node:i,objectOf:r,oneOf:r,oneOfType:r,shape:r,exact:r,checkPropTypes:s,resetWarningCache:t};return c.PropTypes=c,c},Mg}var Tw;function D_(){return Tw||(Tw=1,Eg.exports=F_()()),Eg.exports}var E_=D_();const Fa=Mj(E_);function Rw(a,t){var s=Object.keys(a);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(a);t&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(a,r).enumerable})),s.push.apply(s,i)}return s}function sl(a){for(var t=1;t<arguments.length;t++){var s=arguments[t]!=null?arguments[t]:{};t%2?Rw(Object(s),!0).forEach(function(i){yd(a,i,s[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(s)):Rw(Object(s)).forEach(function(i){Object.defineProperty(a,i,Object.getOwnPropertyDescriptor(s,i))})}return a}function df(a){"@babel/helpers - typeof";return df=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},df(a)}function yd(a,t,s){return t in a?Object.defineProperty(a,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):a[t]=s,a}function L_(a,t){if(a==null)return{};var s={},i=Object.keys(a),r,c;for(c=0;c<i.length;c++)r=i[c],!(t.indexOf(r)>=0)&&(s[r]=a[r]);return s}function M_(a,t){if(a==null)return{};var s=L_(a,t),i,r;if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(a);for(r=0;r<c.length;r++)i=c[r],!(t.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(a,i)&&(s[i]=a[i])}return s}function Rv(a){return U_(a)||O_(a)||k_(a)||I_()}function U_(a){if(Array.isArray(a))return Pv(a)}function O_(a){if(typeof Symbol<"u"&&a[Symbol.iterator]!=null||a["@@iterator"]!=null)return Array.from(a)}function k_(a,t){if(a){if(typeof a=="string")return Pv(a,t);var s=Object.prototype.toString.call(a).slice(8,-1);if(s==="Object"&&a.constructor&&(s=a.constructor.name),s==="Map"||s==="Set")return Array.from(a);if(s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s))return Pv(a,t)}}function Pv(a,t){(t==null||t>a.length)&&(t=a.length);for(var s=0,i=new Array(t);s<t;s++)i[s]=a[s];return i}function I_(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Q_(a){var t,s=a.beat,i=a.fade,r=a.beatFade,c=a.bounce,A=a.shake,d=a.flash,h=a.spin,u=a.spinPulse,v=a.spinReverse,x=a.pulse,y=a.fixedWidth,p=a.inverse,F=a.border,b=a.listItem,S=a.flip,f=a.size,O=a.rotation,M=a.pull,J=(t={"fa-beat":s,"fa-fade":i,"fa-beat-fade":r,"fa-bounce":c,"fa-shake":A,"fa-flash":d,"fa-spin":h,"fa-spin-reverse":v,"fa-spin-pulse":u,"fa-pulse":x,"fa-fw":y,"fa-inverse":p,"fa-border":F,"fa-li":b,"fa-flip":S===!0,"fa-flip-horizontal":S==="horizontal"||S==="both","fa-flip-vertical":S==="vertical"||S==="both"},yd(t,"fa-".concat(f),typeof f<"u"&&f!==null),yd(t,"fa-rotate-".concat(O),typeof O<"u"&&O!==null&&O!==0),yd(t,"fa-pull-".concat(M),typeof M<"u"&&M!==null),yd(t,"fa-swap-opacity",a.swapOpacity),t);return Object.keys(J).map(function(K){return J[K]?K:null}).filter(function(K){return K})}function T_(a){return a=a-0,a===a}function _0(a){return T_(a)?a:(a=a.replace(/[\-_\s]+(.)?/g,function(t,s){return s?s.toUpperCase():""}),a.substr(0,1).toLowerCase()+a.substr(1))}var R_=["style"];function P_(a){return a.charAt(0).toUpperCase()+a.slice(1)}function H_(a){return a.split(";").map(function(t){return t.trim()}).filter(function(t){return t}).reduce(function(t,s){var i=s.indexOf(":"),r=_0(s.slice(0,i)),c=s.slice(i+1).trim();return r.startsWith("webkit")?t[P_(r)]=c:t[r]=c,t},{})}function F0(a,t){var s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(typeof t=="string")return t;var i=(t.children||[]).map(function(h){return F0(a,h)}),r=Object.keys(t.attributes||{}).reduce(function(h,u){var v=t.attributes[u];switch(u){case"class":h.attrs.className=v,delete t.attributes.class;break;case"style":h.attrs.style=H_(v);break;default:u.indexOf("aria-")===0||u.indexOf("data-")===0?h.attrs[u.toLowerCase()]=v:h.attrs[_0(u)]=v}return h},{attrs:{}}),c=s.style,A=c===void 0?{}:c,d=M_(s,R_);return r.attrs.style=sl(sl({},r.attrs.style),A),a.apply(void 0,[t.tag,sl(sl({},r.attrs),d)].concat(Rv(i)))}var D0=!1;try{D0=!0}catch{}function q_(){if(!D0&&console&&typeof console.error=="function"){var a;(a=console).error.apply(a,arguments)}}function Pw(a){if(a&&df(a)==="object"&&a.prefix&&a.iconName&&a.icon)return a;if(Tv.icon)return Tv.icon(a);if(a===null)return null;if(a&&df(a)==="object"&&a.prefix&&a.iconName)return a;if(Array.isArray(a)&&a.length===2)return{prefix:a[0],iconName:a[1]};if(typeof a=="string")return{prefix:"fas",iconName:a}}function Ug(a,t){return Array.isArray(t)&&t.length>0||!Array.isArray(t)&&t?yd({},a,t):{}}var Hw={border:!1,className:"",mask:null,maskId:null,fixedWidth:!1,inverse:!1,flip:!1,icon:null,listItem:!1,pull:null,pulse:!1,rotation:null,size:null,spin:!1,spinPulse:!1,spinReverse:!1,beat:!1,fade:!1,beatFade:!1,bounce:!1,shake:!1,symbol:!1,title:"",titleId:null,transform:null,swapOpacity:!1},dt=Xn.forwardRef(function(a,t){var s=sl(sl({},Hw),a),i=s.icon,r=s.mask,c=s.symbol,A=s.className,d=s.title,h=s.titleId,u=s.maskId,v=Pw(i),x=Ug("classes",[].concat(Rv(Q_(s)),Rv((A||"").split(" ")))),y=Ug("transform",typeof s.transform=="string"?Tv.transform(s.transform):s.transform),p=Ug("mask",Pw(r)),F=S_(v,sl(sl(sl(sl({},x),y),p),{},{symbol:c,title:d,titleId:h,maskId:u}));if(!F)return q_("Could not find icon",v),null;var b=F.abstract,S={ref:t};return Object.keys(s).forEach(function(f){Hw.hasOwnProperty(f)||(S[f]=s[f])}),K_(b[0],S)});dt.displayName="FontAwesomeIcon";dt.propTypes={beat:Fa.bool,border:Fa.bool,beatFade:Fa.bool,bounce:Fa.bool,className:Fa.string,fade:Fa.bool,flash:Fa.bool,mask:Fa.oneOfType([Fa.object,Fa.array,Fa.string]),maskId:Fa.string,fixedWidth:Fa.bool,inverse:Fa.bool,flip:Fa.oneOf([!0,!1,"horizontal","vertical","both"]),icon:Fa.oneOfType([Fa.object,Fa.array,Fa.string]),listItem:Fa.bool,pull:Fa.oneOf(["right","left"]),pulse:Fa.bool,rotation:Fa.oneOf([0,90,180,270]),shake:Fa.bool,size:Fa.oneOf(["2xs","xs","sm","lg","xl","2xl","1x","2x","3x","4x","5x","6x","7x","8x","9x","10x"]),spin:Fa.bool,spinPulse:Fa.bool,spinReverse:Fa.bool,symbol:Fa.oneOfType([Fa.bool,Fa.string]),title:Fa.string,titleId:Fa.string,transform:Fa.oneOfType([Fa.string,Fa.object]),swapOpacity:Fa.bool};var K_=F0.bind(null,Xn.createElement);/*!
 * Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com
 * License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License)
 * Copyright 2024 Fonticons, Inc.
 */const V_={prefix:"fas",iconName:"ring",icon:[512,512,[],"f70b","M64 208c0 7.8 4.4 18.7 17.1 30.3C126.5 214.1 188.9 200 256 200s129.5 14.1 174.9 38.3C443.6 226.7 448 215.8 448 208c0-12.3-10.8-32-47.9-50.6C364.9 139.8 314 128 256 128s-108.9 11.8-144.1 29.4C74.8 176 64 195.7 64 208zm192 40c-47 0-89.3 7.6-122.9 19.7C166.3 280.2 208.8 288 256 288s89.7-7.8 122.9-20.3C345.3 255.6 303 248 256 248zM0 208c0-49.6 39.4-85.8 83.3-107.8C129.1 77.3 190.3 64 256 64s126.9 13.3 172.7 36.2c43.9 22 83.3 58.2 83.3 107.8l0 96c0 49.6-39.4 85.8-83.3 107.8C382.9 434.7 321.7 448 256 448s-126.9-13.3-172.7-36.2C39.4 389.8 0 353.6 0 304l0-96z"]},z_={prefix:"fas",iconName:"calendar-days",icon:[448,512,["calendar-alt"],"f073","M128 0c17.7 0 32 14.3 32 32l0 32 128 0 0-32c0-17.7 14.3-32 32-32s32 14.3 32 32l0 32 48 0c26.5 0 48 21.5 48 48l0 48L0 160l0-48C0 85.5 21.5 64 48 64l48 0 0-32c0-17.7 14.3-32 32-32zM0 192l448 0 0 272c0 26.5-21.5 48-48 48L48 512c-26.5 0-48-21.5-48-48L0 192zm64 80l0 32c0 8.8 7.2 16 16 16l32 0c8.8 0 16-7.2 16-16l0-32c0-8.8-7.2-16-16-16l-32 0c-8.8 0-16 7.2-16 16zm128 0l0 32c0 8.8 7.2 16 16 16l32 0c8.8 0 16-7.2 16-16l0-32c0-8.8-7.2-16-16-16l-32 0c-8.8 0-16 7.2-16 16zm144-16c-8.8 0-16 7.2-16 16l0 32c0 8.8 7.2 16 16 16l32 0c8.8 0 16-7.2 16-16l0-32c0-8.8-7.2-16-16-16l-32 0zM64 400l0 32c0 8.8 7.2 16 16 16l32 0c8.8 0 16-7.2 16-16l0-32c0-8.8-7.2-16-16-16l-32 0c-8.8 0-16 7.2-16 16zm144-16c-8.8 0-16 7.2-16 16l0 32c0 8.8 7.2 16 16 16l32 0c8.8 0 16-7.2 16-16l0-32c0-8.8-7.2-16-16-16l-32 0zm112 16l0 32c0 8.8 7.2 16 16 16l32 0c8.8 0 16-7.2 16-16l0-32c0-8.8-7.2-16-16-16l-32 0c-8.8 0-16 7.2-16 16z"]},rn=z_,$_={prefix:"fas",iconName:"right-from-bracket",icon:[512,512,["sign-out-alt"],"f2f5","M377.9 105.9L500.7 228.7c7.2 7.2 11.3 17.1 11.3 27.3s-4.1 20.1-11.3 27.3L377.9 406.1c-6.4 6.4-15 9.9-24 9.9c-18.7 0-33.9-15.2-33.9-33.9l0-62.1-128 0c-17.7 0-32-14.3-32-32l0-64c0-17.7 14.3-32 32-32l128 0 0-62.1c0-18.7 15.2-33.9 33.9-33.9c9 0 17.6 3.6 24 9.9zM160 96L96 96c-17.7 0-32 14.3-32 32l0 256c0 17.7 14.3 32 32 32l64 0c17.7 0 32 14.3 32 32s-14.3 32-32 32l-64 0c-53 0-96-43-96-96L0 128C0 75 43 32 96 32l64 0c17.7 0 32 14.3 32 32s-14.3 32-32 32z"]},Qf=$_,Od={prefix:"fas",iconName:"clipboard-list",icon:[384,512,[],"f46d","M192 0c-41.8 0-77.4 26.7-90.5 64L64 64C28.7 64 0 92.7 0 128L0 448c0 35.3 28.7 64 64 64l256 0c35.3 0 64-28.7 64-64l0-320c0-35.3-28.7-64-64-64l-37.5 0C269.4 26.7 233.8 0 192 0zm0 64a32 32 0 1 1 0 64 32 32 0 1 1 0-64zM72 272a24 24 0 1 1 48 0 24 24 0 1 1 -48 0zm104-16l128 0c8.8 0 16 7.2 16 16s-7.2 16-16 16l-128 0c-8.8 0-16-7.2-16-16s7.2-16 16-16zM72 368a24 24 0 1 1 48 0 24 24 0 1 1 -48 0zm88 0c0-8.8 7.2-16 16-16l128 0c8.8 0 16 7.2 16 16s-7.2 16-16 16l-128 0c-8.8 0-16-7.2-16-16z"]},Tf={prefix:"fas",iconName:"bars",icon:[448,512,["navicon"],"f0c9","M0 96C0 78.3 14.3 64 32 64l384 0c17.7 0 32 14.3 32 32s-14.3 32-32 32L32 128C14.3 128 0 113.7 0 96zM0 256c0-17.7 14.3-32 32-32l384 0c17.7 0 32 14.3 32 32s-14.3 32-32 32L32 288c-17.7 0-32-14.3-32-32zM448 416c0 17.7-14.3 32-32 32L32 448c-17.7 0-32-14.3-32-32s14.3-32 32-32l384 0c17.7 0 32 14.3 32 32z"]},G_={prefix:"fas",iconName:"circle-exclamation",icon:[512,512,["exclamation-circle"],"f06a","M256 512A256 256 0 1 0 256 0a256 256 0 1 0 0 512zm0-384c13.3 0 24 10.7 24 24l0 112c0 13.3-10.7 24-24 24s-24-10.7-24-24l0-112c0-13.3 10.7-24 24-24zM224 352a32 32 0 1 1 64 0 32 32 0 1 1 -64 0z"]},E0=G_,jd={prefix:"fas",iconName:"lock",icon:[448,512,[128274],"f023","M144 144l0 48 160 0 0-48c0-44.2-35.8-80-80-80s-80 35.8-80 80zM80 192l0-48C80 64.5 144.5 0 224 0s144 64.5 144 144l0 48 16 0c35.3 0 64 28.7 64 64l0 192c0 35.3-28.7 64-64 64L64 512c-35.3 0-64-28.7-64-64L0 256c0-35.3 28.7-64 64-64l16 0z"]},L0={prefix:"fas",iconName:"users",icon:[640,512,[],"f0c0","M144 0a80 80 0 1 1 0 160A80 80 0 1 1 144 0zM512 0a80 80 0 1 1 0 160A80 80 0 1 1 512 0zM0 298.7C0 239.8 47.8 192 106.7 192l42.7 0c15.9 0 31 3.5 44.6 9.7c-1.3 7.2-1.9 14.7-1.9 22.3c0 38.2 16.8 72.5 43.3 96c-.2 0-.4 0-.7 0L21.3 320C9.6 320 0 310.4 0 298.7zM405.3 320c-.2 0-.4 0-.7 0c26.6-23.5 43.3-57.8 43.3-96c0-7.6-.7-15-1.9-22.3c13.6-6.3 28.7-9.7 44.6-9.7l42.7 0C592.2 192 640 239.8 640 298.7c0 11.8-9.6 21.3-21.3 21.3l-213.3 0zM224 224a96 96 0 1 1 192 0 96 96 0 1 1 -192 0zM128 485.3C128 411.7 187.7 352 261.3 352l117.3 0C452.3 352 512 411.7 512 485.3c0 14.7-11.9 26.7-26.7 26.7l-330.7 0c-14.7 0-26.7-11.9-26.7-26.7z"]},to={prefix:"fas",iconName:"eye-slash",icon:[640,512,[],"f070","M38.8 5.1C28.4-3.1 13.3-1.2 5.1 9.2S-1.2 34.7 9.2 42.9l592 464c10.4 8.2 25.5 6.3 33.7-4.1s6.3-25.5-4.1-33.7L525.6 386.7c39.6-40.6 66.4-86.1 79.9-118.4c3.3-7.9 3.3-16.7 0-24.6c-14.9-35.7-46.2-87.7-93-131.1C465.5 68.8 400.8 32 320 32c-68.2 0-125 26.3-169.3 60.8L38.8 5.1zM223.1 149.5C248.6 126.2 282.7 112 320 112c79.5 0 144 64.5 144 144c0 24.9-6.3 48.3-17.4 68.7L408 294.5c8.4-19.3 10.6-41.4 4.8-63.3c-11.1-41.5-47.8-69.4-88.6-71.1c-5.8-.2-9.2 6.1-7.4 11.7c2.1 6.4 3.3 13.2 3.3 20.3c0 10.2-2.4 19.8-6.6 28.3l-90.3-70.8zM373 389.9c-16.4 6.5-34.3 10.1-53 10.1c-79.5 0-144-64.5-144-144c0-6.9 .5-13.6 1.4-20.2L83.1 161.5C60.3 191.2 44 220.8 34.5 243.7c-3.3 7.9-3.3 16.7 0 24.6c14.9 35.7 46.2 87.7 93 131.1C174.5 443.2 239.2 480 320 480c47.8 0 89.9-12.9 126.2-32.5L373 389.9z"]},ro={prefix:"fas",iconName:"user",icon:[448,512,[128100,62144],"f007","M224 256A128 128 0 1 0 224 0a128 128 0 1 0 0 256zm-45.7 48C79.8 304 0 383.8 0 482.3C0 498.7 13.3 512 29.7 512l388.6 0c16.4 0 29.7-13.3 29.7-29.7C448 383.8 368.2 304 269.7 304l-91.4 0z"]},W_={prefix:"fas",iconName:"chart-bar",icon:[512,512,["bar-chart"],"f080","M32 32c17.7 0 32 14.3 32 32l0 336c0 8.8 7.2 16 16 16l400 0c17.7 0 32 14.3 32 32s-14.3 32-32 32L80 480c-44.2 0-80-35.8-80-80L0 64C0 46.3 14.3 32 32 32zm96 96c0-17.7 14.3-32 32-32l192 0c17.7 0 32 14.3 32 32s-14.3 32-32 32l-192 0c-17.7 0-32-14.3-32-32zm32 64l128 0c17.7 0 32 14.3 32 32s-14.3 32-32 32l-128 0c-17.7 0-32-14.3-32-32s14.3-32 32-32zm0 96l256 0c17.7 0 32 14.3 32 32s-14.3 32-32 32l-256 0c-17.7 0-32-14.3-32-32s14.3-32 32-32z"]},Yx={prefix:"fas",iconName:"handshake",icon:[640,512,[],"f2b5","M323.4 85.2l-96.8 78.4c-16.1 13-19.2 36.4-7 53.1c12.9 17.8 38 21.3 55.3 7.8l99.3-77.2c7-5.4 17-4.2 22.5 2.8s4.2 17-2.8 22.5l-20.9 16.2L512 316.8 512 128l-.7 0-3.9-2.5L434.8 79c-15.3-9.8-33.2-15-51.4-15c-21.8 0-43 7.5-60 21.2zm22.8 124.4l-51.7 40.2C263 274.4 217.3 268 193.7 235.6c-22.2-30.5-16.6-73.1 12.7-96.8l83.2-67.3c-11.6-4.9-24.1-7.4-36.8-7.4C234 64 215.7 69.6 200 80l-72 48 0 224 28.2 0 91.4 83.4c19.6 17.9 49.9 16.5 67.8-3.1c5.5-6.1 9.2-13.2 11.1-20.6l17 15.6c19.5 17.9 49.9 16.6 67.8-2.9c4.5-4.9 7.8-10.6 9.9-16.5c19.4 13 45.8 10.3 62.1-7.5c17.9-19.5 16.6-49.9-2.9-67.8l-134.2-123zM16 128c-8.8 0-16 7.2-16 16L0 352c0 17.7 14.3 32 32 32l32 0c17.7 0 32-14.3 32-32l0-224-80 0zM48 320a16 16 0 1 1 0 32 16 16 0 1 1 0-32zM544 128l0 224c0 17.7 14.3 32 32 32l32 0c17.7 0 32-14.3 32-32l0-208c0-8.8-7.2-16-16-16l-80 0zm32 208a16 16 0 1 1 32 0 16 16 0 1 1 -32 0z"]},Y_={prefix:"fas",iconName:"circle-check",icon:[512,512,[61533,"check-circle"],"f058","M256 512A256 256 0 1 0 256 0a256 256 0 1 0 0 512zM369 209L241 337c-9.4 9.4-24.6 9.4-33.9 0l-64-64c-9.4-9.4-9.4-24.6 0-33.9s24.6-9.4 33.9 0l47 47L335 175c9.4-9.4 24.6-9.4 33.9 0s9.4 24.6 0 33.9z"]},ol=Y_,M0={prefix:"fas",iconName:"user-tie",icon:[448,512,[],"f508","M96 128a128 128 0 1 0 256 0A128 128 0 1 0 96 128zm94.5 200.2l18.6 31L175.8 483.1l-36-146.9c-2-8.1-9.8-13.4-17.9-11.3C51.9 342.4 0 405.8 0 481.3c0 17 13.8 30.7 30.7 30.7l131.7 0c0 0 0 0 .1 0l5.5 0 112 0 5.5 0c0 0 0 0 .1 0l131.7 0c17 0 30.7-13.8 30.7-30.7c0-75.5-51.9-138.9-121.9-156.4c-8.1-2-15.9 3.3-17.9 11.3l-36 146.9L238.9 359.2l18.6-31c6.4-10.7-1.3-24.2-13.7-24.2L224 304l-19.7 0c-12.4 0-20.1 13.6-13.7 24.2z"]},X_={prefix:"fas",iconName:"certificate",icon:[512,512,[],"f0a3","M211 7.3C205 1 196-1.4 187.6 .8s-14.9 8.9-17.1 17.3L154.7 80.6l-62-17.5c-8.4-2.4-17.4 0-23.5 6.1s-8.5 15.1-6.1 23.5l17.5 62L18.1 170.6c-8.4 2.1-15 8.7-17.3 17.1S1 205 7.3 211l46.2 45L7.3 301C1 307-1.4 316 .8 324.4s8.9 14.9 17.3 17.1l62.5 15.8-17.5 62c-2.4 8.4 0 17.4 6.1 23.5s15.1 8.5 23.5 6.1l62-17.5 15.8 62.5c2.1 8.4 8.7 15 17.1 17.3s17.3-.2 23.4-6.4l45-46.2 45 46.2c6.1 6.2 15 8.7 23.4 6.4s14.9-8.9 17.1-17.3l15.8-62.5 62 17.5c8.4 2.4 17.4 0 23.5-6.1s8.5-15.1 6.1-23.5l-17.5-62 62.5-15.8c8.4-2.1 15-8.7 17.3-17.1s-.2-17.4-6.4-23.4l-46.2-45 46.2-45c6.2-6.1 8.7-15 6.4-23.4s-8.9-14.9-17.3-17.1l-62.5-15.8 17.5-62c2.4-8.4 0-17.4-6.1-23.5s-15.1-8.5-23.5-6.1l-62 17.5L341.4 18.1c-2.1-8.4-8.7-15-17.1-17.3S307 1 301 7.3L256 53.5 211 7.3z"]},Xx={prefix:"fas",iconName:"church",icon:[640,512,[9962],"f51d","M344 24c0-13.3-10.7-24-24-24s-24 10.7-24 24l0 24-32 0c-13.3 0-24 10.7-24 24s10.7 24 24 24l32 0 0 46.4L183.3 210c-14.5 8.7-23.3 24.3-23.3 41.2L160 512l96 0 0-96c0-35.3 28.7-64 64-64s64 28.7 64 64l0 96 96 0 0-260.8c0-16.9-8.8-32.5-23.3-41.2L344 142.4 344 96l32 0c13.3 0 24-10.7 24-24s-10.7-24-24-24l-32 0 0-24zM24.9 330.3C9.5 338.8 0 354.9 0 372.4L0 464c0 26.5 21.5 48 48 48l80 0 0-238.4L24.9 330.3zM592 512c26.5 0 48-21.5 48-48l0-91.6c0-17.5-9.5-33.6-24.9-42.1L512 273.6 512 512l80 0z"]},J_={prefix:"fas",iconName:"bread-slice",icon:[512,512,[],"f7ec","M256 32C192 32 0 64 0 192c0 35.3 28.7 64 64 64V432c0 26.5 21.5 48 48 48H400c26.5 0 48-21.5 48-48V256c35.3 0 64-28.7 64-64C512 64 320 32 256 32z"]},mo={prefix:"fas",iconName:"circle",icon:[512,512,[128308,128309,128992,128993,128994,128995,128996,9679,9898,9899,11044,61708,61915],"f111","M256 512A256 256 0 1 0 256 0a256 256 0 1 0 0 512z"]},Fn={prefix:"fas",iconName:"eye",icon:[576,512,[128065],"f06e","M288 32c-80.8 0-145.5 36.8-192.6 80.6C48.6 156 17.3 208 2.5 243.7c-3.3 7.9-3.3 16.7 0 24.6C17.3 304 48.6 356 95.4 399.4C142.5 443.2 207.2 480 288 480s145.5-36.8 192.6-80.6c46.8-43.5 78.1-95.4 93-131.1c3.3-7.9 3.3-16.7 0-24.6c-14.9-35.7-46.2-87.7-93-131.1C433.5 68.8 368.8 32 288 32zM144 256a144 144 0 1 1 288 0 144 144 0 1 1 -288 0zm144-64c0 35.3-28.7 64-64 64c-7.1 0-13.9-1.2-20.3-3.3c-5.5-1.8-11.9 1.6-11.7 7.4c.3 6.9 1.3 13.8 3.2 20.7c13.7 51.2 66.4 81.6 117.6 67.9s81.6-66.4 67.9-117.6c-11.1-41.5-47.8-69.4-88.6-71.1c-5.8-.2-9.2 6.1-7.4 11.7c2.1 6.4 3.3 13.2 3.3 20.3z"]},Hv={prefix:"fas",iconName:"hands-praying",icon:[640,512,["praying-hands"],"f684","M351.2 4.8c3.2-2 6.6-3.3 10-4.1c4.7-1 9.6-.9 14.1 .1c7.7 1.8 14.8 6.5 19.4 13.6L514.6 194.2c8.8 13.1 13.4 28.6 13.4 44.4l0 73.5c0 6.9 4.4 13 10.9 15.2l79.2 26.4C631.2 358 640 370.2 640 384l0 96c0 9.9-4.6 19.3-12.5 25.4s-18.1 8.1-27.7 5.5L431 465.9c-56-14.9-95-65.7-95-123.7L336 224c0-17.7 14.3-32 32-32s32 14.3 32 32l0 80c0 8.8 7.2 16 16 16s16-7.2 16-16l0-84.9c0-7-1.8-13.8-5.3-19.8L340.3 48.1c-1.7-3-2.9-6.1-3.6-9.3c-1-4.7-1-9.6 .1-14.1c1.9-8 6.8-15.2 14.3-19.9zm-62.4 0c7.5 4.6 12.4 11.9 14.3 19.9c1.1 4.6 1.2 9.4 .1 14.1c-.7 3.2-1.9 6.3-3.6 9.3L213.3 199.3c-3.5 6-5.3 12.9-5.3 19.8l0 84.9c0 8.8 7.2 16 16 16s16-7.2 16-16l0-80c0-17.7 14.3-32 32-32s32 14.3 32 32l0 118.2c0 58-39 108.7-95 123.7l-168.7 45c-9.6 2.6-19.9 .5-27.7-5.5S0 490 0 480l0-96c0-13.8 8.8-26 21.9-30.4l79.2-26.4c6.5-2.2 10.9-8.3 10.9-15.2l0-73.5c0-15.8 4.7-31.2 13.4-44.4L245.2 14.5c4.6-7.1 11.7-11.8 19.4-13.6c4.6-1.1 9.4-1.2 14.1-.1c3.5 .8 6.9 2.1 10 4.1z"]},Z_=Hv,U0={prefix:"fas",iconName:"phone",icon:[512,512,[128222,128379],"f095","M164.9 24.6c-7.7-18.6-28-28.5-47.4-23.2l-88 24C12.1 30.2 0 46 0 64C0 311.4 200.6 512 448 512c18 0 33.8-12.1 38.6-29.5l24-88c5.3-19.4-4.6-39.7-23.2-47.4l-96-40c-16.3-6.8-35.2-2.1-46.3 11.6L304.7 368C234.3 334.7 177.3 277.7 144 207.3L193.3 167c13.7-11.2 18.4-30 11.6-46.3l-40-96z"]},Rf={prefix:"fas",iconName:"arrow-left",icon:[448,512,[8592],"f060","M9.4 233.4c-12.5 12.5-12.5 32.8 0 45.3l160 160c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L109.2 288 416 288c17.7 0 32-14.3 32-32s-14.3-32-32-32l-306.7 0L214.6 118.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0l-160 160z"]},Wm={prefix:"fas",iconName:"envelope",icon:[512,512,[128386,9993,61443],"f0e0","M48 64C21.5 64 0 85.5 0 112c0 15.1 7.1 29.3 19.2 38.4L236.8 313.6c11.4 8.5 27 8.5 38.4 0L492.8 150.4c12.1-9.1 19.2-23.3 19.2-38.4c0-26.5-21.5-48-48-48L48 64zM0 176L0 384c0 35.3 28.7 64 64 64l384 0c35.3 0 64-28.7 64-64l0-208L294.4 339.2c-22.8 17.1-54 17.1-76.8 0L0 176z"]},e4={prefix:"fas",iconName:"circle-info",icon:[512,512,["info-circle"],"f05a","M256 512A256 256 0 1 0 256 0a256 256 0 1 0 0 512zM216 336l24 0 0-64-24 0c-13.3 0-24-10.7-24-24s10.7-24 24-24l48 0c13.3 0 24 10.7 24 24l0 88 8 0c13.3 0 24 10.7 24 24s-10.7 24-24 24l-80 0c-13.3 0-24-10.7-24-24s10.7-24 24-24zm40-208a32 32 0 1 1 0 64 32 32 0 1 1 0-64z"]},Pf=e4,t4={prefix:"fas",iconName:"water",icon:[576,512,[],"f773","M269.5 69.9c11.1-7.9 25.9-7.9 37 0C329 85.4 356.5 96 384 96c26.9 0 55.4-10.8 77.4-26.1c0 0 0 0 0 0c11.9-8.5 28.1-7.8 39.2 1.7c14.4 11.9 32.5 21 50.6 25.2c17.2 4 27.9 21.2 23.9 38.4s-21.2 27.9-38.4 23.9c-24.5-5.7-44.9-16.5-58.2-25C449.5 149.7 417 160 384 160c-31.9 0-60.6-9.9-80.4-18.9c-5.8-2.7-11.1-5.3-15.6-7.7c-4.5 2.4-9.7 5.1-15.6 7.7c-19.8 9-48.5 18.9-80.4 18.9c-33 0-65.5-10.3-94.5-25.8c-13.4 8.4-33.7 19.3-58.2 25c-17.2 4-34.4-6.7-38.4-23.9s6.7-34.4 23.9-38.4C42.8 92.6 61 83.5 75.3 71.6c11.1-9.5 27.3-10.1 39.2-1.7c0 0 0 0 0 0C136.7 85.2 165.1 96 192 96c27.5 0 55-10.6 77.5-26.1zm37 288C329 373.4 356.5 384 384 384c26.9 0 55.4-10.8 77.4-26.1c0 0 0 0 0 0c11.9-8.5 28.1-7.8 39.2 1.7c14.4 11.9 32.5 21 50.6 25.2c17.2 4 27.9 21.2 23.9 38.4s-21.2 27.9-38.4 23.9c-24.5-5.7-44.9-16.5-58.2-25C449.5 437.7 417 448 384 448c-31.9 0-60.6-9.9-80.4-18.9c-5.8-2.7-11.1-5.3-15.6-7.7c-4.5 2.4-9.7 5.1-15.6 7.7c-19.8 9-48.5 18.9-80.4 18.9c-33 0-65.5-10.3-94.5-25.8c-13.4 8.4-33.7 19.3-58.2 25c-17.2 4-34.4-6.7-38.4-23.9s6.7-34.4 23.9-38.4c18.1-4.2 36.2-13.3 50.6-25.2c11.1-9.4 27.3-10.1 39.2-1.7c0 0 0 0 0 0C136.7 373.2 165.1 384 192 384c27.5 0 55-10.6 77.5-26.1c11.1-7.9 25.9-7.9 37 0zm0-144C329 229.4 356.5 240 384 240c26.9 0 55.4-10.8 77.4-26.1c0 0 0 0 0 0c11.9-8.5 28.1-7.8 39.2 1.7c14.4 11.9 32.5 21 50.6 25.2c17.2 4 27.9 21.2 23.9 38.4s-21.2 27.9-38.4 23.9c-24.5-5.7-44.9-16.5-58.2-25C449.5 293.7 417 304 384 304c-31.9 0-60.6-9.9-80.4-18.9c-5.8-2.7-11.1-5.3-15.6-7.7c-4.5 2.4-9.7 5.1-15.6 7.7c-19.8 9-48.5 18.9-80.4 18.9c-33 0-65.5-10.3-94.5-25.8c-13.4 8.4-33.7 19.3-58.2 25c-17.2 4-34.4-6.7-38.4-23.9s6.7-34.4 23.9-38.4c18.1-4.2 36.2-13.3 50.6-25.2c11.1-9.5 27.3-10.1 39.2-1.7c0 0 0 0 0 0C136.7 229.2 165.1 240 192 240c27.5 0 55-10.6 77.5-26.1c11.1-7.9 25.9-7.9 37 0z"]},a4={prefix:"fas",iconName:"calendar-check",icon:[448,512,[],"f274","M128 0c17.7 0 32 14.3 32 32l0 32 128 0 0-32c0-17.7 14.3-32 32-32s32 14.3 32 32l0 32 48 0c26.5 0 48 21.5 48 48l0 48L0 160l0-48C0 85.5 21.5 64 48 64l48 0 0-32c0-17.7 14.3-32 32-32zM0 192l448 0 0 272c0 26.5-21.5 48-48 48L48 512c-26.5 0-48-21.5-48-48L0 192zM329 305c9.4-9.4 9.4-24.6 0-33.9s-24.6-9.4-33.9 0l-95 95-47-47c-9.4-9.4-24.6-9.4-33.9 0s-9.4 24.6 0 33.9l64 64c9.4 9.4 24.6 9.4 33.9 0L329 305z"]},i4={prefix:"fas",iconName:"clock",icon:[512,512,[128339,"clock-four"],"f017","M256 0a256 256 0 1 1 0 512A256 256 0 1 1 256 0zM232 120l0 136c0 8 4 15.5 10.7 20l96 64c11 7.4 25.9 4.4 33.3-6.7s4.4-25.9-6.7-33.3L280 243.2 280 120c0-13.3-10.7-24-24-24s-24 10.7-24 24z"]},xA={prefix:"fas",iconName:"download",icon:[512,512,[],"f019","M288 32c0-17.7-14.3-32-32-32s-32 14.3-32 32l0 242.7-73.4-73.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3l128 128c12.5 12.5 32.8 12.5 45.3 0l128-128c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L288 274.7 288 32zM64 352c-35.3 0-64 28.7-64 64l0 32c0 35.3 28.7 64 64 64l384 0c35.3 0 64-28.7 64-64l0-32c0-35.3-28.7-64-64-64l-101.5 0-45.3 45.3c-25 25-65.5 25-90.5 0L165.5 352 64 352zm368 56a24 24 0 1 1 0 48 24 24 0 1 1 0-48z"]},s4={prefix:"fas",iconName:"calendar-week",icon:[448,512,[],"f784","M128 0c17.7 0 32 14.3 32 32l0 32 128 0 0-32c0-17.7 14.3-32 32-32s32 14.3 32 32l0 32 48 0c26.5 0 48 21.5 48 48l0 48L0 160l0-48C0 85.5 21.5 64 48 64l48 0 0-32c0-17.7 14.3-32 32-32zM0 192l448 0 0 272c0 26.5-21.5 48-48 48L48 512c-26.5 0-48-21.5-48-48L0 192zm80 64c-8.8 0-16 7.2-16 16l0 64c0 8.8 7.2 16 16 16l288 0c8.8 0 16-7.2 16-16l0-64c0-8.8-7.2-16-16-16L80 256z"]},n4={prefix:"fas",iconName:"upload",icon:[512,512,[],"f093","M288 109.3L288 352c0 17.7-14.3 32-32 32s-32-14.3-32-32l0-242.7-73.4 73.4c-12.5 12.5-32.8 12.5-45.3 0s-12.5-32.8 0-45.3l128-128c12.5-12.5 32.8-12.5 45.3 0l128 128c12.5 12.5 12.5 32.8 0 45.3s-32.8 12.5-45.3 0L288 109.3zM64 352l128 0c0 35.3 28.7 64 64 64s64-28.7 64-64l128 0c35.3 0 64 28.7 64 64l0 32c0 35.3-28.7 64-64 64L64 512c-35.3 0-64-28.7-64-64l0-32c0-35.3 28.7-64 64-64zM432 456a24 24 0 1 0 0-48 24 24 0 1 0 0 48z"]},r4={prefix:"fas",iconName:"handshake-angle",icon:[640,512,["hands-helping"],"f4c4","M544 248l0 3.3 69.7-69.7c21.9-21.9 21.9-57.3 0-79.2L535.6 24.4c-21.9-21.9-57.3-21.9-79.2 0L416.3 64.5c-2.7-.3-5.5-.5-8.3-.5L296 64c-37.1 0-67.6 28-71.6 64l-.4 0 0 120c0 22.1 17.9 40 40 40s40-17.9 40-40l0-72c0 0 0-.1 0-.1l0-15.9 16 0 136 0c0 0 0 0 .1 0l7.9 0c44.2 0 80 35.8 80 80l0 8zM336 192l0 56c0 39.8-32.2 72-72 72s-72-32.2-72-72l0-118.6c-35.9 6.2-65.8 32.3-76 68.2L99.5 255.2 26.3 328.4c-21.9 21.9-21.9 57.3 0 79.2l78.1 78.1c21.9 21.9 57.3 21.9 79.2 0l37.7-37.7c.9 0 1.8 .1 2.7 .1l160 0c26.5 0 48-21.5 48-48c0-5.6-1-11-2.7-16l2.7 0c26.5 0 48-21.5 48-48c0-12.8-5-24.4-13.2-33c25.7-5 45.1-27.6 45.2-54.8l0-.4c-.1-30.8-25.1-55.8-56-55.8c0 0 0 0 0 0l-120 0z"]},O0=r4,l4={prefix:"fas",iconName:"location-dot",icon:[384,512,["map-marker-alt"],"f3c5","M215.7 499.2C267 435 384 279.4 384 192C384 86 298 0 192 0S0 86 0 192c0 87.4 117 243 168.3 307.2c12.3 15.3 35.1 15.3 47.4 0zM192 128a64 64 0 1 1 0 128 64 64 0 1 1 0-128z"]},c4=l4,o4={prefix:"fas",iconName:"magnifying-glass",icon:[512,512,[128269,"search"],"f002","M416 208c0 45.9-14.9 88.3-40 122.7L502.6 457.4c12.5 12.5 12.5 32.8 0 45.3s-32.8 12.5-45.3 0L330.7 376c-34.4 25.2-76.8 40-122.7 40C93.1 416 0 322.9 0 208S93.1 0 208 0S416 93.1 416 208zM208 352a144 144 0 1 0 0-288 144 144 0 1 0 0 288z"]},vs=o4,A4={prefix:"fas",iconName:"receipt",icon:[384,512,[129534],"f543","M14 2.2C22.5-1.7 32.5-.3 39.6 5.8L80 40.4 120.4 5.8c9-7.7 22.3-7.7 31.2 0L192 40.4 232.4 5.8c9-7.7 22.3-7.7 31.2 0L304 40.4 344.4 5.8c7.1-6.1 17.1-7.5 25.6-3.6s14 12.4 14 21.8l0 464c0 9.4-5.5 17.9-14 21.8s-18.5 2.5-25.6-3.6L304 471.6l-40.4 34.6c-9 7.7-22.3 7.7-31.2 0L192 471.6l-40.4 34.6c-9 7.7-22.3 7.7-31.2 0L80 471.6 39.6 506.2c-7.1 6.1-17.1 7.5-25.6 3.6S0 497.4 0 488L0 24C0 14.6 5.5 6.1 14 2.2zM96 144c-8.8 0-16 7.2-16 16s7.2 16 16 16l192 0c8.8 0 16-7.2 16-16s-7.2-16-16-16L96 144zM80 352c0 8.8 7.2 16 16 16l192 0c8.8 0 16-7.2 16-16s-7.2-16-16-16L96 336c-8.8 0-16 7.2-16 16zM96 240c-8.8 0-16 7.2-16 16s7.2 16 16 16l192 0c8.8 0 16-7.2 16-16s-7.2-16-16-16L96 240z"]},qw={prefix:"fas",iconName:"chevron-down",icon:[512,512,[],"f078","M233.4 406.6c12.5 12.5 32.8 12.5 45.3 0l192-192c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L256 338.7 86.6 169.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3l192 192z"]},yA={prefix:"fas",iconName:"plus",icon:[448,512,[10133,61543,"add"],"2b","M256 80c0-17.7-14.3-32-32-32s-32 14.3-32 32l0 144L48 224c-17.7 0-32 14.3-32 32s14.3 32 32 32l144 0 0 144c0 17.7 14.3 32 32 32s32-14.3 32-32l0-144 144 0c17.7 0 32-14.3 32-32s-14.3-32-32-32l-144 0 0-144z"]},d4={prefix:"fas",iconName:"xmark",icon:[384,512,[128473,10005,10006,10060,215,"close","multiply","remove","times"],"f00d","M342.6 150.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L192 210.7 86.6 105.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3L146.7 256 41.4 361.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0L192 301.3 297.4 406.6c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L237.3 256 342.6 150.6z"]},vo=d4,mh={prefix:"fas",iconName:"chevron-left",icon:[320,512,[9001],"f053","M9.4 233.4c-12.5 12.5-12.5 32.8 0 45.3l192 192c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L77.3 256 246.6 86.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0l-192 192z"]},fh={prefix:"fas",iconName:"chevron-right",icon:[320,512,[9002],"f054","M310.6 233.4c12.5 12.5 12.5 32.8 0 45.3l-192 192c-12.5 12.5-32.8 12.5-45.3 0s-12.5-32.8 0-45.3L242.7 256 73.4 86.6c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0l192 192z"]},u4={prefix:"fas",iconName:"book-open",icon:[576,512,[128214,128366],"f518","M249.6 471.5c10.8 3.8 22.4-4.1 22.4-15.5l0-377.4c0-4.2-1.6-8.4-5-11C247.4 52 202.4 32 144 32C93.5 32 46.3 45.3 18.1 56.1C6.8 60.5 0 71.7 0 83.8L0 454.1c0 11.9 12.8 20.2 24.1 16.5C55.6 460.1 105.5 448 144 448c33.9 0 79 14 105.6 23.5zm76.8 0C353 462 398.1 448 432 448c38.5 0 88.4 12.1 119.9 22.6c11.3 3.8 24.1-4.6 24.1-16.5l0-370.3c0-12.1-6.8-23.3-18.1-27.6C529.7 45.3 482.5 32 432 32c-58.4 0-103.4 20-123 35.6c-3.3 2.6-5 6.8-5 11L304 456c0 11.4 11.7 19.3 22.4 15.5z"]},h4={prefix:"fas",iconName:"triangle-exclamation",icon:[512,512,[9888,"exclamation-triangle","warning"],"f071","M256 32c14.2 0 27.3 7.5 34.5 19.8l216 368c7.3 12.4 7.3 27.7 .2 40.1S486.3 480 472 480L40 480c-14.3 0-27.6-7.7-34.7-20.1s-7-27.8 .2-40.1l216-368C228.7 39.5 241.8 32 256 32zm0 128c-13.3 0-24 10.7-24 24l0 112c0 13.3 10.7 24 24 24s24-10.7 24-24l0-112c0-13.3-10.7-24-24-24zm32 224a32 32 0 1 0 -64 0 32 32 0 1 0 64 0z"]},Jx=h4,m4={prefix:"fas",iconName:"users-gear",icon:[640,512,["users-cog"],"f509","M144 160A80 80 0 1 0 144 0a80 80 0 1 0 0 160zm368 0A80 80 0 1 0 512 0a80 80 0 1 0 0 160zM0 298.7C0 310.4 9.6 320 21.3 320l213.3 0c.2 0 .4 0 .7 0c-26.6-23.5-43.3-57.8-43.3-96c0-7.6 .7-15 1.9-22.3c-13.6-6.3-28.7-9.7-44.6-9.7l-42.7 0C47.8 192 0 239.8 0 298.7zM320 320c24 0 45.9-8.8 62.7-23.3c2.5-3.7 5.2-7.3 8-10.7c2.7-3.3 5.7-6.1 9-8.3C410 262.3 416 243.9 416 224c0-53-43-96-96-96s-96 43-96 96s43 96 96 96zm65.4 60.2c-10.3-5.9-18.1-16.2-20.8-28.2l-103.2 0C187.7 352 128 411.7 128 485.3c0 14.7 11.9 26.7 26.7 26.7l300.6 0c-2.1-5.2-3.2-10.9-3.2-16.4l0-3c-1.3-.7-2.7-1.5-4-2.3l-2.6 1.5c-16.8 9.7-40.5 8-54.7-9.7c-4.5-5.6-8.6-11.5-12.4-17.6l-.1-.2-.1-.2-2.4-4.1-.1-.2-.1-.2c-3.4-6.2-6.4-12.6-9-19.3c-8.2-21.2 2.2-42.6 19-52.3l2.7-1.5c0-.8 0-1.5 0-2.3s0-1.5 0-2.3l-2.7-1.5zM533.3 192l-42.7 0c-15.9 0-31 3.5-44.6 9.7c1.3 7.2 1.9 14.7 1.9 22.3c0 17.4-3.5 33.9-9.7 49c2.5 .9 4.9 2 7.1 3.3l2.6 1.5c1.3-.8 2.6-1.6 4-2.3l0-3c0-19.4 13.3-39.1 35.8-42.6c7.9-1.2 16-1.9 24.2-1.9s16.3 .6 24.2 1.9c22.5 3.5 35.8 23.2 35.8 42.6l0 3c1.3 .7 2.7 1.5 4 2.3l2.6-1.5c16.8-9.7 40.5-8 54.7 9.7c2.3 2.8 4.5 5.8 6.6 8.7c-2.1-57.1-49-102.7-106.6-102.7zm91.3 163.9c6.3-3.6 9.5-11.1 6.8-18c-2.1-5.5-4.6-10.8-7.4-15.9l-2.3-4c-3.1-5.1-6.5-9.9-10.2-14.5c-4.6-5.7-12.7-6.7-19-3l-2.9 1.7c-9.2 5.3-20.4 4-29.6-1.3s-16.1-14.5-16.1-25.1l0-3.4c0-7.3-4.9-13.8-12.1-14.9c-6.5-1-13.1-1.5-19.9-1.5s-13.4 .5-19.9 1.5c-7.2 1.1-12.1 7.6-12.1 14.9l0 3.4c0 10.6-6.9 19.8-16.1 25.1s-20.4 6.6-29.6 1.3l-2.9-1.7c-6.3-3.6-14.4-2.6-19 3c-3.7 4.6-7.1 9.5-10.2 14.6l-2.3 3.9c-2.8 5.1-5.3 10.4-7.4 15.9c-2.6 6.8 .5 14.3 6.8 17.9l2.9 1.7c9.2 5.3 13.7 15.8 13.7 26.4s-4.5 21.1-13.7 26.4l-3 1.7c-6.3 3.6-9.5 11.1-6.8 17.9c2.1 5.5 4.6 10.7 7.4 15.8l2.4 4.1c3 5.1 6.4 9.9 10.1 14.5c4.6 5.7 12.7 6.7 19 3l2.9-1.7c9.2-5.3 20.4-4 29.6 1.3s16.1 14.5 16.1 25.1l0 3.4c0 7.3 4.9 13.8 12.1 14.9c6.5 1 13.1 1.5 19.9 1.5s13.4-.5 19.9-1.5c7.2-1.1 12.1-7.6 12.1-14.9l0-3.4c0-10.6 6.9-19.8 16.1-25.1s20.4-6.6 29.6-1.3l2.9 1.7c6.3 3.6 14.4 2.6 19-3c3.7-4.6 7.1-9.4 10.1-14.5l2.4-4.2c2.8-5.1 5.3-10.3 7.4-15.8c2.6-6.8-.5-14.3-6.8-17.9l-3-1.7c-9.2-5.3-13.7-15.8-13.7-26.4s4.5-21.1 13.7-26.4l3-1.7zM472 384a40 40 0 1 1 80 0 40 40 0 1 1 -80 0z"]},f4=m4;/*!
 * Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com
 * License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License)
 * Copyright 2024 Fonticons, Inc.
 */const p4={prefix:"fab",iconName:"facebook",icon:[512,512,[62e3],"f09a","M512 256C512 114.6 397.4 0 256 0S0 114.6 0 256C0 376 82.7 476.8 194.2 504.5V334.2H141.4V256h52.8V222.3c0-87.1 39.4-127.5 125-127.5c16.2 0 44.2 3.2 55.7 6.4V172c-6-.6-16.5-1-29.6-1c-42 0-58.2 15.9-58.2 57.2V256h83.6l-14.4 78.2H287V510.1C413.8 494.8 512 386.9 512 256h0z"]},Ii="/assets/pdmlogo-CSyp8ogQ.png",fm="/assets/church1-BqYSqBa8.jpg",zs="/assets/church2-9DoSFtx1.jpg",Kw="/assets/church3-BBXkVVcl.jpg",g4="/assets/map-D1kQWssC.png",k0=()=>{const a=Jt(),t=N.useRef(null),s=N.useRef(null),i=N.useRef(null),r=N.useRef(null),[c,A]=N.useState("home"),[d,h]=N.useState(!1),[u,v]=N.useState(0),[x,y]=N.useState(!1),p=[{src:fm,title:"Sunday Mass",date:"Every Sunday",time:"8:00 AM"},{src:zs,title:"Wedding Ceremony"},{src:Kw,title:"Baptism"},{src:fm,title:"Confirmation"},{src:zs,title:"Parish Festival"}],F=()=>{y(!x)},b=()=>{y(!1)},S=(k,Y)=>{k.current&&(k.current.scrollIntoView({behavior:"smooth"}),A(Y),b())},f=()=>{b()},O=k=>{h(!1),b(),a(`/${k}-login`)},M=()=>{h(!0),b()},J=()=>{v(k=>k===p.length-1?0:k+1)},K=()=>{v(k=>k===0?p.length-1:k-1)},H=k=>{v(k)};return N.useEffect(()=>{const k=()=>{const Y=[{name:"home",ref:t},{name:"about",ref:s},{name:"events",ref:i},{name:"contactus",ref:r}];let D="home";for(let ge of Y)if(ge.ref.current){const _=ge.ref.current.getBoundingClientRect();if(_.top<=150&&_.bottom>=150){D=ge.name;break}}A(D)};return window.addEventListener("scroll",k),()=>window.removeEventListener("scroll",k)},[]),N.useEffect(()=>{const k=()=>{window.innerWidth>768&&x&&y(!1)};return window.addEventListener("resize",k),()=>window.removeEventListener("resize",k)},[x]),e.jsxs("div",{className:`home-container ${d?"modal-active":""} ${x?"menu-open":""}`,children:[e.jsxs("header",{className:"header",children:[e.jsxs("div",{className:"logo",children:[e.jsx("img",{src:Ii,alt:"Parish Logo",className:"home-logo"}),e.jsx("span",{children:"PARISH OF THE DIVINE MERCY"})]}),e.jsxs("nav",{className:"nav",children:[e.jsx("button",{className:c==="home"?"active":"",onClick:()=>S(t,"home"),children:"Home"}),e.jsx("button",{className:c==="about"?"active":"",onClick:()=>S(s,"about"),children:"About"}),e.jsx("button",{className:c==="events"?"active":"",onClick:()=>S(i,"events"),children:"Events"}),e.jsx("button",{className:c==="contactus"?"active":"",onClick:()=>S(r,"contactus"),children:"Contact Us"})]}),e.jsx("button",{className:"login-btn",onClick:()=>h(!0),children:"LOGIN"}),e.jsxs("div",{className:`hamburger ${x?"active":""}`,onClick:F,children:[e.jsx("span",{}),e.jsx("span",{}),e.jsx("span",{})]})]}),e.jsx("div",{className:`nav-overlay ${x?"active":""}`,onClick:f}),e.jsxs("div",{className:`nav-mobile ${x?"active":""}`,children:[e.jsxs("div",{className:"nav-mobile-header",children:[e.jsxs("div",{className:"nav-mobile-logo",children:[e.jsx("img",{src:Ii,alt:"Parish Logo"}),e.jsx("span",{children:"PDM"})]}),e.jsx("button",{className:"close-nav",onClick:b,children:""})]}),e.jsxs("div",{className:"nav-mobile-menu",children:[e.jsx("button",{className:c==="home"?"active":"",onClick:()=>S(t,"home"),children:"Home"}),e.jsx("button",{className:c==="about"?"active":"",onClick:()=>S(s,"about"),children:"About"}),e.jsx("button",{className:c==="events"?"active":"",onClick:()=>S(i,"events"),children:"Events"}),e.jsx("button",{className:c==="contactus"?"active":"",onClick:()=>S(r,"contactus"),children:"Contact Us"})]}),e.jsx("button",{className:"nav-mobile-login",onClick:M,children:"LOGIN"})]}),d&&e.jsx("div",{className:"login-card",children:e.jsxs("div",{className:"login-content role-modal",children:[e.jsx("img",{src:Ii,alt:"Parish Logo",className:"parish-logo-login"}),e.jsx("h2",{children:"SELECT YOUR ROLE"}),e.jsxs("div",{className:"role-buttons",children:[e.jsxs("button",{onClick:()=>O("parish"),className:"role-button",children:[e.jsx(dt,{icon:Xx,className:"role-icon"}),e.jsx("span",{children:"Parish"})]}),e.jsxs("button",{onClick:()=>O("secretary"),className:"role-button",children:[e.jsx(dt,{icon:M0,className:"role-icon"}),e.jsx("span",{children:"Secretary"})]}),e.jsxs("button",{onClick:()=>O("ministry"),className:"role-button",children:[e.jsx(dt,{icon:O0,className:"role-icon"}),e.jsx("span",{children:"Ministry"})]}),e.jsxs("button",{onClick:()=>O("client"),className:"role-button",children:[e.jsx(dt,{icon:ro,className:"role-icon"}),e.jsx("span",{children:"Client"})]})]}),e.jsx("button",{className:"close-modal",onClick:()=>h(!1),children:"X"})]})}),e.jsxs("main",{className:"content",ref:t,children:[e.jsxs("div",{className:"text-section",children:[e.jsxs("h1",{children:["WELCOME TO ",e.jsx("br",{}),e.jsx("span",{children:"Parish of the Divine Mercy"})]}),e.jsx("p",{children:"We're happy to have you here. Parish of the Divine Mercy is a place where you can grow in faith, find hope, and connect with a loving community. Join us for Sunday Worship. Everyone is welcome!"})]}),e.jsxs("div",{className:"image-section",children:[e.jsx("div",{className:"main-image",children:e.jsx("img",{src:Kw,alt:"Church Celebration"})}),e.jsxs("div",{className:"sub-images",children:[e.jsx("img",{src:fm,alt:"Church Front"}),e.jsx("img",{src:zs,alt:"Divine Mercy Image"})]})]})]}),e.jsxs("section",{className:"about-section",ref:s,children:[e.jsx("h2",{children:"About Us"}),e.jsxs("div",{className:"about-container",children:[e.jsx("div",{className:"about-image",children:e.jsx("img",{src:fm,alt:"Divine Mercy Church"})}),e.jsx("div",{className:"about-content",children:e.jsx("p",{children:"Divine Mercy Church in Alawihao, Daet, Camarines Norte, was established in 2009 and belongs to the Diocese of Daet under the Roman Catholic Archdiocese of Caceres. Its architectural features include a central entrance flanked by windows and a pediment with glass windows depicting the titular, with a bell tower located on the gospel side. The church celebrates the feast of Divine Mercy every April 15."})})]})]}),e.jsxs("section",{className:"events-section",ref:i,children:[e.jsx("h2",{children:"Events"}),e.jsxs("div",{className:"slider-container",children:[e.jsx("button",{className:"slider-nav prev",onClick:K,children:e.jsx(dt,{icon:mh})}),e.jsx("div",{className:"slider-wrapper",children:p.map((k,Y)=>e.jsxs("div",{className:`slide ${Y===u?"active":""}`,style:{transform:`translateX(${100*(Y-u)}%)`},children:[e.jsx("div",{className:"slide-image",children:e.jsx("img",{src:k.src,alt:`Event ${Y+1}`})}),e.jsxs("div",{className:"slide-content",children:[e.jsx("h3",{children:k.title}),e.jsx("div",{className:"slide-date",children:k.date}),e.jsx("div",{className:"slide-time",children:k.time})]})]},Y))}),e.jsx("button",{className:"slider-nav next",onClick:J,children:e.jsx(dt,{icon:fh})})]}),e.jsx("div",{className:"slider-indicators",children:p.map((k,Y)=>e.jsx("button",{className:`indicator ${Y===u?"active":""}`,onClick:()=>H(Y)},Y))})]}),e.jsxs("footer",{className:"footer-section",ref:r,children:[e.jsx("div",{className:"footer-circle",children:e.jsx("img",{src:Ii,alt:"Parish Logo",className:"footer-logo"})}),e.jsxs("div",{className:"footer-container",children:[e.jsx("div",{className:"footer-map",children:e.jsx("img",{src:g4,alt:"Map Location",className:"map-image"})}),e.jsxs("div",{className:"footer-info",children:[e.jsxs("p",{children:[e.jsx(dt,{icon:c4})," Daet, Philippines"]}),e.jsxs("p",{children:[e.jsx(dt,{icon:U0})," 0947-893-6393"]}),e.jsxs("p",{children:[e.jsx(dt,{icon:Wm})," parishofthedivinemercy.com"]}),e.jsxs("p",{children:[e.jsx(dt,{icon:p4})," Parish of the Divine Mercy - Alawihao, DCN"]})]})]}),e.jsx("div",{className:"footer-bottom",children:e.jsx("p",{children:" 2025 Parish of the Divine Mercy. All rights reserved."})})]})]})},v4=()=>{const a=Jt(),[t,s]=N.useState(!1),[i,r]=N.useState(""),[c,A]=N.useState(""),[d,h]=N.useState(""),u=v=>{v.preventDefault(),i==="parish"&&c==="password"?(h(""),a("/parish-dashboard")):h("Invalid username or password")};return e.jsxs("div",{className:"login-page",children:[e.jsxs("button",{className:"back-button",onClick:()=>a("/"),children:[e.jsx(dt,{icon:Rf})," Back to Home"]}),e.jsxs("div",{className:"login-container",children:[e.jsxs("div",{className:"login-header",children:[e.jsx("img",{src:Ii,alt:"Parish Logo",className:"login-logo"}),e.jsx("h1",{children:"Parish Login"}),e.jsx("div",{className:"role-icon-container",children:e.jsx(dt,{icon:Xx,className:"role-page-icon"})})]}),e.jsxs("form",{className:"login-form",onSubmit:u,children:[e.jsx("div",{className:"form-label",children:e.jsx("label",{htmlFor:"parish-username",children:"Username"})}),e.jsx("div",{className:"form-group",children:e.jsxs("div",{className:"input-field",children:[e.jsx("input",{type:"text",id:"parish-username",placeholder:"Enter your username",value:i,onChange:v=>r(v.target.value),required:!0}),e.jsx(dt,{icon:ro,className:"input-icon"})]})}),e.jsxs("div",{className:"form-label",children:[e.jsx("label",{htmlFor:"password",children:"Password"}),e.jsxs("div",{className:"password-field",children:[e.jsx("input",{type:t?"text":"password",id:"password",placeholder:"Enter your password",value:c,onChange:v=>A(v.target.value),required:!0}),e.jsx(dt,{icon:jd,className:"input-icon"}),e.jsx(dt,{icon:t?to:Fn,className:"password-toggle",onClick:()=>s(!t)})]})]}),d&&e.jsx("div",{className:"error-message",style:{color:"red",marginBottom:"10px"},children:d}),e.jsx("div",{className:"form-actions-button",children:e.jsx("button",{type:"submit",className:"login-submit-btn",children:"LOGIN"})})]})]})]})},x4=()=>{const a=Jt(),[t,s]=N.useState(!1),[i,r]=N.useState(""),[c,A]=N.useState(""),[d,h]=N.useState(""),u=v=>{v.preventDefault(),i==="secretary"&&c==="password"?(h(""),a("/secretary-dashboard")):h("Invalid username or password")};return e.jsxs("div",{className:"login-page secretary-theme",children:[e.jsxs("button",{className:"back-button",onClick:()=>a("/"),children:[e.jsx(dt,{icon:Rf})," Back to Home"]}),e.jsxs("div",{className:"login-container",children:[e.jsxs("div",{className:"login-header",children:[e.jsx("img",{src:Ii,alt:"Parish Logo",className:"login-logo"}),e.jsx("h1",{children:"Secretary Login"}),e.jsx("div",{className:"role-icon-container",children:e.jsx(dt,{icon:M0,className:"role-page-icon"})})]}),e.jsxs("form",{className:"login-form",onSubmit:u,children:[e.jsx("div",{className:"form-label",children:e.jsx("label",{htmlFor:"secretary-username",children:"Username"})}),e.jsx("div",{className:"form-group",children:e.jsxs("div",{className:"input-field",children:[e.jsx("input",{type:"text",id:"secretary-username",placeholder:"Enter your username",value:i,onChange:v=>r(v.target.value),required:!0}),e.jsx(dt,{icon:ro,className:"input-icon"})]})}),e.jsxs("div",{className:"form-label",children:[e.jsx("label",{htmlFor:"password",children:"Password"}),e.jsxs("div",{className:"password-field",children:[e.jsx("input",{type:t?"text":"password",id:"password",placeholder:"Enter your password",value:c,onChange:v=>A(v.target.value),required:!0}),e.jsx(dt,{icon:jd,className:"input-icon"}),e.jsx(dt,{icon:t?to:Fn,className:"password-toggle",onClick:()=>s(!t)})]})]}),d&&e.jsx("div",{className:"error-message",style:{color:"red",marginBottom:"10px"},children:d}),e.jsx("div",{className:"form-actions-button",children:e.jsx("button",{type:"submit",className:"login-submit-btn",children:"LOGIN"})})]})]})]})},y4=()=>{const a=Jt(),[t,s]=N.useState(!1),[i,r]=N.useState({email:"",password:""}),[c,A]=N.useState(""),[d,h]=N.useState(!1),u=x=>{const{id:y,value:p}=x.target;r({...i,[y==="ministry-email"?"email":y]:p})},v=async x=>{x.preventDefault(),A(""),h(!0);try{const p=await(await fetch("https://parishofdivinemercy.com/backend/ministry_login.php",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:i.email,password:i.password})})).json();p.success?(localStorage.setItem("ministry_user",JSON.stringify(p.user)),console.log("User logged in successfully:",p.user),a("/ministry-dashboard",{state:{userData:p.user,userID:p.user.userID}})):A(p.message||"Login failed. Please check your credentials.")}catch(y){A("An error occurred. Please try again later."),console.error("Login error:",y)}finally{h(!1)}};return e.jsxs("div",{className:"login-page ministry-theme",children:[e.jsxs("button",{className:"back-button",onClick:()=>a("/"),children:[e.jsx(dt,{icon:Rf})," Back to Home"]}),e.jsxs("div",{className:"login-container",children:[e.jsxs("div",{className:"login-header",children:[e.jsx("img",{src:Ii,alt:"Parish Logo",className:"login-logo"}),e.jsx("h1",{children:"Ministry Login"}),e.jsx("div",{className:"role-icon-container",children:e.jsx(dt,{icon:O0,className:"role-page-icon"})})]}),c&&e.jsx("div",{className:"error-message",children:c}),e.jsxs("form",{className:"login-form",onSubmit:v,children:[e.jsx("div",{className:"form-label",children:e.jsx("label",{htmlFor:"ministry-email",children:"Email"})}),e.jsx("div",{className:"form-group",children:e.jsxs("div",{className:"input-field",children:[e.jsx("input",{type:"email",id:"ministry-email",placeholder:"Enter your email",value:i.email,onChange:u,required:!0}),e.jsx(dt,{icon:ro,className:"input-icon"})]})}),e.jsxs("div",{className:"form-label",children:[e.jsx("label",{htmlFor:"password",children:"Password"}),e.jsxs("div",{className:"password-field",children:[e.jsx("input",{type:t?"text":"password",id:"password",placeholder:"Enter your password",value:i.password,onChange:u,required:!0}),e.jsx(dt,{icon:jd,className:"input-icon"}),e.jsx(dt,{icon:t?to:Fn,className:"password-toggle",onClick:()=>s(!t)})]})]}),e.jsx("div",{className:"form-actions-button",children:e.jsx("button",{type:"submit",className:"login-submit-btn",disabled:d,children:d?"LOGGING IN...":"LOGIN"})})]})]})]})},b4=()=>{const a=Jt(),[t,s]=N.useState(!0),[i,r]=N.useState(!1),[c,A]=N.useState(!1),[d,h]=N.useState(!1),[u,v]=N.useState(!1),[x,y]=N.useState(""),[p,F]=N.useState(""),[b,S]=N.useState(!1),[f,O]=N.useState(!1),[M,J]=N.useState(!1),[K,H]=N.useState(!1),[k,Y]=N.useState({email:"",password:""}),[D,ge]=N.useState({first_name:"",last_name:"",contact_number:"",email:"",password:"",confirm_password:""}),[_,X]=N.useState({email:"",new_password:"",confirm_new_password:""}),re=async ye=>{ye.preventDefault(),v(!0),y(""),F("");try{const ne=await(await fetch("http://parishofdivinemercy.com/backend/client_login.php",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:k.email,password:k.password})})).json();ne.success?(localStorage.setItem("user",JSON.stringify(ne.user)),a("/client-dashboard",{state:{clientID:ne.user.clientID,user:ne.user}})):y(ne.message||"Invalid email or password.")}catch(Q){console.error("Error:",Q),y("Network error. Please check your connection and try again.")}finally{v(!1)}},fe=async ye=>{if(ye.preventDefault(),v(!0),y(""),F(""),D.password!==D.confirm_password){y("Passwords do not match."),v(!1);return}const Q=D.password;if(Q.length<8){y("Password must be at least 8 characters long."),v(!1);return}if(!/[A-Z]/.test(Q)){y("Password must contain at least one uppercase letter."),v(!1);return}if(!/[0-9]/.test(Q)){y("Password must contain at least one number."),v(!1);return}if(!/[!@#$%^&*()_+\-=\[\]{};':"\\|,.<>\/?]/.test(Q)){y(`Password must contain at least one special character (!@#$%^&*()_+-=[]{}|;':",./<>?).`),v(!1);return}try{const ne=await fetch("http://parishofdivinemercy.com/backend/client_registration.php",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({first_name:D.first_name,last_name:D.last_name,contact_number:D.contact_number,email:D.email,password:D.password})}),U=ne.headers.get("content-type");if(U&&U.indexOf("application/json")!==-1){const V=await ne.json();V.success?(F("Registration successful! You can now login with your account."),setTimeout(()=>{s(!0),F(""),ge({first_name:"",last_name:"",contact_number:"",email:"",password:"",confirm_password:""})},2e3)):y(V.message||"Registration failed. Please try again.")}else{const V=await ne.text();console.error("Non-JSON response:",V),y("Server error. Please try again later.")}}catch(ne){console.error("Error:",ne),y("Network error. Please check your connection and try again.")}finally{v(!1)}},Ne=async ye=>{if(ye.preventDefault(),H(!0),y(""),F(""),_.new_password!==_.confirm_new_password){y("New passwords do not match."),H(!1);return}const Q=_.new_password;if(Q.length<8){y("Password must be at least 8 characters long."),H(!1);return}if(!/[A-Z]/.test(Q)){y("Password must contain at least one uppercase letter."),H(!1);return}if(!/[0-9]/.test(Q)){y("Password must contain at least one number."),H(!1);return}if(!/[!@#$%^&*()_+\-=\[\]{};':"\\|,.<>\/?]/.test(Q)){y(`Password must contain at least one special character (!@#$%^&*()_+-=[]{}|;':",./<>?).`),H(!1);return}try{const U=await(await fetch("http://parishofdivinemercy.com/backend/client_forgot_password.php",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:_.email,new_password:_.new_password})})).json();U.success?(F("Password has been successfully reset! You can now login with your new password."),X({email:"",new_password:"",confirm_new_password:""}),setTimeout(()=>{S(!1),F("")},2e3)):y(U.message||"Failed to reset password. Please try again.")}catch(ne){console.error("Error:",ne),y("Network error. Please check your connection and try again.")}finally{H(!1)}},ue=ye=>{Y({...k,[ye.target.name]:ye.target.value}),x&&y(""),p&&F("")},_e=ye=>{ge({...D,[ye.target.name]:ye.target.value}),x&&y(""),p&&F("")},ce=ye=>{X({..._,[ye.target.name]:ye.target.value}),x&&y(""),p&&F("")};return e.jsxs("div",{className:"login-page client-theme",children:[e.jsxs("button",{className:"back-button",onClick:()=>a("/"),children:[e.jsx(dt,{icon:Rf})," Back to Home"]}),e.jsxs("div",{className:"login-container-client",children:[e.jsxs("div",{className:"login-header",children:[e.jsx("img",{src:Ii,alt:"Parish Logo",className:"login-logo"}),e.jsx("h1",{children:t?"Client Login":"Client Registration"}),e.jsx("div",{className:"role-icon-container",children:e.jsx(dt,{icon:ro,className:"role-page-icon"})})]}),x&&e.jsx("div",{className:"error-message",children:x}),p&&e.jsx("div",{className:"success-message",children:p}),t?e.jsxs("form",{className:"login-form",onSubmit:re,children:[e.jsx("div",{className:"form-label",children:e.jsx("label",{htmlFor:"email",children:"Email"})}),e.jsx("div",{className:"form-group",children:e.jsxs("div",{className:"input-field",children:[e.jsx("input",{type:"email",id:"email",name:"email",placeholder:"Enter your email",value:k.email,onChange:ue,required:!0,disabled:u}),e.jsx(dt,{icon:Wm,className:"input-icon"})]})}),e.jsxs("div",{className:"form-label",children:[e.jsx("label",{htmlFor:"login-password",children:"Password"}),e.jsxs("div",{className:"password-field",children:[e.jsx("input",{type:i?"text":"password",id:"login-password",name:"password",placeholder:"Enter your password",value:k.password,onChange:ue,required:!0,disabled:u}),e.jsx(dt,{icon:jd,className:"input-icon"}),e.jsx(dt,{icon:i?to:Fn,className:"password-toggle",onClick:()=>r(!i)})]})]}),e.jsx("div",{className:"form-actions",children:e.jsx("a",{href:"#",className:"forgot-password",onClick:ye=>{ye.preventDefault(),S(!0),y(""),F("")},children:"Forgot Password?"})}),e.jsx("div",{className:"client-form-actions-button",children:e.jsx("button",{type:"submit",className:"login-submit-btn",disabled:u,children:u?"LOGGING IN...":"LOGIN"})}),e.jsx("div",{className:"form-switch",children:e.jsxs("p",{children:["Don't have an account? ",e.jsx("button",{type:"button",onClick:()=>{s(!1),y(""),F("")},children:"Sign Up"})]})})]}):e.jsxs("form",{className:"signup-form",onSubmit:fe,children:[e.jsxs("div",{className:"form-row",children:[e.jsx("div",{className:"form-group",children:e.jsxs("div",{className:"form-label",children:[e.jsx("label",{htmlFor:"first-name",children:"First Name"}),e.jsxs("div",{className:"input-field",children:[e.jsx("input",{type:"text",id:"first-name",name:"first_name",placeholder:"Enter your first name",value:D.first_name,onChange:_e,required:!0,disabled:u}),e.jsx(dt,{icon:ro,className:"input-icon"})]})]})}),e.jsx("div",{className:"form-group",children:e.jsxs("div",{className:"form-label",children:[e.jsx("label",{htmlFor:"last-name",children:"Last Name"}),e.jsxs("div",{className:"input-field",children:[e.jsx("input",{type:"text",id:"last-name",name:"last_name",placeholder:"Enter your last name",value:D.last_name,onChange:_e,required:!0,disabled:u}),e.jsx(dt,{icon:ro,className:"input-icon"})]})]})})]}),e.jsxs("div",{className:"form-group",children:[e.jsxs("div",{className:"form-label",children:[e.jsx("label",{htmlFor:"contact-number",children:"Contact Number"}),e.jsxs("div",{className:"input-field",children:[e.jsx("input",{type:"tel",id:"contact-number",name:"contact_number",placeholder:"Enter your contact number",value:D.contact_number,onChange:_e,required:!0,disabled:u}),e.jsx(dt,{icon:U0,className:"input-icon"})]})]}),e.jsx("div",{className:"form-group",children:e.jsxs("div",{className:"form-label",children:[e.jsx("label",{htmlFor:"signup-email",children:"Email"}),e.jsxs("div",{className:"input-field",children:[e.jsx("input",{type:"email",id:"signup-email",name:"email",placeholder:"Enter your email",value:D.email,onChange:_e,required:!0,disabled:u}),e.jsx(dt,{icon:Wm,className:"input-icon"})]})]})})]}),e.jsxs("div",{className:"form-group",children:[e.jsxs("div",{className:"sign-up-form-label",children:[e.jsx("label",{htmlFor:"signup-password",children:"Password"}),e.jsxs("div",{className:"password-field",children:[e.jsx("input",{type:c?"text":"password",id:"signup-password",name:"password",placeholder:"Enter your password",value:D.password,onChange:_e,required:!0,disabled:u,minLength:"8"}),e.jsx(dt,{icon:c?to:Fn,className:"password-toggle",onClick:()=>A(!c)})]})]}),e.jsx("div",{className:"form-group",children:e.jsxs("div",{className:"form-label",children:[e.jsx("label",{htmlFor:"confirm-password",children:"Confirm"}),e.jsxs("div",{className:"password-field",children:[e.jsx("input",{type:d?"text":"password",id:"confirm-password",name:"confirm_password",placeholder:"Confirm your password",value:D.confirm_password,onChange:_e,required:!0,disabled:u}),e.jsx(dt,{icon:d?to:Fn,className:"password-toggle",onClick:()=>h(!d)})]})]})})]}),e.jsxs("div",{className:"password-requirements",children:[e.jsx("small",{children:"Password must contain:"}),e.jsxs("ul",{children:[e.jsx("li",{children:"At least 8 characters"}),e.jsx("li",{children:"One uppercase letter"}),e.jsx("li",{children:"One number"}),e.jsx("li",{children:"One special character (!@#$%^&*...)"})]})]}),e.jsx("div",{className:"client-form-actions-button",children:e.jsx("button",{type:"submit",className:"signup-submit-btn",disabled:u,children:u?"CREATING ACCOUNT...":"SIGN UP"})}),e.jsx("div",{className:"form-switch",children:e.jsxs("p",{children:["Already have an account? ",e.jsx("button",{type:"button",onClick:()=>{s(!0),y(""),F("")},children:"Login"})]})})]})]}),b&&e.jsx("div",{className:"modal-overlay",children:e.jsxs("div",{className:"modal-container",children:[e.jsxs("div",{className:"modal-header",children:[e.jsx("h2",{children:"Reset Password"}),e.jsx("button",{className:"modal-close",onClick:()=>{S(!1),X({email:"",new_password:"",confirm_new_password:""}),y(""),F("")},children:e.jsx(dt,{icon:vo})})]}),x&&e.jsx("div",{className:"error-message",children:x}),p&&e.jsx("div",{className:"success-message",children:p}),e.jsxs("form",{className:"reset-password-form",onSubmit:Ne,children:[e.jsx("div",{className:"form-label",children:e.jsx("label",{htmlFor:"reset-email",children:"Email"})}),e.jsx("div",{className:"form-group",children:e.jsxs("div",{className:"input-field",children:[e.jsx("input",{type:"email",id:"reset-email",name:"email",placeholder:"Enter your registered email",value:_.email,onChange:ce,required:!0,disabled:K}),e.jsx(dt,{icon:Wm,className:"input-icon"})]})}),e.jsxs("div",{className:"form-label",children:[e.jsx("label",{htmlFor:"new-password",children:"New Password"}),e.jsxs("div",{className:"password-field",children:[e.jsx("input",{type:f?"text":"password",id:"new-password",name:"new_password",placeholder:"Enter new password (8+ chars, uppercase, number, special char)",value:_.new_password,onChange:ce,required:!0,disabled:K,minLength:"8"}),e.jsx(dt,{icon:jd,className:"input-icon"}),e.jsx(dt,{icon:f?to:Fn,className:"password-toggle",onClick:()=>O(!f)})]})]}),e.jsxs("div",{className:"form-label",children:[e.jsx("label",{htmlFor:"confirm-new-password",children:"Confirm New Password"}),e.jsxs("div",{className:"password-field",children:[e.jsx("input",{type:M?"text":"password",id:"confirm-new-password",name:"confirm_new_password",placeholder:"Confirm new password",value:_.confirm_new_password,onChange:ce,required:!0,disabled:K,minLength:"8"}),e.jsx(dt,{icon:jd,className:"input-icon"}),e.jsx(dt,{icon:M?to:Fn,className:"password-toggle",onClick:()=>J(!M)})]})]}),e.jsxs("div",{className:"password-requirements",children:[e.jsx("small",{children:"Password must contain:"}),e.jsxs("ul",{children:[e.jsx("li",{children:"At least 8 characters"}),e.jsx("li",{children:"One uppercase letter"}),e.jsx("li",{children:"One number"}),e.jsx("li",{children:"One special character (!@#$%^&*...)"})]})]}),e.jsx("div",{className:"form-actions-button",children:e.jsx("button",{type:"submit",className:"reset-password-btn",disabled:K,children:K?"RESETTING PASSWORD...":"RESET PASSWORD"})})]})]})})]})},Og=()=>{const a=oa(),t=Jt(),[s,i]=N.useState(!1),[r,c]=N.useState(!1),A=v=>{v.stopPropagation(),i(!s)},d=()=>{i(!1)};N.useEffect(()=>{const v=()=>{const p=[".modal-backdrop-cae",".modal-backdrop-pae",".modal-backdrop",".modal-overlay",'[class*="modal-backdrop"]','[class*="modal-overlay"]'],F=document.querySelectorAll(p.join(", "));c(F.length>0)};v();const x=new MutationObserver(p=>{let F=!1;p.forEach(b=>{b.type==="childList"&&(b.addedNodes.forEach(S=>{S.nodeType===1&&S.className&&typeof S.className=="string"&&(S.className.includes("modal")||S.className.includes("backdrop"))&&(F=!0)}),b.removedNodes.forEach(S=>{S.nodeType===1&&S.className&&typeof S.className=="string"&&(S.className.includes("modal")||S.className.includes("backdrop"))&&(F=!0)}))}),F&&v()});x.observe(document.body,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["class"]});const y=()=>{setTimeout(v,100)};return window.addEventListener("popstate",y),()=>{x.disconnect(),window.removeEventListener("popstate",y)}},[]),N.useEffect(()=>{const v=()=>{window.innerWidth>1150&&s&&i(!1)};return window.addEventListener("resize",v),()=>window.removeEventListener("resize",v)},[s]),N.useEffect(()=>(s&&window.innerWidth<=1150?document.body.classList.add("body-no-scroll"):document.body.classList.remove("body-no-scroll"),()=>{document.body.classList.remove("body-no-scroll")}),[s]);const h=()=>{d(),t("/")},u=()=>{window.innerWidth<=1150&&d()};return e.jsxs(e.Fragment,{children:[!s&&!r&&e.jsx("button",{className:"sidebar-toggle-btn",onClick:A,"aria-label":"Open menu",children:e.jsx(dt,{icon:Tf})}),e.jsxs("div",{className:`parish-sidebar ${s?"open":""}`,children:[e.jsxs("div",{className:"parish-sidebar-mobile-header",children:[e.jsx("h2",{children:"PARISH"}),e.jsx("button",{className:"sidebar-close-btn",onClick:d,children:e.jsx(dt,{icon:vo})})]}),e.jsx("div",{className:"parish-sidebar-header",children:e.jsx("h2",{children:"PARISH"})}),e.jsxs("nav",{className:"parish-sidebar-menu",children:[e.jsxs(bi,{to:"/parish-dashboard",className:`parish-menu-item ${a.pathname==="/parish-dashboard"?"active":""}`,onClick:u,children:[e.jsx(dt,{icon:Od}),e.jsx("span",{children:"Dashboard"})]}),e.jsxs(bi,{to:"/parish-appointment",className:`parish-menu-item ${a.pathname==="/parish-appointment"?"active":""}`,onClick:u,children:[e.jsx(dt,{icon:rn}),e.jsx("span",{children:"Appointment"})]}),e.jsxs(bi,{to:"/parish-activities-event",className:`parish-menu-item ${a.pathname==="/parish-activities-event"?"active":""}`,onClick:u,children:[e.jsx(dt,{icon:s4}),e.jsx("span",{children:"Activities Event"})]}),e.jsxs("div",{className:"parish-menu-item-logout",onClick:h,children:[e.jsx(dt,{icon:Qf}),e.jsx("span",{children:"Logout"})]})]})]})]})},w4=()=>{const a=oa(),t=Jt(),[s,i]=N.useState(null),[r,c]=N.useState(null),[A,d]=N.useState(!1),[h,u]=N.useState(!1),v=b=>{b.stopPropagation(),d(!A)},x=()=>{d(!1)};N.useEffect(()=>{const b=()=>{const f=document.querySelector(".modal-backdrop-cae");u(!!f)};b();const S=new MutationObserver(b);return S.observe(document.body,{childList:!0,subtree:!0}),()=>{S.disconnect()}},[]),N.useEffect(()=>{if(a.state&&a.state.userData)i(a.state.userData),c(a.state.userID||a.state.userData.userID),console.log("User data from location state:",a.state.userData);else{const b=localStorage.getItem("ministry_user");if(b)try{const S=JSON.parse(b);i(S),c(S.userID||S.id||S.user_id),console.log("User data from localStorage:",S)}catch(S){console.error("Error parsing stored user data:",S),localStorage.removeItem("ministry_user"),t("/ministry-login")}else console.log("No user data found, redirecting to login"),t("/ministry-login")}},[a,t]),N.useEffect(()=>{const b=()=>{window.innerWidth>1150&&A&&d(!1)};return window.addEventListener("resize",b),()=>window.removeEventListener("resize",b)},[A]),N.useEffect(()=>(A&&window.innerWidth<=1150?document.body.classList.add("body-no-scroll"):document.body.classList.remove("body-no-scroll"),()=>{document.body.classList.remove("body-no-scroll")}),[A]);const y=()=>{localStorage.removeItem("ministry_user"),x(),t("/ministry-login")},p=()=>({userData:s,userID:r}),F=()=>{window.innerWidth<=1150&&x()};return s?e.jsxs(e.Fragment,{children:[!A&&!h&&e.jsx("button",{className:"sidebar-toggle-btn",onClick:v,"aria-label":"Open menu",children:e.jsx(dt,{icon:Tf})}),e.jsxs("div",{className:`community-sidebar ${A?"open":""}`,children:[e.jsxs("div",{className:"community-sidebar-mobile-header",children:[e.jsx("h2",{children:"MINISTRY"}),e.jsx("button",{className:"sidebar-close-btn",onClick:x,children:e.jsx(dt,{icon:vo})})]}),e.jsx("div",{className:"community-sidebar-header",children:e.jsx("h2",{children:"MINISTRY"})}),e.jsxs("nav",{className:"community-sidebar-menu",children:[e.jsxs(bi,{to:"/ministry-dashboard",state:p(),className:`community-menu-item ${a.pathname==="/ministry-dashboard"?"active":""}`,onClick:F,children:[e.jsx(dt,{icon:Od}),e.jsx("span",{children:"Dashboard"})]}),e.jsxs(bi,{to:"/ministry-profile",state:p(),className:`community-menu-item ${a.pathname==="/ministry-profile"?"active":""}`,onClick:F,children:[e.jsx(dt,{icon:ro}),e.jsx("span",{children:"Ministry Profile"})]}),e.jsxs(bi,{to:"/ministry-activities-event",state:p(),className:`community-menu-item ${a.pathname==="/ministry-activities-event"?"active":""}`,onClick:F,children:[e.jsx(dt,{icon:rn}),e.jsx("span",{children:"Events and Activities"})]}),e.jsxs("div",{className:"community-menu-item-logout",onClick:y,children:[e.jsx(dt,{icon:Qf}),e.jsx("span",{children:"Logout"})]})]})]})]}):null},kg=()=>{const[a,t]=N.useState({appointment:!1,sacramental:!1}),s=oa(),i=Jt(),[r,c]=N.useState(null),[A,d]=N.useState(null),[h,u]=N.useState(!1),[v,x]=N.useState(!1),y=O=>{O.stopPropagation(),u(!h)},p=()=>{u(!1)};N.useEffect(()=>{const O=()=>{const J=[".modal-backdrop-cae",".modal-backdrop-sae",".secretary-document-viewer-overlay",".secretary-marriage-document-viewer-overlay",".secretary-conf-document-viewer-overlay",".schedule-modal-overlay-ssc",".sacrament-modal-overlay-sa",".user-modal-overlay-sum",".report-modal-overlay-sr",".modal-overlay",".modal",'[role="dialog"]',".react-modal-overlay",".ant-modal-mask",".MuiModal-root",".modal-backdrop",'[data-modal="true"]'];let K=!1;for(const H of J)if(document.querySelector(H)){K=!0;break}x(K)};O();const M=new MutationObserver(J=>{let K=!1;J.forEach(H=>{H.type==="childList"?[...H.addedNodes,...H.removedNodes].forEach(k=>{var Y,D,ge,_,X,re,fe,Ne,ue,_e,ce,ye,Q;if(k.nodeType===Node.ELEMENT_NODE){const ne=k;((Y=ne.classList)!=null&&Y.contains("modal")||(D=ne.classList)!=null&&D.contains("modal-overlay")||(ge=ne.classList)!=null&&ge.contains("modal-backdrop-sae")||(_=ne.classList)!=null&&_.contains("secretary-conf-document-viewer-overlay")||(X=ne.classList)!=null&&X.contains("secretary-marriage-document-viewer-overlay")||(re=ne.classList)!=null&&re.contains("secretary-document-viewer-overlay")||(fe=ne.classList)!=null&&fe.contains("schedule-modal-overlay-ssc")||(Ne=ne.classList)!=null&&Ne.contains("sacrament-modal-overlay-sa")||(ue=ne.classList)!=null&&ue.contains("user-modal-overlay-sum")||(_e=ne.classList)!=null&&_e.contains("report-modal-overlay-sr")||(ce=ne.querySelector)!=null&&ce.call(ne,'[role="dialog"]')||(ye=ne.querySelector)!=null&&ye.call(ne,".modal")||(Q=ne.querySelector)!=null&&Q.call(ne,".modal-overlay"))&&(K=!0)}}):H.type==="attributes"&&(H.attributeName==="class"||H.attributeName==="style"||H.attributeName==="role")&&(K=!0)}),K&&O()});return M.observe(document.body,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["class","style","role","data-modal"]}),()=>{M.disconnect()}},[]),N.useEffect(()=>{if(s.state&&s.state.userData)c(s.state.userData),d(s.state.userID),console.log("User data from location state:",s.state.userData);else{const O=localStorage.getItem("secretary_user");if(O){const M=JSON.parse(O);c(M),d(M.userID),console.log("User data from localStorage:",M)}else if(s.pathname.startsWith("/secretary-")){const J={username:"secretary",role:"secretary",userID:"secretary_001"};c(J),d("secretary_001"),localStorage.setItem("secretary_user",JSON.stringify(J)),console.log("Created default secretary user data")}else console.log("No user data found, redirecting to secretary login"),i("/secretary-login")}},[s,i]),N.useEffect(()=>{const O=()=>{window.innerWidth>1150&&h&&u(!1)};return window.addEventListener("resize",O),()=>window.removeEventListener("resize",O)},[h]),N.useEffect(()=>(h&&window.innerWidth<=1150?document.body.classList.add("body-no-scroll"):document.body.classList.remove("body-no-scroll"),()=>{document.body.classList.remove("body-no-scroll")}),[h]),N.useEffect(()=>{v&&h&&u(!1)},[v,h]);const F=O=>{t(M=>({...M,[O]:!M[O]}))},b=()=>{localStorage.removeItem("secretary_user"),p(),i("/secretary-login")},S=()=>({userData:r,userID:A}),f=()=>{window.innerWidth<=1150&&p()};return e.jsxs(e.Fragment,{children:[!h&&!v&&e.jsx("button",{className:"sidebar-toggle-btn",onClick:y,"aria-label":"Open menu",children:e.jsx(dt,{icon:Tf})}),e.jsxs("div",{className:`secretary-sidebar ${h?"open":""}`,children:[e.jsxs("div",{className:"secretary-sidebar-mobile-header",children:[e.jsx("h2",{children:"SECRETARY"}),e.jsx("button",{className:"sidebar-close-btn",onClick:p,children:e.jsx(dt,{icon:vo})})]}),e.jsx("div",{className:"secretary-sidebar-header",children:e.jsx("h2",{children:"SECRETARY"})}),e.jsxs("nav",{className:"secretary-sidebar-menu",children:[e.jsxs(bi,{to:"/secretary-dashboard",state:S(),className:`secretary-menu-item ${s.pathname==="/secretary-dashboard"?"active":""}`,onClick:f,children:[e.jsx(dt,{icon:Od}),e.jsx("span",{children:"Dashboard"})]}),e.jsxs("div",{className:"secretary-menu-item",onClick:()=>F("appointment"),children:[e.jsx(dt,{icon:rn}),e.jsx("span",{children:"Appointment & Schedule"}),e.jsx(dt,{icon:qw,className:`dropdown-icon ${a.appointment?"rotate":""}`})]}),a.appointment&&e.jsxs("div",{className:"secretary-submenu",children:[e.jsxs(bi,{to:"/secretary-appointment",state:S(),className:`secretary-submenu-item ${s.pathname==="/secretary-appointment"?"active":""}`,onClick:f,children:[e.jsx(dt,{icon:i4})," Appointment"]}),e.jsxs(bi,{to:"/secretary-schedule",state:S(),className:`secretary-submenu-item ${s.pathname==="/secretary-schedule"?"active":""}`,onClick:f,children:[e.jsx(dt,{icon:u4})," Schedule"]})]}),e.jsxs("div",{className:"secretary-menu-item",onClick:()=>F("sacramental"),children:[e.jsx(dt,{icon:Z_}),e.jsx("span",{children:"Sacramental Preparation"}),e.jsx(dt,{icon:qw,className:`dropdown-icon ${a.sacramental?"rotate":""}`})]}),a.sacramental&&e.jsxs("div",{className:"secretary-submenu",children:[e.jsxs(bi,{to:"/secretary-baptism",state:S(),className:`secretary-submenu-item ${s.pathname==="/secretary-baptism"?"active":""}`,onClick:f,children:[e.jsx(dt,{icon:t4})," Baptism"]}),e.jsxs(bi,{to:"/secretary-marriage",state:S(),className:`secretary-submenu-item ${s.pathname==="/secretary-marriage"?"active":""}`,onClick:f,children:[e.jsx(dt,{icon:V_})," Marriage"]}),e.jsxs(bi,{to:"/secretary-funeral-mass",state:S(),className:`secretary-submenu-item ${s.pathname==="/secretary-funeral-mass"?"active":""}`,onClick:f,children:[e.jsx(dt,{icon:Xx})," Funeral Mass"]}),e.jsxs(bi,{to:"/secretary-blessing",state:S(),className:`secretary-submenu-item ${s.pathname==="/secretary-blessing"?"active":""}`,onClick:f,children:[e.jsx(dt,{icon:Hv})," Blessing"]}),e.jsxs(bi,{to:"/secretary-confirmation",state:S(),className:`secretary-submenu-item ${s.pathname==="/secretary-confirmation"?"active":""}`,onClick:f,children:[e.jsx(dt,{icon:X_})," Confirmation"]}),e.jsxs(bi,{to:"/secretary-communion",state:S(),className:`secretary-submenu-item ${s.pathname==="/secretary-communion"?"active":""}`,onClick:f,children:[e.jsx(dt,{icon:J_})," Communion"]}),e.jsxs(bi,{to:"/secretary-anointing-of-the-sick",state:S(),className:`secretary-submenu-item ${s.pathname==="/secretary-anointing-of-the-sick"?"active":""}`,onClick:f,children:[e.jsx(dt,{icon:Hv})," Anointing of the Sick"]})]}),e.jsxs(bi,{to:"/secretary-activities-event",state:S(),className:`secretary-menu-item ${s.pathname==="/secretary-activities-event"?"active":""}`,onClick:f,children:[e.jsx(dt,{icon:a4}),e.jsx("span",{children:"Event and Activities"})]}),e.jsxs(bi,{to:"/secretary-report",state:S(),className:`secretary-menu-item ${s.pathname==="/secretary-report"?"active":""}`,onClick:f,children:[e.jsx(dt,{icon:W_}),e.jsx("span",{children:"Report"})]}),e.jsxs(bi,{to:"/secretary-user-management",state:S(),className:`secretary-menu-item ${s.pathname==="/secretary-user-management"?"active":""}`,onClick:f,children:[e.jsx(dt,{icon:f4}),e.jsx("span",{children:"User Management"})]}),e.jsxs("div",{className:"secretary-menu-item-logout",onClick:b,children:[e.jsx(dt,{icon:Qf}),e.jsx("span",{children:"Logout"})]})]})]})]})},N4=()=>{const a=oa(),t=Jt(),[s,i]=N.useState(null),[r,c]=N.useState(null),[A,d]=N.useState(!1),[h,u]=N.useState(!1),v=b=>{b.stopPropagation(),d(!A)},x=()=>{d(!1)};N.useEffect(()=>{const b=()=>{const f=document.querySelector(".modal-backdrop-cae")||document.querySelector(".sacrament-modal-overlay-ca")||document.querySelector(".modal-overlay");u(!!f)};b();const S=new MutationObserver(b);return S.observe(document.body,{childList:!0,subtree:!0}),()=>{S.disconnect()}},[]),N.useEffect(()=>{if(console.log("Current location state:",a.state),a.state&&a.state.user)i(a.state.user),c(a.state.clientID||a.state.user.clientID),console.log("User data from location state:",a.state.user);else if(a.state&&a.state.userData)i(a.state.userData),c(a.state.clientID||a.state.userData.clientID),console.log("User data from location userData:",a.state.userData);else{const b=localStorage.getItem("user");if(b)try{const S=JSON.parse(b);i(S),c(S.clientID||S.id||S.client_id),console.log("User data from localStorage:",S)}catch(S){console.error("Error parsing stored user data:",S),localStorage.removeItem("user"),t("/client-login")}else console.log("No user data found, redirecting to login"),t("/client-login")}},[a,t]),N.useEffect(()=>{const b=()=>{window.innerWidth>1150&&A&&d(!1)};return window.addEventListener("resize",b),()=>window.removeEventListener("resize",b)},[A]),N.useEffect(()=>(A&&window.innerWidth<=1150?document.body.classList.add("body-no-scroll"):document.body.classList.remove("body-no-scroll"),()=>{document.body.classList.remove("body-no-scroll")}),[A]);const y=()=>{localStorage.removeItem("user"),i(null),c(null),x(),t("/client-login")},p=()=>({userData:s,clientID:r,user:s}),F=()=>{window.innerWidth<=1150&&x()};return s?e.jsxs(e.Fragment,{children:[!A&&!h&&e.jsx("button",{className:"sidebar-toggle-btn",onClick:v,"aria-label":"Open menu",children:e.jsx(dt,{icon:Tf})}),e.jsxs("div",{className:`client-sidebar ${A?"open":""}`,children:[e.jsxs("div",{className:"client-sidebar-mobile-header",children:[e.jsx("h2",{children:"CLIENT"}),e.jsx("button",{className:"sidebar-close-btn",onClick:x,children:e.jsx(dt,{icon:vo})})]}),e.jsx("div",{className:"client-sidebar-header",children:e.jsx("h2",{children:"CLIENT"})}),e.jsxs("nav",{className:"client-sidebar-menu",children:[e.jsxs(bi,{to:"/client-dashboard",state:p(),className:`client-menu-item ${a.pathname==="/client-dashboard"?"active":""}`,onClick:F,children:[e.jsx(dt,{icon:Od}),e.jsx("span",{children:"Dashboard"})]}),e.jsxs(bi,{to:"/client-appointment",state:p(),className:`client-menu-item ${a.pathname==="/client-appointment"?"active":""}`,onClick:F,children:[e.jsx(dt,{icon:rn}),e.jsx("span",{children:"Appointment"})]}),e.jsxs("div",{className:"client-menu-item-logout",onClick:y,children:[e.jsx(dt,{icon:Qf}),e.jsx("span",{children:"Logout"})]})]})]})]}):null};function I0(a,t){return function(){return a.apply(t,arguments)}}const{toString:j4}=Object.prototype,{getPrototypeOf:Zx}=Object,{iterator:Hf,toStringTag:Q0}=Symbol,qf=(a=>t=>{const s=j4.call(t);return a[s]||(a[s]=s.slice(8,-1).toLowerCase())})(Object.create(null)),Br=a=>(a=a.toLowerCase(),t=>qf(t)===a),Kf=a=>t=>typeof t===a,{isArray:kd}=Array,sh=Kf("undefined");function B4(a){return a!==null&&!sh(a)&&a.constructor!==null&&!sh(a.constructor)&&ln(a.constructor.isBuffer)&&a.constructor.isBuffer(a)}const T0=Br("ArrayBuffer");function C4(a){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(a):t=a&&a.buffer&&T0(a.buffer),t}const S4=Kf("string"),ln=Kf("function"),R0=Kf("number"),Vf=a=>a!==null&&typeof a=="object",_4=a=>a===!0||a===!1,Ym=a=>{if(qf(a)!=="object")return!1;const t=Zx(a);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Q0 in a)&&!(Hf in a)},F4=Br("Date"),D4=Br("File"),E4=Br("Blob"),L4=Br("FileList"),M4=a=>Vf(a)&&ln(a.pipe),U4=a=>{let t;return a&&(typeof FormData=="function"&&a instanceof FormData||ln(a.append)&&((t=qf(a))==="formdata"||t==="object"&&ln(a.toString)&&a.toString()==="[object FormData]"))},O4=Br("URLSearchParams"),[k4,I4,Q4,T4]=["ReadableStream","Request","Response","Headers"].map(Br),R4=a=>a.trim?a.trim():a.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function ph(a,t,{allOwnKeys:s=!1}={}){if(a===null||typeof a>"u")return;let i,r;if(typeof a!="object"&&(a=[a]),kd(a))for(i=0,r=a.length;i<r;i++)t.call(null,a[i],i,a);else{const c=s?Object.getOwnPropertyNames(a):Object.keys(a),A=c.length;let d;for(i=0;i<A;i++)d=c[i],t.call(null,a[d],d,a)}}function P0(a,t){t=t.toLowerCase();const s=Object.keys(a);let i=s.length,r;for(;i-- >0;)if(r=s[i],t===r.toLowerCase())return r;return null}const oA=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,H0=a=>!sh(a)&&a!==oA;function qv(){const{caseless:a}=H0(this)&&this||{},t={},s=(i,r)=>{const c=a&&P0(t,r)||r;Ym(t[c])&&Ym(i)?t[c]=qv(t[c],i):Ym(i)?t[c]=qv({},i):kd(i)?t[c]=i.slice():t[c]=i};for(let i=0,r=arguments.length;i<r;i++)arguments[i]&&ph(arguments[i],s);return t}const P4=(a,t,s,{allOwnKeys:i}={})=>(ph(t,(r,c)=>{s&&ln(r)?a[c]=I0(r,s):a[c]=r},{allOwnKeys:i}),a),H4=a=>(a.charCodeAt(0)===65279&&(a=a.slice(1)),a),q4=(a,t,s,i)=>{a.prototype=Object.create(t.prototype,i),a.prototype.constructor=a,Object.defineProperty(a,"super",{value:t.prototype}),s&&Object.assign(a.prototype,s)},K4=(a,t,s,i)=>{let r,c,A;const d={};if(t=t||{},a==null)return t;do{for(r=Object.getOwnPropertyNames(a),c=r.length;c-- >0;)A=r[c],(!i||i(A,a,t))&&!d[A]&&(t[A]=a[A],d[A]=!0);a=s!==!1&&Zx(a)}while(a&&(!s||s(a,t))&&a!==Object.prototype);return t},V4=(a,t,s)=>{a=String(a),(s===void 0||s>a.length)&&(s=a.length),s-=t.length;const i=a.indexOf(t,s);return i!==-1&&i===s},z4=a=>{if(!a)return null;if(kd(a))return a;let t=a.length;if(!R0(t))return null;const s=new Array(t);for(;t-- >0;)s[t]=a[t];return s},$4=(a=>t=>a&&t instanceof a)(typeof Uint8Array<"u"&&Zx(Uint8Array)),G4=(a,t)=>{const i=(a&&a[Hf]).call(a);let r;for(;(r=i.next())&&!r.done;){const c=r.value;t.call(a,c[0],c[1])}},W4=(a,t)=>{let s;const i=[];for(;(s=a.exec(t))!==null;)i.push(s);return i},Y4=Br("HTMLFormElement"),X4=a=>a.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(s,i,r){return i.toUpperCase()+r}),Vw=(({hasOwnProperty:a})=>(t,s)=>a.call(t,s))(Object.prototype),J4=Br("RegExp"),q0=(a,t)=>{const s=Object.getOwnPropertyDescriptors(a),i={};ph(s,(r,c)=>{let A;(A=t(r,c,a))!==!1&&(i[c]=A||r)}),Object.defineProperties(a,i)},Z4=a=>{q0(a,(t,s)=>{if(ln(a)&&["arguments","caller","callee"].indexOf(s)!==-1)return!1;const i=a[s];if(ln(i)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+s+"'")})}})},eF=(a,t)=>{const s={},i=r=>{r.forEach(c=>{s[c]=!0})};return kd(a)?i(a):i(String(a).split(t)),s},tF=()=>{},aF=(a,t)=>a!=null&&Number.isFinite(a=+a)?a:t;function iF(a){return!!(a&&ln(a.append)&&a[Q0]==="FormData"&&a[Hf])}const sF=a=>{const t=new Array(10),s=(i,r)=>{if(Vf(i)){if(t.indexOf(i)>=0)return;if(!("toJSON"in i)){t[r]=i;const c=kd(i)?[]:{};return ph(i,(A,d)=>{const h=s(A,r+1);!sh(h)&&(c[d]=h)}),t[r]=void 0,c}}return i};return s(a,0)},nF=Br("AsyncFunction"),rF=a=>a&&(Vf(a)||ln(a))&&ln(a.then)&&ln(a.catch),K0=((a,t)=>a?setImmediate:t?((s,i)=>(oA.addEventListener("message",({source:r,data:c})=>{r===oA&&c===s&&i.length&&i.shift()()},!1),r=>{i.push(r),oA.postMessage(s,"*")}))(`axios@${Math.random()}`,[]):s=>setTimeout(s))(typeof setImmediate=="function",ln(oA.postMessage)),lF=typeof queueMicrotask<"u"?queueMicrotask.bind(oA):typeof process<"u"&&process.nextTick||K0,cF=a=>a!=null&&ln(a[Hf]),Bt={isArray:kd,isArrayBuffer:T0,isBuffer:B4,isFormData:U4,isArrayBufferView:C4,isString:S4,isNumber:R0,isBoolean:_4,isObject:Vf,isPlainObject:Ym,isReadableStream:k4,isRequest:I4,isResponse:Q4,isHeaders:T4,isUndefined:sh,isDate:F4,isFile:D4,isBlob:E4,isRegExp:J4,isFunction:ln,isStream:M4,isURLSearchParams:O4,isTypedArray:$4,isFileList:L4,forEach:ph,merge:qv,extend:P4,trim:R4,stripBOM:H4,inherits:q4,toFlatObject:K4,kindOf:qf,kindOfTest:Br,endsWith:V4,toArray:z4,forEachEntry:G4,matchAll:W4,isHTMLForm:Y4,hasOwnProperty:Vw,hasOwnProp:Vw,reduceDescriptors:q0,freezeMethods:Z4,toObjectSet:eF,toCamelCase:X4,noop:tF,toFiniteNumber:aF,findKey:P0,global:oA,isContextDefined:H0,isSpecCompliantForm:iF,toJSONObject:sF,isAsyncFn:nF,isThenable:rF,setImmediate:K0,asap:lF,isIterable:cF};function ba(a,t,s,i,r){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=a,this.name="AxiosError",t&&(this.code=t),s&&(this.config=s),i&&(this.request=i),r&&(this.response=r,this.status=r.status?r.status:null)}Bt.inherits(ba,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:Bt.toJSONObject(this.config),code:this.code,status:this.status}}});const V0=ba.prototype,z0={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(a=>{z0[a]={value:a}});Object.defineProperties(ba,z0);Object.defineProperty(V0,"isAxiosError",{value:!0});ba.from=(a,t,s,i,r,c)=>{const A=Object.create(V0);return Bt.toFlatObject(a,A,function(h){return h!==Error.prototype},d=>d!=="isAxiosError"),ba.call(A,a.message,t,s,i,r),A.cause=a,A.name=a.name,c&&Object.assign(A,c),A};const oF=null;function Kv(a){return Bt.isPlainObject(a)||Bt.isArray(a)}function $0(a){return Bt.endsWith(a,"[]")?a.slice(0,-2):a}function zw(a,t,s){return a?a.concat(t).map(function(r,c){return r=$0(r),!s&&c?"["+r+"]":r}).join(s?".":""):t}function AF(a){return Bt.isArray(a)&&!a.some(Kv)}const dF=Bt.toFlatObject(Bt,{},null,function(t){return/^is[A-Z]/.test(t)});function zf(a,t,s){if(!Bt.isObject(a))throw new TypeError("target must be an object");t=t||new FormData,s=Bt.toFlatObject(s,{metaTokens:!0,dots:!1,indexes:!1},!1,function(b,S){return!Bt.isUndefined(S[b])});const i=s.metaTokens,r=s.visitor||v,c=s.dots,A=s.indexes,h=(s.Blob||typeof Blob<"u"&&Blob)&&Bt.isSpecCompliantForm(t);if(!Bt.isFunction(r))throw new TypeError("visitor must be a function");function u(F){if(F===null)return"";if(Bt.isDate(F))return F.toISOString();if(!h&&Bt.isBlob(F))throw new ba("Blob is not supported. Use a Buffer instead.");return Bt.isArrayBuffer(F)||Bt.isTypedArray(F)?h&&typeof Blob=="function"?new Blob([F]):Buffer.from(F):F}function v(F,b,S){let f=F;if(F&&!S&&typeof F=="object"){if(Bt.endsWith(b,"{}"))b=i?b:b.slice(0,-2),F=JSON.stringify(F);else if(Bt.isArray(F)&&AF(F)||(Bt.isFileList(F)||Bt.endsWith(b,"[]"))&&(f=Bt.toArray(F)))return b=$0(b),f.forEach(function(M,J){!(Bt.isUndefined(M)||M===null)&&t.append(A===!0?zw([b],J,c):A===null?b:b+"[]",u(M))}),!1}return Kv(F)?!0:(t.append(zw(S,b,c),u(F)),!1)}const x=[],y=Object.assign(dF,{defaultVisitor:v,convertValue:u,isVisitable:Kv});function p(F,b){if(!Bt.isUndefined(F)){if(x.indexOf(F)!==-1)throw Error("Circular reference detected in "+b.join("."));x.push(F),Bt.forEach(F,function(f,O){(!(Bt.isUndefined(f)||f===null)&&r.call(t,f,Bt.isString(O)?O.trim():O,b,y))===!0&&p(f,b?b.concat(O):[O])}),x.pop()}}if(!Bt.isObject(a))throw new TypeError("data must be an object");return p(a),t}function $w(a){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(a).replace(/[!'()~]|%20|%00/g,function(i){return t[i]})}function ey(a,t){this._pairs=[],a&&zf(a,this,t)}const G0=ey.prototype;G0.append=function(t,s){this._pairs.push([t,s])};G0.toString=function(t){const s=t?function(i){return t.call(this,i,$w)}:$w;return this._pairs.map(function(r){return s(r[0])+"="+s(r[1])},"").join("&")};function uF(a){return encodeURIComponent(a).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function W0(a,t,s){if(!t)return a;const i=s&&s.encode||uF;Bt.isFunction(s)&&(s={serialize:s});const r=s&&s.serialize;let c;if(r?c=r(t,s):c=Bt.isURLSearchParams(t)?t.toString():new ey(t,s).toString(i),c){const A=a.indexOf("#");A!==-1&&(a=a.slice(0,A)),a+=(a.indexOf("?")===-1?"?":"&")+c}return a}class Gw{constructor(){this.handlers=[]}use(t,s,i){return this.handlers.push({fulfilled:t,rejected:s,synchronous:i?i.synchronous:!1,runWhen:i?i.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){Bt.forEach(this.handlers,function(i){i!==null&&t(i)})}}const Y0={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},hF=typeof URLSearchParams<"u"?URLSearchParams:ey,mF=typeof FormData<"u"?FormData:null,fF=typeof Blob<"u"?Blob:null,pF={isBrowser:!0,classes:{URLSearchParams:hF,FormData:mF,Blob:fF},protocols:["http","https","file","blob","url","data"]},ty=typeof window<"u"&&typeof document<"u",Vv=typeof navigator=="object"&&navigator||void 0,gF=ty&&(!Vv||["ReactNative","NativeScript","NS"].indexOf(Vv.product)<0),vF=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",xF=ty&&window.location.href||"http://localhost",yF=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:ty,hasStandardBrowserEnv:gF,hasStandardBrowserWebWorkerEnv:vF,navigator:Vv,origin:xF},Symbol.toStringTag,{value:"Module"})),Ms={...yF,...pF};function bF(a,t){return zf(a,new Ms.classes.URLSearchParams,Object.assign({visitor:function(s,i,r,c){return Ms.isNode&&Bt.isBuffer(s)?(this.append(i,s.toString("base64")),!1):c.defaultVisitor.apply(this,arguments)}},t))}function wF(a){return Bt.matchAll(/\w+|\[(\w*)]/g,a).map(t=>t[0]==="[]"?"":t[1]||t[0])}function NF(a){const t={},s=Object.keys(a);let i;const r=s.length;let c;for(i=0;i<r;i++)c=s[i],t[c]=a[c];return t}function X0(a){function t(s,i,r,c){let A=s[c++];if(A==="__proto__")return!0;const d=Number.isFinite(+A),h=c>=s.length;return A=!A&&Bt.isArray(r)?r.length:A,h?(Bt.hasOwnProp(r,A)?r[A]=[r[A],i]:r[A]=i,!d):((!r[A]||!Bt.isObject(r[A]))&&(r[A]=[]),t(s,i,r[A],c)&&Bt.isArray(r[A])&&(r[A]=NF(r[A])),!d)}if(Bt.isFormData(a)&&Bt.isFunction(a.entries)){const s={};return Bt.forEachEntry(a,(i,r)=>{t(wF(i),r,s,0)}),s}return null}function jF(a,t,s){if(Bt.isString(a))try{return(t||JSON.parse)(a),Bt.trim(a)}catch(i){if(i.name!=="SyntaxError")throw i}return(s||JSON.stringify)(a)}const gh={transitional:Y0,adapter:["xhr","http","fetch"],transformRequest:[function(t,s){const i=s.getContentType()||"",r=i.indexOf("application/json")>-1,c=Bt.isObject(t);if(c&&Bt.isHTMLForm(t)&&(t=new FormData(t)),Bt.isFormData(t))return r?JSON.stringify(X0(t)):t;if(Bt.isArrayBuffer(t)||Bt.isBuffer(t)||Bt.isStream(t)||Bt.isFile(t)||Bt.isBlob(t)||Bt.isReadableStream(t))return t;if(Bt.isArrayBufferView(t))return t.buffer;if(Bt.isURLSearchParams(t))return s.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let d;if(c){if(i.indexOf("application/x-www-form-urlencoded")>-1)return bF(t,this.formSerializer).toString();if((d=Bt.isFileList(t))||i.indexOf("multipart/form-data")>-1){const h=this.env&&this.env.FormData;return zf(d?{"files[]":t}:t,h&&new h,this.formSerializer)}}return c||r?(s.setContentType("application/json",!1),jF(t)):t}],transformResponse:[function(t){const s=this.transitional||gh.transitional,i=s&&s.forcedJSONParsing,r=this.responseType==="json";if(Bt.isResponse(t)||Bt.isReadableStream(t))return t;if(t&&Bt.isString(t)&&(i&&!this.responseType||r)){const A=!(s&&s.silentJSONParsing)&&r;try{return JSON.parse(t)}catch(d){if(A)throw d.name==="SyntaxError"?ba.from(d,ba.ERR_BAD_RESPONSE,this,null,this.response):d}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Ms.classes.FormData,Blob:Ms.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};Bt.forEach(["delete","get","head","post","put","patch"],a=>{gh.headers[a]={}});const BF=Bt.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),CF=a=>{const t={};let s,i,r;return a&&a.split(`
`).forEach(function(A){r=A.indexOf(":"),s=A.substring(0,r).trim().toLowerCase(),i=A.substring(r+1).trim(),!(!s||t[s]&&BF[s])&&(s==="set-cookie"?t[s]?t[s].push(i):t[s]=[i]:t[s]=t[s]?t[s]+", "+i:i)}),t},Ww=Symbol("internals");function Eu(a){return a&&String(a).trim().toLowerCase()}function Xm(a){return a===!1||a==null?a:Bt.isArray(a)?a.map(Xm):String(a)}function SF(a){const t=Object.create(null),s=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let i;for(;i=s.exec(a);)t[i[1]]=i[2];return t}const _F=a=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(a.trim());function Ig(a,t,s,i,r){if(Bt.isFunction(i))return i.call(this,t,s);if(r&&(t=s),!!Bt.isString(t)){if(Bt.isString(i))return t.indexOf(i)!==-1;if(Bt.isRegExp(i))return i.test(t)}}function FF(a){return a.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,s,i)=>s.toUpperCase()+i)}function DF(a,t){const s=Bt.toCamelCase(" "+t);["get","set","has"].forEach(i=>{Object.defineProperty(a,i+s,{value:function(r,c,A){return this[i].call(this,t,r,c,A)},configurable:!0})})}let cn=class{constructor(t){t&&this.set(t)}set(t,s,i){const r=this;function c(d,h,u){const v=Eu(h);if(!v)throw new Error("header name must be a non-empty string");const x=Bt.findKey(r,v);(!x||r[x]===void 0||u===!0||u===void 0&&r[x]!==!1)&&(r[x||h]=Xm(d))}const A=(d,h)=>Bt.forEach(d,(u,v)=>c(u,v,h));if(Bt.isPlainObject(t)||t instanceof this.constructor)A(t,s);else if(Bt.isString(t)&&(t=t.trim())&&!_F(t))A(CF(t),s);else if(Bt.isObject(t)&&Bt.isIterable(t)){let d={},h,u;for(const v of t){if(!Bt.isArray(v))throw TypeError("Object iterator must return a key-value pair");d[u=v[0]]=(h=d[u])?Bt.isArray(h)?[...h,v[1]]:[h,v[1]]:v[1]}A(d,s)}else t!=null&&c(s,t,i);return this}get(t,s){if(t=Eu(t),t){const i=Bt.findKey(this,t);if(i){const r=this[i];if(!s)return r;if(s===!0)return SF(r);if(Bt.isFunction(s))return s.call(this,r,i);if(Bt.isRegExp(s))return s.exec(r);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,s){if(t=Eu(t),t){const i=Bt.findKey(this,t);return!!(i&&this[i]!==void 0&&(!s||Ig(this,this[i],i,s)))}return!1}delete(t,s){const i=this;let r=!1;function c(A){if(A=Eu(A),A){const d=Bt.findKey(i,A);d&&(!s||Ig(i,i[d],d,s))&&(delete i[d],r=!0)}}return Bt.isArray(t)?t.forEach(c):c(t),r}clear(t){const s=Object.keys(this);let i=s.length,r=!1;for(;i--;){const c=s[i];(!t||Ig(this,this[c],c,t,!0))&&(delete this[c],r=!0)}return r}normalize(t){const s=this,i={};return Bt.forEach(this,(r,c)=>{const A=Bt.findKey(i,c);if(A){s[A]=Xm(r),delete s[c];return}const d=t?FF(c):String(c).trim();d!==c&&delete s[c],s[d]=Xm(r),i[d]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const s=Object.create(null);return Bt.forEach(this,(i,r)=>{i!=null&&i!==!1&&(s[r]=t&&Bt.isArray(i)?i.join(", "):i)}),s}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,s])=>t+": "+s).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...s){const i=new this(t);return s.forEach(r=>i.set(r)),i}static accessor(t){const i=(this[Ww]=this[Ww]={accessors:{}}).accessors,r=this.prototype;function c(A){const d=Eu(A);i[d]||(DF(r,A),i[d]=!0)}return Bt.isArray(t)?t.forEach(c):c(t),this}};cn.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);Bt.reduceDescriptors(cn.prototype,({value:a},t)=>{let s=t[0].toUpperCase()+t.slice(1);return{get:()=>a,set(i){this[s]=i}}});Bt.freezeMethods(cn);function Qg(a,t){const s=this||gh,i=t||s,r=cn.from(i.headers);let c=i.data;return Bt.forEach(a,function(d){c=d.call(s,c,r.normalize(),t?t.status:void 0)}),r.normalize(),c}function J0(a){return!!(a&&a.__CANCEL__)}function Id(a,t,s){ba.call(this,a??"canceled",ba.ERR_CANCELED,t,s),this.name="CanceledError"}Bt.inherits(Id,ba,{__CANCEL__:!0});function Z0(a,t,s){const i=s.config.validateStatus;!s.status||!i||i(s.status)?a(s):t(new ba("Request failed with status code "+s.status,[ba.ERR_BAD_REQUEST,ba.ERR_BAD_RESPONSE][Math.floor(s.status/100)-4],s.config,s.request,s))}function EF(a){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(a);return t&&t[1]||""}function LF(a,t){a=a||10;const s=new Array(a),i=new Array(a);let r=0,c=0,A;return t=t!==void 0?t:1e3,function(h){const u=Date.now(),v=i[c];A||(A=u),s[r]=h,i[r]=u;let x=c,y=0;for(;x!==r;)y+=s[x++],x=x%a;if(r=(r+1)%a,r===c&&(c=(c+1)%a),u-A<t)return;const p=v&&u-v;return p?Math.round(y*1e3/p):void 0}}function MF(a,t){let s=0,i=1e3/t,r,c;const A=(u,v=Date.now())=>{s=v,r=null,c&&(clearTimeout(c),c=null),a.apply(null,u)};return[(...u)=>{const v=Date.now(),x=v-s;x>=i?A(u,v):(r=u,c||(c=setTimeout(()=>{c=null,A(r)},i-x)))},()=>r&&A(r)]}const uf=(a,t,s=3)=>{let i=0;const r=LF(50,250);return MF(c=>{const A=c.loaded,d=c.lengthComputable?c.total:void 0,h=A-i,u=r(h),v=A<=d;i=A;const x={loaded:A,total:d,progress:d?A/d:void 0,bytes:h,rate:u||void 0,estimated:u&&d&&v?(d-A)/u:void 0,event:c,lengthComputable:d!=null,[t?"download":"upload"]:!0};a(x)},s)},Yw=(a,t)=>{const s=a!=null;return[i=>t[0]({lengthComputable:s,total:a,loaded:i}),t[1]]},Xw=a=>(...t)=>Bt.asap(()=>a(...t)),UF=Ms.hasStandardBrowserEnv?((a,t)=>s=>(s=new URL(s,Ms.origin),a.protocol===s.protocol&&a.host===s.host&&(t||a.port===s.port)))(new URL(Ms.origin),Ms.navigator&&/(msie|trident)/i.test(Ms.navigator.userAgent)):()=>!0,OF=Ms.hasStandardBrowserEnv?{write(a,t,s,i,r,c){const A=[a+"="+encodeURIComponent(t)];Bt.isNumber(s)&&A.push("expires="+new Date(s).toGMTString()),Bt.isString(i)&&A.push("path="+i),Bt.isString(r)&&A.push("domain="+r),c===!0&&A.push("secure"),document.cookie=A.join("; ")},read(a){const t=document.cookie.match(new RegExp("(^|;\\s*)("+a+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(a){this.write(a,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function kF(a){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(a)}function IF(a,t){return t?a.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):a}function e1(a,t,s){let i=!kF(t);return a&&(i||s==!1)?IF(a,t):t}const Jw=a=>a instanceof cn?{...a}:a;function gA(a,t){t=t||{};const s={};function i(u,v,x,y){return Bt.isPlainObject(u)&&Bt.isPlainObject(v)?Bt.merge.call({caseless:y},u,v):Bt.isPlainObject(v)?Bt.merge({},v):Bt.isArray(v)?v.slice():v}function r(u,v,x,y){if(Bt.isUndefined(v)){if(!Bt.isUndefined(u))return i(void 0,u,x,y)}else return i(u,v,x,y)}function c(u,v){if(!Bt.isUndefined(v))return i(void 0,v)}function A(u,v){if(Bt.isUndefined(v)){if(!Bt.isUndefined(u))return i(void 0,u)}else return i(void 0,v)}function d(u,v,x){if(x in t)return i(u,v);if(x in a)return i(void 0,u)}const h={url:c,method:c,data:c,baseURL:A,transformRequest:A,transformResponse:A,paramsSerializer:A,timeout:A,timeoutMessage:A,withCredentials:A,withXSRFToken:A,adapter:A,responseType:A,xsrfCookieName:A,xsrfHeaderName:A,onUploadProgress:A,onDownloadProgress:A,decompress:A,maxContentLength:A,maxBodyLength:A,beforeRedirect:A,transport:A,httpAgent:A,httpsAgent:A,cancelToken:A,socketPath:A,responseEncoding:A,validateStatus:d,headers:(u,v,x)=>r(Jw(u),Jw(v),x,!0)};return Bt.forEach(Object.keys(Object.assign({},a,t)),function(v){const x=h[v]||r,y=x(a[v],t[v],v);Bt.isUndefined(y)&&x!==d||(s[v]=y)}),s}const t1=a=>{const t=gA({},a);let{data:s,withXSRFToken:i,xsrfHeaderName:r,xsrfCookieName:c,headers:A,auth:d}=t;t.headers=A=cn.from(A),t.url=W0(e1(t.baseURL,t.url,t.allowAbsoluteUrls),a.params,a.paramsSerializer),d&&A.set("Authorization","Basic "+btoa((d.username||"")+":"+(d.password?unescape(encodeURIComponent(d.password)):"")));let h;if(Bt.isFormData(s)){if(Ms.hasStandardBrowserEnv||Ms.hasStandardBrowserWebWorkerEnv)A.setContentType(void 0);else if((h=A.getContentType())!==!1){const[u,...v]=h?h.split(";").map(x=>x.trim()).filter(Boolean):[];A.setContentType([u||"multipart/form-data",...v].join("; "))}}if(Ms.hasStandardBrowserEnv&&(i&&Bt.isFunction(i)&&(i=i(t)),i||i!==!1&&UF(t.url))){const u=r&&c&&OF.read(c);u&&A.set(r,u)}return t},QF=typeof XMLHttpRequest<"u",TF=QF&&function(a){return new Promise(function(s,i){const r=t1(a);let c=r.data;const A=cn.from(r.headers).normalize();let{responseType:d,onUploadProgress:h,onDownloadProgress:u}=r,v,x,y,p,F;function b(){p&&p(),F&&F(),r.cancelToken&&r.cancelToken.unsubscribe(v),r.signal&&r.signal.removeEventListener("abort",v)}let S=new XMLHttpRequest;S.open(r.method.toUpperCase(),r.url,!0),S.timeout=r.timeout;function f(){if(!S)return;const M=cn.from("getAllResponseHeaders"in S&&S.getAllResponseHeaders()),K={data:!d||d==="text"||d==="json"?S.responseText:S.response,status:S.status,statusText:S.statusText,headers:M,config:a,request:S};Z0(function(k){s(k),b()},function(k){i(k),b()},K),S=null}"onloadend"in S?S.onloadend=f:S.onreadystatechange=function(){!S||S.readyState!==4||S.status===0&&!(S.responseURL&&S.responseURL.indexOf("file:")===0)||setTimeout(f)},S.onabort=function(){S&&(i(new ba("Request aborted",ba.ECONNABORTED,a,S)),S=null)},S.onerror=function(){i(new ba("Network Error",ba.ERR_NETWORK,a,S)),S=null},S.ontimeout=function(){let J=r.timeout?"timeout of "+r.timeout+"ms exceeded":"timeout exceeded";const K=r.transitional||Y0;r.timeoutErrorMessage&&(J=r.timeoutErrorMessage),i(new ba(J,K.clarifyTimeoutError?ba.ETIMEDOUT:ba.ECONNABORTED,a,S)),S=null},c===void 0&&A.setContentType(null),"setRequestHeader"in S&&Bt.forEach(A.toJSON(),function(J,K){S.setRequestHeader(K,J)}),Bt.isUndefined(r.withCredentials)||(S.withCredentials=!!r.withCredentials),d&&d!=="json"&&(S.responseType=r.responseType),u&&([y,F]=uf(u,!0),S.addEventListener("progress",y)),h&&S.upload&&([x,p]=uf(h),S.upload.addEventListener("progress",x),S.upload.addEventListener("loadend",p)),(r.cancelToken||r.signal)&&(v=M=>{S&&(i(!M||M.type?new Id(null,a,S):M),S.abort(),S=null)},r.cancelToken&&r.cancelToken.subscribe(v),r.signal&&(r.signal.aborted?v():r.signal.addEventListener("abort",v)));const O=EF(r.url);if(O&&Ms.protocols.indexOf(O)===-1){i(new ba("Unsupported protocol "+O+":",ba.ERR_BAD_REQUEST,a));return}S.send(c||null)})},RF=(a,t)=>{const{length:s}=a=a?a.filter(Boolean):[];if(t||s){let i=new AbortController,r;const c=function(u){if(!r){r=!0,d();const v=u instanceof Error?u:this.reason;i.abort(v instanceof ba?v:new Id(v instanceof Error?v.message:v))}};let A=t&&setTimeout(()=>{A=null,c(new ba(`timeout ${t} of ms exceeded`,ba.ETIMEDOUT))},t);const d=()=>{a&&(A&&clearTimeout(A),A=null,a.forEach(u=>{u.unsubscribe?u.unsubscribe(c):u.removeEventListener("abort",c)}),a=null)};a.forEach(u=>u.addEventListener("abort",c));const{signal:h}=i;return h.unsubscribe=()=>Bt.asap(d),h}},PF=function*(a,t){let s=a.byteLength;if(s<t){yield a;return}let i=0,r;for(;i<s;)r=i+t,yield a.slice(i,r),i=r},HF=async function*(a,t){for await(const s of qF(a))yield*PF(s,t)},qF=async function*(a){if(a[Symbol.asyncIterator]){yield*a;return}const t=a.getReader();try{for(;;){const{done:s,value:i}=await t.read();if(s)break;yield i}}finally{await t.cancel()}},Zw=(a,t,s,i)=>{const r=HF(a,t);let c=0,A,d=h=>{A||(A=!0,i&&i(h))};return new ReadableStream({async pull(h){try{const{done:u,value:v}=await r.next();if(u){d(),h.close();return}let x=v.byteLength;if(s){let y=c+=x;s(y)}h.enqueue(new Uint8Array(v))}catch(u){throw d(u),u}},cancel(h){return d(h),r.return()}},{highWaterMark:2})},$f=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",a1=$f&&typeof ReadableStream=="function",KF=$f&&(typeof TextEncoder=="function"?(a=>t=>a.encode(t))(new TextEncoder):async a=>new Uint8Array(await new Response(a).arrayBuffer())),i1=(a,...t)=>{try{return!!a(...t)}catch{return!1}},VF=a1&&i1(()=>{let a=!1;const t=new Request(Ms.origin,{body:new ReadableStream,method:"POST",get duplex(){return a=!0,"half"}}).headers.has("Content-Type");return a&&!t}),eN=64*1024,zv=a1&&i1(()=>Bt.isReadableStream(new Response("").body)),hf={stream:zv&&(a=>a.body)};$f&&(a=>{["text","arrayBuffer","blob","formData","stream"].forEach(t=>{!hf[t]&&(hf[t]=Bt.isFunction(a[t])?s=>s[t]():(s,i)=>{throw new ba(`Response type '${t}' is not supported`,ba.ERR_NOT_SUPPORT,i)})})})(new Response);const zF=async a=>{if(a==null)return 0;if(Bt.isBlob(a))return a.size;if(Bt.isSpecCompliantForm(a))return(await new Request(Ms.origin,{method:"POST",body:a}).arrayBuffer()).byteLength;if(Bt.isArrayBufferView(a)||Bt.isArrayBuffer(a))return a.byteLength;if(Bt.isURLSearchParams(a)&&(a=a+""),Bt.isString(a))return(await KF(a)).byteLength},$F=async(a,t)=>{const s=Bt.toFiniteNumber(a.getContentLength());return s??zF(t)},GF=$f&&(async a=>{let{url:t,method:s,data:i,signal:r,cancelToken:c,timeout:A,onDownloadProgress:d,onUploadProgress:h,responseType:u,headers:v,withCredentials:x="same-origin",fetchOptions:y}=t1(a);u=u?(u+"").toLowerCase():"text";let p=RF([r,c&&c.toAbortSignal()],A),F;const b=p&&p.unsubscribe&&(()=>{p.unsubscribe()});let S;try{if(h&&VF&&s!=="get"&&s!=="head"&&(S=await $F(v,i))!==0){let K=new Request(t,{method:"POST",body:i,duplex:"half"}),H;if(Bt.isFormData(i)&&(H=K.headers.get("content-type"))&&v.setContentType(H),K.body){const[k,Y]=Yw(S,uf(Xw(h)));i=Zw(K.body,eN,k,Y)}}Bt.isString(x)||(x=x?"include":"omit");const f="credentials"in Request.prototype;F=new Request(t,{...y,signal:p,method:s.toUpperCase(),headers:v.normalize().toJSON(),body:i,duplex:"half",credentials:f?x:void 0});let O=await fetch(F);const M=zv&&(u==="stream"||u==="response");if(zv&&(d||M&&b)){const K={};["status","statusText","headers"].forEach(D=>{K[D]=O[D]});const H=Bt.toFiniteNumber(O.headers.get("content-length")),[k,Y]=d&&Yw(H,uf(Xw(d),!0))||[];O=new Response(Zw(O.body,eN,k,()=>{Y&&Y(),b&&b()}),K)}u=u||"text";let J=await hf[Bt.findKey(hf,u)||"text"](O,a);return!M&&b&&b(),await new Promise((K,H)=>{Z0(K,H,{data:J,headers:cn.from(O.headers),status:O.status,statusText:O.statusText,config:a,request:F})})}catch(f){throw b&&b(),f&&f.name==="TypeError"&&/Load failed|fetch/i.test(f.message)?Object.assign(new ba("Network Error",ba.ERR_NETWORK,a,F),{cause:f.cause||f}):ba.from(f,f&&f.code,a,F)}}),$v={http:oF,xhr:TF,fetch:GF};Bt.forEach($v,(a,t)=>{if(a){try{Object.defineProperty(a,"name",{value:t})}catch{}Object.defineProperty(a,"adapterName",{value:t})}});const tN=a=>`- ${a}`,WF=a=>Bt.isFunction(a)||a===null||a===!1,s1={getAdapter:a=>{a=Bt.isArray(a)?a:[a];const{length:t}=a;let s,i;const r={};for(let c=0;c<t;c++){s=a[c];let A;if(i=s,!WF(s)&&(i=$v[(A=String(s)).toLowerCase()],i===void 0))throw new ba(`Unknown adapter '${A}'`);if(i)break;r[A||"#"+c]=i}if(!i){const c=Object.entries(r).map(([d,h])=>`adapter ${d} `+(h===!1?"is not supported by the environment":"is not available in the build"));let A=t?c.length>1?`since :
`+c.map(tN).join(`
`):" "+tN(c[0]):"as no adapter specified";throw new ba("There is no suitable adapter to dispatch the request "+A,"ERR_NOT_SUPPORT")}return i},adapters:$v};function Tg(a){if(a.cancelToken&&a.cancelToken.throwIfRequested(),a.signal&&a.signal.aborted)throw new Id(null,a)}function aN(a){return Tg(a),a.headers=cn.from(a.headers),a.data=Qg.call(a,a.transformRequest),["post","put","patch"].indexOf(a.method)!==-1&&a.headers.setContentType("application/x-www-form-urlencoded",!1),s1.getAdapter(a.adapter||gh.adapter)(a).then(function(i){return Tg(a),i.data=Qg.call(a,a.transformResponse,i),i.headers=cn.from(i.headers),i},function(i){return J0(i)||(Tg(a),i&&i.response&&(i.response.data=Qg.call(a,a.transformResponse,i.response),i.response.headers=cn.from(i.response.headers))),Promise.reject(i)})}const n1="1.9.0",Gf={};["object","boolean","number","function","string","symbol"].forEach((a,t)=>{Gf[a]=function(i){return typeof i===a||"a"+(t<1?"n ":" ")+a}});const iN={};Gf.transitional=function(t,s,i){function r(c,A){return"[Axios v"+n1+"] Transitional option '"+c+"'"+A+(i?". "+i:"")}return(c,A,d)=>{if(t===!1)throw new ba(r(A," has been removed"+(s?" in "+s:"")),ba.ERR_DEPRECATED);return s&&!iN[A]&&(iN[A]=!0,console.warn(r(A," has been deprecated since v"+s+" and will be removed in the near future"))),t?t(c,A,d):!0}};Gf.spelling=function(t){return(s,i)=>(console.warn(`${i} is likely a misspelling of ${t}`),!0)};function YF(a,t,s){if(typeof a!="object")throw new ba("options must be an object",ba.ERR_BAD_OPTION_VALUE);const i=Object.keys(a);let r=i.length;for(;r-- >0;){const c=i[r],A=t[c];if(A){const d=a[c],h=d===void 0||A(d,c,a);if(h!==!0)throw new ba("option "+c+" must be "+h,ba.ERR_BAD_OPTION_VALUE);continue}if(s!==!0)throw new ba("Unknown option "+c,ba.ERR_BAD_OPTION)}}const Jm={assertOptions:YF,validators:Gf},tl=Jm.validators;let dA=class{constructor(t){this.defaults=t||{},this.interceptors={request:new Gw,response:new Gw}}async request(t,s){try{return await this._request(t,s)}catch(i){if(i instanceof Error){let r={};Error.captureStackTrace?Error.captureStackTrace(r):r=new Error;const c=r.stack?r.stack.replace(/^.+\n/,""):"";try{i.stack?c&&!String(i.stack).endsWith(c.replace(/^.+\n.+\n/,""))&&(i.stack+=`
`+c):i.stack=c}catch{}}throw i}}_request(t,s){typeof t=="string"?(s=s||{},s.url=t):s=t||{},s=gA(this.defaults,s);const{transitional:i,paramsSerializer:r,headers:c}=s;i!==void 0&&Jm.assertOptions(i,{silentJSONParsing:tl.transitional(tl.boolean),forcedJSONParsing:tl.transitional(tl.boolean),clarifyTimeoutError:tl.transitional(tl.boolean)},!1),r!=null&&(Bt.isFunction(r)?s.paramsSerializer={serialize:r}:Jm.assertOptions(r,{encode:tl.function,serialize:tl.function},!0)),s.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?s.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:s.allowAbsoluteUrls=!0),Jm.assertOptions(s,{baseUrl:tl.spelling("baseURL"),withXsrfToken:tl.spelling("withXSRFToken")},!0),s.method=(s.method||this.defaults.method||"get").toLowerCase();let A=c&&Bt.merge(c.common,c[s.method]);c&&Bt.forEach(["delete","get","head","post","put","patch","common"],F=>{delete c[F]}),s.headers=cn.concat(A,c);const d=[];let h=!0;this.interceptors.request.forEach(function(b){typeof b.runWhen=="function"&&b.runWhen(s)===!1||(h=h&&b.synchronous,d.unshift(b.fulfilled,b.rejected))});const u=[];this.interceptors.response.forEach(function(b){u.push(b.fulfilled,b.rejected)});let v,x=0,y;if(!h){const F=[aN.bind(this),void 0];for(F.unshift.apply(F,d),F.push.apply(F,u),y=F.length,v=Promise.resolve(s);x<y;)v=v.then(F[x++],F[x++]);return v}y=d.length;let p=s;for(x=0;x<y;){const F=d[x++],b=d[x++];try{p=F(p)}catch(S){b.call(this,S);break}}try{v=aN.call(this,p)}catch(F){return Promise.reject(F)}for(x=0,y=u.length;x<y;)v=v.then(u[x++],u[x++]);return v}getUri(t){t=gA(this.defaults,t);const s=e1(t.baseURL,t.url,t.allowAbsoluteUrls);return W0(s,t.params,t.paramsSerializer)}};Bt.forEach(["delete","get","head","options"],function(t){dA.prototype[t]=function(s,i){return this.request(gA(i||{},{method:t,url:s,data:(i||{}).data}))}});Bt.forEach(["post","put","patch"],function(t){function s(i){return function(c,A,d){return this.request(gA(d||{},{method:t,headers:i?{"Content-Type":"multipart/form-data"}:{},url:c,data:A}))}}dA.prototype[t]=s(),dA.prototype[t+"Form"]=s(!0)});let XF=class r1{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let s;this.promise=new Promise(function(c){s=c});const i=this;this.promise.then(r=>{if(!i._listeners)return;let c=i._listeners.length;for(;c-- >0;)i._listeners[c](r);i._listeners=null}),this.promise.then=r=>{let c;const A=new Promise(d=>{i.subscribe(d),c=d}).then(r);return A.cancel=function(){i.unsubscribe(c)},A},t(function(c,A,d){i.reason||(i.reason=new Id(c,A,d),s(i.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const s=this._listeners.indexOf(t);s!==-1&&this._listeners.splice(s,1)}toAbortSignal(){const t=new AbortController,s=i=>{t.abort(i)};return this.subscribe(s),t.signal.unsubscribe=()=>this.unsubscribe(s),t.signal}static source(){let t;return{token:new r1(function(r){t=r}),cancel:t}}};function JF(a){return function(s){return a.apply(null,s)}}function ZF(a){return Bt.isObject(a)&&a.isAxiosError===!0}const Gv={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Gv).forEach(([a,t])=>{Gv[t]=a});function l1(a){const t=new dA(a),s=I0(dA.prototype.request,t);return Bt.extend(s,dA.prototype,t,{allOwnKeys:!0}),Bt.extend(s,t,null,{allOwnKeys:!0}),s.create=function(r){return l1(gA(a,r))},s}const aa=l1(gh);aa.Axios=dA;aa.CanceledError=Id;aa.CancelToken=XF;aa.isCancel=J0;aa.VERSION=n1;aa.toFormData=zf;aa.AxiosError=ba;aa.Cancel=aa.CanceledError;aa.all=function(t){return Promise.all(t)};aa.spread=JF;aa.isAxiosError=ZF;aa.mergeConfig=gA;aa.AxiosHeaders=cn;aa.formToJSON=a=>X0(Bt.isHTMLForm(a)?new FormData(a):a);aa.getAdapter=s1.getAdapter;aa.HttpStatusCode=Gv;aa.default=aa;const{Axios:Bk,AxiosError:Ck,CanceledError:Sk,isCancel:_k,CancelToken:Fk,VERSION:Dk,all:Ek,Cancel:Lk,isAxiosError:Mk,spread:Uk,toFormData:Ok,AxiosHeaders:kk,HttpStatusCode:Ik,formToJSON:Qk,getAdapter:Tk,mergeConfig:Rk}=aa,e3=()=>{Jt();const[a,t]=N.useState(new Date(2025,4,17)),[s,i]=N.useState(null),[r,c]=N.useState(!1),[A,d]=N.useState(null),[h,u]=N.useState([]),[v,x]=N.useState(!0),[y,p]=N.useState(null),[F,b]=N.useState(!1),[S,f]=N.useState(null),O="https://parishofdivinemercy.com/backend",M=T=>{const ie=T%19,ae=Math.floor(T/100),P=T%100,z=Math.floor(ae/4),B=ae%4,q=Math.floor((ae+8)/25),te=Math.floor((ae-q+1)/3),he=(19*ie+ae-z-te+15)%30,W=Math.floor(P/4),C=P%4,Z=(32+2*B+2*W-he-C)%7,se=Math.floor((ie+11*he+22*Z)/451),Se=Math.floor((he+Z-7*se+114)/31)-1,He=(he+Z-7*se+114)%31+1;return new Date(T,Se,He)},J=(T,ie)=>{const ae=new Date(T,ie+1,0),P=new Date(ae);for(;P.getDay()!==1;)P.setDate(P.getDate()-1);return P},K=T=>{const ae=new Date(2024,1,10),z=(T-2024)*354,B=new Date(ae);return B.setDate(B.getDate()+z),B.getMonth()===0&&B.getDate()<21?B.setDate(21):B.getMonth()===1&&B.getDate()>20&&B.setDate(20),B},H=T=>{const ae=new Date(2024,3,10),P=new Date(2024,5,17),B=(T-2024)*11,q=new Date(ae);q.setDate(q.getDate()-B);const te=new Date(P);return te.setDate(te.getDate()-B),{eidAlFitr:q,eidAlAdha:te}},k=T=>{const ie=[];ie.push({date:new Date(T,0,1),name:"New Year's Day",type:"Regular"}),ie.push({date:new Date(T,3,9),name:"Araw ng Kagitingan",type:"Regular"}),ie.push({date:new Date(T,4,1),name:"Labor Day",type:"Regular"}),ie.push({date:new Date(T,5,12),name:"Independence Day",type:"Regular"}),ie.push({date:new Date(T,10,30),name:"Bonifacio Day",type:"Regular"}),ie.push({date:new Date(T,11,25),name:"Christmas Day",type:"Regular"}),ie.push({date:new Date(T,11,30),name:"Rizal Day",type:"Regular"}),ie.push({date:new Date(T,7,21),name:"Ninoy Aquino Day",type:"Special"}),ie.push({date:new Date(T,10,1),name:"All Saints' Day",type:"Special"}),ie.push({date:new Date(T,10,2),name:"All Souls' Day",type:"Special"}),ie.push({date:new Date(T,11,8),name:"Immaculate Conception",type:"Special"}),ie.push({date:new Date(T,11,24),name:"Christmas Eve",type:"Special"}),ie.push({date:new Date(T,11,31),name:"New Year's Eve",type:"Special"}),ie.push({date:new Date(T,1,25),name:"EDSA Revolution",type:"Special"});const ae=J(T,7);ie.push({date:ae,name:"National Heroes Day",type:"Regular"});const P=M(T),z=new Date(P);z.setDate(P.getDate()-3);const B=new Date(P);B.setDate(P.getDate()-2);const q=new Date(P);q.setDate(P.getDate()-1),ie.push({date:z,name:"Maundy Thursday",type:"Regular"}),ie.push({date:B,name:"Good Friday",type:"Regular"}),ie.push({date:q,name:"Black Saturday",type:"Special"});const te=K(T);ie.push({date:te,name:"Chinese New Year",type:"Special"});const he=H(T);return ie.push({date:he.eidAlFitr,name:"Eid'l Fitr",type:"Regular"}),ie.push({date:he.eidAlAdha,name:"Eid'l Adha",type:"Regular"}),ie},[Y,D]=N.useState([]);N.useEffect(()=>{const T=a.getFullYear();D(k(T))},[a]),N.useEffect(()=>{(async()=>{x(!0),p(null);try{const ie=a.getMonth()+1,ae=a.getFullYear();try{const P=await aa.get(`${O}/fetch_activities.php?status=Approved`);if(P.data&&P.data.success){const z=P.data.activities.filter(B=>{let q;if(B.startDate){if(q=new Date(B.startDate),isNaN(q.getTime())){const te=B.startDate.split("/");if(te.length===3)q=new Date(parseInt(te[2]),parseInt(te[0])-1,parseInt(te[1]));else{const he=B.startDate.split("-");he.length===3&&(q=new Date(parseInt(he[0]),parseInt(he[1])-1,parseInt(he[2])))}}}else return!1;return q.getMonth()+1===ie&&q.getFullYear()===ae}).map(B=>{let q;if(B.startDate){if(q=new Date(B.startDate),isNaN(q.getTime())){const te=B.startDate.split("/");if(te.length===3)q=new Date(parseInt(te[2]),parseInt(te[0])-1,parseInt(te[1]));else{const he=B.startDate.split("-");he.length===3&&(q=new Date(parseInt(he[0]),parseInt(he[1])-1,parseInt(he[2])))}}}else q=new Date;return{...B,date:q,time:B.startTime||"12:00 PM"}});u(z)}}catch(P){console.error("Error fetching activities:",P),u([])}}catch(ie){console.error("Error fetching data:",ie),p("Failed to load data. Please try again later.")}finally{x(!1)}})()},[a,O]);const ge=()=>{t(new Date(a.getFullYear(),a.getMonth()-1,1))},_=()=>{t(new Date(a.getFullYear(),a.getMonth()+1,1))},X=T=>Y.some(ie=>ie.date.getDate()===T.getDate()&&ie.date.getMonth()===T.getMonth()&&ie.date.getFullYear()===T.getFullYear()),re=T=>Y.find(ie=>ie.date.getDate()===T.getDate()&&ie.date.getMonth()===T.getMonth()&&ie.date.getFullYear()===T.getFullYear()),fe=T=>h.some(ie=>ie.date.getDate()===T.getDate()&&ie.date.getMonth()===T.getMonth()&&ie.date.getFullYear()===T.getFullYear()),Ne=T=>T.toLocaleDateString("en-US",{month:"long",year:"numeric"}),ue=()=>{const T=a.getFullYear(),ie=a.getMonth(),ae=new Date(T,ie,1),z=new Date(T,ie+1,0).getDate(),B=ae.getDay(),q=[];for(let te=0;te<B;te++)q.push(null);for(let te=1;te<=z;te++){const he=new Date(T,ie,te);q.push(he)}return q},_e=T=>{T&&(i(T),X(T)?(d(re(T)),c(!0)):(c(!1),d(null)))},ce=T=>T.toLocaleDateString("en-US",{weekday:"long",month:"long",day:"numeric",year:"numeric"}),ye=T=>T.toLocaleDateString("en-US",{month:"2-digit",day:"2-digit",year:"numeric"}),Q=T=>{const ie=h.find(ae=>ae.activityID===T);ie&&(f(ie),b(!0))},ne=()=>s?h.filter(T=>T.date.getDate()===s.getDate()&&T.date.getMonth()===s.getMonth()&&T.date.getFullYear()===s.getFullYear()):[],U=T=>{switch(T.toLowerCase()){case"approved":case"confirmed":return e.jsx(dt,{icon:ol,style:{marginRight:"5px",color:"#155724"}});case"pending":return e.jsx(dt,{icon:mo,style:{marginRight:"5px",color:"#856404"}});case"cancelled":case"rejected":return e.jsx(dt,{icon:mo,style:{marginRight:"5px",color:"#721c24"}});case"completed":return e.jsx(dt,{icon:ol,style:{marginRight:"5px",color:"#004085"}});default:return null}},V=T=>{const ie=new Date(2025,4,17);return T.getDate()===ie.getDate()&&T.getMonth()===ie.getMonth()&&T.getFullYear()===ie.getFullYear()};return e.jsxs("div",{className:"dashboard-container-sec",children:[e.jsx("h1",{className:"title-sec",children:"MINISTRY DASHBOARD"}),y&&e.jsxs("div",{className:"error-message-container",children:[e.jsx(dt,{icon:Jx,className:"error-icon"}),e.jsx("span",{children:y})]}),e.jsxs("div",{className:"calendar-section-sec",children:[e.jsxs("div",{className:"calendar-header-sec",children:[e.jsx("button",{className:"nav-btn-sec",onClick:ge,"aria-label":"Previous month",children:e.jsx(dt,{icon:mh})}),e.jsxs("h2",{className:"month-year-sec",children:[e.jsx(dt,{icon:rn,style:{marginRight:"10px"}}),Ne(a)]}),e.jsx("button",{className:"nav-btn-sec",onClick:_,"aria-label":"Next month",children:e.jsx(dt,{icon:fh})})]}),v?e.jsx("div",{className:"loading-calendar",children:e.jsx("p",{children:"Loading calendar data..."})}):e.jsxs("div",{className:"calendar-grid-sec",children:[e.jsx("div",{className:"weekday-sec",children:"Sun"}),e.jsx("div",{className:"weekday-sec",children:"Mon"}),e.jsx("div",{className:"weekday-sec",children:"Tue"}),e.jsx("div",{className:"weekday-sec",children:"Wed"}),e.jsx("div",{className:"weekday-sec",children:"Thu"}),e.jsx("div",{className:"weekday-sec",children:"Fri"}),e.jsx("div",{className:"weekday-sec",children:"Sat"}),ue().map((T,ie)=>e.jsx("div",{className:`calendar-day-sec 
                  ${T?"":"empty-day-sec"} 
                  ${T&&fe(T)?"has-event-sec":""} 
                  ${T&&X(T)?"holiday-day-sec":""} 
                  ${T&&V(T)?"today-sec":""}
                  ${T&&s&&T.getDate()===s.getDate()&&T.getMonth()===s.getMonth()&&T.getFullYear()===s.getFullYear()?"selected-day-sec":""}`,onClick:()=>_e(T),"aria-label":T?`${T.getDate()}, ${X(T)?"Holiday":""} ${fe(T)?"Has event":""}`:"Empty day",children:T&&e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"day-number-sec",children:T.getDate()}),fe(T)&&e.jsx("div",{className:"event-dot-sec"}),X(T)&&e.jsxs("div",{className:"holiday-indicator-sec",children:[e.jsx("div",{className:"holiday-dot-sec",style:{backgroundColor:re(T).type==="Regular"?"#e74c3c":"#f39c12"}}),e.jsx("span",{className:"holiday-name-sec",children:re(T).name})]})]})},ie))]}),e.jsxs("div",{className:"calendar-legend-sec",children:[e.jsxs("div",{className:"legend-item-sec",children:[e.jsx("div",{className:"legend-dot-sec",style:{backgroundColor:"#e74c3c"}}),e.jsx("span",{children:"Regular Holiday"})]}),e.jsxs("div",{className:"legend-item-sec",children:[e.jsx("div",{className:"legend-dot-sec",style:{backgroundColor:"#f39c12"}}),e.jsx("span",{children:"Special Holiday"})]}),e.jsxs("div",{className:"legend-item-sec",children:[e.jsx("div",{className:"legend-dot-sec event-legend-sec"}),e.jsx("span",{children:"Community Activity"})]})]}),r&&A&&e.jsxs("div",{className:"holiday-info-sec",children:[e.jsxs("div",{className:"holiday-info-header-sec",children:[e.jsx(dt,{icon:Pf,className:"holiday-info-icon-sec"}),e.jsx("h3",{children:"Holiday Information"})]}),e.jsxs("div",{className:"holiday-info-content-sec",children:[e.jsxs("p",{children:[e.jsx("strong",{children:"Date:"})," ",ce(A.date)]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Holiday:"})," ",A.name]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Type:"})," ",e.jsxs("span",{className:`holiday-type-sec ${A.type.toLowerCase()}-holiday-sec`,children:[A.type," Holiday"]})]})]})]}),s&&e.jsxs("div",{className:"selected-date-info-sec",children:[e.jsxs("h3",{children:[e.jsx(dt,{icon:rn,style:{marginRight:"10px",color:"#b3701f"}}),ce(s)]}),ne().length>0&&e.jsxs("div",{className:"selected-date-events-sec",children:[e.jsx("h4",{children:"Activities:"}),e.jsx("ul",{className:"event-list-sec",children:ne().map(T=>e.jsxs("li",{className:"event-item-sec",children:[e.jsx("div",{className:"event-time-sec",children:T.startTime}),e.jsxs("div",{className:"event-details-sec",children:[e.jsx("span",{className:"event-name-sec",children:T.title}),e.jsx("span",{className:"event-organizer-sec",children:T.proposedBy||T.organizer}),e.jsx("span",{className:"event-location-sec",children:T.location}),e.jsxs("span",{className:`event-status-sec ${T.status.toLowerCase()}-sec`,children:[U(T.status),T.status]})]}),e.jsxs("button",{className:"view-btn-sec event-view-btn-sec",onClick:()=>Q(T.activityID),children:[e.jsx(dt,{icon:Fn})," View"]})]},T.activityID))})]}),ne().length===0&&e.jsx("p",{className:"no-appointments-message-sec",children:"No activities scheduled for this date."})]})]}),e.jsx("div",{className:"tables-container-sec",children:e.jsxs("div",{className:"table-section-sec events-table-section-sec",children:[e.jsxs("h2",{className:"section-title-sec",children:[e.jsx(dt,{icon:Yx,className:"section-icon-sec"}),"Community Activities for ",Ne(a)]}),e.jsx("div",{className:"data-table-container",children:e.jsxs("table",{className:"event-table-sae",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"No."}),e.jsx("th",{children:"Title"}),e.jsx("th",{children:"Description"}),e.jsx("th",{children:"Category"}),e.jsx("th",{children:"Start Date"}),e.jsx("th",{children:"Start Time"}),e.jsx("th",{children:"Location"}),e.jsx("th",{children:"Organizer"}),e.jsx("th",{children:"Status"}),e.jsx("th",{children:"Action"})]})}),e.jsx("tbody",{children:h.length>0?h.map((T,ie)=>{var ae;return e.jsxs("tr",{children:[e.jsx("td",{children:ie+1}),e.jsx("td",{children:T.title}),e.jsx("td",{children:T.description}),e.jsx("td",{children:T.category}),e.jsx("td",{children:ye(T.date)}),e.jsx("td",{children:T.startTime}),e.jsx("td",{children:T.location}),e.jsx("td",{children:T.proposedBy}),e.jsx("td",{className:`status-${(ae=T.status)==null?void 0:ae.toLowerCase()}`,children:T.status}),e.jsx("td",{children:e.jsx("button",{className:"sae-details",onClick:()=>Q(T.activityID),children:"View"})})]},T.activityID)}):e.jsx("tr",{children:e.jsx("td",{colSpan:"10",style:{textAlign:"center"},children:v?"Loading activities...":"No approved activities for this month"})})})]})})]})}),F&&S&&e.jsx("div",{className:"modal-backdrop-sae",children:e.jsxs("div",{className:"modal-content-sae",children:[e.jsx("h2",{children:"Activity Details"}),e.jsx("hr",{className:"custom-hr-sum"}),e.jsxs("div",{className:"view-details-sae",children:[e.jsxs("div",{className:"detail-row-sae",children:[e.jsx("div",{className:"detail-label-sae",children:"Title:"}),e.jsx("div",{className:"detail-value-sae",children:S.title})]}),e.jsxs("div",{className:"detail-row-sae",children:[e.jsx("div",{className:"detail-label-sae",children:"Description:"}),e.jsx("div",{className:"detail-value-sae",children:S.description})]}),e.jsxs("div",{className:"detail-row-sae",children:[e.jsx("div",{className:"detail-label-sae",children:"Category:"}),e.jsx("div",{className:"detail-value-sae",children:S.category})]}),e.jsxs("div",{className:"detail-row-sae",children:[e.jsx("div",{className:"detail-label-sae",children:"Start Date:"}),e.jsx("div",{className:"detail-value-sae",children:ye(S.date)})]}),e.jsxs("div",{className:"detail-row-sae",children:[e.jsx("div",{className:"detail-label-sae",children:"Start Time:"}),e.jsx("div",{className:"detail-value-sae",children:S.startTime})]}),e.jsxs("div",{className:"detail-row-sae",children:[e.jsx("div",{className:"detail-label-sae",children:"Location:"}),e.jsx("div",{className:"detail-value-sae",children:S.location})]}),e.jsxs("div",{className:"detail-row-sae",children:[e.jsx("div",{className:"detail-label-sae",children:"Organizer:"}),e.jsx("div",{className:"detail-value-sae",children:S.organizer||S.proposedBy})]}),e.jsxs("div",{className:"detail-row-sae",children:[e.jsx("div",{className:"detail-label-sae",children:"Status:"}),e.jsx("div",{className:`detail-value-sae status-${S.status.toLowerCase()}`,children:S.status})]}),S.created_at&&e.jsxs("div",{className:"detail-row-sae",children:[e.jsx("div",{className:"detail-label-sae",children:"Created At:"}),e.jsx("div",{className:"detail-value-sae",children:new Date(S.created_at).toLocaleString()})]}),S.updated_at&&e.jsxs("div",{className:"detail-row-sae",children:[e.jsx("div",{className:"detail-label-sae",children:"Updated At:"}),e.jsx("div",{className:"detail-value-sae",children:new Date(S.updated_at).toLocaleString()})]})]}),e.jsx("div",{className:"modal-actions-sae",children:e.jsx("button",{onClick:()=>b(!1),className:"cancel-btn-sae",children:"Close"})})]})})]})},t3=()=>{const a=oa(),t=Jt(),[s,i]=N.useState(!0),[r,c]=N.useState(!1),[A,d]=N.useState({text:"",type:""}),[h,u]=N.useState(null),[v,x]=N.useState(null),[y,p]=N.useState(null),[F,b]=N.useState({firstName:"",middleName:"",lastName:"",gender:"",dateOfBirth:"",contactNumber:"",nationality:"",religion:"",email:"",street:"",barangay:"",municipality:"",province:"",position:"",membershipStatus:"",joinedDate:""}),[S,f]=N.useState({newPassword:"",confirmPassword:""}),[O,M]=N.useState(""),[J,K]=N.useState([]),[H,k]=N.useState(null),[Y,D]=N.useState({barangay:[],municipality:[],province:[]}),ge=B=>B?B.startsWith("data:image")?B:`data:image/jpeg;base64,${B}`:null;N.useEffect(()=>{if(a.state&&a.state.userData)u(a.state.userData),x(a.state.userID),console.log("Profile: User data from location state",a.state.userData),console.log("Profile: UserID from location state",a.state.userID),X(a.state.userID);else{const B=localStorage.getItem("ministry_user");if(B){const q=JSON.parse(B);u(q),x(q.userID),console.log("Profile: User data from localStorage",q),console.log("Profile: UserID from localStorage",q.userID),X(q.userID)}else console.log("Profile: No user data found, redirecting to login"),t("/")}_()},[a,t]);const _=async()=>{try{const B=await aa.get("https://parishofdivinemercy.com/backend/get_location.php");B.data.success&&K(B.data.locations)}catch(B){console.error("Error fetching locations:",B)}},X=async B=>{try{i(!0);const te=await(await fetch(`https://parishofdivinemercy.com/backend/user_management.php?userID=${B}`)).json();if(te.success&&te.users&&te.users.length>0){const he=te.users[0];console.log("Fetched user data:",he),he.profile&&p(ge(he.profile)),b({firstName:he.firstName||"",middleName:he.middleName||"",lastName:he.lastName||"",gender:he.gender||"",dateOfBirth:he.dateOfBirth?he.dateOfBirth.split(" ")[0]:"",contactNumber:he.contactNumber||"",nationality:he.nationality||"",religion:he.religion||"",email:he.email||"",street:he.street||"",barangay:he.barangay||"",municipality:he.municipality||"",province:he.province||"",position:he.position||"",membershipStatus:he.membershipStatus||"",joinedDate:he.joinedDate?he.joinedDate.split(" ")[0]:""})}else d({text:"Failed to fetch user profile",type:"error"})}catch(q){console.error("Error fetching user profile:",q),d({text:"An error occurred while fetching the profile",type:"error"})}finally{i(!1)}},re=(B,q=null,te=null)=>{const he=B.toLowerCase();let W=J;return q&&q.trim()!==""&&(W=W.filter(C=>C.municipality===q)),te&&te.trim()!==""&&(W=W.filter(C=>C.province===te)),[...new Set(W.map(C=>C.barangay))].filter(C=>C.toLowerCase().includes(he)).sort()},fe=(B,q=null)=>{const te=B.toLowerCase();let he=J;return q&&q.trim()!==""&&(he=he.filter(W=>W.province===q)),[...new Set(he.map(W=>W.municipality))].filter(W=>W.toLowerCase().includes(te)).sort()},Ne=B=>{const q=B.toLowerCase();return[...new Set(J.map(te=>te.province))].filter(te=>te.toLowerCase().includes(q)).sort()},ue=B=>{const q=B.target.value;T("barangay",q),H==="barangay"&&D({...Y,barangay:re(q,F.municipality,F.province)})},_e=B=>{const q=B.target.value;T("municipality",q),H==="municipality"&&D({...Y,municipality:fe(q,F.province)})},ce=B=>{const q=B.target.value;T("province",q),H==="province"&&D({...Y,province:Ne(q)})},ye=B=>{T("barangay",B),k(null);const q=J.find(te=>te.barangay===B);q&&(F.municipality||T("municipality",q.municipality),F.province||T("province",q.province))},Q=B=>{T("municipality",B),k(null);const q=J.find(te=>te.municipality===B);q&&!F.province&&T("province",q.province)},ne=B=>{T("province",B),k(null)},U=B=>{k(B),B==="barangay"?D({...Y,barangay:re(F.barangay,F.municipality,F.province)}):B==="municipality"?D({...Y,municipality:fe(F.municipality,F.province)}):B==="province"&&D({...Y,province:Ne(F.province)})};N.useEffect(()=>{const B=q=>{const te=document.querySelectorAll(".location-dropdown-container");let he=!0;te.forEach(W=>{W.contains(q.target)&&(he=!1)}),he&&k(null)};return document.addEventListener("mousedown",B),()=>{document.removeEventListener("mousedown",B)}},[]);const V=B=>{const q=B.target.files[0];if(q){if(q.size>5*1024*1024){d({text:"Image size should not exceed 5MB",type:"error"});return}const te=new FileReader;te.onloadend=()=>{p(te.result)},te.readAsDataURL(q)}},T=(B,q)=>{b({...F,[B]:q})},ie=(B,q)=>{f({...S,[B]:q}),O&&M("")},ae=()=>!S.newPassword&&!S.confirmPassword?!0:!S.newPassword||!S.confirmPassword?(M("Both password fields must be filled if you want to change your password"),!1):S.newPassword.length<6?(M("Password must be at least 6 characters long"),!1):S.newPassword!==S.confirmPassword?(M("Passwords do not match"),!1):!0,P=()=>{b({...F,firstName:"",middleName:"",lastName:"",gender:"",dateOfBirth:"",contactNumber:"",nationality:"",religion:"",email:"",street:"",barangay:"",municipality:"",province:""}),p(null),f({newPassword:"",confirmPassword:""}),M("")},z=async()=>{if(!v){d({text:"User ID is missing, please login again",type:"error"});return}if(ae())try{c(!0),d({text:"",type:""});const B={...F,userID:v,profile:y};S.newPassword&&S.confirmPassword&&(B.password=S.newPassword);const te=await(await fetch("https://parishofdivinemercy.com/backend/user_management.php",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(B)})).json();if(te.success){d({text:"Profile updated successfully",type:"success"}),f({newPassword:"",confirmPassword:""}),M("");const he=JSON.parse(localStorage.getItem("ministry_user"));if(he){const W={...he,firstName:F.firstName,lastName:F.lastName,email:F.email};localStorage.setItem("ministry_user",JSON.stringify(W))}}else d({text:te.message||"Failed to update profile",type:"error"})}catch(B){console.error("Error updating profile:",B),d({text:"An error occurred while updating the profile",type:"error"})}finally{c(!1)}};return s?e.jsx("div",{className:"loading-indicator",children:"Loading profile data..."}):e.jsxs("div",{className:"community-profile-container",children:[e.jsx("div",{className:"community-profile-header",children:e.jsx("h1",{className:"title-mp",children:"MINISTRY PROFILE"})}),A.text&&e.jsx("div",{className:`message ${A.type}`,children:A.text}),e.jsxs("div",{className:"community-profile-content",children:[e.jsxs("div",{className:"image-upload-container-cp",children:[e.jsx("label",{htmlFor:"imageUpload",className:"image-upload-label",children:y?e.jsx("img",{src:y,alt:"Profile",className:"profile-image-cp"}):e.jsx("div",{className:"image-placeholder-cp",children:F.firstName?F.firstName.charAt(0).toUpperCase():"Click to Upload"})}),e.jsx("input",{type:"file",id:"imageUpload",accept:"image/*",onChange:V,className:"hidden-file-input"})]}),e.jsxs("div",{className:"community-profile-fields-cp",children:[e.jsxs("div",{className:"community-profile-row-cp",children:[e.jsxs("div",{children:[e.jsx("label",{children:"First Name"}),e.jsx("input",{type:"text",name:"firstName",value:F.firstName,onChange:B=>T("firstName",B.target.value)})]}),e.jsxs("div",{children:[e.jsx("label",{children:"Middle Name"}),e.jsx("input",{type:"text",name:"middleName",value:F.middleName,onChange:B=>T("middleName",B.target.value)})]}),e.jsxs("div",{children:[e.jsx("label",{children:"Last Name"}),e.jsx("input",{type:"text",name:"lastName",value:F.lastName,onChange:B=>T("lastName",B.target.value)})]})]}),e.jsxs("div",{className:"community-profile-row-cp",children:[e.jsxs("div",{children:[e.jsx("label",{children:"Gender"}),e.jsxs("select",{name:"gender",value:F.gender,onChange:B=>T("gender",B.target.value),children:[e.jsx("option",{value:"",children:"Select Gender"}),e.jsx("option",{value:"Male",children:"Male"}),e.jsx("option",{value:"Female",children:"Female"}),e.jsx("option",{value:"Other",children:"Other"})]})]}),e.jsxs("div",{children:[e.jsx("label",{children:"Date of Birth"}),e.jsx("input",{type:"date",name:"dateOfBirth",value:F.dateOfBirth,onChange:B=>T("dateOfBirth",B.target.value)})]}),e.jsxs("div",{children:[e.jsx("label",{children:"Contact Number"}),e.jsx("input",{type:"text",name:"contactNumber",value:F.contactNumber,onChange:B=>T("contactNumber",B.target.value)})]})]}),e.jsxs("div",{className:"community-profile-row-cp",children:[e.jsxs("div",{children:[e.jsx("label",{children:"Email Address"}),e.jsx("input",{type:"email",name:"email",value:F.email,onChange:B=>T("email",B.target.value)})]}),e.jsxs("div",{children:[e.jsx("label",{children:"Nationality"}),e.jsx("input",{type:"text",name:"nationality",value:F.nationality,onChange:B=>T("nationality",B.target.value)})]})]})]})]}),e.jsxs("div",{className:"community-profile-row-cp",children:[e.jsxs("div",{children:[e.jsx("label",{children:"Street"}),e.jsx("input",{type:"text",name:"street",value:F.street,onChange:B=>T("street",B.target.value)})]}),e.jsxs("div",{className:"location-dropdown-container",children:[e.jsx("label",{children:"Barangay"}),e.jsx("input",{type:"text",name:"barangay",value:F.barangay,onChange:ue,onFocus:()=>U("barangay"),placeholder:"Type to search"}),H==="barangay"&&Y.barangay.length>0&&e.jsx("div",{className:"location-dropdown",children:Y.barangay.map((B,q)=>e.jsx("div",{className:"location-dropdown-item",onClick:()=>ye(B),children:B},q))})]}),e.jsxs("div",{className:"location-dropdown-container",children:[e.jsx("label",{children:"Municipality"}),e.jsx("input",{type:"text",name:"municipality",value:F.municipality,onChange:_e,onFocus:()=>U("municipality"),placeholder:"Type to search"}),H==="municipality"&&Y.municipality.length>0&&e.jsx("div",{className:"location-dropdown",children:Y.municipality.map((B,q)=>e.jsx("div",{className:"location-dropdown-item",onClick:()=>Q(B),children:B},q))})]}),e.jsxs("div",{className:"location-dropdown-container",children:[e.jsx("label",{children:"Province"}),e.jsx("input",{type:"text",name:"province",value:F.province,onChange:ce,onFocus:()=>U("province"),placeholder:"Type to search"}),H==="province"&&Y.province.length>0&&e.jsx("div",{className:"location-dropdown",children:Y.province.map((B,q)=>e.jsx("div",{className:"location-dropdown-item",onClick:()=>ne(B),children:B},q))})]})]}),e.jsxs("div",{className:"community-profile-row-cp",children:[e.jsxs("div",{children:[e.jsx("label",{children:"New Password"}),e.jsx("input",{type:"password",name:"newPassword",value:S.newPassword,onChange:B=>ie("newPassword",B.target.value),placeholder:"Leave blank to keep current password"})]}),e.jsxs("div",{children:[e.jsx("label",{children:"Confirm New Password"}),e.jsx("input",{type:"password",name:"confirmPassword",value:S.confirmPassword,onChange:B=>ie("confirmPassword",B.target.value),placeholder:"Confirm your new password"})]})]}),O&&e.jsx("div",{className:"password-error-message",children:O}),e.jsxs("div",{className:"community-profile-row-cp",children:[e.jsxs("div",{children:[e.jsx("label",{children:"Religion"}),e.jsx("input",{type:"text",name:"religion",value:F.religion,onChange:B=>T("religion",B.target.value)})]}),e.jsxs("div",{children:[e.jsx("label",{children:"Position"}),e.jsx("input",{type:"text",value:F.position,readOnly:!0,className:"readonly-field"})]}),e.jsxs("div",{children:[e.jsx("label",{children:"Membership Status"}),e.jsx("input",{type:"text",value:F.membershipStatus,readOnly:!0,className:"readonly-field"})]}),e.jsxs("div",{children:[e.jsx("label",{children:"Joined Date"}),e.jsx("input",{type:"text",value:F.joinedDate,readOnly:!0,className:"readonly-field"})]})]}),e.jsxs("div",{className:"button-container-cp",children:[e.jsx("button",{className:"update-btn-cp",onClick:z,disabled:r,children:r?"Updating...":"Update"}),e.jsx("button",{className:"clear-btn-cp-1",onClick:P,children:"Clear"})]})]})},a3=()=>{const a=Jt(),t=oa(),[s,i]=N.useState(null),[r,c]=N.useState(null),[A,d]=N.useState(!0),[h,u]=N.useState([]),[v,x]=N.useState(!1),[y,p]=N.useState(!1),[F,b]=N.useState(""),[S,f]=N.useState(""),[O,M]=N.useState({title:"",description:"",category:"",startDate:"",startTime:"",location:"",organizer:"",street:"",status:"Pending"}),[J,K]=N.useState(null),[H,k]=N.useState({text:"",type:""}),[Y,D]=N.useState([]),[ge,_]=N.useState(null),[X,re]=N.useState({location:[],editLocation:[]});N.useEffect(()=>{if(t.state&&t.state.userID)i(t.state.userID),t.state.userData&&c(t.state.userData),console.log("Activities: UserID from location state",t.state.userID);else{const W=localStorage.getItem("ministry_user");if(W){const C=JSON.parse(W);c(C),i(C.userID),console.log("Activities: User data from localStorage",C)}else console.log("Activities: No user data found, redirecting to login"),a("/")}fe()},[t,a]),N.useEffect(()=>{s&&Ne()},[s]);const fe=async()=>{try{const W=await aa.get("https://parishofdivinemercy.com/backend/get_location.php");W.data.success&&D(W.data.locations)}catch(W){console.error("Error fetching locations:",W)}finally{d(!1)}},Ne=async()=>{try{d(!0);const W=await aa.get("https://parishofdivinemercy.com/backend/ministry_events.php");W.data.success?u(W.data.events):k({text:"Failed to fetch events",type:"error"})}catch(W){console.error("Error fetching events:",W),k({text:"An error occurred while fetching events",type:"error"})}finally{d(!1)}},ue=W=>{const C=W.startDate?_e(W.startDate):"";K({...W,startDate:C}),p(!0)},_e=W=>{try{const[C,Z,se]=W.split("-");return`${C}-${Z}-${se}`}catch{return W}},ce=W=>{try{return W}catch{return W}},ye=W=>W||"",Q=W=>{const Z=W.toLowerCase().split(/\s+/).filter(se=>se.length>0);return Y.filter(se=>{const Se=`${se.barangay} ${se.municipality} ${se.province}`.toLowerCase();return Z.every(He=>Se.includes(He))}).map(se=>({barangay:se.barangay,municipality:se.municipality,province:se.province}))},ne=W=>{const C=W.target.value;ae("location",C),ge==="location"&&re({...X,location:Q(C)})},U=W=>{const C=W.target.value;K({...J,location:C}),ge==="editLocation"&&re({...X,editLocation:Q(C)})},V=W=>{const Z=`${O.street?O.street+" ":""}${W.barangay}, ${W.municipality}, ${W.province}`;ae("location",Z),_(null)},T=W=>{let C="";if(J.location){const se=J.location.split(",");if(se.length>0){se[0].trim().split(" ");const Se=W.barangay.trim(),He=se[0].lastIndexOf(Se);He>0&&(C=se[0].substring(0,He).trim()+" ")}}const Z=`${C}${W.barangay}, ${W.municipality}, ${W.province}`;K({...J,location:Z}),_(null)},ie=W=>{const C=W.target.value;if(ae("street",C),O.location){const Z=O.location.split(",");if(Z.length>=3){const se=Z[0].trim(),Se=se.split(" "),He=Y.find(Qe=>se.includes(Qe.barangay)||Qe.barangay.includes(Se[Se.length-1]));if(He){const Qe=`${C} ${He.barangay}, ${He.municipality}, ${He.province}`;ae("location",Qe)}else ae("location",`${C} ${O.location}`)}else ae("location",`${C} ${O.location}`)}},ae=(W,C)=>{M({...O,[W]:C})},P=W=>{_(W),W==="location"?re({...X,location:Q(O.location)}):W==="editLocation"&&re({...X,editLocation:Q((J==null?void 0:J.location)||"")})};N.useEffect(()=>{const W=C=>{const Z=document.querySelectorAll(".location-dropdown-container");let se=!0;Z.forEach(Se=>{Se.contains(C.target)&&(se=!1)}),se&&_(null)};return document.addEventListener("mousedown",W),()=>{document.removeEventListener("mousedown",W)}},[]);const z=async W=>{var C,Z;if(W.preventDefault(),!s){k({text:"User ID is missing, please login again",type:"error"});return}try{k({text:"",type:""});const se=ce(O.startDate),Se={userID:s,title:O.title,description:O.description,category:O.category,startDate:se,startTime:O.startTime,location:O.location,organizer:O.organizer},He=await aa.post("https://parishofdivinemercy.com/backend/ministry_events.php",Se);He.data.success?(k({text:"Event created successfully",type:"success"}),x(!1),M({title:"",description:"",category:"",startDate:"",startTime:"",location:"",organizer:"",street:"",status:"Pending"}),Ne()):k({text:He.data.message||"Failed to create event",type:"error"})}catch(se){console.error("Error creating event:",se),k({text:((Z=(C=se.response)==null?void 0:C.data)==null?void 0:Z.message)||"An error occurred while creating the event",type:"error"})}},B=async W=>{var C,Z;if(W.preventDefault(),!J||!J.activityID){k({text:"Event data is missing",type:"error"});return}try{k({text:"",type:""});const se=ce(J.startDate),Se={activityID:J.activityID,title:J.title,description:J.description,category:J.category,startDate:se,startTime:J.startTime,location:J.location,organizer:J.organizer},He=await aa.put("https://parishofdivinemercy.com/backend/ministry_events.php",Se);He.data.success?(k({text:"Event updated successfully",type:"success"}),p(!1),K(null),Ne()):k({text:He.data.message||"Failed to update event",type:"error"})}catch(se){console.error("Error updating event:",se),k({text:((Z=(C=se.response)==null?void 0:C.data)==null?void 0:Z.message)||"An error occurred while updating the event",type:"error"})}},q=W=>{if(!W)return[];try{const C=new Date(W);if(isNaN(C.getTime()))return[W.toLowerCase()];const Z=C.getFullYear(),se=String(C.getMonth()+1).padStart(2,"0"),Se=String(C.getDate()).padStart(2,"0");return[W.toLowerCase(),`${Z}-${se}-${Se}`,`${se}/${Se}/${Z}`,`${Se}/${se}/${Z}`,`${se}-${Se}-${Z}`,`${Se}-${se}-${Z}`,C.toLocaleDateString().toLowerCase(),C.toDateString().toLowerCase(),`${C.toLocaleDateString("en-US",{month:"long"})} ${Se}, ${Z}`.toLowerCase(),`${Se} ${C.toLocaleDateString("en-US",{month:"long"})} ${Z}`.toLowerCase(),C.toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}).toLowerCase()]}catch{return[W.toLowerCase()]}},te=W=>{if(!W)return[];try{const C=[W.toLowerCase()],Z=W.match(/^(\d{1,2}):(\d{2})$/);if(Z){const Se=parseInt(Z[1]),He=Z[2];Se===0?(C.push(`12:${He} am`),C.push(`12:${He}am`)):Se<12?(C.push(`${Se}:${He} am`),C.push(`${Se}:${He}am`)):Se===12?(C.push(`12:${He} pm`),C.push(`12:${He}pm`)):(C.push(`${Se-12}:${He} pm`),C.push(`${Se-12}:${He}pm`));const Qe=String(Se).padStart(2,"0");C.push(`${Qe}:${He}`)}const se=W.toLowerCase().match(/^(\d{1,2}):(\d{2})\s*(am|pm)$/);if(se){const Se=parseInt(se[1]),He=se[2],Qe=se[3];let qe;Qe==="am"?qe=Se===12?0:Se:qe=Se===12?12:Se+12,C.push(`${String(qe).padStart(2,"0")}:${He}`),C.push(`${qe}:${He}`)}return C}catch{return[W.toLowerCase()]}},he=h.filter(W=>{const C=F?W.status===F:!0;if(!S)return C;const Z=S.toLowerCase(),se=q(W.startDate),Se=te(W.startTime),He=W.title&&W.title.toLowerCase().includes(Z)||W.description&&W.description.toLowerCase().includes(Z)||W.category&&W.category.toLowerCase().includes(Z)||W.location&&W.location.toLowerCase().includes(Z)||W.organizer&&W.organizer.toLowerCase().includes(Z)||W.status&&W.status.toLowerCase().includes(Z)||se.some(Qe=>Qe.includes(Z))||Se.some(Qe=>Qe.includes(Z))||W.startDate&&W.startTime&&`${W.startDate} ${W.startTime}`.toLowerCase().includes(Z)||se.some(Qe=>Se.some(qe=>`${Qe} ${qe}`.includes(Z)));return C&&He});return e.jsxs("div",{className:"event-container-cae",children:[e.jsx("h1",{className:"title-cae",children:"EVENTS & ACTIVITIES"}),H.text&&e.jsx("div",{className:`message ${H.type}`,children:H.text}),e.jsxs("div",{className:"event-actions-cae",children:[e.jsxs("div",{className:"search-bar-cae",children:[e.jsx("input",{type:"text",placeholder:"Search events by any detail (e.g., 'January 15, 2024', '2:30 PM', '2024-01-15 14:30')...",value:S,onChange:W=>f(W.target.value)}),e.jsx(dt,{icon:vs,className:"search-icon-cae"})]}),e.jsxs("div",{className:"right-actions-cae",children:[e.jsxs("select",{className:"filter-select-cae",value:F,onChange:W=>b(W.target.value),children:[e.jsx("option",{value:"",children:"Status"}),e.jsx("option",{value:"Approved",children:"Approved"}),e.jsx("option",{value:"Pending",children:"Pending"}),e.jsx("option",{value:"Rejected",children:"Rejected"})]}),e.jsxs("button",{className:"add-event-btn-cae",onClick:()=>x(!0),children:[e.jsx(dt,{icon:yA})," Add Event"]})]})]}),e.jsx("div",{className:"event-table-cae-container",children:A?e.jsx("div",{className:"loading-indicator",children:"Loading events..."}):he.length===0?e.jsx("div",{className:"no-events-message",children:S||F?"No events match your search criteria":"No events found"}):e.jsxs("table",{className:"event-table-cae",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"No."}),e.jsx("th",{children:"Title"}),e.jsx("th",{children:"Description"}),e.jsx("th",{children:"Category"}),e.jsx("th",{children:"Start Date"}),e.jsx("th",{children:"Start Time"}),e.jsx("th",{children:"Location"}),e.jsx("th",{children:"Organizer"}),e.jsx("th",{children:"Status"}),e.jsx("th",{children:"Action"})]})}),e.jsx("tbody",{children:he.map((W,C)=>e.jsxs("tr",{children:[e.jsx("td",{children:C+1}),e.jsx("td",{children:W.title}),e.jsx("td",{children:W.description}),e.jsx("td",{children:W.category}),e.jsx("td",{children:W.startDate}),e.jsx("td",{children:W.startTime}),e.jsx("td",{children:W.location}),e.jsx("td",{children:W.organizer}),e.jsx("td",{children:W.status}),e.jsx("td",{children:e.jsx("button",{className:"cae-details",onClick:()=>ue(W),disabled:W.status!=="Pending",children:"Edit"})})]},W.activityID))})]})}),v&&e.jsx("div",{className:"modal-backdrop-cae",children:e.jsxs("div",{className:"modal-content-cae",children:[e.jsx("h2",{children:"Add New Event & Activity"}),e.jsx("hr",{className:"custom-hr-sum"}),e.jsxs("form",{onSubmit:z,children:[e.jsxs("div",{className:"form-group-cae",children:[e.jsx("label",{children:"Title"}),e.jsx("input",{type:"text",name:"title",value:O.title,onChange:W=>ae("title",W.target.value),required:!0})]}),e.jsxs("div",{className:"form-group-cae",children:[e.jsx("label",{children:"Description"}),e.jsx("textarea",{name:"description",value:O.description,onChange:W=>ae("description",W.target.value),required:!0})]}),e.jsxs("div",{className:"form-group-cae",children:[e.jsx("label",{children:"Category"}),e.jsx("input",{type:"text",name:"category",value:O.category,onChange:W=>ae("category",W.target.value),required:!0})]}),e.jsxs("div",{className:"form-row-cae",children:[e.jsxs("div",{className:"form-group-cae",children:[e.jsx("label",{children:"Start Date"}),e.jsx("input",{type:"date",name:"startDate",value:O.startDate,onChange:W=>ae("startDate",W.target.value),required:!0})]}),e.jsxs("div",{className:"form-group-cae",children:[e.jsx("label",{children:"Start Time"}),e.jsx("input",{type:"time",name:"startTime",value:O.startTime,onChange:W=>ae("startTime",W.target.value),required:!0})]})]}),e.jsxs("div",{className:"form-group-cae",children:[e.jsx("label",{children:"Street"}),e.jsx("input",{type:"text",name:"street",value:O.street,onChange:ie,placeholder:"Enter street or area (e.g., Purok 2)"})]}),e.jsxs("div",{className:"form-group-cae location-dropdown-container",children:[e.jsx("label",{children:"Location"}),e.jsx("input",{type:"text",name:"location",value:O.location,onChange:ne,onFocus:()=>P("location"),placeholder:"Type to search (Barangay, Municipality, Province)",required:!0}),ge==="location"&&X.location.length>0&&e.jsx("div",{className:"location-dropdown",children:X.location.map((W,C)=>e.jsx("div",{className:"location-dropdown-item",onClick:()=>V(W),children:`${W.barangay}, ${W.municipality}, ${W.province}`},C))})]}),e.jsxs("div",{className:"form-group-cae",children:[e.jsx("label",{children:"Organizer"}),e.jsx("input",{type:"text",name:"organizer",value:O.organizer,onChange:W=>ae("organizer",W.target.value),required:!0})]}),e.jsxs("div",{className:"modal-actions-cae",children:[e.jsx("button",{type:"submit",className:"submit-btn-cae",children:"Save"}),e.jsx("button",{type:"button",onClick:()=>x(!1),className:"cancel-btn-cae",children:"Cancel"})]})]})]})}),y&&J&&e.jsx("div",{className:"modal-backdrop-cae",children:e.jsxs("div",{className:"modal-content-cae",children:[e.jsx("h2",{children:"Update Event & Activity"}),e.jsx("hr",{className:"custom-hr-sum"}),e.jsxs("form",{onSubmit:B,children:[e.jsxs("div",{className:"form-group-cae",children:[e.jsx("label",{children:"Title"}),e.jsx("input",{type:"text",name:"title",value:J.title,onChange:W=>K({...J,title:W.target.value}),required:!0})]}),e.jsxs("div",{className:"form-group-cae",children:[e.jsx("label",{children:"Description"}),e.jsx("textarea",{name:"description",value:J.description,onChange:W=>K({...J,description:W.target.value}),required:!0})]}),e.jsxs("div",{className:"form-group-cae",children:[e.jsx("label",{children:"Category"}),e.jsx("input",{type:"text",name:"category",value:J.category,onChange:W=>K({...J,category:W.target.value}),required:!0})]}),e.jsxs("div",{className:"form-row-cae",children:[e.jsxs("div",{className:"form-group-cae",children:[e.jsx("label",{children:"Start Date"}),e.jsx("input",{type:"date",name:"startDate",value:J.startDate,onChange:W=>K({...J,startDate:W.target.value}),required:!0})]}),e.jsxs("div",{className:"form-group-cae",children:[e.jsx("label",{children:"Start Time"}),e.jsx("input",{type:"time",name:"startTime",value:ye(J.startTime),onChange:W=>K({...J,startTime:W.target.value}),required:!0})]})]}),e.jsxs("div",{className:"form-group-cae location-dropdown-container",children:[e.jsx("label",{children:"Location"}),e.jsx("input",{type:"text",name:"location",value:J.location,onChange:U,onFocus:()=>P("editLocation"),placeholder:"Type to search (Barangay, Municipality, Province)",required:!0}),ge==="editLocation"&&X.editLocation.length>0&&e.jsx("div",{className:"location-dropdown",children:X.editLocation.map((W,C)=>e.jsx("div",{className:"location-dropdown-item",onClick:()=>T(W),children:`${W.barangay}, ${W.municipality}, ${W.province}`},C))})]}),e.jsxs("div",{className:"form-group-cae",children:[e.jsx("label",{children:"Organizer"}),e.jsx("input",{type:"text",name:"organizer",value:J.organizer,onChange:W=>K({...J,organizer:W.target.value}),required:!0})]}),e.jsxs("div",{className:"modal-actions-cae",children:[e.jsx("button",{type:"submit",className:"submit-btn-cae",children:"Update"}),e.jsx("button",{type:"button",onClick:()=>p(!1),className:"cancel-btn-cae",children:"Cancel"})]})]})]})})]})},i3=()=>{const a=Jt(),[t,s]=N.useState(new Date(2025,4,17)),[i,r]=N.useState(null),[c,A]=N.useState(!1),[d,h]=N.useState(null),[u,v]=N.useState([]),[x,y]=N.useState([]),[p,F]=N.useState(0),[b,S]=N.useState(0),[f,O]=N.useState(!0),[M,J]=N.useState(null),[K,H]=N.useState(!1),[k,Y]=N.useState(null),D="https://parishofdivinemercy.com/backend",ge=C=>{const Z=C%19,se=Math.floor(C/100),Se=C%100,He=Math.floor(se/4),Qe=se%4,qe=Math.floor((se+8)/25),Ye=Math.floor((se-qe+1)/3),st=(19*Z+se-He-Ye+15)%30,kt=Math.floor(Se/4),Mt=Se%4,ke=(32+2*Qe+2*kt-st-Mt)%7,$e=Math.floor((Z+11*st+22*ke)/451),Ae=Math.floor((st+ke-7*$e+114)/31)-1,Le=(st+ke-7*$e+114)%31+1;return new Date(C,Ae,Le)},_=(C,Z)=>{const se=new Date(C,Z+1,0),Se=new Date(se);for(;Se.getDay()!==1;)Se.setDate(Se.getDate()-1);return Se},X=C=>{const se=new Date(2024,1,10),He=(C-2024)*354,Qe=new Date(se);return Qe.setDate(Qe.getDate()+He),Qe.getMonth()===0&&Qe.getDate()<21?Qe.setDate(21):Qe.getMonth()===1&&Qe.getDate()>20&&Qe.setDate(20),Qe},re=C=>{const se=new Date(2024,3,10),Se=new Date(2024,5,17),Qe=(C-2024)*11,qe=new Date(se);qe.setDate(qe.getDate()-Qe);const Ye=new Date(Se);return Ye.setDate(Ye.getDate()-Qe),{eidAlFitr:qe,eidAlAdha:Ye}},fe=C=>{const Z=[];Z.push({date:new Date(C,0,1),name:"New Year's Day",type:"Regular"}),Z.push({date:new Date(C,3,9),name:"Araw ng Kagitingan",type:"Regular"}),Z.push({date:new Date(C,4,1),name:"Labor Day",type:"Regular"}),Z.push({date:new Date(C,5,12),name:"Independence Day",type:"Regular"}),Z.push({date:new Date(C,10,30),name:"Bonifacio Day",type:"Regular"}),Z.push({date:new Date(C,11,25),name:"Christmas Day",type:"Regular"}),Z.push({date:new Date(C,11,30),name:"Rizal Day",type:"Regular"}),Z.push({date:new Date(C,7,21),name:"Ninoy Aquino Day",type:"Special"}),Z.push({date:new Date(C,10,1),name:"All Saints' Day",type:"Special"}),Z.push({date:new Date(C,10,2),name:"All Souls' Day",type:"Special"}),Z.push({date:new Date(C,11,8),name:"Immaculate Conception",type:"Special"}),Z.push({date:new Date(C,11,24),name:"Christmas Eve",type:"Special"}),Z.push({date:new Date(C,11,31),name:"New Year's Eve",type:"Special"}),Z.push({date:new Date(C,1,25),name:"EDSA Revolution",type:"Special"});const se=_(C,7);Z.push({date:se,name:"National Heroes Day",type:"Regular"});const Se=ge(C),He=new Date(Se);He.setDate(Se.getDate()-3);const Qe=new Date(Se);Qe.setDate(Se.getDate()-2);const qe=new Date(Se);qe.setDate(Se.getDate()-1),Z.push({date:He,name:"Maundy Thursday",type:"Regular"}),Z.push({date:Qe,name:"Good Friday",type:"Regular"}),Z.push({date:qe,name:"Black Saturday",type:"Special"});const Ye=X(C);Z.push({date:Ye,name:"Chinese New Year",type:"Special"});const st=re(C);return Z.push({date:st.eidAlFitr,name:"Eid'l Fitr",type:"Regular"}),Z.push({date:st.eidAlAdha,name:"Eid'l Adha",type:"Regular"}),Z},[Ne,ue]=N.useState([]);N.useEffect(()=>{const C=t.getFullYear();ue(fe(C))},[t]),N.useEffect(()=>{(async()=>{O(!0),J(null);try{const Z=t.getMonth()+1,se=t.getFullYear();try{const Se=await aa.get(`${D}/fetch_total_appointments.php`);Se.data&&Se.data.success&&F(Se.data.total_appointments)}catch(Se){console.error("Error fetching total appointments:",Se)}try{const Se=await aa.get(`${D}/fetch_total_activities.php`);Se.data&&Se.data.success&&S(Se.data.total_activities)}catch(Se){console.error("Error fetching total activities:",Se)}try{const Se=await aa.get(`${D}/fetch_all_appointments.php`);if(Se.data&&Se.data.success){const He=Se.data.appointments.filter(Qe=>{let qe;if(Qe.date){if(qe=new Date(Qe.date),isNaN(qe.getTime())){const Ye=Qe.date.split("/");if(Ye.length===3)qe=new Date(parseInt(Ye[2]),parseInt(Ye[0])-1,parseInt(Ye[1]));else{const st=Qe.date.split("-");st.length===3&&(qe=new Date(parseInt(st[0]),parseInt(st[1])-1,parseInt(st[2])))}}}else return!1;return qe.getMonth()+1===Z&&qe.getFullYear()===se&&Qe.status.toLowerCase()==="approved"}).map(Qe=>{let qe;if(Qe.date){if(qe=new Date(Qe.date),isNaN(qe.getTime())){const Ye=Qe.date.split("/");if(Ye.length===3)qe=new Date(parseInt(Ye[2]),parseInt(Ye[0])-1,parseInt(Ye[1]));else{const st=Qe.date.split("-");st.length===3&&(qe=new Date(parseInt(st[0]),parseInt(st[1])-1,parseInt(st[2])))}}}else qe=new Date;return{...Qe,date:qe}});v(He)}}catch(Se){console.error("Error fetching monthly appointments:",Se),v([])}try{const Se=await aa.get(`${D}/fetch_activities.php?status=Approved`);if(Se.data&&Se.data.success){const He=Se.data.activities.filter(Qe=>{let qe;if(Qe.startDate){if(qe=new Date(Qe.startDate),isNaN(qe.getTime())){const Ye=Qe.startDate.split("/");if(Ye.length===3)qe=new Date(parseInt(Ye[2]),parseInt(Ye[0])-1,parseInt(Ye[1]));else{const st=Qe.startDate.split("-");st.length===3&&(qe=new Date(parseInt(st[0]),parseInt(st[1])-1,parseInt(st[2])))}}}else return!1;return qe.getMonth()+1===Z&&qe.getFullYear()===se}).map(Qe=>{let qe;if(Qe.startDate){if(qe=new Date(Qe.startDate),isNaN(qe.getTime())){const Ye=Qe.startDate.split("/");if(Ye.length===3)qe=new Date(parseInt(Ye[2]),parseInt(Ye[0])-1,parseInt(Ye[1]));else{const st=Qe.startDate.split("-");st.length===3&&(qe=new Date(parseInt(st[0]),parseInt(st[1])-1,parseInt(st[2])))}}}else qe=new Date;return{...Qe,date:qe,time:Qe.startTime||"12:00 PM"}});y(He)}}catch(Se){console.error("Error fetching activities:",Se),y([])}}catch(Z){console.error("Error fetching data:",Z),J("Failed to load data. Please try again later.")}finally{O(!1)}})()},[t,D]);const _e=()=>{s(new Date(t.getFullYear(),t.getMonth()-1,1))},ce=()=>{s(new Date(t.getFullYear(),t.getMonth()+1,1))},ye=C=>Ne.some(Z=>Z.date.getDate()===C.getDate()&&Z.date.getMonth()===C.getMonth()&&Z.date.getFullYear()===C.getFullYear()),Q=C=>Ne.find(Z=>Z.date.getDate()===C.getDate()&&Z.date.getMonth()===C.getMonth()&&Z.date.getFullYear()===C.getFullYear()),ne=C=>u.some(Z=>Z.date.getDate()===C.getDate()&&Z.date.getMonth()===C.getMonth()&&Z.date.getFullYear()===C.getFullYear()),U=C=>x.some(Z=>Z.date.getDate()===C.getDate()&&Z.date.getMonth()===C.getMonth()&&Z.date.getFullYear()===C.getFullYear()),V=C=>C.toLocaleDateString("en-US",{month:"long",year:"numeric"}),T=()=>{const C=t.getFullYear(),Z=t.getMonth(),se=new Date(C,Z,1),He=new Date(C,Z+1,0).getDate(),Qe=se.getDay(),qe=[];for(let Ye=0;Ye<Qe;Ye++)qe.push(null);for(let Ye=1;Ye<=He;Ye++){const st=new Date(C,Z,Ye);qe.push(st)}return qe},ie=C=>{C&&(r(C),ye(C)?(h(Q(C)),A(!0)):(A(!1),h(null)))},ae=C=>C.toLocaleDateString("en-US",{weekday:"long",month:"long",day:"numeric",year:"numeric"}),P=C=>C.toLocaleDateString("en-US",{month:"2-digit",day:"2-digit",year:"numeric"}),z=C=>{switch(C.sacramentType){case"Baptism":a("/baptism-view",{state:{baptismID:C.id,status:C.status}});break;case"Marriage":a("/marriage-view",{state:{marriageID:C.id,status:C.status}});break;case"Funeral Mass":a("/funeral-mass-view",{state:{funeralID:C.id,status:C.status}});break;case"Blessing":a("/blessing-view",{state:{blessingID:C.id,status:C.status}});break;case"Communion":a("/communion-view",{state:{communionID:C.id,status:C.status}});break;case"Confirmation":a("/confirmation-view",{state:{confirmationID:C.id,status:C.status}});break;case"Anointing of the Sick and Viaticum":a("/anointing-of-the-sick-view",{state:{anointingID:C.id,status:C.status}});break;default:console.log(`Unknown sacrament: ${C.sacramentType}`)}},B=C=>{const Z=x.find(se=>se.activityID===C);Z&&(Y(Z),H(!0))},q=()=>i?u.filter(C=>C.date.getDate()===i.getDate()&&C.date.getMonth()===i.getMonth()&&C.date.getFullYear()===i.getFullYear()):[],te=()=>i?x.filter(C=>C.date.getDate()===i.getDate()&&C.date.getMonth()===i.getMonth()&&C.date.getFullYear()===i.getFullYear()):[],he=C=>{switch(C.toLowerCase()){case"approved":case"confirmed":return e.jsx(dt,{icon:ol,style:{marginRight:"5px",color:"#155724"}});case"pending":return e.jsx(dt,{icon:mo,style:{marginRight:"5px",color:"#856404"}});case"cancelled":case"rejected":return e.jsx(dt,{icon:mo,style:{marginRight:"5px",color:"#721c24"}});case"completed":return e.jsx(dt,{icon:ol,style:{marginRight:"5px",color:"#004085"}});default:return null}},W=C=>{const Z=new Date(2025,4,17);return C.getDate()===Z.getDate()&&C.getMonth()===Z.getMonth()&&C.getFullYear()===Z.getFullYear()};return e.jsxs("div",{className:"dashboard-container-parish",children:[e.jsx("h1",{className:"title-parish",children:"PARISH DASHBOARD"}),M&&e.jsxs("div",{className:"error-message-container",children:[e.jsx(dt,{icon:Jx,className:"error-icon"}),e.jsx("span",{children:M})]}),e.jsxs("div",{className:"summary-container-parish",children:[e.jsxs("div",{className:"card-parish appointments-card-parish",children:[e.jsx("div",{className:"card-icon-parish",children:e.jsx(dt,{icon:rn})}),e.jsxs("div",{className:"card-content-sec",children:[e.jsx("h3",{className:"card-title-sec",children:"Total Appointments"}),e.jsx("p",{className:"card-count-parish",children:f?"...":p})]})]}),e.jsxs("div",{className:"card-parish events-card-parish",children:[e.jsx("div",{className:"card-icon-parish",children:e.jsx(dt,{icon:L0})}),e.jsxs("div",{className:"card-content-parish",children:[e.jsx("h3",{className:"card-title-parish",children:"Total Events"}),e.jsx("p",{className:"card-count-parish",children:f?"...":b})]})]})]}),e.jsxs("div",{className:"calendar-section-parish",children:[e.jsxs("div",{className:"calendar-header-parish",children:[e.jsx("button",{className:"nav-btn-parish",onClick:_e,"aria-label":"Previous month",children:e.jsx(dt,{icon:mh})}),e.jsxs("h2",{className:"month-year-parish",children:[e.jsx(dt,{icon:rn,style:{marginRight:"10px"}}),V(t)]}),e.jsx("button",{className:"nav-btn-parish",onClick:ce,"aria-label":"Next month",children:e.jsx(dt,{icon:fh})})]}),f?e.jsx("div",{className:"loading-calendar",children:e.jsx("p",{children:"Loading calendar data..."})}):e.jsxs("div",{className:"calendar-grid-parish",children:[e.jsx("div",{className:"weekday-parish",children:"Sun"}),e.jsx("div",{className:"weekday-parish",children:"Mon"}),e.jsx("div",{className:"weekday-parish",children:"Tue"}),e.jsx("div",{className:"weekday-parish",children:"Wed"}),e.jsx("div",{className:"weekday-parish",children:"Thu"}),e.jsx("div",{className:"weekday-parish",children:"Fri"}),e.jsx("div",{className:"weekday-parish",children:"Sat"}),T().map((C,Z)=>e.jsx("div",{className:`calendar-day-parish 
                  ${C?"":"empty-day-parish"} 
                  ${C&&ne(C)?"has-appointment-parish":""} 
                  ${C&&U(C)?"has-event-parish":""} 
                  ${C&&ye(C)?"holiday-day-parish":""} 
                  ${C&&W(C)?"today-parish":""}
                  ${C&&i&&C.getDate()===i.getDate()&&C.getMonth()===i.getMonth()&&C.getFullYear()===i.getFullYear()?"selected-day-parish":""}`,onClick:()=>ie(C),"aria-label":C?`${C.getDate()}, ${ye(C)?"Holiday":""} ${ne(C)?"Has appointment":""} ${U(C)?"Has event":""}`:"Empty day",children:C&&e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"day-number-sec",children:C.getDate()}),ne(C)&&e.jsx("div",{className:"appointment-dot-sec"}),U(C)&&e.jsx("div",{className:"event-dot-sec"}),ye(C)&&e.jsxs("div",{className:"holiday-indicator-sec",children:[e.jsx("div",{className:"holiday-dot-sec",style:{backgroundColor:Q(C).type==="Regular"?"#e74c3c":"#f39c12"}}),e.jsx("span",{className:"holiday-name-sec",children:Q(C).name})]})]})},Z))]}),e.jsxs("div",{className:"calendar-legend-parish",children:[e.jsxs("div",{className:"legend-item-parish",children:[e.jsx("div",{className:"legend-dot-parish",style:{backgroundColor:"#e74c3c"}}),e.jsx("span",{children:"Regular Holiday"})]}),e.jsxs("div",{className:"legend-item-parish",children:[e.jsx("div",{className:"legend-dot-parish",style:{backgroundColor:"#f39c12"}}),e.jsx("span",{children:"Special Holiday"})]}),e.jsxs("div",{className:"legend-item-parish",children:[e.jsx("div",{className:"legend-dot-parish appointment-legend-parish"}),e.jsx("span",{children:"Appointment Scheduled"})]}),e.jsxs("div",{className:"legend-item-parish",children:[e.jsx("div",{className:"legend-dot-parish event-legend-parish"}),e.jsx("span",{children:"Community Event"})]})]}),c&&d&&e.jsxs("div",{className:"holiday-info-parish",children:[e.jsxs("div",{className:"holiday-info-header-parish",children:[e.jsx(dt,{icon:Pf,className:"holiday-info-icon-parish"}),e.jsx("h3",{children:"Holiday Information"})]}),e.jsxs("div",{className:"holiday-info-content-parish",children:[e.jsxs("p",{children:[e.jsx("strong",{children:"Date:"})," ",ae(d.date)]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Holiday:"})," ",d.name]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Type:"})," ",e.jsxs("span",{className:`holiday-type-parish ${d.type.toLowerCase()}-holiday-parish`,children:[d.type," Holiday"]})]})]})]}),i&&e.jsxs("div",{className:"selected-date-info-parish",children:[e.jsxs("h3",{children:[e.jsx(dt,{icon:rn,style:{marginRight:"10px",color:"#b3701f"}}),ae(i)]}),q().length>0&&e.jsxs("div",{className:"selected-date-appointments-sec",children:[e.jsx("h4",{children:"Appointments:"}),e.jsx("ul",{className:"appointment-list-parish",children:q().map(C=>e.jsxs("li",{className:"appointment-item-parish",children:[e.jsx("div",{className:"appointment-time-parish",children:C.time}),e.jsxs("div",{className:"appointment-details-parish",children:[e.jsxs("span",{className:"appointment-name-parish",children:[C.firstName," ",C.lastName]}),e.jsx("span",{className:"appointment-type-parish",children:C.sacramentType}),e.jsxs("span",{className:`appointment-status-parish ${C.status.toLowerCase()}-parish`,children:[he(C.status),C.status]})]}),e.jsxs("button",{className:"view-btn-parish",onClick:()=>z(C),children:[e.jsx(dt,{icon:Fn})," View"]})]},C.id))})]}),te().length>0&&e.jsxs("div",{className:"selected-date-events-parish",children:[e.jsx("h4",{children:"Events:"}),e.jsx("ul",{className:"event-list-parish",children:te().map(C=>e.jsxs("li",{className:"event-item-parish",children:[e.jsx("div",{className:"event-time-parish",children:C.startTime}),e.jsxs("div",{className:"event-details-parish",children:[e.jsx("span",{className:"event-name-parish",children:C.title}),e.jsx("span",{className:"event-organizer-parish",children:C.proposedBy||C.organizer}),e.jsx("span",{className:"event-location-parish",children:C.location}),e.jsxs("span",{className:`event-status-parish ${C.status.toLowerCase()}-parish`,children:[he(C.status),C.status]})]}),e.jsxs("button",{className:"view-btn-parish event-view-btn-parish",onClick:()=>B(C.activityID),children:[e.jsx(dt,{icon:Fn})," View"]})]},C.activityID))})]}),q().length===0&&te().length===0&&e.jsx("p",{className:"no-appointments-message-parish",children:"No appointments or events scheduled for this date."})]})]}),e.jsxs("div",{className:"tables-container-sec",children:[e.jsxs("div",{className:"table-section-sec appointments-table-section-sec",children:[e.jsxs("h2",{className:"section-title-parish",children:[e.jsx(dt,{icon:Od,className:"section-icon-parish"}),"Appointments for ",V(t)]}),e.jsx("div",{className:"data-table-container-parish",children:e.jsxs("table",{className:"appointment-table-sa",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"ID"}),e.jsx("th",{children:"First Name"}),e.jsx("th",{children:"Last Name"}),e.jsx("th",{children:"Sacrament Type"}),e.jsx("th",{children:"Date"}),e.jsx("th",{children:"Time"}),e.jsx("th",{children:"Status"}),e.jsx("th",{children:"Actions"})]})}),e.jsx("tbody",{children:u.length>0?u.map(C=>{var Z;return e.jsxs("tr",{children:[e.jsx("td",{children:C.id}),e.jsx("td",{children:C.firstName}),e.jsx("td",{children:C.lastName}),e.jsx("td",{children:C.sacramentType}),e.jsx("td",{children:P(C.date)}),e.jsx("td",{children:C.time}),e.jsx("td",{className:`status-${(Z=C.status)==null?void 0:Z.toLowerCase()}`,children:C.status}),e.jsx("td",{className:"actions-cell-sa",children:e.jsx("button",{className:"view-btn-sa",onClick:()=>z(C),title:"View Details",children:"View"})})]},C.id)}):e.jsx("tr",{children:e.jsx("td",{colSpan:"8",style:{textAlign:"center"},children:f?"Loading appointments...":"No approved appointments for this month"})})})]})})]}),e.jsxs("div",{className:"table-section-sec events-table-section-sec",children:[e.jsxs("h2",{className:"section-title-parish",children:[e.jsx(dt,{icon:Yx,className:"section-icon-parish"}),"Community Events for ",V(t)]}),e.jsx("div",{className:"data-table-container-parish",children:e.jsxs("table",{className:"event-table-sae",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"No."}),e.jsx("th",{children:"Title"}),e.jsx("th",{children:"Description"}),e.jsx("th",{children:"Category"}),e.jsx("th",{children:"Start Date"}),e.jsx("th",{children:"Start Time"}),e.jsx("th",{children:"Location"}),e.jsx("th",{children:"Organizer"}),e.jsx("th",{children:"Status"}),e.jsx("th",{children:"Action"})]})}),e.jsx("tbody",{children:x.length>0?x.map((C,Z)=>{var se;return e.jsxs("tr",{children:[e.jsx("td",{children:Z+1}),e.jsx("td",{children:C.title}),e.jsx("td",{children:C.description}),e.jsx("td",{children:C.category}),e.jsx("td",{children:P(C.date)}),e.jsx("td",{children:C.startTime}),e.jsx("td",{children:C.location}),e.jsx("td",{children:C.proposedBy}),e.jsx("td",{className:`status-${(se=C.status)==null?void 0:se.toLowerCase()}`,children:C.status}),e.jsx("td",{children:e.jsx("button",{className:"sae-details",onClick:()=>B(C.activityID),children:"View"})})]},C.activityID)}):e.jsx("tr",{children:e.jsx("td",{colSpan:"10",style:{textAlign:"center"},children:f?"Loading events...":"No approved events for this month"})})})]})})]})]}),K&&k&&e.jsx("div",{className:"modal-backdrop-sae",children:e.jsxs("div",{className:"modal-content-sae",children:[e.jsx("h2",{children:"Event & Activity Details"}),e.jsx("hr",{className:"custom-hr-sum"}),e.jsxs("div",{className:"view-details-sae",children:[e.jsxs("div",{className:"detail-row-sae",children:[e.jsx("div",{className:"detail-label-sae",children:"Title:"}),e.jsx("div",{className:"detail-value-sae",children:k.title})]}),e.jsxs("div",{className:"detail-row-sae",children:[e.jsx("div",{className:"detail-label-sae",children:"Description:"}),e.jsx("div",{className:"detail-value-sae",children:k.description})]}),e.jsxs("div",{className:"detail-row-parish",children:[e.jsx("div",{className:"detail-label-sae",children:"Category:"}),e.jsx("div",{className:"detail-value-sae",children:k.category})]}),e.jsxs("div",{className:"detail-row-sae",children:[e.jsx("div",{className:"detail-label-sae",children:"Start Date:"}),e.jsx("div",{className:"detail-value-sae",children:P(k.date)})]}),e.jsxs("div",{className:"detail-row-sae",children:[e.jsx("div",{className:"detail-label-sae",children:"Start Time:"}),e.jsx("div",{className:"detail-value-sae",children:k.startTime})]}),e.jsxs("div",{className:"detail-row-sae",children:[e.jsx("div",{className:"detail-label-sae",children:"Location:"}),e.jsx("div",{className:"detail-value-sae",children:k.location})]}),e.jsxs("div",{className:"detail-row-sae",children:[e.jsx("div",{className:"detail-label-sae",children:"Organizer:"}),e.jsx("div",{className:"detail-value-sae",children:k.organizer||k.proposedBy})]}),e.jsxs("div",{className:"detail-row-sae",children:[e.jsx("div",{className:"detail-label-sae",children:"Status:"}),e.jsx("div",{className:`detail-value-sae status-${k.status.toLowerCase()}`,children:k.status})]}),k.created_at&&e.jsxs("div",{className:"detail-row-sae",children:[e.jsx("div",{className:"detail-label-sae",children:"Created At:"}),e.jsx("div",{className:"detail-value-sae",children:new Date(k.created_at).toLocaleString()})]}),k.updated_at&&e.jsxs("div",{className:"detail-row-sae",children:[e.jsx("div",{className:"detail-label-sae",children:"Updated At:"}),e.jsx("div",{className:"detail-value-sae",children:new Date(k.updated_at).toLocaleString()})]})]}),e.jsx("div",{className:"modal-actions-sae",children:e.jsx("button",{onClick:()=>H(!1),className:"cancel-btn-sae",children:"Close"})})]})})]})},s3=()=>{const a=Jt(),[t,s]=N.useState("All"),[i,r]=N.useState(""),[c,A]=N.useState([]),[d,h]=N.useState(!0),[u,v]=N.useState(null),x=["All","Baptism","Marriage","Funeral Mass","Confirmation","Communion","Blessing","Anointing of the Sick and Viaticum"];N.useEffect(()=>{(async()=>{try{h(!0);const J=await fetch("/backend/fetch_all_approved_appointments.php");if(!J.ok)throw new Error(`HTTP error! Status: ${J.status}`);const K=await J.json();if(K.success)A(K.appointments);else throw new Error(K.message||"Failed to fetch appointments")}catch(J){v(J.message),console.error("Error fetching appointments:",J)}finally{h(!1)}})()},[]);const y=M=>{if(!M)return"";if(M.match(/^\d{4}-\d{2}-\d{2}$/))return M;if(M.includes("/")){const[J,K,H]=M.split("/");return`${H}-${J.padStart(2,"0")}-${K.padStart(2,"0")}`}if(M.includes("/")&&M.split("/")[2].length===4){const J=M.split("/");if(J[0].length<=2&&J[1].length<=2){const[K,H,k]=J;return`${k}-${H.padStart(2,"0")}-${K.padStart(2,"0")}`}}return M},p=M=>M.trim().replace(/\s+/g," "),F=(M,J)=>{if(!M||!J)return!1;const K=J.toLowerCase().replace(/\s/g,""),H=M;if(H.toLowerCase().includes(K))return!0;const[k,Y]=H.split(":"),D=parseInt(k,10),ge=D===0?12:D>12?D-12:D,_=D>=12?"pm":"am",X=`${ge}:${Y}${_}`,re=`${ge}:${Y} ${_}`;return X.includes(K)||re.includes(K)||H.includes(K)},b=(M,J)=>{if(!M||!J)return!1;const K=J.replace(/\s/g,""),H=[M,M.replace(/\//g,"-"),M.replace(/-/g,"/")];if(M.includes("/")){const[k,Y,D]=M.split("/");H.push(`${D}-${k.padStart(2,"0")}-${Y.padStart(2,"0")}`),H.push(`${D}-${k.padStart(2,"0")}`),H.push(D)}else if(M.includes("-")){const[k,Y,D]=M.split("-");H.push(`${Y}/${D}/${k}`),H.push(`${k}-${Y}`),H.push(k)}return H.some(k=>k.toLowerCase().includes(K.toLowerCase()))},S=M=>{const J=M.target.value;if(r(J),J.trim()!==""&&t==="All"){const K=x.find(H=>H!=="All"&&H.toLowerCase()===J.toLowerCase());if(K)s(K);else{const H=x.find(k=>k!=="All"&&k.toLowerCase().startsWith(J.toLowerCase()));H&&s(H)}}else J.trim()===""&&s("All")},f=M=>{switch(M.sacramentType){case"Baptism":a("/baptism-view",{state:{baptismID:M.id,status:M.status}});break;case"Marriage":a("/marriage-view",{state:{marriageID:M.id,status:M.status}});break;case"Funeral Mass":a("/funeral-mass-view",{state:{funeralID:M.id,status:M.status}});break;case"Blessing":a("/blessing-view",{state:{blessingID:M.id,status:M.status}});break;case"Communion":a("/communion-view",{state:{communionID:M.id,status:M.status}});break;case"Confirmation":a("/confirmation-view",{state:{confirmationID:M.id,status:M.status}});break;case"Anointing of the Sick and Viaticum":a("/anointing-of-the-sick-view",{state:{anointingID:M.id,status:M.status}});break;default:console.log(`Unknown sacrament: ${M.sacramentType}`)}},O=Xn.useMemo(()=>{const M=c.filter(K=>{const H=t==="All"||K.sacramentType===t;if(i.trim()==="")return H;const k=p(i),Y=x.some(_=>_!=="All"&&(_.toLowerCase()===k.toLowerCase()||_.toLowerCase().startsWith(k.toLowerCase())));let D=!1,ge="";if(Y&&t!=="All")D=K.sacramentType===t,ge=D?`Included: Sacrament type "${K.sacramentType}" matches active filter "${t}"`:`Excluded: Sacrament type "${K.sacramentType}" does not match active filter "${t}"`;else{const _=K.firstName||"",X=K.lastName||"",re=p(`${_} ${X}`),fe=p(`${X} ${_}`),Ne=_.toLowerCase().includes(k.toLowerCase()),ue=X.toLowerCase().includes(k.toLowerCase()),_e=re.toLowerCase().includes(k.toLowerCase()),ce=fe.toLowerCase().includes(k.toLowerCase()),ye=K.sacramentType.toLowerCase().includes(k.toLowerCase()),Q=K.blessingType&&K.blessingType.toLowerCase().includes(k.toLowerCase()),ne=b(K.date,k),U=F(K.time,k),V=Ne||ue||_e||ce||ye||Q||ne||U;if(D=H&&V,!D)H?V||(ge=`Excluded: Search mismatch - Search term: "${k}" not found in any field`):ge=`Excluded: Filter mismatch - Active filter: "${t}", Appointment sacrament: "${K.sacramentType}"`;else{let T=[];Ne&&T.push(`firstName: "${_}"`),ue&&T.push(`lastName: "${X}"`),_e&&!Ne&&!ue&&T.push(`fullName: "${re}"`),ce&&!_e&&T.push(`reverseFullName: "${fe}"`),ye&&T.push(`sacramentType: "${K.sacramentType}"`),Q&&T.push(`blessingType: "${K.blessingType}"`),ne&&T.push(`date: "${K.date}"`),U&&T.push(`time: "${K.time}"`),ge=`Included: Matches ${T.join(", ")} with search term: "${k}" and filter: "${t}"`}}return console.log(`ID: ${K.id} | ${ge}`),D}),J=M.filter((K,H,k)=>H===k.findIndex(Y=>Y.id===K.id));return console.log("=== SEARCH SUMMARY ==="),console.log(`Search Term: "${i}"`),console.log(`Normalized Search Term: "${p(i)}"`),console.log(`Active Filter: "${t}"`),console.log(`Total Appointments: ${c.length}`),console.log(`Filtered Results (with duplicates): ${M.length}`),console.log(`Unique Filtered Results: ${J.length}`),console.log("Filtered Appointment IDs:",J.map(K=>K.id)),console.log("======================"),J},[c,i,t,x]);return e.jsxs("div",{className:"appointment-container-pa",children:[e.jsx("h1",{className:"title-pa",children:"PARISH APPOINTMENT"}),e.jsxs("div",{className:"appointment-actions-pa",children:[e.jsxs("div",{className:"search-bar-pa",children:[e.jsx("input",{type:"text",placeholder:"Search by name, date (yyyy-mm-dd), time, or sacrament type",value:i,onChange:S}),e.jsx(dt,{icon:vs,className:"search-icon-pa"})]}),e.jsx("div",{className:"filter-actions-container-pa",children:e.jsx("select",{className:"filter-select-pa",value:t,onChange:M=>s(M.target.value),children:x.map(M=>e.jsx("option",{value:M,children:M},M))})})]}),e.jsx("div",{className:"table-container-pa",children:d?e.jsx("div",{className:"loading-message",children:"Loading appointments..."}):u?e.jsxs("div",{className:"error-message",children:[e.jsxs("p",{children:["Error: ",u]}),e.jsx("p",{children:"Please check the server logs for more information."})]}):e.jsxs("table",{className:"appointment-table-pa",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"ID"}),e.jsx("th",{children:"First Name"}),e.jsx("th",{children:"Last Name"}),e.jsx("th",{children:"Sacrament Type"}),t==="Blessing"&&e.jsx("th",{children:"Blessing Type"}),e.jsx("th",{children:"Date"}),e.jsx("th",{children:"Time"}),e.jsx("th",{children:"Actions"})]})}),e.jsx("tbody",{children:O.length>0?O.map(M=>e.jsxs("tr",{children:[e.jsx("td",{children:M.id}),e.jsx("td",{children:M.firstName}),e.jsx("td",{children:M.lastName}),e.jsx("td",{children:M.sacramentType}),t==="Blessing"&&e.jsx("td",{children:M.blessingType||"N/A"}),e.jsx("td",{children:y(M.date)}),e.jsx("td",{children:M.time}),e.jsx("td",{className:"actions-cell-pa",children:e.jsx("button",{className:"view-btn-pa",onClick:()=>f(M),title:"View Details",children:"View"})})]},M.id)):e.jsx("tr",{children:e.jsx("td",{colSpan:t==="Blessing"?"8":"7",className:"no-appointments",children:"No appointments found for the selected filter."})})})]})})]})},n3=()=>{Jt();const[a,t]=N.useState([]),[s,i]=N.useState(!0),[r,c]=N.useState(!1),[A,d]=N.useState(null),[h,u]=N.useState(""),[v,x]=N.useState(""),[y,p]=N.useState({text:"",type:""}),[F,b]=N.useState(!1);N.useEffect(()=>{S()},[]);const S=async()=>{try{i(!0);const H=await aa.get("https://parishofdivinemercy.com/backend/fetch_activities.php");H.data.success?t(H.data.activities):p({text:"Failed to fetch activities",type:"error"})}catch(H){console.error("Error fetching activities:",H),p({text:"An error occurred while fetching activities",type:"error"})}finally{i(!1)}},f=H=>{d(H),c(!0)},O=async()=>{var H,k;if(!A||!A.activityID){p({text:"Activity data is missing",type:"error"});return}try{b(!0),p({text:"",type:""});const Y={activityID:A.activityID,status:"Approved"},D=await aa.put("https://parishofdivinemercy.com/backend/fetch_activities.php",Y);if(D.data.success){const ge={...A,status:"Approved"};d(ge),t(_=>_.map(X=>X.activityID===ge.activityID?ge:X)),p({text:"Activity approved successfully",type:"success"})}else p({text:D.data.message||"Failed to approve activity",type:"error"})}catch(Y){console.error("Error approving activity:",Y),p({text:((k=(H=Y.response)==null?void 0:H.data)==null?void 0:k.message)||"An error occurred while approving the activity",type:"error"})}finally{b(!1)}},M=H=>{x(H.target.value)},J=H=>{if(!H)return"";try{return new Date(H).toISOString().split("T")[0]}catch(k){return console.error("Error formatting date:",k),H}},K=a.filter(H=>{var T,ie,ae,P,z,B,q,te;const k=h?H.status===h:!0;if(!v.trim())return k;const Y=v.toLowerCase().trim(),D=v.toLowerCase(),ge=((T=H.title)==null?void 0:T.toLowerCase().trim())||"",_=((ie=H.description)==null?void 0:ie.toLowerCase().trim())||"",X=((ae=H.category)==null?void 0:ae.toLowerCase().trim())||"",re=((P=H.organizer)==null?void 0:P.toLowerCase().trim())||"",fe=((z=H.proposedBy)==null?void 0:z.toLowerCase().trim())||"",Ne=((B=H.location)==null?void 0:B.toLowerCase().trim())||"",ue=((q=H.status)==null?void 0:q.toLowerCase().trim())||"",_e=((te=H.startTime)==null?void 0:te.toLowerCase().trim())||"",ce=J(H.startDate),ye=H.created_at?J(H.created_at):"",Q=H.updated_at?J(H.updated_at):"",ne=Y.replace(/\s+/g," "),U=D!==Y;let V;return U&&Y?V=ge.startsWith(ne)||_.startsWith(ne)||X.startsWith(ne)||re.startsWith(ne)||fe.startsWith(ne)||Ne.startsWith(ne)||ue.startsWith(ne)||_e.startsWith(ne)||ce.startsWith(ne)||ye.startsWith(ne)||Q.startsWith(ne):V=ge.includes(ne)||_.includes(ne)||X.includes(ne)||re.includes(ne)||fe.includes(ne)||Ne.includes(ne)||ue.includes(ne)||_e.includes(ne)||ce.includes(ne)||ye.includes(ne)||Q.includes(ne),k&&V});return e.jsxs("div",{className:"event-container-sae",children:[e.jsx("h1",{className:"title-sae",children:"EVENTS & ACTIVITIES"}),y.text&&e.jsx("div",{className:`message ${y.type}`,children:y.text}),e.jsxs("div",{className:"event-actions-sae",children:[e.jsxs("div",{className:"search-bar-sae",children:[e.jsx("input",{type:"text",placeholder:"Search",value:v,onChange:M}),e.jsx(dt,{icon:vs,className:"search-icon-sae"})]}),e.jsx("div",{className:"filter-container-sae",children:e.jsxs("select",{className:"filter-select-sae",value:h,onChange:H=>u(H.target.value),children:[e.jsx("option",{value:"",children:"All Status"}),e.jsx("option",{value:"Approved",children:"Approved"}),e.jsx("option",{value:"Pending",children:"Pending"})]})})]}),e.jsx("div",{className:"event-table-sae-container",children:s?e.jsx("div",{className:"loading-container-sb",children:"Loading activities..."}):e.jsxs("table",{className:"event-table-sae",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"No."}),e.jsx("th",{children:"Title"}),e.jsx("th",{children:"Description"}),e.jsx("th",{children:"Category"}),e.jsx("th",{children:"Start Date"}),e.jsx("th",{children:"Start Time"}),e.jsx("th",{children:"Location"}),e.jsx("th",{children:"Organizer"}),e.jsx("th",{children:"Proposed By"}),e.jsx("th",{children:"Status"}),e.jsx("th",{children:"Action"})]})}),e.jsx("tbody",{children:K.length===0?e.jsx("tr",{children:e.jsxs("td",{colSpan:"11",className:"no-data-sb",children:["No activities found ",v&&"for the current search"]})}):K.map((H,k)=>e.jsxs("tr",{children:[e.jsx("td",{children:k+1}),e.jsx("td",{children:H.title}),e.jsx("td",{children:H.description}),e.jsx("td",{children:H.category}),e.jsx("td",{children:J(H.startDate)}),e.jsx("td",{children:H.startTime}),e.jsx("td",{children:H.location}),e.jsx("td",{children:H.organizer}),e.jsx("td",{children:H.proposedBy}),e.jsx("td",{className:`status-${H.status.toLowerCase()}`,children:H.status}),e.jsx("td",{children:e.jsx("button",{className:"sae-details",onClick:()=>f(H),children:"View"})})]},H.activityID))})]})}),r&&A&&e.jsx("div",{className:"modal-backdrop-sae",children:e.jsxs("div",{className:"modal-content-sae",children:[e.jsx("h2",{children:"Event & Activity Details"}),e.jsx("hr",{className:"custom-hr-sum"}),e.jsxs("div",{className:"view-details-sae",children:[e.jsxs("div",{className:"detail-row-sae",children:[e.jsx("div",{className:"detail-label-sae",children:"Title:"}),e.jsx("div",{className:"detail-value-sae",children:A.title})]}),e.jsxs("div",{className:"detail-row-sae",children:[e.jsx("div",{className:"detail-label-sae",children:"Description:"}),e.jsx("div",{className:"detail-value-sae",children:A.description})]}),e.jsxs("div",{className:"detail-row-sae",children:[e.jsx("div",{className:"detail-label-sae",children:"Category:"}),e.jsx("div",{className:"detail-value-sae",children:A.category})]}),e.jsxs("div",{className:"detail-row-sae",children:[e.jsx("div",{className:"detail-label-sae",children:"Start Date:"}),e.jsx("div",{className:"detail-value-sae",children:J(A.startDate)})]}),e.jsxs("div",{className:"detail-row-sae",children:[e.jsx("div",{className:"detail-label-sae",children:"Start Time:"}),e.jsx("div",{className:"detail-value-sae",children:A.startTime})]}),e.jsxs("div",{className:"detail-row-sae",children:[e.jsx("div",{className:"detail-label-sae",children:"Location:"}),e.jsx("div",{className:"detail-value-sae",children:A.location})]}),e.jsxs("div",{className:"detail-row-sae",children:[e.jsx("div",{className:"detail-label-sae",children:"Organizer:"}),e.jsx("div",{className:"detail-value-sae",children:A.organizer})]}),e.jsxs("div",{className:"detail-row-sae",children:[e.jsx("div",{className:"detail-label-sae",children:"Proposed By:"}),e.jsx("div",{className:"detail-value-sae",children:A.proposedBy})]}),e.jsxs("div",{className:"detail-row-sae",children:[e.jsx("div",{className:"detail-label-sae",children:"Status:"}),e.jsx("div",{className:`detail-value-sae status-${A.status.toLowerCase()}`,children:A.status})]}),e.jsxs("div",{className:"detail-row-sae",children:[e.jsx("div",{className:"detail-label-sae",children:"Created At:"}),e.jsx("div",{className:"detail-value-sae",children:A.created_at?J(A.created_at):""})]}),e.jsxs("div",{className:"detail-row-sae",children:[e.jsx("div",{className:"detail-label-sae",children:"Updated At:"}),e.jsx("div",{className:"detail-value-sae",children:A.updated_at?J(A.updated_at):""})]})]}),e.jsxs("div",{className:"modal-actions-sae",children:[A.status==="Pending"&&e.jsx("button",{onClick:O,className:"approve-btn-sae",disabled:F,children:F?"Approving...":"Approve"}),e.jsx("button",{onClick:()=>c(!1),className:"cancel-btn-sae",children:"Close"})]})]})})]})};var c1={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},sN=Xn.createContext&&Xn.createContext(c1),r3=["attr","size","title"];function l3(a,t){if(a==null)return{};var s=c3(a,t),i,r;if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(a);for(r=0;r<c.length;r++)i=c[r],!(t.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(a,i)&&(s[i]=a[i])}return s}function c3(a,t){if(a==null)return{};var s={};for(var i in a)if(Object.prototype.hasOwnProperty.call(a,i)){if(t.indexOf(i)>=0)continue;s[i]=a[i]}return s}function mf(){return mf=Object.assign?Object.assign.bind():function(a){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var i in s)Object.prototype.hasOwnProperty.call(s,i)&&(a[i]=s[i])}return a},mf.apply(this,arguments)}function nN(a,t){var s=Object.keys(a);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(a);t&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(a,r).enumerable})),s.push.apply(s,i)}return s}function ff(a){for(var t=1;t<arguments.length;t++){var s=arguments[t]!=null?arguments[t]:{};t%2?nN(Object(s),!0).forEach(function(i){o3(a,i,s[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(s)):nN(Object(s)).forEach(function(i){Object.defineProperty(a,i,Object.getOwnPropertyDescriptor(s,i))})}return a}function o3(a,t,s){return t=A3(t),t in a?Object.defineProperty(a,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):a[t]=s,a}function A3(a){var t=d3(a,"string");return typeof t=="symbol"?t:t+""}function d3(a,t){if(typeof a!="object"||!a)return a;var s=a[Symbol.toPrimitive];if(s!==void 0){var i=s.call(a,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(a)}function o1(a){return a&&a.map((t,s)=>Xn.createElement(t.tag,ff({key:s},t.attr),o1(t.child)))}function ay(a){return t=>Xn.createElement(u3,mf({attr:ff({},a.attr)},t),o1(a.child))}function u3(a){var t=s=>{var{attr:i,size:r,title:c}=a,A=l3(a,r3),d=r||s.size||"1em",h;return s.className&&(h=s.className),a.className&&(h=(h?h+" ":"")+a.className),Xn.createElement("svg",mf({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},s.attr,i,A,{className:h,style:ff(ff({color:a.color||s.color},s.style),a.style),height:d,width:d,xmlns:"http://www.w3.org/2000/svg"}),c&&Xn.createElement("title",null,c),a.children)};return sN!==void 0?Xn.createElement(sN.Consumer,null,s=>t(s)):t(c1)}function Oa(a){return ay({attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M872 474H286.9l350.2-304c5.6-4.9 2.2-14-5.2-14h-88.5c-3.9 0-7.6 1.4-10.5 3.9L155 487.8a31.96 31.96 0 0 0 0 48.3L535.1 866c1.5 1.3 3.3 2 5.2 2h91.5c7.4 0 10.8-9.2 5.2-14L286.9 550H872c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8z"},child:[]}]})(a)}function pf(a){return ay({attr:{viewBox:"0 0 1024 1024",fill:"currentColor",fillRule:"evenodd"},child:[{tag:"path",attr:{d:"M799.855 166.312c.023.007.043.018.084.059l57.69 57.69c.041.041.052.06.059.084a.118.118 0 0 1 0 .069c-.007.023-.018.042-.059.083L569.926 512l287.703 287.703c.041.04.052.06.059.083a.118.118 0 0 1 0 .07c-.007.022-.018.042-.059.083l-57.69 57.69c-.041.041-.06.052-.084.059a.118.118 0 0 1-.069 0c-.023-.007-.042-.018-.083-.059L512 569.926 224.297 857.629c-.04.041-.06.052-.083.059a.118.118 0 0 1-.07 0c-.022-.007-.042-.018-.083-.059l-57.69-57.69c-.041-.041-.052-.06-.059-.084a.118.118 0 0 1 0-.069c.007-.023.018-.042.059-.083L454.073 512 166.371 224.297c-.041-.04-.052-.06-.059-.083a.118.118 0 0 1 0-.07c.007-.022.018-.042.059-.083l57.69-57.69c.041-.041.06-.052.084-.059a.118.118 0 0 1 .069 0c.023.007.042.018.083.059L512 454.073l287.703-287.702c.04-.041.06-.052.083-.059a.118.118 0 0 1 .07 0Z"},child:[]}]})(a)}function gs(a){return ay({attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M505.7 661a8 8 0 0 0 12.6 0l112-141.7c4.1-5.2.4-12.9-6.3-12.9h-74.1V168c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v338.3H400c-6.7 0-10.4 7.7-6.3 12.9l112 141.8zM878 626h-60c-4.4 0-8 3.6-8 8v154H214V634c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v198c0 17.7 14.3 32 32 32h684c17.7 0 32-14.3 32-32V634c0-4.4-3.6-8-8-8z"},child:[]}]})(a)}const h3="modulepreload",m3=function(a){return"/"+a},rN={},Wv=function(t,s,i){let r=Promise.resolve();if(s&&s.length>0){document.getElementsByTagName("link");const A=document.querySelector("meta[property=csp-nonce]"),d=(A==null?void 0:A.nonce)||(A==null?void 0:A.getAttribute("nonce"));r=Promise.allSettled(s.map(h=>{if(h=m3(h),h in rN)return;rN[h]=!0;const u=h.endsWith(".css"),v=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${h}"]${v}`))return;const x=document.createElement("link");if(x.rel=u?"stylesheet":h3,u||(x.as="script"),x.crossOrigin="",x.href=h,d&&x.setAttribute("nonce",d),document.head.appendChild(x),u)return new Promise((y,p)=>{x.addEventListener("load",y),x.addEventListener("error",()=>p(new Error(`Unable to preload CSS for ${h}`)))})}))}function c(A){const d=new Event("vite:preloadError",{cancelable:!0});if(d.payload=A,window.dispatchEvent(d),!d.defaultPrevented)throw A}return r.then(A=>{for(const d of A||[])d.status==="rejected"&&c(d.reason);return t().catch(c)})};function $a(a){"@babel/helpers - typeof";return $a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$a(a)}var Us=Uint8Array,Dn=Uint16Array,iy=Int32Array,Wf=new Us([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),Yf=new Us([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),Yv=new Us([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),A1=function(a,t){for(var s=new Dn(31),i=0;i<31;++i)s[i]=t+=1<<a[i-1];for(var r=new iy(s[30]),i=1;i<30;++i)for(var c=s[i];c<s[i+1];++c)r[c]=c-s[i]<<5|i;return{b:s,r}},d1=A1(Wf,2),u1=d1.b,Xv=d1.r;u1[28]=258,Xv[258]=28;var h1=A1(Yf,0),f3=h1.b,lN=h1.r,Jv=new Dn(32768);for(var Ai=0;Ai<32768;++Ai){var Yc=(Ai&43690)>>1|(Ai&21845)<<1;Yc=(Yc&52428)>>2|(Yc&13107)<<2,Yc=(Yc&61680)>>4|(Yc&3855)<<4,Jv[Ai]=((Yc&65280)>>8|(Yc&255)<<8)>>1}var cl=function(a,t,s){for(var i=a.length,r=0,c=new Dn(t);r<i;++r)a[r]&&++c[a[r]-1];var A=new Dn(t);for(r=1;r<t;++r)A[r]=A[r-1]+c[r-1]<<1;var d;if(s){d=new Dn(1<<t);var h=15-t;for(r=0;r<i;++r)if(a[r])for(var u=r<<4|a[r],v=t-a[r],x=A[a[r]-1]++<<v,y=x|(1<<v)-1;x<=y;++x)d[Jv[x]>>h]=u}else for(d=new Dn(i),r=0;r<i;++r)a[r]&&(d[r]=Jv[A[a[r]-1]++]>>15-a[r]);return d},fo=new Us(288);for(var Ai=0;Ai<144;++Ai)fo[Ai]=8;for(var Ai=144;Ai<256;++Ai)fo[Ai]=9;for(var Ai=256;Ai<280;++Ai)fo[Ai]=7;for(var Ai=280;Ai<288;++Ai)fo[Ai]=8;var nh=new Us(32);for(var Ai=0;Ai<32;++Ai)nh[Ai]=5;var p3=cl(fo,9,0),g3=cl(fo,9,1),v3=cl(nh,5,0),x3=cl(nh,5,1),Rg=function(a){for(var t=a[0],s=1;s<a.length;++s)a[s]>t&&(t=a[s]);return t},yr=function(a,t,s){var i=t/8|0;return(a[i]|a[i+1]<<8)>>(t&7)&s},Pg=function(a,t){var s=t/8|0;return(a[s]|a[s+1]<<8|a[s+2]<<16)>>(t&7)},sy=function(a){return(a+7)/8|0},m1=function(a,t,s){return(s==null||s>a.length)&&(s=a.length),new Us(a.subarray(t,s))},y3=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],Nr=function(a,t,s){var i=new Error(t||y3[a]);if(i.code=a,Error.captureStackTrace&&Error.captureStackTrace(i,Nr),!s)throw i;return i},b3=function(a,t,s,i){var r=a.length,c=0;if(!r||t.f&&!t.l)return s||new Us(0);var A=!s,d=A||t.i!=2,h=t.i;A&&(s=new Us(r*3));var u=function(te){var he=s.length;if(te>he){var W=new Us(Math.max(he*2,te));W.set(s),s=W}},v=t.f||0,x=t.p||0,y=t.b||0,p=t.l,F=t.d,b=t.m,S=t.n,f=r*8;do{if(!p){v=yr(a,x,1);var O=yr(a,x+1,3);if(x+=3,O)if(O==1)p=g3,F=x3,b=9,S=5;else if(O==2){var H=yr(a,x,31)+257,k=yr(a,x+10,15)+4,Y=H+yr(a,x+5,31)+1;x+=14;for(var D=new Us(Y),ge=new Us(19),_=0;_<k;++_)ge[Yv[_]]=yr(a,x+_*3,7);x+=k*3;for(var X=Rg(ge),re=(1<<X)-1,fe=cl(ge,X,1),_=0;_<Y;){var Ne=fe[yr(a,x,re)];x+=Ne&15;var M=Ne>>4;if(M<16)D[_++]=M;else{var ue=0,_e=0;for(M==16?(_e=3+yr(a,x,3),x+=2,ue=D[_-1]):M==17?(_e=3+yr(a,x,7),x+=3):M==18&&(_e=11+yr(a,x,127),x+=7);_e--;)D[_++]=ue}}var ce=D.subarray(0,H),ye=D.subarray(H);b=Rg(ce),S=Rg(ye),p=cl(ce,b,1),F=cl(ye,S,1)}else Nr(1);else{var M=sy(x)+4,J=a[M-4]|a[M-3]<<8,K=M+J;if(K>r){h&&Nr(0);break}d&&u(y+J),s.set(a.subarray(M,K),y),t.b=y+=J,t.p=x=K*8,t.f=v;continue}if(x>f){h&&Nr(0);break}}d&&u(y+131072);for(var Q=(1<<b)-1,ne=(1<<S)-1,U=x;;U=x){var ue=p[Pg(a,x)&Q],V=ue>>4;if(x+=ue&15,x>f){h&&Nr(0);break}if(ue||Nr(2),V<256)s[y++]=V;else if(V==256){U=x,p=null;break}else{var T=V-254;if(V>264){var _=V-257,ie=Wf[_];T=yr(a,x,(1<<ie)-1)+u1[_],x+=ie}var ae=F[Pg(a,x)&ne],P=ae>>4;ae||Nr(3),x+=ae&15;var ye=f3[P];if(P>3){var ie=Yf[P];ye+=Pg(a,x)&(1<<ie)-1,x+=ie}if(x>f){h&&Nr(0);break}d&&u(y+131072);var z=y+T;if(y<ye){var B=c-ye,q=Math.min(ye,z);for(B+y<0&&Nr(3);y<q;++y)s[y]=i[B+y]}for(;y<z;++y)s[y]=s[y-ye]}}t.l=p,t.p=U,t.b=y,t.f=v,p&&(v=1,t.m=b,t.d=F,t.n=S)}while(!v);return y!=s.length&&A?m1(s,0,y):s.subarray(0,y)},ql=function(a,t,s){s<<=t&7;var i=t/8|0;a[i]|=s,a[i+1]|=s>>8},Lu=function(a,t,s){s<<=t&7;var i=t/8|0;a[i]|=s,a[i+1]|=s>>8,a[i+2]|=s>>16},Hg=function(a,t){for(var s=[],i=0;i<a.length;++i)a[i]&&s.push({s:i,f:a[i]});var r=s.length,c=s.slice();if(!r)return{t:p1,l:0};if(r==1){var A=new Us(s[0].s+1);return A[s[0].s]=1,{t:A,l:1}}s.sort(function(K,H){return K.f-H.f}),s.push({s:-1,f:25001});var d=s[0],h=s[1],u=0,v=1,x=2;for(s[0]={s:-1,f:d.f+h.f,l:d,r:h};v!=r-1;)d=s[s[u].f<s[x].f?u++:x++],h=s[u!=v&&s[u].f<s[x].f?u++:x++],s[v++]={s:-1,f:d.f+h.f,l:d,r:h};for(var y=c[0].s,i=1;i<r;++i)c[i].s>y&&(y=c[i].s);var p=new Dn(y+1),F=Zv(s[v-1],p,0);if(F>t){var i=0,b=0,S=F-t,f=1<<S;for(c.sort(function(H,k){return p[k.s]-p[H.s]||H.f-k.f});i<r;++i){var O=c[i].s;if(p[O]>t)b+=f-(1<<F-p[O]),p[O]=t;else break}for(b>>=S;b>0;){var M=c[i].s;p[M]<t?b-=1<<t-p[M]++-1:++i}for(;i>=0&&b;--i){var J=c[i].s;p[J]==t&&(--p[J],++b)}F=t}return{t:new Us(p),l:F}},Zv=function(a,t,s){return a.s==-1?Math.max(Zv(a.l,t,s+1),Zv(a.r,t,s+1)):t[a.s]=s},cN=function(a){for(var t=a.length;t&&!a[--t];);for(var s=new Dn(++t),i=0,r=a[0],c=1,A=function(h){s[i++]=h},d=1;d<=t;++d)if(a[d]==r&&d!=t)++c;else{if(!r&&c>2){for(;c>138;c-=138)A(32754);c>2&&(A(c>10?c-11<<5|28690:c-3<<5|12305),c=0)}else if(c>3){for(A(r),--c;c>6;c-=6)A(8304);c>2&&(A(c-3<<5|8208),c=0)}for(;c--;)A(r);c=1,r=a[d]}return{c:s.subarray(0,i),n:t}},Mu=function(a,t){for(var s=0,i=0;i<t.length;++i)s+=a[i]*t[i];return s},f1=function(a,t,s){var i=s.length,r=sy(t+2);a[r]=i&255,a[r+1]=i>>8,a[r+2]=a[r]^255,a[r+3]=a[r+1]^255;for(var c=0;c<i;++c)a[r+c+4]=s[c];return(r+4+i)*8},oN=function(a,t,s,i,r,c,A,d,h,u,v){ql(t,v++,s),++r[256];for(var x=Hg(r,15),y=x.t,p=x.l,F=Hg(c,15),b=F.t,S=F.l,f=cN(y),O=f.c,M=f.n,J=cN(b),K=J.c,H=J.n,k=new Dn(19),Y=0;Y<O.length;++Y)++k[O[Y]&31];for(var Y=0;Y<K.length;++Y)++k[K[Y]&31];for(var D=Hg(k,7),ge=D.t,_=D.l,X=19;X>4&&!ge[Yv[X-1]];--X);var re=u+5<<3,fe=Mu(r,fo)+Mu(c,nh)+A,Ne=Mu(r,y)+Mu(c,b)+A+14+3*X+Mu(k,ge)+2*k[16]+3*k[17]+7*k[18];if(h>=0&&re<=fe&&re<=Ne)return f1(t,v,a.subarray(h,h+u));var ue,_e,ce,ye;if(ql(t,v,1+(Ne<fe)),v+=2,Ne<fe){ue=cl(y,p,0),_e=y,ce=cl(b,S,0),ye=b;var Q=cl(ge,_,0);ql(t,v,M-257),ql(t,v+5,H-1),ql(t,v+10,X-4),v+=14;for(var Y=0;Y<X;++Y)ql(t,v+3*Y,ge[Yv[Y]]);v+=3*X;for(var ne=[O,K],U=0;U<2;++U)for(var V=ne[U],Y=0;Y<V.length;++Y){var T=V[Y]&31;ql(t,v,Q[T]),v+=ge[T],T>15&&(ql(t,v,V[Y]>>5&127),v+=V[Y]>>12)}}else ue=p3,_e=fo,ce=v3,ye=nh;for(var Y=0;Y<d;++Y){var ie=i[Y];if(ie>255){var T=ie>>18&31;Lu(t,v,ue[T+257]),v+=_e[T+257],T>7&&(ql(t,v,ie>>23&31),v+=Wf[T]);var ae=ie&31;Lu(t,v,ce[ae]),v+=ye[ae],ae>3&&(Lu(t,v,ie>>5&8191),v+=Yf[ae])}else Lu(t,v,ue[ie]),v+=_e[ie]}return Lu(t,v,ue[256]),v+_e[256]},w3=new iy([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),p1=new Us(0),N3=function(a,t,s,i,r,c){var A=c.z||a.length,d=new Us(i+A+5*(1+Math.ceil(A/7e3))+r),h=d.subarray(i,d.length-r),u=c.l,v=(c.r||0)&7;if(t){v&&(h[0]=c.r>>3);for(var x=w3[t-1],y=x>>13,p=x&8191,F=(1<<s)-1,b=c.p||new Dn(32768),S=c.h||new Dn(F+1),f=Math.ceil(s/3),O=2*f,M=function(C){return(a[C]^a[C+1]<<f^a[C+2]<<O)&F},J=new iy(25e3),K=new Dn(288),H=new Dn(32),k=0,Y=0,D=c.i||0,ge=0,_=c.w||0,X=0;D+2<A;++D){var re=M(D),fe=D&32767,Ne=S[re];if(b[fe]=Ne,S[re]=fe,_<=D){var ue=A-D;if((k>7e3||ge>24576)&&(ue>423||!u)){v=oN(a,h,0,J,K,H,Y,ge,X,D-X,v),ge=k=Y=0,X=D;for(var _e=0;_e<286;++_e)K[_e]=0;for(var _e=0;_e<30;++_e)H[_e]=0}var ce=2,ye=0,Q=p,ne=fe-Ne&32767;if(ue>2&&re==M(D-ne))for(var U=Math.min(y,ue)-1,V=Math.min(32767,D),T=Math.min(258,ue);ne<=V&&--Q&&fe!=Ne;){if(a[D+ce]==a[D+ce-ne]){for(var ie=0;ie<T&&a[D+ie]==a[D+ie-ne];++ie);if(ie>ce){if(ce=ie,ye=ne,ie>U)break;for(var ae=Math.min(ne,ie-2),P=0,_e=0;_e<ae;++_e){var z=D-ne+_e&32767,B=b[z],q=z-B&32767;q>P&&(P=q,Ne=z)}}}fe=Ne,Ne=b[fe],ne+=fe-Ne&32767}if(ye){J[ge++]=268435456|Xv[ce]<<18|lN[ye];var te=Xv[ce]&31,he=lN[ye]&31;Y+=Wf[te]+Yf[he],++K[257+te],++H[he],_=D+ce,++k}else J[ge++]=a[D],++K[a[D]]}}for(D=Math.max(D,_);D<A;++D)J[ge++]=a[D],++K[a[D]];v=oN(a,h,u,J,K,H,Y,ge,X,D-X,v),u||(c.r=v&7|h[v/8|0]<<3,v-=7,c.h=S,c.p=b,c.i=D,c.w=_)}else{for(var D=c.w||0;D<A+u;D+=65535){var W=D+65535;W>=A&&(h[v/8|0]=u,W=A),v=f1(h,v+1,a.subarray(D,W))}c.i=A}return m1(d,0,i+sy(v)+r)},g1=function(){var a=1,t=0;return{p:function(s){for(var i=a,r=t,c=s.length|0,A=0;A!=c;){for(var d=Math.min(A+2655,c);A<d;++A)r+=i+=s[A];i=(i&65535)+15*(i>>16),r=(r&65535)+15*(r>>16)}a=i,t=r},d:function(){return a%=65521,t%=65521,(a&255)<<24|(a&65280)<<8|(t&255)<<8|t>>8}}},j3=function(a,t,s,i,r){if(!r&&(r={l:1},t.dictionary)){var c=t.dictionary.subarray(-32768),A=new Us(c.length+a.length);A.set(c),A.set(a,c.length),a=A,r.w=c.length}return N3(a,t.level==null?6:t.level,t.mem==null?r.l?Math.ceil(Math.max(8,Math.min(13,Math.log(a.length)))*1.5):20:12+t.mem,s,i,r)},v1=function(a,t,s){for(;s;++t)a[t]=s,s>>>=8},B3=function(a,t){var s=t.level,i=s==0?0:s<6?1:s==9?3:2;if(a[0]=120,a[1]=i<<6|(t.dictionary&&32),a[1]|=31-(a[0]<<8|a[1])%31,t.dictionary){var r=g1();r.p(t.dictionary),v1(a,2,r.d())}},C3=function(a,t){return((a[0]&15)!=8||a[0]>>4>7||(a[0]<<8|a[1])%31)&&Nr(6,"invalid zlib data"),(a[1]>>5&1)==1&&Nr(6,"invalid zlib data: "+(a[1]&32?"need":"unexpected")+" dictionary"),(a[1]>>3&4)+2};function ex(a,t){t||(t={});var s=g1();s.p(a);var i=j3(a,t,t.dictionary?6:2,4);return B3(i,t),v1(i,i.length-4,s.d()),i}function S3(a,t){return b3(a.subarray(C3(a),-4),{i:2},t,t)}var _3=typeof TextDecoder<"u"&&new TextDecoder,F3=0;try{_3.decode(p1,{stream:!0}),F3=1}catch{}var ma=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function qg(){ma.console&&typeof ma.console.log=="function"&&ma.console.log.apply(ma.console,arguments)}var Za={log:qg,warn:function(a){ma.console&&(typeof ma.console.warn=="function"?ma.console.warn.apply(ma.console,arguments):qg.call(null,arguments))},error:function(a){ma.console&&(typeof ma.console.error=="function"?ma.console.error.apply(ma.console,arguments):qg(a))}};function Kg(a,t,s){var i=new XMLHttpRequest;i.open("GET",a),i.responseType="blob",i.onload=function(){nA(i.response,t,s)},i.onerror=function(){Za.error("could not download file")},i.send()}function AN(a){var t=new XMLHttpRequest;t.open("HEAD",a,!1);try{t.send()}catch{}return t.status>=200&&t.status<=299}function pm(a){try{a.dispatchEvent(new MouseEvent("click"))}catch{var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),a.dispatchEvent(t)}}var Gu,tx,nA=ma.saveAs||((typeof window>"u"?"undefined":$a(window))!=="object"||window!==ma?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(a,t,s){var i=ma.URL||ma.webkitURL,r=document.createElement("a");t=t||a.name||"download",r.download=t,r.rel="noopener",typeof a=="string"?(r.href=a,r.origin!==location.origin?AN(r.href)?Kg(a,t,s):pm(r,r.target="_blank"):pm(r)):(r.href=i.createObjectURL(a),setTimeout(function(){i.revokeObjectURL(r.href)},4e4),setTimeout(function(){pm(r)},0))}:"msSaveOrOpenBlob"in navigator?function(a,t,s){if(t=t||a.name||"download",typeof a=="string")if(AN(a))Kg(a,t,s);else{var i=document.createElement("a");i.href=a,i.target="_blank",setTimeout(function(){pm(i)})}else navigator.msSaveOrOpenBlob(function(r,c){return c===void 0?c={autoBom:!1}:$a(c)!=="object"&&(Za.warn("Deprecated: Expected third argument to be a object"),c={autoBom:!c}),c.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(r.type)?new Blob(["\uFEFF",r],{type:r.type}):r}(a,s),t)}:function(a,t,s,i){if((i=i||open("","_blank"))&&(i.document.title=i.document.body.innerText="downloading..."),typeof a=="string")return Kg(a,t,s);var r=a.type==="application/octet-stream",c=/constructor/i.test(ma.HTMLElement)||ma.safari,A=/CriOS\/[\d]+/.test(navigator.userAgent);if((A||r&&c)&&(typeof FileReader>"u"?"undefined":$a(FileReader))==="object"){var d=new FileReader;d.onloadend=function(){var v=d.result;v=A?v:v.replace(/^data:[^;]*;/,"data:attachment/file;"),i?i.location.href=v:location=v,i=null},d.readAsDataURL(a)}else{var h=ma.URL||ma.webkitURL,u=h.createObjectURL(a);i?i.location=u:location.href=u,i=null,setTimeout(function(){h.revokeObjectURL(u)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function x1(a){var t;a=a||"",this.ok=!1,a.charAt(0)=="#"&&(a=a.substr(1,6)),a={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[a=(a=a.replace(/ /g,"")).toLowerCase()]||a;for(var s=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(d){return[parseInt(d[1]),parseInt(d[2]),parseInt(d[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(d){return[parseInt(d[1],16),parseInt(d[2],16),parseInt(d[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(d){return[parseInt(d[1]+d[1],16),parseInt(d[2]+d[2],16),parseInt(d[3]+d[3],16)]}}],i=0;i<s.length;i++){var r=s[i].re,c=s[i].process,A=r.exec(a);A&&(t=c(A),this.r=t[0],this.g=t[1],this.b=t[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var d=this.r.toString(16),h=this.g.toString(16),u=this.b.toString(16);return d.length==1&&(d="0"+d),h.length==1&&(h="0"+h),u.length==1&&(u="0"+u),"#"+d+h+u}}/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function Vg(a,t){var s=a[0],i=a[1],r=a[2],c=a[3];s=Ss(s,i,r,c,t[0],7,-680876936),c=Ss(c,s,i,r,t[1],12,-389564586),r=Ss(r,c,s,i,t[2],17,606105819),i=Ss(i,r,c,s,t[3],22,-1044525330),s=Ss(s,i,r,c,t[4],7,-176418897),c=Ss(c,s,i,r,t[5],12,1200080426),r=Ss(r,c,s,i,t[6],17,-1473231341),i=Ss(i,r,c,s,t[7],22,-45705983),s=Ss(s,i,r,c,t[8],7,1770035416),c=Ss(c,s,i,r,t[9],12,-1958414417),r=Ss(r,c,s,i,t[10],17,-42063),i=Ss(i,r,c,s,t[11],22,-1990404162),s=Ss(s,i,r,c,t[12],7,1804603682),c=Ss(c,s,i,r,t[13],12,-40341101),r=Ss(r,c,s,i,t[14],17,-1502002290),s=_s(s,i=Ss(i,r,c,s,t[15],22,1236535329),r,c,t[1],5,-165796510),c=_s(c,s,i,r,t[6],9,-1069501632),r=_s(r,c,s,i,t[11],14,643717713),i=_s(i,r,c,s,t[0],20,-373897302),s=_s(s,i,r,c,t[5],5,-701558691),c=_s(c,s,i,r,t[10],9,38016083),r=_s(r,c,s,i,t[15],14,-660478335),i=_s(i,r,c,s,t[4],20,-405537848),s=_s(s,i,r,c,t[9],5,568446438),c=_s(c,s,i,r,t[14],9,-1019803690),r=_s(r,c,s,i,t[3],14,-187363961),i=_s(i,r,c,s,t[8],20,1163531501),s=_s(s,i,r,c,t[13],5,-1444681467),c=_s(c,s,i,r,t[2],9,-51403784),r=_s(r,c,s,i,t[7],14,1735328473),s=Fs(s,i=_s(i,r,c,s,t[12],20,-1926607734),r,c,t[5],4,-378558),c=Fs(c,s,i,r,t[8],11,-2022574463),r=Fs(r,c,s,i,t[11],16,1839030562),i=Fs(i,r,c,s,t[14],23,-35309556),s=Fs(s,i,r,c,t[1],4,-1530992060),c=Fs(c,s,i,r,t[4],11,1272893353),r=Fs(r,c,s,i,t[7],16,-155497632),i=Fs(i,r,c,s,t[10],23,-1094730640),s=Fs(s,i,r,c,t[13],4,681279174),c=Fs(c,s,i,r,t[0],11,-358537222),r=Fs(r,c,s,i,t[3],16,-722521979),i=Fs(i,r,c,s,t[6],23,76029189),s=Fs(s,i,r,c,t[9],4,-640364487),c=Fs(c,s,i,r,t[12],11,-421815835),r=Fs(r,c,s,i,t[15],16,530742520),s=Ds(s,i=Fs(i,r,c,s,t[2],23,-995338651),r,c,t[0],6,-198630844),c=Ds(c,s,i,r,t[7],10,1126891415),r=Ds(r,c,s,i,t[14],15,-1416354905),i=Ds(i,r,c,s,t[5],21,-57434055),s=Ds(s,i,r,c,t[12],6,1700485571),c=Ds(c,s,i,r,t[3],10,-1894986606),r=Ds(r,c,s,i,t[10],15,-1051523),i=Ds(i,r,c,s,t[1],21,-2054922799),s=Ds(s,i,r,c,t[8],6,1873313359),c=Ds(c,s,i,r,t[15],10,-30611744),r=Ds(r,c,s,i,t[6],15,-1560198380),i=Ds(i,r,c,s,t[13],21,1309151649),s=Ds(s,i,r,c,t[4],6,-145523070),c=Ds(c,s,i,r,t[11],10,-1120210379),r=Ds(r,c,s,i,t[2],15,718787259),i=Ds(i,r,c,s,t[9],21,-343485551),a[0]=ao(s,a[0]),a[1]=ao(i,a[1]),a[2]=ao(r,a[2]),a[3]=ao(c,a[3])}function Xf(a,t,s,i,r,c){return t=ao(ao(t,a),ao(i,c)),ao(t<<r|t>>>32-r,s)}function Ss(a,t,s,i,r,c,A){return Xf(t&s|~t&i,a,t,r,c,A)}function _s(a,t,s,i,r,c,A){return Xf(t&i|s&~i,a,t,r,c,A)}function Fs(a,t,s,i,r,c,A){return Xf(t^s^i,a,t,r,c,A)}function Ds(a,t,s,i,r,c,A){return Xf(s^(t|~i),a,t,r,c,A)}function y1(a){var t,s=a.length,i=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=a.length;t+=64)Vg(i,D3(a.substring(t-64,t)));a=a.substring(t-64);var r=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<a.length;t++)r[t>>2]|=a.charCodeAt(t)<<(t%4<<3);if(r[t>>2]|=128<<(t%4<<3),t>55)for(Vg(i,r),t=0;t<16;t++)r[t]=0;return r[14]=8*s,Vg(i,r),i}function D3(a){var t,s=[];for(t=0;t<64;t+=4)s[t>>2]=a.charCodeAt(t)+(a.charCodeAt(t+1)<<8)+(a.charCodeAt(t+2)<<16)+(a.charCodeAt(t+3)<<24);return s}Gu=ma.atob.bind(ma),tx=ma.btoa.bind(ma);var dN="0123456789abcdef".split("");function E3(a){for(var t="",s=0;s<4;s++)t+=dN[a>>8*s+4&15]+dN[a>>8*s&15];return t}function L3(a){return String.fromCharCode((255&a)>>0,(65280&a)>>8,(16711680&a)>>16,(4278190080&a)>>24)}function ax(a){return y1(a).map(L3).join("")}var M3=function(a){for(var t=0;t<a.length;t++)a[t]=E3(a[t]);return a.join("")}(y1("hello"))!="5d41402abc4b2a76b9719d911017c592";function ao(a,t){if(M3){var s=(65535&a)+(65535&t);return(a>>16)+(t>>16)+(s>>16)<<16|65535&s}return a+t&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function ix(a,t){var s,i,r,c;if(a!==s){for(var A=(r=a,c=1+(256/a.length>>0),new Array(c+1).join(r)),d=[],h=0;h<256;h++)d[h]=h;var u=0;for(h=0;h<256;h++){var v=d[h];u=(u+v+A.charCodeAt(h))%256,d[h]=d[u],d[u]=v}s=a,i=d}else d=i;var x=t.length,y=0,p=0,F="";for(h=0;h<x;h++)p=(p+(v=d[y=(y+1)%256]))%256,d[y]=d[p],d[p]=v,A=d[(d[y]+d[p])%256],F+=String.fromCharCode(t.charCodeAt(h)^A);return F}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var uN={print:4,modify:8,copy:16,"annot-forms":32};function fd(a,t,s,i){this.v=1,this.r=2;var r=192;a.forEach(function(d){if(uN.perm!==void 0)throw new Error("Invalid permission: "+d);r+=uN[d]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var c=(t+this.padding).substr(0,32),A=(s+this.padding).substr(0,32);this.O=this.processOwnerPassword(c,A),this.P=-(1+(255^r)),this.encryptionKey=ax(c+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(i)).substr(0,5),this.U=ix(this.encryptionKey,this.padding)}function pd(a){if(/[^\u0000-\u00ff]/.test(a))throw new Error("Invalid PDF Name Object: "+a+", Only accept ASCII characters.");for(var t="",s=a.length,i=0;i<s;i++){var r=a.charCodeAt(i);r<33||r===35||r===37||r===40||r===41||r===47||r===60||r===62||r===91||r===93||r===123||r===125||r>126?t+="#"+("0"+r.toString(16)).slice(-2):t+=a[i]}return t}function hN(a){if($a(a)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var t={};this.subscribe=function(s,i,r){if(r=r||!1,typeof s!="string"||typeof i!="function"||typeof r!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");t.hasOwnProperty(s)||(t[s]={});var c=Math.random().toString(35);return t[s][c]=[i,!!r],c},this.unsubscribe=function(s){for(var i in t)if(t[i][s])return delete t[i][s],Object.keys(t[i]).length===0&&delete t[i],!0;return!1},this.publish=function(s){if(t.hasOwnProperty(s)){var i=Array.prototype.slice.call(arguments,1),r=[];for(var c in t[s]){var A=t[s][c];try{A[0].apply(a,i)}catch(d){ma.console&&Za.error("jsPDF PubSub Error",d.message,d)}A[1]&&r.push(c)}r.length&&r.forEach(this.unsubscribe)}},this.getTopics=function(){return t}}function gf(a){if(!(this instanceof gf))return new gf(a);var t="opacity,stroke-opacity".split(",");for(var s in a)a.hasOwnProperty(s)&&t.indexOf(s)>=0&&(this[s]=a[s]);this.id="",this.objectNumber=-1}function b1(a,t){this.gState=a,this.matrix=t,this.id="",this.objectNumber=-1}function rA(a,t,s,i,r){if(!(this instanceof rA))return new rA(a,t,s,i,r);this.type=a==="axial"?2:3,this.coords=t,this.colors=s,b1.call(this,i,r)}function bd(a,t,s,i,r){if(!(this instanceof bd))return new bd(a,t,s,i,r);this.boundingBox=a,this.xStep=t,this.yStep=s,this.stream="",this.cloneIndex=0,b1.call(this,i,r)}function ea(a){var t,s=typeof arguments[0]=="string"?arguments[0]:"p",i=arguments[1],r=arguments[2],c=arguments[3],A=[],d=1,h=16,u="S",v=null;$a(a=a||{})==="object"&&(s=a.orientation,i=a.unit||i,r=a.format||r,c=a.compress||a.compressPdf||c,(v=a.encryption||null)!==null&&(v.userPassword=v.userPassword||"",v.ownerPassword=v.ownerPassword||"",v.userPermissions=v.userPermissions||[]),d=typeof a.userUnit=="number"?Math.abs(a.userUnit):1,a.precision!==void 0&&(t=a.precision),a.floatPrecision!==void 0&&(h=a.floatPrecision),u=a.defaultPathOperation||"S"),A=a.filters||(c===!0?["FlateEncode"]:A),i=i||"mm",s=(""+(s||"P")).toLowerCase();var x=a.putOnlyUsedFonts||!1,y={},p={internal:{},__private__:{}};p.__private__.PubSub=hN;var F="1.3",b=p.__private__.getPdfVersion=function(){return F};p.__private__.setPdfVersion=function(L){F=L};var S={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};p.__private__.getPageFormats=function(){return S};var f=p.__private__.getPageFormat=function(L){return S[L]};r=r||"a4";var O={COMPAT:"compat",ADVANCED:"advanced"},M=O.COMPAT;function J(){this.saveGraphicsState(),se(new Ft(Ie,0,0,-Ie,0,Or()*Ie).toString()+" cm"),this.setFontSize(this.getFontSize()/Ie),u="n",M=O.ADVANCED}function K(){this.restoreGraphicsState(),u="S",M=O.COMPAT}var H=p.__private__.combineFontStyleAndFontWeight=function(L,Ce){if(L=="bold"&&Ce=="normal"||L=="bold"&&Ce==400||L=="normal"&&Ce=="italic"||L=="bold"&&Ce=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return Ce&&(L=Ce==400||Ce==="normal"?L==="italic"?"italic":"normal":Ce!=700&&Ce!=="bold"||L!=="normal"?(Ce==700?"bold":Ce)+""+L:"bold"),L};p.advancedAPI=function(L){var Ce=M===O.COMPAT;return Ce&&J.call(this),typeof L!="function"||(L(this),Ce&&K.call(this)),this},p.compatAPI=function(L){var Ce=M===O.ADVANCED;return Ce&&K.call(this),typeof L!="function"||(L(this),Ce&&J.call(this)),this},p.isAdvancedAPI=function(){return M===O.ADVANCED};var k,Y=function(L){if(M!==O.ADVANCED)throw new Error(L+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},D=p.roundToPrecision=p.__private__.roundToPrecision=function(L,Ce){var Ge=t||Ce;if(isNaN(L)||isNaN(Ge))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return L.toFixed(Ge).replace(/0+$/,"")};k=p.hpf=p.__private__.hpf=typeof h=="number"?function(L){if(isNaN(L))throw new Error("Invalid argument passed to jsPDF.hpf");return D(L,h)}:h==="smart"?function(L){if(isNaN(L))throw new Error("Invalid argument passed to jsPDF.hpf");return D(L,L>-1&&L<1?16:5)}:function(L){if(isNaN(L))throw new Error("Invalid argument passed to jsPDF.hpf");return D(L,16)};var ge=p.f2=p.__private__.f2=function(L){if(isNaN(L))throw new Error("Invalid argument passed to jsPDF.f2");return D(L,2)},_=p.__private__.f3=function(L){if(isNaN(L))throw new Error("Invalid argument passed to jsPDF.f3");return D(L,3)},X=p.scale=p.__private__.scale=function(L){if(isNaN(L))throw new Error("Invalid argument passed to jsPDF.scale");return M===O.COMPAT?L*Ie:M===O.ADVANCED?L:void 0},re=function(L){return M===O.COMPAT?Or()-L:M===O.ADVANCED?L:void 0},fe=function(L){return X(re(L))};p.__private__.setPrecision=p.setPrecision=function(L){typeof parseInt(L,10)=="number"&&(t=parseInt(L,10))};var Ne,ue="00000000000000000000000000000000",_e=p.__private__.getFileId=function(){return ue},ce=p.__private__.setFileId=function(L){return ue=L!==void 0&&/^[a-fA-F0-9]{32}$/.test(L)?L.toUpperCase():ue.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),v!==null&&(Ti=new fd(v.userPermissions,v.userPassword,v.ownerPassword,ue)),ue};p.setFileId=function(L){return ce(L),this},p.getFileId=function(){return _e()};var ye=p.__private__.convertDateToPDFDate=function(L){var Ce=L.getTimezoneOffset(),Ge=Ce<0?"+":"-",tt=Math.floor(Math.abs(Ce/60)),ht=Math.abs(Ce%60),St=[Ge,T(tt),"'",T(ht),"'"].join("");return["D:",L.getFullYear(),T(L.getMonth()+1),T(L.getDate()),T(L.getHours()),T(L.getMinutes()),T(L.getSeconds()),St].join("")},Q=p.__private__.convertPDFDateToDate=function(L){var Ce=parseInt(L.substr(2,4),10),Ge=parseInt(L.substr(6,2),10)-1,tt=parseInt(L.substr(8,2),10),ht=parseInt(L.substr(10,2),10),St=parseInt(L.substr(12,2),10),Tt=parseInt(L.substr(14,2),10);return new Date(Ce,Ge,tt,ht,St,Tt,0)},ne=p.__private__.setCreationDate=function(L){var Ce;if(L===void 0&&(L=new Date),L instanceof Date)Ce=ye(L);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(L))throw new Error("Invalid argument passed to jsPDF.setCreationDate");Ce=L}return Ne=Ce},U=p.__private__.getCreationDate=function(L){var Ce=Ne;return L==="jsDate"&&(Ce=Q(Ne)),Ce};p.setCreationDate=function(L){return ne(L),this},p.getCreationDate=function(L){return U(L)};var V,T=p.__private__.padd2=function(L){return("0"+parseInt(L)).slice(-2)},ie=p.__private__.padd2Hex=function(L){return("00"+(L=L.toString())).substr(L.length)},ae=0,P=[],z=[],B=0,q=[],te=[],he=!1,W=z,C=function(){ae=0,B=0,z=[],P=[],q=[],me=G(),$=G()};p.__private__.setCustomOutputDestination=function(L){he=!0,W=L};var Z=function(L){he||(W=L)};p.__private__.resetCustomOutputDestination=function(){he=!1,W=z};var se=p.__private__.out=function(L){return L=L.toString(),B+=L.length+1,W.push(L),W},Se=p.__private__.write=function(L){return se(arguments.length===1?L.toString():Array.prototype.join.call(arguments," "))},He=p.__private__.getArrayBuffer=function(L){for(var Ce=L.length,Ge=new ArrayBuffer(Ce),tt=new Uint8Array(Ge);Ce--;)tt[Ce]=L.charCodeAt(Ce);return Ge},Qe=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];p.__private__.getStandardFonts=function(){return Qe};var qe=a.fontSize||16;p.__private__.setFontSize=p.setFontSize=function(L){return qe=M===O.ADVANCED?L/Ie:L,this};var Ye,st=p.__private__.getFontSize=p.getFontSize=function(){return M===O.COMPAT?qe:qe*Ie},kt=a.R2L||!1;p.__private__.setR2L=p.setR2L=function(L){return kt=L,this},p.__private__.getR2L=p.getR2L=function(){return kt};var Mt,ke=p.__private__.setZoomMode=function(L){var Ce=[void 0,null,"fullwidth","fullheight","fullpage","original"];if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(L))Ye=L;else if(isNaN(L)){if(Ce.indexOf(L)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+L+'" is not recognized.');Ye=L}else Ye=parseInt(L,10)};p.__private__.getZoomMode=function(){return Ye};var $e,Ae=p.__private__.setPageMode=function(L){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(L)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+L+'" is not recognized.');Mt=L};p.__private__.getPageMode=function(){return Mt};var Le=p.__private__.setLayoutMode=function(L){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(L)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+L+'" is not recognized.');$e=L};p.__private__.getLayoutMode=function(){return $e},p.__private__.setDisplayMode=p.setDisplayMode=function(L,Ce,Ge){return ke(L),Le(Ce),Ae(Ge),this};var de={title:"",subject:"",author:"",keywords:"",creator:""};p.__private__.getDocumentProperty=function(L){if(Object.keys(de).indexOf(L)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return de[L]},p.__private__.getDocumentProperties=function(){return de},p.__private__.setDocumentProperties=p.setProperties=p.setDocumentProperties=function(L){for(var Ce in de)de.hasOwnProperty(Ce)&&L[Ce]&&(de[Ce]=L[Ce]);return this},p.__private__.setDocumentProperty=function(L,Ce){if(Object.keys(de).indexOf(L)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return de[L]=Ce};var Me,Ie,Ze,nt,ot,jt={},ft={},It=[],Ke={},it={},De={},Be={},pe=null,we=0,ze=[],Xe=new hN(p),wt=a.hotfixes||[],yt={},Qt={},ta=[],Ft=function L(Ce,Ge,tt,ht,St,Tt){if(!(this instanceof L))return new L(Ce,Ge,tt,ht,St,Tt);isNaN(Ce)&&(Ce=1),isNaN(Ge)&&(Ge=0),isNaN(tt)&&(tt=0),isNaN(ht)&&(ht=1),isNaN(St)&&(St=0),isNaN(Tt)&&(Tt=0),this._matrix=[Ce,Ge,tt,ht,St,Tt]};Object.defineProperty(Ft.prototype,"sx",{get:function(){return this._matrix[0]},set:function(L){this._matrix[0]=L}}),Object.defineProperty(Ft.prototype,"shy",{get:function(){return this._matrix[1]},set:function(L){this._matrix[1]=L}}),Object.defineProperty(Ft.prototype,"shx",{get:function(){return this._matrix[2]},set:function(L){this._matrix[2]=L}}),Object.defineProperty(Ft.prototype,"sy",{get:function(){return this._matrix[3]},set:function(L){this._matrix[3]=L}}),Object.defineProperty(Ft.prototype,"tx",{get:function(){return this._matrix[4]},set:function(L){this._matrix[4]=L}}),Object.defineProperty(Ft.prototype,"ty",{get:function(){return this._matrix[5]},set:function(L){this._matrix[5]=L}}),Object.defineProperty(Ft.prototype,"a",{get:function(){return this._matrix[0]},set:function(L){this._matrix[0]=L}}),Object.defineProperty(Ft.prototype,"b",{get:function(){return this._matrix[1]},set:function(L){this._matrix[1]=L}}),Object.defineProperty(Ft.prototype,"c",{get:function(){return this._matrix[2]},set:function(L){this._matrix[2]=L}}),Object.defineProperty(Ft.prototype,"d",{get:function(){return this._matrix[3]},set:function(L){this._matrix[3]=L}}),Object.defineProperty(Ft.prototype,"e",{get:function(){return this._matrix[4]},set:function(L){this._matrix[4]=L}}),Object.defineProperty(Ft.prototype,"f",{get:function(){return this._matrix[5]},set:function(L){this._matrix[5]=L}}),Object.defineProperty(Ft.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(Ft.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(Ft.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(Ft.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),Ft.prototype.join=function(L){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(k).join(L)},Ft.prototype.multiply=function(L){var Ce=L.sx*this.sx+L.shy*this.shx,Ge=L.sx*this.shy+L.shy*this.sy,tt=L.shx*this.sx+L.sy*this.shx,ht=L.shx*this.shy+L.sy*this.sy,St=L.tx*this.sx+L.ty*this.shx+this.tx,Tt=L.tx*this.shy+L.ty*this.sy+this.ty;return new Ft(Ce,Ge,tt,ht,St,Tt)},Ft.prototype.decompose=function(){var L=this.sx,Ce=this.shy,Ge=this.shx,tt=this.sy,ht=this.tx,St=this.ty,Tt=Math.sqrt(L*L+Ce*Ce),zt=(L/=Tt)*Ge+(Ce/=Tt)*tt;Ge-=L*zt,tt-=Ce*zt;var Zt=Math.sqrt(Ge*Ge+tt*tt);return zt/=Zt,L*(tt/=Zt)<Ce*(Ge/=Zt)&&(L=-L,Ce=-Ce,zt=-zt,Tt=-Tt),{scale:new Ft(Tt,0,0,Zt,0,0),translate:new Ft(1,0,0,1,ht,St),rotate:new Ft(L,Ce,-Ce,L,0,0),skew:new Ft(1,0,zt,1,0,0)}},Ft.prototype.toString=function(L){return this.join(" ")},Ft.prototype.inversed=function(){var L=this.sx,Ce=this.shy,Ge=this.shx,tt=this.sy,ht=this.tx,St=this.ty,Tt=1/(L*tt-Ce*Ge),zt=tt*Tt,Zt=-Ce*Tt,ga=-Ge*Tt,fa=L*Tt;return new Ft(zt,Zt,ga,fa,-zt*ht-ga*St,-Zt*ht-fa*St)},Ft.prototype.applyToPoint=function(L){var Ce=L.x*this.sx+L.y*this.shx+this.tx,Ge=L.x*this.shy+L.y*this.sy+this.ty;return new mc(Ce,Ge)},Ft.prototype.applyToRectangle=function(L){var Ce=this.applyToPoint(L),Ge=this.applyToPoint(new mc(L.x+L.w,L.y+L.h));return new So(Ce.x,Ce.y,Ge.x-Ce.x,Ge.y-Ce.y)},Ft.prototype.clone=function(){var L=this.sx,Ce=this.shy,Ge=this.shx,tt=this.sy,ht=this.tx,St=this.ty;return new Ft(L,Ce,Ge,tt,ht,St)},p.Matrix=Ft;var Aa=p.matrixMult=function(L,Ce){return Ce.multiply(L)},Ue=new Ft(1,0,0,1,0,0);p.unitMatrix=p.identityMatrix=Ue;var be=function(L,Ce){if(!it[L]){var Ge=(Ce instanceof rA?"Sh":"P")+(Object.keys(Ke).length+1).toString(10);Ce.id=Ge,it[L]=Ge,Ke[Ge]=Ce,Xe.publish("addPattern",Ce)}};p.ShadingPattern=rA,p.TilingPattern=bd,p.addShadingPattern=function(L,Ce){return Y("addShadingPattern()"),be(L,Ce),this},p.beginTilingPattern=function(L){Y("beginTilingPattern()"),fc(L.boundingBox[0],L.boundingBox[1],L.boundingBox[2]-L.boundingBox[0],L.boundingBox[3]-L.boundingBox[1],L.matrix)},p.endTilingPattern=function(L,Ce){Y("endTilingPattern()"),Ce.stream=te[V].join(`
`),be(L,Ce),Xe.publish("endTilingPattern",Ce),ta.pop().restore()};var R=p.__private__.newObject=function(){var L=G();return oe(L,!0),L},G=p.__private__.newObjectDeferred=function(){return ae++,P[ae]=function(){return B},ae},oe=function(L,Ce){return Ce=typeof Ce=="boolean"&&Ce,P[L]=B,Ce&&se(L+" 0 obj"),L},ee=p.__private__.newAdditionalObject=function(){var L={objId:G(),content:""};return q.push(L),L},me=G(),$=G(),ve=p.__private__.decodeColorString=function(L){var Ce=L.split(" ");if(Ce.length!==2||Ce[1]!=="g"&&Ce[1]!=="G")Ce.length===5&&(Ce[4]==="k"||Ce[4]==="K")&&(Ce=[(1-Ce[0])*(1-Ce[3]),(1-Ce[1])*(1-Ce[3]),(1-Ce[2])*(1-Ce[3]),"r"]);else{var Ge=parseFloat(Ce[0]);Ce=[Ge,Ge,Ge,"r"]}for(var tt="#",ht=0;ht<3;ht++)tt+=("0"+Math.floor(255*parseFloat(Ce[ht])).toString(16)).slice(-2);return tt},Pe=p.__private__.encodeColorString=function(L){var Ce;typeof L=="string"&&(L={ch1:L});var Ge=L.ch1,tt=L.ch2,ht=L.ch3,St=L.ch4,Tt=L.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof Ge=="string"&&Ge.charAt(0)!=="#"){var zt=new x1(Ge);if(zt.ok)Ge=zt.toHex();else if(!/^\d*\.?\d*$/.test(Ge))throw new Error('Invalid color "'+Ge+'" passed to jsPDF.encodeColorString.')}if(typeof Ge=="string"&&/^#[0-9A-Fa-f]{3}$/.test(Ge)&&(Ge="#"+Ge[1]+Ge[1]+Ge[2]+Ge[2]+Ge[3]+Ge[3]),typeof Ge=="string"&&/^#[0-9A-Fa-f]{6}$/.test(Ge)){var Zt=parseInt(Ge.substr(1),16);Ge=Zt>>16&255,tt=Zt>>8&255,ht=255&Zt}if(tt===void 0||St===void 0&&Ge===tt&&tt===ht)if(typeof Ge=="string")Ce=Ge+" "+Tt[0];else switch(L.precision){case 2:Ce=ge(Ge/255)+" "+Tt[0];break;case 3:default:Ce=_(Ge/255)+" "+Tt[0]}else if(St===void 0||$a(St)==="object"){if(St&&!isNaN(St.a)&&St.a===0)return Ce=["1.","1.","1.",Tt[1]].join(" ");if(typeof Ge=="string")Ce=[Ge,tt,ht,Tt[1]].join(" ");else switch(L.precision){case 2:Ce=[ge(Ge/255),ge(tt/255),ge(ht/255),Tt[1]].join(" ");break;default:case 3:Ce=[_(Ge/255),_(tt/255),_(ht/255),Tt[1]].join(" ")}}else if(typeof Ge=="string")Ce=[Ge,tt,ht,St,Tt[2]].join(" ");else switch(L.precision){case 2:Ce=[ge(Ge),ge(tt),ge(ht),ge(St),Tt[2]].join(" ");break;case 3:default:Ce=[_(Ge),_(tt),_(ht),_(St),Tt[2]].join(" ")}return Ce},We=p.__private__.getFilters=function(){return A},ut=p.__private__.putStream=function(L){var Ce=(L=L||{}).data||"",Ge=L.filters||We(),tt=L.alreadyAppliedFilters||[],ht=L.addLength1||!1,St=Ce.length,Tt=L.objectId,zt=function(gi){return gi};if(v!==null&&Tt===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");v!==null&&(zt=Ti.encryptor(Tt,0));var Zt={};Ge===!0&&(Ge=["FlateEncode"]);var ga=L.additionalKeyValues||[],fa=(Zt=ea.API.processDataByFilters!==void 0?ea.API.processDataByFilters(Ce,Ge):{data:Ce,reverseChain:[]}).reverseChain+(Array.isArray(tt)?tt.join(" "):tt.toString());if(Zt.data.length!==0&&(ga.push({key:"Length",value:Zt.data.length}),ht===!0&&ga.push({key:"Length1",value:St})),fa.length!=0)if(fa.split("/").length-1==1)ga.push({key:"Filter",value:fa});else{ga.push({key:"Filter",value:"["+fa+"]"});for(var Sa=0;Sa<ga.length;Sa+=1)if(ga[Sa].key==="DecodeParms"){for(var ti=[],ri=0;ri<Zt.reverseChain.split("/").length-1;ri+=1)ti.push("null");ti.push(ga[Sa].value),ga[Sa].value="["+ti.join(" ")+"]"}}se("<<");for(var pi=0;pi<ga.length;pi++)se("/"+ga[pi].key+" "+ga[pi].value);se(">>"),Zt.data.length!==0&&(se("stream"),se(zt(Zt.data)),se("endstream"))},Ct=p.__private__.putPage=function(L){var Ce=L.number,Ge=L.data,tt=L.objId,ht=L.contentsObjId;oe(tt,!0),se("<</Type /Page"),se("/Parent "+L.rootDictionaryObjId+" 0 R"),se("/Resources "+L.resourceDictionaryObjId+" 0 R"),se("/MediaBox ["+parseFloat(k(L.mediaBox.bottomLeftX))+" "+parseFloat(k(L.mediaBox.bottomLeftY))+" "+k(L.mediaBox.topRightX)+" "+k(L.mediaBox.topRightY)+"]"),L.cropBox!==null&&se("/CropBox ["+k(L.cropBox.bottomLeftX)+" "+k(L.cropBox.bottomLeftY)+" "+k(L.cropBox.topRightX)+" "+k(L.cropBox.topRightY)+"]"),L.bleedBox!==null&&se("/BleedBox ["+k(L.bleedBox.bottomLeftX)+" "+k(L.bleedBox.bottomLeftY)+" "+k(L.bleedBox.topRightX)+" "+k(L.bleedBox.topRightY)+"]"),L.trimBox!==null&&se("/TrimBox ["+k(L.trimBox.bottomLeftX)+" "+k(L.trimBox.bottomLeftY)+" "+k(L.trimBox.topRightX)+" "+k(L.trimBox.topRightY)+"]"),L.artBox!==null&&se("/ArtBox ["+k(L.artBox.bottomLeftX)+" "+k(L.artBox.bottomLeftY)+" "+k(L.artBox.topRightX)+" "+k(L.artBox.topRightY)+"]"),typeof L.userUnit=="number"&&L.userUnit!==1&&se("/UserUnit "+L.userUnit),Xe.publish("putPage",{objId:tt,pageContext:ze[Ce],pageNumber:Ce,page:Ge}),se("/Contents "+ht+" 0 R"),se(">>"),se("endobj");var St=Ge.join(`
`);return M===O.ADVANCED&&(St+=`
Q`),oe(ht,!0),ut({data:St,filters:We(),objectId:ht}),se("endobj"),tt},Kt=p.__private__.putPages=function(){var L,Ce,Ge=[];for(L=1;L<=we;L++)ze[L].objId=G(),ze[L].contentsObjId=G();for(L=1;L<=we;L++)Ge.push(Ct({number:L,data:te[L],objId:ze[L].objId,contentsObjId:ze[L].contentsObjId,mediaBox:ze[L].mediaBox,cropBox:ze[L].cropBox,bleedBox:ze[L].bleedBox,trimBox:ze[L].trimBox,artBox:ze[L].artBox,userUnit:ze[L].userUnit,rootDictionaryObjId:me,resourceDictionaryObjId:$}));oe(me,!0),se("<</Type /Pages");var tt="/Kids [";for(Ce=0;Ce<we;Ce++)tt+=Ge[Ce]+" 0 R ";se(tt+"]"),se("/Count "+we),se(">>"),se("endobj"),Xe.publish("postPutPages")},ya=function(L){Xe.publish("putFont",{font:L,out:se,newObject:R,putStream:ut}),L.isAlreadyPutted!==!0&&(L.objectNumber=R(),se("<<"),se("/Type /Font"),se("/BaseFont /"+pd(L.postScriptName)),se("/Subtype /Type1"),typeof L.encoding=="string"&&se("/Encoding /"+L.encoding),se("/FirstChar 32"),se("/LastChar 255"),se(">>"),se("endobj"))},Ra=function(){for(var L in jt)jt.hasOwnProperty(L)&&(x===!1||x===!0&&y.hasOwnProperty(L))&&ya(jt[L])},qa=function(L){L.objectNumber=R();var Ce=[];Ce.push({key:"Type",value:"/XObject"}),Ce.push({key:"Subtype",value:"/Form"}),Ce.push({key:"BBox",value:"["+[k(L.x),k(L.y),k(L.x+L.width),k(L.y+L.height)].join(" ")+"]"}),Ce.push({key:"Matrix",value:"["+L.matrix.toString()+"]"});var Ge=L.pages[1].join(`
`);ut({data:Ge,additionalKeyValues:Ce,objectId:L.objectNumber}),se("endobj")},Qi=function(){for(var L in yt)yt.hasOwnProperty(L)&&qa(yt[L])},ls=function(L,Ce){var Ge,tt=[],ht=1/(Ce-1);for(Ge=0;Ge<1;Ge+=ht)tt.push(Ge);if(tt.push(1),L[0].offset!=0){var St={offset:0,color:L[0].color};L.unshift(St)}if(L[L.length-1].offset!=1){var Tt={offset:1,color:L[L.length-1].color};L.push(Tt)}for(var zt="",Zt=0,ga=0;ga<tt.length;ga++){for(Ge=tt[ga];Ge>L[Zt+1].offset;)Zt++;var fa=L[Zt].offset,Sa=(Ge-fa)/(L[Zt+1].offset-fa),ti=L[Zt].color,ri=L[Zt+1].color;zt+=ie(Math.round((1-Sa)*ti[0]+Sa*ri[0]).toString(16))+ie(Math.round((1-Sa)*ti[1]+Sa*ri[1]).toString(16))+ie(Math.round((1-Sa)*ti[2]+Sa*ri[2]).toString(16))}return zt.trim()},Ga=function(L,Ce){Ce||(Ce=21);var Ge=R(),tt=ls(L.colors,Ce),ht=[];ht.push({key:"FunctionType",value:"0"}),ht.push({key:"Domain",value:"[0.0 1.0]"}),ht.push({key:"Size",value:"["+Ce+"]"}),ht.push({key:"BitsPerSample",value:"8"}),ht.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),ht.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),ut({data:tt,additionalKeyValues:ht,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:Ge}),se("endobj"),L.objectNumber=R(),se("<< /ShadingType "+L.type),se("/ColorSpace /DeviceRGB");var St="/Coords ["+k(parseFloat(L.coords[0]))+" "+k(parseFloat(L.coords[1]))+" ";L.type===2?St+=k(parseFloat(L.coords[2]))+" "+k(parseFloat(L.coords[3])):St+=k(parseFloat(L.coords[2]))+" "+k(parseFloat(L.coords[3]))+" "+k(parseFloat(L.coords[4]))+" "+k(parseFloat(L.coords[5])),se(St+="]"),L.matrix&&se("/Matrix ["+L.matrix.toString()+"]"),se("/Function "+Ge+" 0 R"),se("/Extend [true true]"),se(">>"),se("endobj")},Ln=function(L,Ce){var Ge=G(),tt=R();Ce.push({resourcesOid:Ge,objectOid:tt}),L.objectNumber=tt;var ht=[];ht.push({key:"Type",value:"/Pattern"}),ht.push({key:"PatternType",value:"1"}),ht.push({key:"PaintType",value:"1"}),ht.push({key:"TilingType",value:"1"}),ht.push({key:"BBox",value:"["+L.boundingBox.map(k).join(" ")+"]"}),ht.push({key:"XStep",value:k(L.xStep)}),ht.push({key:"YStep",value:k(L.yStep)}),ht.push({key:"Resources",value:Ge+" 0 R"}),L.matrix&&ht.push({key:"Matrix",value:"["+L.matrix.toString()+"]"}),ut({data:L.stream,additionalKeyValues:ht,objectId:L.objectNumber}),se("endobj")},ks=function(L){var Ce;for(Ce in Ke)Ke.hasOwnProperty(Ce)&&(Ke[Ce]instanceof rA?Ga(Ke[Ce]):Ke[Ce]instanceof bd&&Ln(Ke[Ce],L))},Yi=function(L){for(var Ce in L.objectNumber=R(),se("<<"),L)switch(Ce){case"opacity":se("/ca "+ge(L[Ce]));break;case"stroke-opacity":se("/CA "+ge(L[Ce]))}se(">>"),se("endobj")},ra=function(){var L;for(L in De)De.hasOwnProperty(L)&&Yi(De[L])},Xi=function(){for(var L in se("/XObject <<"),yt)yt.hasOwnProperty(L)&&yt[L].objectNumber>=0&&se("/"+L+" "+yt[L].objectNumber+" 0 R");Xe.publish("putXobjectDict"),se(">>")},ha=function(){Ti.oid=R(),se("<<"),se("/Filter /Standard"),se("/V "+Ti.v),se("/R "+Ti.r),se("/U <"+Ti.toHexString(Ti.U)+">"),se("/O <"+Ti.toHexString(Ti.O)+">"),se("/P "+Ti.P),se(">>"),se("endobj")},xo=function(){for(var L in se("/Font <<"),jt)jt.hasOwnProperty(L)&&(x===!1||x===!0&&y.hasOwnProperty(L))&&se("/"+L+" "+jt[L].objectNumber+" 0 R");se(">>")},wA=function(){if(Object.keys(Ke).length>0){for(var L in se("/Shading <<"),Ke)Ke.hasOwnProperty(L)&&Ke[L]instanceof rA&&Ke[L].objectNumber>=0&&se("/"+L+" "+Ke[L].objectNumber+" 0 R");Xe.publish("putShadingPatternDict"),se(">>")}},tc=function(L){if(Object.keys(Ke).length>0){for(var Ce in se("/Pattern <<"),Ke)Ke.hasOwnProperty(Ce)&&Ke[Ce]instanceof p.TilingPattern&&Ke[Ce].objectNumber>=0&&Ke[Ce].objectNumber<L&&se("/"+Ce+" "+Ke[Ce].objectNumber+" 0 R");Xe.publish("putTilingPatternDict"),se(">>")}},ac=function(){if(Object.keys(De).length>0){var L;for(L in se("/ExtGState <<"),De)De.hasOwnProperty(L)&&De[L].objectNumber>=0&&se("/"+L+" "+De[L].objectNumber+" 0 R");Xe.publish("putGStateDict"),se(">>")}},ei=function(L){oe(L.resourcesOid,!0),se("<<"),se("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),xo(),wA(),tc(L.objectOid),ac(),Xi(),se(">>"),se("endobj")},Gs=function(){var L=[];Ra(),ra(),Qi(),ks(L),Xe.publish("putResources"),L.forEach(ei),ei({resourcesOid:$,objectOid:Number.MAX_SAFE_INTEGER}),Xe.publish("postPutResources")},cs=function(){Xe.publish("putAdditionalObjects");for(var L=0;L<q.length;L++){var Ce=q[L];oe(Ce.objId,!0),se(Ce.content),se("endobj")}Xe.publish("postPutAdditionalObjects")},yo=function(L){ft[L.fontName]=ft[L.fontName]||{},ft[L.fontName][L.fontStyle]=L.id},bo=function(L,Ce,Ge,tt,ht){var St={id:"F"+(Object.keys(jt).length+1).toString(10),postScriptName:L,fontName:Ce,fontStyle:Ge,encoding:tt,isStandardFont:ht||!1,metadata:{}};return Xe.publish("addFont",{font:St,instance:this}),jt[St.id]=St,yo(St),St.id},ic=function(L){for(var Ce=0,Ge=Qe.length;Ce<Ge;Ce++){var tt=bo.call(this,L[Ce][0],L[Ce][1],L[Ce][2],Qe[Ce][3],!0);x===!1&&(y[tt]=!0);var ht=L[Ce][0].split("-");yo({id:tt,fontName:ht[0],fontStyle:ht[1]||""})}Xe.publish("addFonts",{fonts:jt,dictionary:ft})},Ws=function(L){return L.foo=function(){try{return L.apply(this,arguments)}catch(tt){var Ce=tt.stack||"";~Ce.indexOf(" at ")&&(Ce=Ce.split(" at ")[1]);var Ge="Error in function "+Ce.split(`
`)[0].split("<")[0]+": "+tt.message;if(!ma.console)throw new Error(Ge);ma.console.error(Ge,tt),ma.alert&&alert(Ge)}},L.foo.bar=L,L.foo},Jn=function(L,Ce){var Ge,tt,ht,St,Tt,zt,Zt,ga,fa;if(ht=(Ce=Ce||{}).sourceEncoding||"Unicode",Tt=Ce.outputEncoding,(Ce.autoencode||Tt)&&jt[Me].metadata&&jt[Me].metadata[ht]&&jt[Me].metadata[ht].encoding&&(St=jt[Me].metadata[ht].encoding,!Tt&&jt[Me].encoding&&(Tt=jt[Me].encoding),!Tt&&St.codePages&&(Tt=St.codePages[0]),typeof Tt=="string"&&(Tt=St[Tt]),Tt)){for(Zt=!1,zt=[],Ge=0,tt=L.length;Ge<tt;Ge++)(ga=Tt[L.charCodeAt(Ge)])?zt.push(String.fromCharCode(ga)):zt.push(L[Ge]),zt[Ge].charCodeAt(0)>>8&&(Zt=!0);L=zt.join("")}for(Ge=L.length;Zt===void 0&&Ge!==0;)L.charCodeAt(Ge-1)>>8&&(Zt=!0),Ge--;if(!Zt)return L;for(zt=Ce.noBOM?[]:[254,255],Ge=0,tt=L.length;Ge<tt;Ge++){if((fa=(ga=L.charCodeAt(Ge))>>8)>>8)throw new Error("Character at position "+Ge+" of string '"+L+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");zt.push(fa),zt.push(ga-(fa<<8))}return String.fromCharCode.apply(void 0,zt)},xs=p.__private__.pdfEscape=p.pdfEscape=function(L,Ce){return Jn(L,Ce).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Ji=p.__private__.beginPage=function(L){te[++we]=[],ze[we]={objId:0,contentsObjId:0,userUnit:Number(d),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(L[0]),topRightY:Number(L[1])}},nc(we),Z(te[V])},sc=function(L,Ce){var Ge,tt,ht;switch(s=Ce||s,typeof L=="string"&&(Ge=f(L.toLowerCase()),Array.isArray(Ge)&&(tt=Ge[0],ht=Ge[1])),Array.isArray(L)&&(tt=L[0]*Ie,ht=L[1]*Ie),isNaN(tt)&&(tt=r[0],ht=r[1]),(tt>14400||ht>14400)&&(Za.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),tt=Math.min(14400,tt),ht=Math.min(14400,ht)),r=[tt,ht],s.substr(0,1)){case"l":ht>tt&&(r=[ht,tt]);break;case"p":tt>ht&&(r=[ht,tt])}Ji(r),FA(Lr),se(un),Co!==0&&se(Co+" J"),hc!==0&&se(hc+" j"),Xe.publish("addPage",{pageNumber:we})},NA=function(L){L>0&&L<=we&&(te.splice(L,1),ze.splice(L,1),we--,V>we&&(V=we),this.setPage(V))},nc=function(L){L>0&&L<=we&&(V=L)},Fr=p.__private__.getNumberOfPages=p.getNumberOfPages=function(){return te.length-1},wo=function(L,Ce,Ge){var tt,ht=void 0;return Ge=Ge||{},L=L!==void 0?L:jt[Me].fontName,Ce=Ce!==void 0?Ce:jt[Me].fontStyle,tt=L.toLowerCase(),ft[tt]!==void 0&&ft[tt][Ce]!==void 0?ht=ft[tt][Ce]:ft[L]!==void 0&&ft[L][Ce]!==void 0?ht=ft[L][Ce]:Ge.disableWarning===!1&&Za.warn("Unable to look up font label for font '"+L+"', '"+Ce+"'. Refer to getFontList() for available fonts."),ht||Ge.noFallback||(ht=ft.times[Ce])==null&&(ht=ft.times.normal),ht},jA=p.__private__.putInfo=function(){var L=R(),Ce=function(tt){return tt};for(var Ge in v!==null&&(Ce=Ti.encryptor(L,0)),se("<<"),se("/Producer ("+xs(Ce("jsPDF "+ea.version))+")"),de)de.hasOwnProperty(Ge)&&de[Ge]&&se("/"+Ge.substr(0,1).toUpperCase()+Ge.substr(1)+" ("+xs(Ce(de[Ge]))+")");se("/CreationDate ("+xs(Ce(Ne))+")"),se(">>"),se("endobj")},Mn=p.__private__.putCatalog=function(L){var Ce=(L=L||{}).rootDictionaryObjId||me;switch(R(),se("<<"),se("/Type /Catalog"),se("/Pages "+Ce+" 0 R"),Ye||(Ye="fullwidth"),Ye){case"fullwidth":se("/OpenAction [3 0 R /FitH null]");break;case"fullheight":se("/OpenAction [3 0 R /FitV null]");break;case"fullpage":se("/OpenAction [3 0 R /Fit]");break;case"original":se("/OpenAction [3 0 R /XYZ null null 1]");break;default:var Ge=""+Ye;Ge.substr(Ge.length-1)==="%"&&(Ye=parseInt(Ye)/100),typeof Ye=="number"&&se("/OpenAction [3 0 R /XYZ null null "+ge(Ye)+"]")}switch($e||($e="continuous"),$e){case"continuous":se("/PageLayout /OneColumn");break;case"single":se("/PageLayout /SinglePage");break;case"two":case"twoleft":se("/PageLayout /TwoColumnLeft");break;case"tworight":se("/PageLayout /TwoColumnRight")}Mt&&se("/PageMode /"+Mt),Xe.publish("putCatalog"),se(">>"),se("endobj")},Td=p.__private__.putTrailer=function(){se("trailer"),se("<<"),se("/Size "+(ae+1)),se("/Root "+ae+" 0 R"),se("/Info "+(ae-1)+" 0 R"),v!==null&&se("/Encrypt "+Ti.oid+" 0 R"),se("/ID [ <"+ue+"> <"+ue+"> ]"),se(">>")},BA=p.__private__.putHeader=function(){se("%PDF-"+F),se("%")},CA=p.__private__.putXRef=function(){var L="0000000000";se("xref"),se("0 "+(ae+1)),se("0000000000 65535 f ");for(var Ce=1;Ce<=ae;Ce++)typeof P[Ce]=="function"?se((L+P[Ce]()).slice(-10)+" 00000 n "):P[Ce]!==void 0?se((L+P[Ce]).slice(-10)+" 00000 n "):se("0000000000 00000 n ")},An=p.__private__.buildDocument=function(){C(),Z(z),Xe.publish("buildDocument"),BA(),Kt(),cs(),Gs(),v!==null&&ha(),jA(),Mn();var L=B;return CA(),Td(),se("startxref"),se(""+L),se("%%EOF"),Z(te[V]),z.join(`
`)},rc=p.__private__.getBlob=function(L){return new Blob([He(L)],{type:"application/pdf"})},lc=p.output=p.__private__.output=Ws(function(L,Ce){switch(typeof(Ce=Ce||{})=="string"?Ce={filename:Ce}:Ce.filename=Ce.filename||"generated.pdf",L){case void 0:return An();case"save":p.save(Ce.filename);break;case"arraybuffer":return He(An());case"blob":return rc(An());case"bloburi":case"bloburl":if(ma.URL!==void 0&&typeof ma.URL.createObjectURL=="function")return ma.URL&&ma.URL.createObjectURL(rc(An()))||void 0;Za.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var Ge="",tt=An();try{Ge=tx(tt)}catch{Ge=tx(unescape(encodeURIComponent(tt)))}return"data:application/pdf;filename="+Ce.filename+";base64,"+Ge;case"pdfobjectnewwindow":if(Object.prototype.toString.call(ma)==="[object Window]"){var ht="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",St=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';Ce.pdfObjectUrl&&(ht=Ce.pdfObjectUrl,St="");var Tt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+ht+'"'+St+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(Ce)+");<\/script></body></html>",zt=ma.open();return zt!==null&&zt.document.write(Tt),zt}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(ma)==="[object Window]"){var Zt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(Ce.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+Ce.filename+'" width="500px" height="400px" /></body></html>',ga=ma.open();if(ga!==null){ga.document.write(Zt);var fa=this;ga.document.documentElement.querySelector("#pdfViewer").onload=function(){ga.document.title=Ce.filename,ga.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(fa.output("bloburl"))}}return ga}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(ma)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var Sa='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",Ce)+'"></iframe></body></html>',ti=ma.open();if(ti!==null&&(ti.document.write(Sa),ti.document.title=Ce.filename),ti||typeof safari>"u")return ti;break;case"datauri":case"dataurl":return ma.document.location.href=this.output("datauristring",Ce);default:return null}}),ml=function(L){return Array.isArray(wt)===!0&&wt.indexOf(L)>-1};switch(i){case"pt":Ie=1;break;case"mm":Ie=72/25.4;break;case"cm":Ie=72/2.54;break;case"in":Ie=72;break;case"px":Ie=ml("px_scaling")==1?.75:96/72;break;case"pc":case"em":Ie=12;break;case"ex":Ie=6;break;default:if(typeof i!="number")throw new Error("Invalid unit: "+i);Ie=i}var Ti=null;ne(),ce();var No=function(L){return v!==null?Ti.encryptor(L,0):function(Ce){return Ce}},Zn=p.__private__.getPageInfo=p.getPageInfo=function(L){if(isNaN(L)||L%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:ze[L].objId,pageNumber:L,pageContext:ze[L]}},da=p.__private__.getPageInfoByObjId=function(L){if(isNaN(L)||L%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var Ce in ze)if(ze[Ce].objId===L)break;return Zn(Ce)},SA=p.__private__.getCurrentPageInfo=p.getCurrentPageInfo=function(){return{objId:ze[V].objId,pageNumber:V,pageContext:ze[V]}};p.addPage=function(){return sc.apply(this,arguments),this},p.setPage=function(){return nc.apply(this,arguments),Z.call(this,te[V]),this},p.insertPage=function(L){return this.addPage(),this.movePage(V,L),this},p.movePage=function(L,Ce){var Ge,tt;if(L>Ce){Ge=te[L],tt=ze[L];for(var ht=L;ht>Ce;ht--)te[ht]=te[ht-1],ze[ht]=ze[ht-1];te[Ce]=Ge,ze[Ce]=tt,this.setPage(Ce)}else if(L<Ce){Ge=te[L],tt=ze[L];for(var St=L;St<Ce;St++)te[St]=te[St+1],ze[St]=ze[St+1];te[Ce]=Ge,ze[Ce]=tt,this.setPage(Ce)}return this},p.deletePage=function(){return NA.apply(this,arguments),this},p.__private__.text=p.text=function(L,Ce,Ge,tt,ht){var St,Tt,zt,Zt,ga,fa,Sa,ti,ri,pi=(tt=tt||{}).scope||this;if(typeof L=="number"&&typeof Ce=="number"&&(typeof Ge=="string"||Array.isArray(Ge))){var gi=Ge;Ge=Ce,Ce=L,L=gi}if(arguments[3]instanceof Ft?(Y("The transform parameter of text() with a Matrix value"),ri=ht):(zt=arguments[4],Zt=arguments[5],$a(Sa=arguments[3])==="object"&&Sa!==null||(typeof zt=="string"&&(Zt=zt,zt=null),typeof Sa=="string"&&(Zt=Sa,Sa=null),typeof Sa=="number"&&(zt=Sa,Sa=null),tt={flags:Sa,angle:zt,align:Zt})),isNaN(Ce)||isNaN(Ge)||L==null)throw new Error("Invalid arguments passed to jsPDF.text");if(L.length===0)return pi;var Ri="",hn=!1,Ts=typeof tt.lineHeightFactor=="number"?tt.lineHeightFactor:Is,mn=pi.internal.scaleFactor;function Do(ja){return ja=ja.split("	").join(Array(tt.TabLen||9).join(" ")),xs(ja,Sa)}function tr(ja){for(var Qa,ci=ja.concat(),hi=[],Js=ci.length;Js--;)typeof(Qa=ci.shift())=="string"?hi.push(Qa):Array.isArray(ja)&&(Qa.length===1||Qa[1]===void 0&&Qa[2]===void 0)?hi.push(Qa[0]):hi.push([Qa[0],Qa[1],Qa[2]]);return hi}function ar(ja,Qa){var ci;if(typeof ja=="string")ci=Qa(ja)[0];else if(Array.isArray(ja)){for(var hi,Js,Nl=ja.concat(),Hs=[],Uo=Nl.length;Uo--;)typeof(hi=Nl.shift())=="string"?Hs.push(Qa(hi)[0]):Array.isArray(hi)&&typeof hi[0]=="string"&&(Js=Qa(hi[0],hi[1],hi[2]),Hs.push([Js[0],Js[1],Js[2]]));ci=Hs}return ci}var vc=!1,kr=!0;if(typeof L=="string")vc=!0;else if(Array.isArray(L)){var xc=L.concat();Tt=[];for(var vl,_i=xc.length;_i--;)(typeof(vl=xc.shift())!="string"||Array.isArray(vl)&&typeof vl[0]!="string")&&(kr=!1);vc=kr}if(vc===!1)throw new Error('Type of text must be string or Array. "'+L+'" is not recognized.');typeof L=="string"&&(L=L.match(/[\r?\n]/)?L.split(/\r\n|\r|\n/g):[L]);var Ir=qe/pi.internal.scaleFactor,xl=Ir*(Ts-1);switch(tt.baseline){case"bottom":Ge-=xl;break;case"top":Ge+=Ir-xl;break;case"hanging":Ge+=Ir-2*xl;break;case"middle":Ge+=Ir/2-xl}if((fa=tt.maxWidth||0)>0&&(typeof L=="string"?L=pi.splitTextToSize(L,fa):Object.prototype.toString.call(L)==="[object Array]"&&(L=L.reduce(function(ja,Qa){return ja.concat(pi.splitTextToSize(Qa,fa))},[]))),St={text:L,x:Ce,y:Ge,options:tt,mutex:{pdfEscape:xs,activeFontKey:Me,fonts:jt,activeFontSize:qe}},Xe.publish("preProcessText",St),L=St.text,zt=(tt=St.options).angle,!(ri instanceof Ft)&&zt&&typeof zt=="number"){zt*=Math.PI/180,tt.rotationDirection===0&&(zt=-zt),M===O.ADVANCED&&(zt=-zt);var yl=Math.cos(zt),yc=Math.sin(zt);ri=new Ft(yl,yc,-yc,yl,0,0)}else zt&&zt instanceof Ft&&(ri=zt);M!==O.ADVANCED||ri||(ri=Ue),(ga=tt.charSpace||uc)!==void 0&&(Ri+=k(X(ga))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(ti=tt.horizontalScale)!==void 0&&(Ri+=k(100*ti)+` Tz
`),tt.lang;var ys=-1,Kd=tt.renderingMode!==void 0?tt.renderingMode:tt.stroke,Eo=pi.internal.getCurrentPageInfo().pageContext;switch(Kd){case 0:case!1:case"fill":ys=0;break;case 1:case!0:case"stroke":ys=1;break;case 2:case"fillThenStroke":ys=2;break;case 3:case"invisible":ys=3;break;case 4:case"fillAndAddForClipping":ys=4;break;case 5:case"strokeAndAddPathForClipping":ys=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":ys=6;break;case 7:case"addToPathForClipping":ys=7}var EA=Eo.usedRenderingMode!==void 0?Eo.usedRenderingMode:-1;ys!==-1?Ri+=ys+` Tr
`:EA!==-1&&(Ri+=`0 Tr
`),ys!==-1&&(Eo.usedRenderingMode=ys),Zt=tt.align||"left";var Xs,Pi=qe*Ts,Qr=pi.internal.pageSize.getWidth(),Lo=jt[Me];ga=tt.charSpace||uc,fa=tt.maxWidth||0,Sa=Object.assign({autoencode:!0,noBOM:!0},tt.flags);var ir=[],Tr=function(ja){return pi.getStringUnitWidth(ja,{font:Lo,charSpace:ga,fontSize:qe,doKerning:!1})*qe/mn};if(Object.prototype.toString.call(L)==="[object Array]"){var os;Tt=tr(L),Zt!=="left"&&(Xs=Tt.map(Tr));var Ki,Rr=0;if(Zt==="right"){Ce-=Xs[0],L=[],_i=Tt.length;for(var sr=0;sr<_i;sr++)sr===0?(Ki=Qs(Ce),os=In(Ge)):(Ki=X(Rr-Xs[sr]),os=-Pi),L.push([Tt[sr],Ki,os]),Rr=Xs[sr]}else if(Zt==="center"){Ce-=Xs[0]/2,L=[],_i=Tt.length;for(var bs=0;bs<_i;bs++)bs===0?(Ki=Qs(Ce),os=In(Ge)):(Ki=X((Rr-Xs[bs])/2),os=-Pi),L.push([Tt[bs],Ki,os]),Rr=Xs[bs]}else if(Zt==="left"){L=[],_i=Tt.length;for(var Pr=0;Pr<_i;Pr++)L.push(Tt[Pr])}else if(Zt==="justify"&&Lo.encoding==="Identity-H"){L=[],_i=Tt.length,fa=fa!==0?fa:Qr;for(var Rs=0,li=0;li<_i;li++)if(os=li===0?In(Ge):-Pi,Ki=li===0?Qs(Ce):Rs,li<_i-1){var bc=X((fa-Xs[li])/(Tt[li].split(" ").length-1)),vi=Tt[li].split(" ");L.push([vi[0]+" ",Ki,os]),Rs=0;for(var Vi=1;Vi<vi.length;Vi++){var Hr=(Tr(vi[Vi-1]+" "+vi[Vi])-Tr(vi[Vi]))*mn+bc;Vi==vi.length-1?L.push([vi[Vi],Hr,0]):L.push([vi[Vi]+" ",Hr,0]),Rs-=Hr}}else L.push([Tt[li],Ki,os]);L.push(["",Rs,0])}else{if(Zt!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(L=[],_i=Tt.length,fa=fa!==0?fa:Qr,li=0;li<_i;li++)os=li===0?In(Ge):-Pi,Ki=li===0?Qs(Ce):0,li<_i-1?ir.push(k(X((fa-Xs[li])/(Tt[li].split(" ").length-1)))):ir.push(0),L.push([Tt[li],Ki,os])}}var Mo=typeof tt.R2L=="boolean"?tt.R2L:kt;Mo===!0&&(L=ar(L,function(ja,Qa,ci){return[ja.split("").reverse().join(""),Qa,ci]})),St={text:L,x:Ce,y:Ge,options:tt,mutex:{pdfEscape:xs,activeFontKey:Me,fonts:jt,activeFontSize:qe}},Xe.publish("postProcessText",St),L=St.text,hn=St.mutex.isHex||!1;var fn=jt[Me].encoding;fn!=="WinAnsiEncoding"&&fn!=="StandardEncoding"||(L=ar(L,function(ja,Qa,ci){return[Do(ja),Qa,ci]})),Tt=tr(L),L=[];for(var qr,Kr,nr,bl=0,wc=1,wl=Array.isArray(Tt[0])?wc:bl,rr="",Nc=function(ja,Qa,ci){var hi="";return ci instanceof Ft?(ci=typeof tt.angle=="number"?Aa(ci,new Ft(1,0,0,1,ja,Qa)):Aa(new Ft(1,0,0,1,ja,Qa),ci),M===O.ADVANCED&&(ci=Aa(new Ft(1,0,0,-1,0,0),ci)),hi=ci.join(" ")+` Tm
`):hi=k(ja)+" "+k(Qa)+` Td
`,hi},Ps=0;Ps<Tt.length;Ps++){switch(rr="",wl){case wc:nr=(hn?"<":"(")+Tt[Ps][0]+(hn?">":")"),qr=parseFloat(Tt[Ps][1]),Kr=parseFloat(Tt[Ps][2]);break;case bl:nr=(hn?"<":"(")+Tt[Ps]+(hn?">":")"),qr=Qs(Ce),Kr=In(Ge)}ir!==void 0&&ir[Ps]!==void 0&&(rr=ir[Ps]+` Tw
`),Ps===0?L.push(rr+Nc(qr,Kr,ri)+nr):wl===bl?L.push(rr+nr):wl===wc&&L.push(rr+Nc(qr,Kr,ri)+nr)}L=wl===bl?L.join(` Tj
T* `):L.join(` Tj
`),L+=` Tj
`;var ui=`BT
/`;return ui+=Me+" "+qe+` Tf
`,ui+=k(qe*Ts)+` TL
`,ui+=pl+`
`,ui+=Ri,ui+=L,se(ui+="ET"),y[Me]=!0,pi};var jo=p.__private__.clip=p.clip=function(L){return se(L==="evenodd"?"W*":"W"),this};p.clipEvenOdd=function(){return jo("evenodd")},p.__private__.discardPath=p.discardPath=function(){return se("n"),this};var dn=p.__private__.isValidStyle=function(L){var Ce=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(L)!==-1&&(Ce=!0),Ce};p.__private__.setDefaultPathOperation=p.setDefaultPathOperation=function(L){return dn(L)&&(u=L),this};var Dr=p.__private__.getStyle=p.getStyle=function(L){var Ce=u;switch(L){case"D":case"S":Ce="S";break;case"F":Ce="f";break;case"FD":case"DF":Ce="B";break;case"f":case"f*":case"B":case"B*":Ce=L}return Ce},cc=p.close=function(){return se("h"),this};p.stroke=function(){return se("S"),this},p.fill=function(L){return Un("f",L),this},p.fillEvenOdd=function(L){return Un("f*",L),this},p.fillStroke=function(L){return Un("B",L),this},p.fillStrokeEvenOdd=function(L){return Un("B*",L),this};var Un=function(L,Ce){$a(Ce)==="object"?oc(Ce,L):se(L)},Ys=function(L){L===null||M===O.ADVANCED&&L===void 0||(L=Dr(L),se(L))};function Bo(L,Ce,Ge,tt,ht){var St=new bd(Ce||this.boundingBox,Ge||this.xStep,tt||this.yStep,this.gState,ht||this.matrix);St.stream=this.stream;var Tt=L+"$$"+this.cloneIndex+++"$$";return be(Tt,St),St}var oc=function(L,Ce){var Ge=it[L.key],tt=Ke[Ge];if(tt instanceof rA)se("q"),se(_A(Ce)),tt.gState&&p.setGState(tt.gState),se(L.matrix.toString()+" cm"),se("/"+Ge+" sh"),se("Q");else if(tt instanceof bd){var ht=new Ft(1,0,0,-1,0,Or());L.matrix&&(ht=ht.multiply(L.matrix||Ue),Ge=Bo.call(tt,L.key,L.boundingBox,L.xStep,L.yStep,ht).id),se("q"),se("/Pattern cs"),se("/"+Ge+" scn"),tt.gState&&p.setGState(tt.gState),se(Ce),se("Q")}},_A=function(L){switch(L){case"f":case"F":return"W n";case"f*":return"W* n";case"B":return"W S";case"B*":return"W* S";case"S":return"W S";case"n":return"W n"}},Er=p.moveTo=function(L,Ce){return se(k(X(L))+" "+k(fe(Ce))+" m"),this},On=p.lineTo=function(L,Ce){return se(k(X(L))+" "+k(fe(Ce))+" l"),this},er=p.curveTo=function(L,Ce,Ge,tt,ht,St){return se([k(X(L)),k(fe(Ce)),k(X(Ge)),k(fe(tt)),k(X(ht)),k(fe(St)),"c"].join(" ")),this};p.__private__.line=p.line=function(L,Ce,Ge,tt,ht){if(isNaN(L)||isNaN(Ce)||isNaN(Ge)||isNaN(tt)||!dn(ht))throw new Error("Invalid arguments passed to jsPDF.line");return M===O.COMPAT?this.lines([[Ge-L,tt-Ce]],L,Ce,[1,1],ht||"S"):this.lines([[Ge-L,tt-Ce]],L,Ce,[1,1]).stroke()},p.__private__.lines=p.lines=function(L,Ce,Ge,tt,ht,St){var Tt,zt,Zt,ga,fa,Sa,ti,ri,pi,gi,Ri,hn;if(typeof L=="number"&&(hn=Ge,Ge=Ce,Ce=L,L=hn),tt=tt||[1,1],St=St||!1,isNaN(Ce)||isNaN(Ge)||!Array.isArray(L)||!Array.isArray(tt)||!dn(ht)||typeof St!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(Er(Ce,Ge),Tt=tt[0],zt=tt[1],ga=L.length,gi=Ce,Ri=Ge,Zt=0;Zt<ga;Zt++)(fa=L[Zt]).length===2?(gi=fa[0]*Tt+gi,Ri=fa[1]*zt+Ri,On(gi,Ri)):(Sa=fa[0]*Tt+gi,ti=fa[1]*zt+Ri,ri=fa[2]*Tt+gi,pi=fa[3]*zt+Ri,gi=fa[4]*Tt+gi,Ri=fa[5]*zt+Ri,er(Sa,ti,ri,pi,gi,Ri));return St&&cc(),Ys(ht),this},p.path=function(L){for(var Ce=0;Ce<L.length;Ce++){var Ge=L[Ce],tt=Ge.c;switch(Ge.op){case"m":Er(tt[0],tt[1]);break;case"l":On(tt[0],tt[1]);break;case"c":er.apply(this,tt);break;case"h":cc()}}return this},p.__private__.rect=p.rect=function(L,Ce,Ge,tt,ht){if(isNaN(L)||isNaN(Ce)||isNaN(Ge)||isNaN(tt)||!dn(ht))throw new Error("Invalid arguments passed to jsPDF.rect");return M===O.COMPAT&&(tt=-tt),se([k(X(L)),k(fe(Ce)),k(X(Ge)),k(X(tt)),"re"].join(" ")),Ys(ht),this},p.__private__.triangle=p.triangle=function(L,Ce,Ge,tt,ht,St,Tt){if(isNaN(L)||isNaN(Ce)||isNaN(Ge)||isNaN(tt)||isNaN(ht)||isNaN(St)||!dn(Tt))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[Ge-L,tt-Ce],[ht-Ge,St-tt],[L-ht,Ce-St]],L,Ce,[1,1],Tt,!0),this},p.__private__.roundedRect=p.roundedRect=function(L,Ce,Ge,tt,ht,St,Tt){if(isNaN(L)||isNaN(Ce)||isNaN(Ge)||isNaN(tt)||isNaN(ht)||isNaN(St)||!dn(Tt))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var zt=4/3*(Math.SQRT2-1);return ht=Math.min(ht,.5*Ge),St=Math.min(St,.5*tt),this.lines([[Ge-2*ht,0],[ht*zt,0,ht,St-St*zt,ht,St],[0,tt-2*St],[0,St*zt,-ht*zt,St,-ht,St],[2*ht-Ge,0],[-ht*zt,0,-ht,-St*zt,-ht,-St],[0,2*St-tt],[0,-St*zt,ht*zt,-St,ht,-St]],L+ht,Ce,[1,1],Tt,!0),this},p.__private__.ellipse=p.ellipse=function(L,Ce,Ge,tt,ht){if(isNaN(L)||isNaN(Ce)||isNaN(Ge)||isNaN(tt)||!dn(ht))throw new Error("Invalid arguments passed to jsPDF.ellipse");var St=4/3*(Math.SQRT2-1)*Ge,Tt=4/3*(Math.SQRT2-1)*tt;return Er(L+Ge,Ce),er(L+Ge,Ce-Tt,L+St,Ce-tt,L,Ce-tt),er(L-St,Ce-tt,L-Ge,Ce-Tt,L-Ge,Ce),er(L-Ge,Ce+Tt,L-St,Ce+tt,L,Ce+tt),er(L+St,Ce+tt,L+Ge,Ce+Tt,L+Ge,Ce),Ys(ht),this},p.__private__.circle=p.circle=function(L,Ce,Ge,tt){if(isNaN(L)||isNaN(Ce)||isNaN(Ge)||!dn(tt))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(L,Ce,Ge,Ge,tt)},p.setFont=function(L,Ce,Ge){return Ge&&(Ce=H(Ce,Ge)),Me=wo(L,Ce,{disableWarning:!1}),this};var Zi=p.__private__.getFont=p.getFont=function(){return jt[wo.apply(p,arguments)]};p.__private__.getFontList=p.getFontList=function(){var L,Ce,Ge={};for(L in ft)if(ft.hasOwnProperty(L))for(Ce in Ge[L]=[],ft[L])ft[L].hasOwnProperty(Ce)&&Ge[L].push(Ce);return Ge},p.addFont=function(L,Ce,Ge,tt,ht){var St=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&St.indexOf(arguments[3])!==-1?ht=arguments[3]:arguments[3]&&St.indexOf(arguments[3])==-1&&(Ge=H(Ge,tt)),ht=ht||"Identity-H",bo.call(this,L,Ce,Ge,ht)};var Is,Lr=a.lineWidth||.200025,kn=p.__private__.getLineWidth=p.getLineWidth=function(){return Lr},FA=p.__private__.setLineWidth=p.setLineWidth=function(L){return Lr=L,se(k(X(L))+" w"),this};p.__private__.setLineDash=ea.API.setLineDash=ea.API.setLineDashPattern=function(L,Ce){if(L=L||[],Ce=Ce||0,isNaN(Ce)||!Array.isArray(L))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return L=L.map(function(Ge){return k(X(Ge))}).join(" "),Ce=k(X(Ce)),se("["+L+"] "+Ce+" d"),this};var Ac=p.__private__.getLineHeight=p.getLineHeight=function(){return qe*Is};p.__private__.getLineHeight=p.getLineHeight=function(){return qe*Is};var dc=p.__private__.setLineHeightFactor=p.setLineHeightFactor=function(L){return typeof(L=L||1.15)=="number"&&(Is=L),this},Mr=p.__private__.getLineHeightFactor=p.getLineHeightFactor=function(){return Is};dc(a.lineHeight);var Qs=p.__private__.getHorizontalCoordinate=function(L){return X(L)},In=p.__private__.getVerticalCoordinate=function(L){return M===O.ADVANCED?L:ze[V].mediaBox.topRightY-ze[V].mediaBox.bottomLeftY-X(L)},Rd=p.__private__.getHorizontalCoordinateString=p.getHorizontalCoordinateString=function(L){return k(Qs(L))},Ur=p.__private__.getVerticalCoordinateString=p.getVerticalCoordinateString=function(L){return k(In(L))},un=a.strokeColor||"0 G";p.__private__.getStrokeColor=p.getDrawColor=function(){return ve(un)},p.__private__.setStrokeColor=p.setDrawColor=function(L,Ce,Ge,tt){return un=Pe({ch1:L,ch2:Ce,ch3:Ge,ch4:tt,pdfColorType:"draw",precision:2}),se(un),this};var fl=a.fillColor||"0 g";p.__private__.getFillColor=p.getFillColor=function(){return ve(fl)},p.__private__.setFillColor=p.setFillColor=function(L,Ce,Ge,tt){return fl=Pe({ch1:L,ch2:Ce,ch3:Ge,ch4:tt,pdfColorType:"fill",precision:2}),se(fl),this};var pl=a.textColor||"0 g",Pd=p.__private__.getTextColor=p.getTextColor=function(){return ve(pl)};p.__private__.setTextColor=p.setTextColor=function(L,Ce,Ge,tt){return pl=Pe({ch1:L,ch2:Ce,ch3:Ge,ch4:tt,pdfColorType:"text",precision:3}),this};var uc=a.charSpace,Hd=p.__private__.getCharSpace=p.getCharSpace=function(){return parseFloat(uc||0)};p.__private__.setCharSpace=p.setCharSpace=function(L){if(isNaN(L))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return uc=L,this};var Co=0;p.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},p.__private__.setLineCap=p.setLineCap=function(L){var Ce=p.CapJoinStyles[L];if(Ce===void 0)throw new Error("Line cap style of '"+L+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Co=Ce,se(Ce+" J"),this};var hc=0;p.__private__.setLineJoin=p.setLineJoin=function(L){var Ce=p.CapJoinStyles[L];if(Ce===void 0)throw new Error("Line join style of '"+L+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return hc=Ce,se(Ce+" j"),this},p.__private__.setLineMiterLimit=p.__private__.setMiterLimit=p.setLineMiterLimit=p.setMiterLimit=function(L){if(L=L||0,isNaN(L))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return se(k(X(L))+" M"),this},p.GState=gf,p.setGState=function(L){(L=typeof L=="string"?De[Be[L]]:DA(null,L)).equals(pe)||(se("/"+L.id+" gs"),pe=L)};var DA=function(L,Ce){if(!L||!Be[L]){var Ge=!1;for(var tt in De)if(De.hasOwnProperty(tt)&&De[tt].equals(Ce)){Ge=!0;break}if(Ge)Ce=De[tt];else{var ht="GS"+(Object.keys(De).length+1).toString(10);De[ht]=Ce,Ce.id=ht}return L&&(Be[L]=Ce.id),Xe.publish("addGState",Ce),Ce}};p.addGState=function(L,Ce){return DA(L,Ce),this},p.saveGraphicsState=function(){return se("q"),It.push({key:Me,size:qe,color:pl}),this},p.restoreGraphicsState=function(){se("Q");var L=It.pop();return Me=L.key,qe=L.size,pl=L.color,pe=null,this},p.setCurrentTransformationMatrix=function(L){return se(L.toString()+" cm"),this},p.comment=function(L){return se("#"+L),this};var mc=function(L,Ce){var Ge=L||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return Ge},set:function(St){isNaN(St)||(Ge=parseFloat(St))}});var tt=Ce||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return tt},set:function(St){isNaN(St)||(tt=parseFloat(St))}});var ht="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return ht},set:function(St){ht=St.toString()}}),this},So=function(L,Ce,Ge,tt){mc.call(this,L,Ce),this.type="rect";var ht=Ge||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return ht},set:function(Tt){isNaN(Tt)||(ht=parseFloat(Tt))}});var St=tt||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return St},set:function(Tt){isNaN(Tt)||(St=parseFloat(Tt))}}),this},_o=function(){this.page=we,this.currentPage=V,this.pages=te.slice(0),this.pagesContext=ze.slice(0),this.x=Ze,this.y=nt,this.matrix=ot,this.width=gl(V),this.height=Or(V),this.outputDestination=W,this.id="",this.objectNumber=-1};_o.prototype.restore=function(){we=this.page,V=this.currentPage,ze=this.pagesContext,te=this.pages,Ze=this.x,nt=this.y,ot=this.matrix,gc(V,this.width),Fo(V,this.height),W=this.outputDestination};var fc=function(L,Ce,Ge,tt,ht){ta.push(new _o),we=V=0,te=[],Ze=L,nt=Ce,ot=ht,Ji([Ge,tt])},qd=function(L){if(Qt[L])ta.pop().restore();else{var Ce=new _o,Ge="Xo"+(Object.keys(yt).length+1).toString(10);Ce.id=Ge,Qt[L]=Ge,yt[Ge]=Ce,Xe.publish("addFormObject",Ce),ta.pop().restore()}};for(var pc in p.beginFormObject=function(L,Ce,Ge,tt,ht){return fc(L,Ce,Ge,tt,ht),this},p.endFormObject=function(L){return qd(L),this},p.doFormObject=function(L,Ce){var Ge=yt[Qt[L]];return se("q"),se(Ce.toString()+" cm"),se("/"+Ge.id+" Do"),se("Q"),this},p.getFormObject=function(L){var Ce=yt[Qt[L]];return{x:Ce.x,y:Ce.y,width:Ce.width,height:Ce.height,matrix:Ce.matrix}},p.save=function(L,Ce){return L=L||"generated.pdf",(Ce=Ce||{}).returnPromise=Ce.returnPromise||!1,Ce.returnPromise===!1?(nA(rc(An()),L),typeof nA.unload=="function"&&ma.setTimeout&&setTimeout(nA.unload,911),this):new Promise(function(Ge,tt){try{var ht=nA(rc(An()),L);typeof nA.unload=="function"&&ma.setTimeout&&setTimeout(nA.unload,911),Ge(ht)}catch(St){tt(St.message)}})},ea.API)ea.API.hasOwnProperty(pc)&&(pc==="events"&&ea.API.events.length?function(L,Ce){var Ge,tt,ht;for(ht=Ce.length-1;ht!==-1;ht--)Ge=Ce[ht][0],tt=Ce[ht][1],L.subscribe.apply(L,[Ge].concat(typeof tt=="function"?[tt]:tt))}(Xe,ea.API.events):p[pc]=ea.API[pc]);var gl=p.getPageWidth=function(L){return(ze[L=L||V].mediaBox.topRightX-ze[L].mediaBox.bottomLeftX)/Ie},gc=p.setPageWidth=function(L,Ce){ze[L].mediaBox.topRightX=Ce*Ie+ze[L].mediaBox.bottomLeftX},Or=p.getPageHeight=function(L){return(ze[L=L||V].mediaBox.topRightY-ze[L].mediaBox.bottomLeftY)/Ie},Fo=p.setPageHeight=function(L,Ce){ze[L].mediaBox.topRightY=Ce*Ie+ze[L].mediaBox.bottomLeftY};return p.internal={pdfEscape:xs,getStyle:Dr,getFont:Zi,getFontSize:st,getCharSpace:Hd,getTextColor:Pd,getLineHeight:Ac,getLineHeightFactor:Mr,getLineWidth:kn,write:Se,getHorizontalCoordinate:Qs,getVerticalCoordinate:In,getCoordinateString:Rd,getVerticalCoordinateString:Ur,collections:{},newObject:R,newAdditionalObject:ee,newObjectDeferred:G,newObjectDeferredBegin:oe,getFilters:We,putStream:ut,events:Xe,scaleFactor:Ie,pageSize:{getWidth:function(){return gl(V)},setWidth:function(L){gc(V,L)},getHeight:function(){return Or(V)},setHeight:function(L){Fo(V,L)}},encryptionOptions:v,encryption:Ti,getEncryptor:No,output:lc,getNumberOfPages:Fr,pages:te,out:se,f2:ge,f3:_,getPageInfo:Zn,getPageInfoByObjId:da,getCurrentPageInfo:SA,getPDFVersion:b,Point:mc,Rectangle:So,Matrix:Ft,hasHotfix:ml},Object.defineProperty(p.internal.pageSize,"width",{get:function(){return gl(V)},set:function(L){gc(V,L)},enumerable:!0,configurable:!0}),Object.defineProperty(p.internal.pageSize,"height",{get:function(){return Or(V)},set:function(L){Fo(V,L)},enumerable:!0,configurable:!0}),ic.call(p,Qe),Me="F1",sc(r,s),Xe.publish("initialized"),p}fd.prototype.lsbFirstWord=function(a){return String.fromCharCode(a>>0&255,a>>8&255,a>>16&255,a>>24&255)},fd.prototype.toHexString=function(a){return a.split("").map(function(t){return("0"+(255&t.charCodeAt(0)).toString(16)).slice(-2)}).join("")},fd.prototype.hexToBytes=function(a){for(var t=[],s=0;s<a.length;s+=2)t.push(String.fromCharCode(parseInt(a.substr(s,2),16)));return t.join("")},fd.prototype.processOwnerPassword=function(a,t){return ix(ax(t).substr(0,5),a)},fd.prototype.encryptor=function(a,t){var s=ax(this.encryptionKey+String.fromCharCode(255&a,a>>8&255,a>>16&255,255&t,t>>8&255)).substr(0,10);return function(i){return ix(s,i)}},gf.prototype.equals=function(a){var t,s="id,objectNumber,equals";if(!a||$a(a)!==$a(this))return!1;var i=0;for(t in this)if(!(s.indexOf(t)>=0)){if(this.hasOwnProperty(t)&&!a.hasOwnProperty(t)||this[t]!==a[t])return!1;i++}for(t in a)a.hasOwnProperty(t)&&s.indexOf(t)<0&&i--;return i===0},ea.API={events:[]},ea.version="3.0.1";var Si=ea.API,ny=1,bA=function(a){return a.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},ld=function(a){return a.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},xa=function(a){return a.toFixed(2)},Xc=function(a){return a.toFixed(5)};Si.__acroform__={};var on=function(a,t){a.prototype=Object.create(t.prototype),a.prototype.constructor=a},mN=function(a){return a*ny},il=function(a){var t=new N1,s=Xt.internal.getHeight(a)||0,i=Xt.internal.getWidth(a)||0;return t.BBox=[0,0,Number(xa(i)),Number(xa(s))],t},U3=Si.__acroform__.setBit=function(a,t){if(a=a||0,t=t||0,isNaN(a)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return a|=1<<t},O3=Si.__acroform__.clearBit=function(a,t){if(a=a||0,t=t||0,isNaN(a)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return a&=~(1<<t)},k3=Si.__acroform__.getBit=function(a,t){if(isNaN(a)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return a&1<<t?1:0},Ui=Si.__acroform__.getBitForPdf=function(a,t){if(isNaN(a)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return k3(a,t-1)},Oi=Si.__acroform__.setBitForPdf=function(a,t){if(isNaN(a)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return U3(a,t-1)},ki=Si.__acroform__.clearBitForPdf=function(a,t){if(isNaN(a)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return O3(a,t-1)},I3=Si.__acroform__.calculateCoordinates=function(a,t){var s=t.internal.getHorizontalCoordinate,i=t.internal.getVerticalCoordinate,r=a[0],c=a[1],A=a[2],d=a[3],h={};return h.lowerLeft_X=s(r)||0,h.lowerLeft_Y=i(c+d)||0,h.upperRight_X=s(r+A)||0,h.upperRight_Y=i(c)||0,[Number(xa(h.lowerLeft_X)),Number(xa(h.lowerLeft_Y)),Number(xa(h.upperRight_X)),Number(xa(h.upperRight_Y))]},Q3=function(a){if(a.appearanceStreamContent)return a.appearanceStreamContent;if(a.V||a.DV){var t=[],s=a._V||a.DV,i=sx(a,s),r=a.scope.internal.getFont(a.fontName,a.fontStyle).id;t.push("/Tx BMC"),t.push("q"),t.push("BT"),t.push(a.scope.__private__.encodeColorString(a.color)),t.push("/"+r+" "+xa(i.fontSize)+" Tf"),t.push("1 0 0 1 0 0 Tm"),t.push(i.text),t.push("ET"),t.push("Q"),t.push("EMC");var c=il(a);return c.scope=a.scope,c.stream=t.join(`
`),c}},sx=function(a,t){var s=a.fontSize===0?a.maxFontSize:a.fontSize,i={text:"",fontSize:""},r=(t=(t=t.substr(0,1)=="("?t.substr(1):t).substr(t.length-1)==")"?t.substr(0,t.length-1):t).split(" ");r=a.multiline?r.map(function(_){return _.split(`
`)}):r.map(function(_){return[_]});var c=s,A=Xt.internal.getHeight(a)||0;A=A<0?-A:A;var d=Xt.internal.getWidth(a)||0;d=d<0?-d:d;var h=function(_,X,re){if(_+1<r.length){var fe=X+" "+r[_+1][0];return gm(fe,a,re).width<=d-4}return!1};c++;e:for(;c>0;){t="",c--;var u,v,x=gm("3",a,c).height,y=a.multiline?A-c:(A-x)/2,p=y+=2,F=0,b=0,S=0;if(c<=0){t=`(...) Tj
`,t+="% Width of Text: "+gm(t,a,c=12).width+", FieldWidth:"+d+`
`;break}for(var f="",O=0,M=0;M<r.length;M++)if(r.hasOwnProperty(M)){var J=!1;if(r[M].length!==1&&S!==r[M].length-1){if((x+2)*(O+2)+2>A)continue e;f+=r[M][S],J=!0,b=M,M--}else{f=(f+=r[M][S]+" ").substr(f.length-1)==" "?f.substr(0,f.length-1):f;var K=parseInt(M),H=h(K,f,c),k=M>=r.length-1;if(H&&!k){f+=" ",S=0;continue}if(H||k){if(k)b=K;else if(a.multiline&&(x+2)*(O+2)+2>A)continue e}else{if(!a.multiline||(x+2)*(O+2)+2>A)continue e;b=K}}for(var Y="",D=F;D<=b;D++){var ge=r[D];if(a.multiline){if(D===b){Y+=ge[S]+" ",S=(S+1)%ge.length;continue}if(D===F){Y+=ge[ge.length-1]+" ";continue}}Y+=ge[0]+" "}switch(Y=Y.substr(Y.length-1)==" "?Y.substr(0,Y.length-1):Y,v=gm(Y,a,c).width,a.textAlign){case"right":u=d-v-2;break;case"center":u=(d-v)/2;break;case"left":default:u=2}t+=xa(u)+" "+xa(p)+` Td
`,t+="("+bA(Y)+`) Tj
`,t+=-xa(u)+` 0 Td
`,p=-(c+2),v=0,F=J?b:b+1,O++,f=""}break}return i.text=t,i.fontSize=c,i},gm=function(a,t,s){var i=t.scope.internal.getFont(t.fontName,t.fontStyle),r=t.scope.getStringUnitWidth(a,{font:i,fontSize:parseFloat(s),charSpace:0})*parseFloat(s);return{height:t.scope.getStringUnitWidth("3",{font:i,fontSize:parseFloat(s),charSpace:0})*parseFloat(s)*1.5,width:r}},T3={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},R3=function(a,t){var s={type:"reference",object:a};t.internal.getPageInfo(a.page).pageContext.annotations.find(function(i){return i.type===s.type&&i.object===s.object})===void 0&&t.internal.getPageInfo(a.page).pageContext.annotations.push(s)},P3=function(a,t){for(var s in a)if(a.hasOwnProperty(s)){var i=s,r=a[s];t.internal.newObjectDeferredBegin(r.objId,!0),$a(r)==="object"&&typeof r.putStream=="function"&&r.putStream(),delete a[i]}},H3=function(a,t){if(t.scope=a,a.internal!==void 0&&(a.internal.acroformPlugin===void 0||a.internal.acroformPlugin.isInitialized===!1)){if(Cr.FieldNum=0,a.internal.acroformPlugin=JSON.parse(JSON.stringify(T3)),a.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");ny=a.internal.scaleFactor,a.internal.acroformPlugin.acroFormDictionaryRoot=new j1,a.internal.acroformPlugin.acroFormDictionaryRoot.scope=a,a.internal.acroformPlugin.acroFormDictionaryRoot._eventID=a.internal.events.subscribe("postPutResources",function(){(function(s){s.internal.events.unsubscribe(s.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete s.internal.acroformPlugin.acroFormDictionaryRoot._eventID,s.internal.acroformPlugin.printedOut=!0})(a)}),a.internal.events.subscribe("buildDocument",function(){(function(s){s.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var i=s.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var r in i)if(i.hasOwnProperty(r)){var c=i[r];c.objId=void 0,c.hasAnnotation&&R3(c,s)}})(a)}),a.internal.events.subscribe("putCatalog",function(){(function(s){if(s.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");s.internal.write("/AcroForm "+s.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(a)}),a.internal.events.subscribe("postPutPages",function(s){(function(i,r){var c=!i;for(var A in i||(r.internal.newObjectDeferredBegin(r.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),r.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),i=i||r.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(i.hasOwnProperty(A)){var d=i[A],h=[],u=d.Rect;if(d.Rect&&(d.Rect=I3(d.Rect,r)),r.internal.newObjectDeferredBegin(d.objId,!0),d.DA=Xt.createDefaultAppearanceStream(d),$a(d)==="object"&&typeof d.getKeyValueListForStream=="function"&&(h=d.getKeyValueListForStream()),d.Rect=u,d.hasAppearanceStream&&!d.appearanceStreamContent){var v=Q3(d);h.push({key:"AP",value:"<</N "+v+">>"}),r.internal.acroformPlugin.xForms.push(v)}if(d.appearanceStreamContent){var x="";for(var y in d.appearanceStreamContent)if(d.appearanceStreamContent.hasOwnProperty(y)){var p=d.appearanceStreamContent[y];if(x+="/"+y+" ",x+="<<",Object.keys(p).length>=1||Array.isArray(p)){for(var A in p)if(p.hasOwnProperty(A)){var F=p[A];typeof F=="function"&&(F=F.call(r,d)),x+="/"+A+" "+F+" ",r.internal.acroformPlugin.xForms.indexOf(F)>=0||r.internal.acroformPlugin.xForms.push(F)}}else typeof(F=p)=="function"&&(F=F.call(r,d)),x+="/"+A+" "+F,r.internal.acroformPlugin.xForms.indexOf(F)>=0||r.internal.acroformPlugin.xForms.push(F);x+=">>"}h.push({key:"AP",value:`<<
`+x+">>"})}r.internal.putStream({additionalKeyValues:h,objectId:d.objId}),r.internal.out("endobj")}c&&P3(r.internal.acroformPlugin.xForms,r)})(s,a)}),a.internal.acroformPlugin.isInitialized=!0}},w1=Si.__acroform__.arrayToPdfArray=function(a,t,s){var i=function(A){return A};if(Array.isArray(a)){for(var r="[",c=0;c<a.length;c++)switch(c!==0&&(r+=" "),$a(a[c])){case"boolean":case"number":case"object":r+=a[c].toString();break;case"string":a[c].substr(0,1)!=="/"?(t!==void 0&&s&&(i=s.internal.getEncryptor(t)),r+="("+bA(i(a[c].toString()))+")"):r+=a[c].toString()}return r+="]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},zg=function(a,t,s){var i=function(r){return r};return t!==void 0&&s&&(i=s.internal.getEncryptor(t)),(a=a||"").toString(),a="("+bA(i(a))+")"},ll=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(a){this._objId=a}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};ll.prototype.toString=function(){return this.objId+" 0 R"},ll.prototype.putStream=function(){var a=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:a,objectId:this.objId}),this.scope.internal.out("endobj")},ll.prototype.getKeyValueListForStream=function(){var a=[],t=Object.getOwnPropertyNames(this).filter(function(c){return c!="content"&&c!="appearanceStreamContent"&&c!="scope"&&c!="objId"&&c.substring(0,1)!="_"});for(var s in t)if(Object.getOwnPropertyDescriptor(this,t[s]).configurable===!1){var i=t[s],r=this[i];r&&(Array.isArray(r)?a.push({key:i,value:w1(r,this.objId,this.scope)}):r instanceof ll?(r.scope=this.scope,a.push({key:i,value:r.objId+" 0 R"})):typeof r!="function"&&a.push({key:i,value:r}))}return a};var N1=function(){ll.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var a,t=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return t},set:function(s){t=s}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(s){a=s.trim()},get:function(){return a||null}})};on(N1,ll);var j1=function(){ll.call(this);var a,t=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return t.length>0?t:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return t}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(a){var s=function(i){return i};return this.scope&&(s=this.scope.internal.getEncryptor(this.objId)),"("+bA(s(a))+")"}},set:function(s){a=s}})};on(j1,ll);var Cr=function a(){ll.call(this);var t=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return t},set:function(f){if(isNaN(f))throw new Error('Invalid value "'+f+'" for attribute F supplied.');t=f}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!Ui(t,3)},set:function(f){f?this.F=Oi(t,3):this.F=ki(t,3)}});var s=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return s},set:function(f){if(isNaN(f))throw new Error('Invalid value "'+f+'" for attribute Ff supplied.');s=f}});var i=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(i.length!==0)return i},set:function(f){i=f!==void 0?f:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!i||isNaN(i[0])?0:i[0]},set:function(f){i[0]=f}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!i||isNaN(i[1])?0:i[1]},set:function(f){i[1]=f}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!i||isNaN(i[2])?0:i[2]},set:function(f){i[2]=f}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!i||isNaN(i[3])?0:i[3]},set:function(f){i[3]=f}});var r="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return r},set:function(f){switch(f){case"/Btn":case"/Tx":case"/Ch":case"/Sig":r=f;break;default:throw new Error('Invalid value "'+f+'" for attribute FT supplied.')}}});var c=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!c||c.length<1){if(this instanceof vf)return;c="FieldObject"+a.FieldNum++}var f=function(O){return O};return this.scope&&(f=this.scope.internal.getEncryptor(this.objId)),"("+bA(f(c))+")"},set:function(f){c=f.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return c},set:function(f){c=f}});var A="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return A},set:function(f){A=f}});var d="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return d},set:function(f){d=f}});var h=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return h},set:function(f){h=f}});var u=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return u===void 0?50/ny:u},set:function(f){u=f}});var v="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return v},set:function(f){v=f}});var x="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!x||this instanceof vf||this instanceof uA))return zg(x,this.objId,this.scope)},set:function(f){f=f.toString(),x=f}});var y=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(y)return this instanceof rs?y:zg(y,this.objId,this.scope)},set:function(f){f=f.toString(),y=this instanceof rs?f:f.substr(0,1)==="("?ld(f.substr(1,f.length-2)):ld(f)}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof rs?ld(y.substr(1,y.length-1)):y},set:function(f){f=f.toString(),y=this instanceof rs?"/"+f:f}});var p=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(p)return p},set:function(f){this.V=f}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(p)return this instanceof rs?p:zg(p,this.objId,this.scope)},set:function(f){f=f.toString(),p=this instanceof rs?f:f.substr(0,1)==="("?ld(f.substr(1,f.length-2)):ld(f)}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof rs?ld(p.substr(1,p.length-1)):p},set:function(f){f=f.toString(),p=this instanceof rs?"/"+f:f}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var F,b=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return b},set:function(f){f=!!f,b=f}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(F)return F},set:function(f){F=f}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!Ui(this.Ff,1)},set:function(f){f?this.Ff=Oi(this.Ff,1):this.Ff=ki(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!Ui(this.Ff,2)},set:function(f){f?this.Ff=Oi(this.Ff,2):this.Ff=ki(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!Ui(this.Ff,3)},set:function(f){f?this.Ff=Oi(this.Ff,3):this.Ff=ki(this.Ff,3)}});var S=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(S!==null)return S},set:function(f){if([0,1,2].indexOf(f)===-1)throw new Error('Invalid value "'+f+'" for attribute Q supplied.');S=f}}),Object.defineProperty(this,"textAlign",{get:function(){var f;switch(S){case 0:default:f="left";break;case 1:f="center";break;case 2:f="right"}return f},configurable:!0,enumerable:!0,set:function(f){switch(f){case"right":case 2:S=2;break;case"center":case 1:S=1;break;case"left":case 0:default:S=0}}})};on(Cr,ll);var Bd=function(){Cr.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var a=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return a},set:function(s){a=s}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return a},set:function(s){a=s}});var t=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return w1(t,this.objId,this.scope)},set:function(s){var i,r;r=[],typeof(i=s)=="string"&&(r=function(c,A,d){d||(d=1);for(var h,u=[];h=A.exec(c);)u.push(h[d]);return u}(i,/\((.*?)\)/g)),t=r}}),this.getOptions=function(){return t},this.setOptions=function(s){t=s,this.sort&&t.sort()},this.addOption=function(s){s=(s=s||"").toString(),t.push(s),this.sort&&t.sort()},this.removeOption=function(s,i){for(i=i||!1,s=(s=s||"").toString();t.indexOf(s)!==-1&&(t.splice(t.indexOf(s),1),i!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!Ui(this.Ff,18)},set:function(s){s?this.Ff=Oi(this.Ff,18):this.Ff=ki(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!Ui(this.Ff,19)},set:function(s){this.combo===!0&&(s?this.Ff=Oi(this.Ff,19):this.Ff=ki(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!Ui(this.Ff,20)},set:function(s){s?(this.Ff=Oi(this.Ff,20),t.sort()):this.Ff=ki(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!Ui(this.Ff,22)},set:function(s){s?this.Ff=Oi(this.Ff,22):this.Ff=ki(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Ui(this.Ff,23)},set:function(s){s?this.Ff=Oi(this.Ff,23):this.Ff=ki(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!Ui(this.Ff,27)},set:function(s){s?this.Ff=Oi(this.Ff,27):this.Ff=ki(this.Ff,27)}}),this.hasAppearanceStream=!1};on(Bd,Cr);var Cd=function(){Bd.call(this),this.fontName="helvetica",this.combo=!1};on(Cd,Bd);var Sd=function(){Cd.call(this),this.combo=!0};on(Sd,Cd);var Zm=function(){Sd.call(this),this.edit=!0};on(Zm,Sd);var rs=function(){Cr.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!Ui(this.Ff,15)},set:function(s){s?this.Ff=Oi(this.Ff,15):this.Ff=ki(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!Ui(this.Ff,16)},set:function(s){s?this.Ff=Oi(this.Ff,16):this.Ff=ki(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!Ui(this.Ff,17)},set:function(s){s?this.Ff=Oi(this.Ff,17):this.Ff=ki(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!Ui(this.Ff,26)},set:function(s){s?this.Ff=Oi(this.Ff,26):this.Ff=ki(this.Ff,26)}});var a,t={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var s=function(c){return c};if(this.scope&&(s=this.scope.internal.getEncryptor(this.objId)),Object.keys(t).length!==0){var i,r=[];for(i in r.push("<<"),t)r.push("/"+i+" ("+bA(s(t[i]))+")");return r.push(">>"),r.join(`
`)}},set:function(s){$a(s)==="object"&&(t=s)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return t.CA||""},set:function(s){typeof s=="string"&&(t.CA=s)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return a},set:function(s){a=s}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return a.substr(1,a.length-1)},set:function(s){a="/"+s}})};on(rs,Cr);var ef=function(){rs.call(this),this.pushButton=!0};on(ef,rs);var _d=function(){rs.call(this),this.radio=!0,this.pushButton=!1;var a=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return a},set:function(t){a=t!==void 0?t:[]}})};on(_d,rs);var vf=function(){var a,t;Cr.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return a},set:function(r){a=r}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return t},set:function(r){t=r}});var s,i={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var r=function(d){return d};this.scope&&(r=this.scope.internal.getEncryptor(this.objId));var c,A=[];for(c in A.push("<<"),i)A.push("/"+c+" ("+bA(r(i[c]))+")");return A.push(">>"),A.join(`
`)},set:function(r){$a(r)==="object"&&(i=r)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return i.CA||""},set:function(r){typeof r=="string"&&(i.CA=r)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return s},set:function(r){s=r}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return s.substr(1,s.length-1)},set:function(r){s="/"+r}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=Xt.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};on(vf,Cr),_d.prototype.setAppearance=function(a){if(!("createAppearanceStream"in a)||!("getCA"in a))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var t in this.Kids)if(this.Kids.hasOwnProperty(t)){var s=this.Kids[t];s.appearanceStreamContent=a.createAppearanceStream(s.optionName),s.caption=a.getCA()}},_d.prototype.createOption=function(a){var t=new vf;return t.Parent=this,t.optionName=a,this.Kids.push(t),q3.call(this.scope,t),t};var tf=function(){rs.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=Xt.CheckBox.createAppearanceStream()};on(tf,rs);var uA=function(){Cr.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!Ui(this.Ff,13)},set:function(t){t?this.Ff=Oi(this.Ff,13):this.Ff=ki(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!Ui(this.Ff,21)},set:function(t){t?this.Ff=Oi(this.Ff,21):this.Ff=ki(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Ui(this.Ff,23)},set:function(t){t?this.Ff=Oi(this.Ff,23):this.Ff=ki(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!Ui(this.Ff,24)},set:function(t){t?this.Ff=Oi(this.Ff,24):this.Ff=ki(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!Ui(this.Ff,25)},set:function(t){t?this.Ff=Oi(this.Ff,25):this.Ff=ki(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!Ui(this.Ff,26)},set:function(t){t?this.Ff=Oi(this.Ff,26):this.Ff=ki(this.Ff,26)}});var a=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return a},set:function(t){a=t}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return a},set:function(t){Number.isInteger(t)&&(a=t)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};on(uA,Cr);var af=function(){uA.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!Ui(this.Ff,14)},set:function(a){a?this.Ff=Oi(this.Ff,14):this.Ff=ki(this.Ff,14)}}),this.password=!0};on(af,uA);var Xt={CheckBox:{createAppearanceStream:function(){return{N:{On:Xt.CheckBox.YesNormal},D:{On:Xt.CheckBox.YesPushDown,Off:Xt.CheckBox.OffPushDown}}},YesPushDown:function(a){var t=il(a);t.scope=a.scope;var s=[],i=a.scope.internal.getFont(a.fontName,a.fontStyle).id,r=a.scope.__private__.encodeColorString(a.color),c=sx(a,a.caption);return s.push("0.749023 g"),s.push("0 0 "+xa(Xt.internal.getWidth(a))+" "+xa(Xt.internal.getHeight(a))+" re"),s.push("f"),s.push("BMC"),s.push("q"),s.push("0 0 1 rg"),s.push("/"+i+" "+xa(c.fontSize)+" Tf "+r),s.push("BT"),s.push(c.text),s.push("ET"),s.push("Q"),s.push("EMC"),t.stream=s.join(`
`),t},YesNormal:function(a){var t=il(a);t.scope=a.scope;var s=a.scope.internal.getFont(a.fontName,a.fontStyle).id,i=a.scope.__private__.encodeColorString(a.color),r=[],c=Xt.internal.getHeight(a),A=Xt.internal.getWidth(a),d=sx(a,a.caption);return r.push("1 g"),r.push("0 0 "+xa(A)+" "+xa(c)+" re"),r.push("f"),r.push("q"),r.push("0 0 1 rg"),r.push("0 0 "+xa(A-1)+" "+xa(c-1)+" re"),r.push("W"),r.push("n"),r.push("0 g"),r.push("BT"),r.push("/"+s+" "+xa(d.fontSize)+" Tf "+i),r.push(d.text),r.push("ET"),r.push("Q"),t.stream=r.join(`
`),t},OffPushDown:function(a){var t=il(a);t.scope=a.scope;var s=[];return s.push("0.749023 g"),s.push("0 0 "+xa(Xt.internal.getWidth(a))+" "+xa(Xt.internal.getHeight(a))+" re"),s.push("f"),t.stream=s.join(`
`),t}},RadioButton:{Circle:{createAppearanceStream:function(a){var t={D:{Off:Xt.RadioButton.Circle.OffPushDown},N:{}};return t.N[a]=Xt.RadioButton.Circle.YesNormal,t.D[a]=Xt.RadioButton.Circle.YesPushDown,t},getCA:function(){return"l"},YesNormal:function(a){var t=il(a);t.scope=a.scope;var s=[],i=Xt.internal.getWidth(a)<=Xt.internal.getHeight(a)?Xt.internal.getWidth(a)/4:Xt.internal.getHeight(a)/4;i=Number((.9*i).toFixed(5));var r=Xt.internal.Bezier_C,c=Number((i*r).toFixed(5));return s.push("q"),s.push("1 0 0 1 "+Xc(Xt.internal.getWidth(a)/2)+" "+Xc(Xt.internal.getHeight(a)/2)+" cm"),s.push(i+" 0 m"),s.push(i+" "+c+" "+c+" "+i+" 0 "+i+" c"),s.push("-"+c+" "+i+" -"+i+" "+c+" -"+i+" 0 c"),s.push("-"+i+" -"+c+" -"+c+" -"+i+" 0 -"+i+" c"),s.push(c+" -"+i+" "+i+" -"+c+" "+i+" 0 c"),s.push("f"),s.push("Q"),t.stream=s.join(`
`),t},YesPushDown:function(a){var t=il(a);t.scope=a.scope;var s=[],i=Xt.internal.getWidth(a)<=Xt.internal.getHeight(a)?Xt.internal.getWidth(a)/4:Xt.internal.getHeight(a)/4;i=Number((.9*i).toFixed(5));var r=Number((2*i).toFixed(5)),c=Number((r*Xt.internal.Bezier_C).toFixed(5)),A=Number((i*Xt.internal.Bezier_C).toFixed(5));return s.push("0.749023 g"),s.push("q"),s.push("1 0 0 1 "+Xc(Xt.internal.getWidth(a)/2)+" "+Xc(Xt.internal.getHeight(a)/2)+" cm"),s.push(r+" 0 m"),s.push(r+" "+c+" "+c+" "+r+" 0 "+r+" c"),s.push("-"+c+" "+r+" -"+r+" "+c+" -"+r+" 0 c"),s.push("-"+r+" -"+c+" -"+c+" -"+r+" 0 -"+r+" c"),s.push(c+" -"+r+" "+r+" -"+c+" "+r+" 0 c"),s.push("f"),s.push("Q"),s.push("0 g"),s.push("q"),s.push("1 0 0 1 "+Xc(Xt.internal.getWidth(a)/2)+" "+Xc(Xt.internal.getHeight(a)/2)+" cm"),s.push(i+" 0 m"),s.push(i+" "+A+" "+A+" "+i+" 0 "+i+" c"),s.push("-"+A+" "+i+" -"+i+" "+A+" -"+i+" 0 c"),s.push("-"+i+" -"+A+" -"+A+" -"+i+" 0 -"+i+" c"),s.push(A+" -"+i+" "+i+" -"+A+" "+i+" 0 c"),s.push("f"),s.push("Q"),t.stream=s.join(`
`),t},OffPushDown:function(a){var t=il(a);t.scope=a.scope;var s=[],i=Xt.internal.getWidth(a)<=Xt.internal.getHeight(a)?Xt.internal.getWidth(a)/4:Xt.internal.getHeight(a)/4;i=Number((.9*i).toFixed(5));var r=Number((2*i).toFixed(5)),c=Number((r*Xt.internal.Bezier_C).toFixed(5));return s.push("0.749023 g"),s.push("q"),s.push("1 0 0 1 "+Xc(Xt.internal.getWidth(a)/2)+" "+Xc(Xt.internal.getHeight(a)/2)+" cm"),s.push(r+" 0 m"),s.push(r+" "+c+" "+c+" "+r+" 0 "+r+" c"),s.push("-"+c+" "+r+" -"+r+" "+c+" -"+r+" 0 c"),s.push("-"+r+" -"+c+" -"+c+" -"+r+" 0 -"+r+" c"),s.push(c+" -"+r+" "+r+" -"+c+" "+r+" 0 c"),s.push("f"),s.push("Q"),t.stream=s.join(`
`),t}},Cross:{createAppearanceStream:function(a){var t={D:{Off:Xt.RadioButton.Cross.OffPushDown},N:{}};return t.N[a]=Xt.RadioButton.Cross.YesNormal,t.D[a]=Xt.RadioButton.Cross.YesPushDown,t},getCA:function(){return"8"},YesNormal:function(a){var t=il(a);t.scope=a.scope;var s=[],i=Xt.internal.calculateCross(a);return s.push("q"),s.push("1 1 "+xa(Xt.internal.getWidth(a)-2)+" "+xa(Xt.internal.getHeight(a)-2)+" re"),s.push("W"),s.push("n"),s.push(xa(i.x1.x)+" "+xa(i.x1.y)+" m"),s.push(xa(i.x2.x)+" "+xa(i.x2.y)+" l"),s.push(xa(i.x4.x)+" "+xa(i.x4.y)+" m"),s.push(xa(i.x3.x)+" "+xa(i.x3.y)+" l"),s.push("s"),s.push("Q"),t.stream=s.join(`
`),t},YesPushDown:function(a){var t=il(a);t.scope=a.scope;var s=Xt.internal.calculateCross(a),i=[];return i.push("0.749023 g"),i.push("0 0 "+xa(Xt.internal.getWidth(a))+" "+xa(Xt.internal.getHeight(a))+" re"),i.push("f"),i.push("q"),i.push("1 1 "+xa(Xt.internal.getWidth(a)-2)+" "+xa(Xt.internal.getHeight(a)-2)+" re"),i.push("W"),i.push("n"),i.push(xa(s.x1.x)+" "+xa(s.x1.y)+" m"),i.push(xa(s.x2.x)+" "+xa(s.x2.y)+" l"),i.push(xa(s.x4.x)+" "+xa(s.x4.y)+" m"),i.push(xa(s.x3.x)+" "+xa(s.x3.y)+" l"),i.push("s"),i.push("Q"),t.stream=i.join(`
`),t},OffPushDown:function(a){var t=il(a);t.scope=a.scope;var s=[];return s.push("0.749023 g"),s.push("0 0 "+xa(Xt.internal.getWidth(a))+" "+xa(Xt.internal.getHeight(a))+" re"),s.push("f"),t.stream=s.join(`
`),t}}},createDefaultAppearanceStream:function(a){var t=a.scope.internal.getFont(a.fontName,a.fontStyle).id,s=a.scope.__private__.encodeColorString(a.color);return"/"+t+" "+a.fontSize+" Tf "+s}};Xt.internal={Bezier_C:.551915024494,calculateCross:function(a){var t=Xt.internal.getWidth(a),s=Xt.internal.getHeight(a),i=Math.min(t,s);return{x1:{x:(t-i)/2,y:(s-i)/2+i},x2:{x:(t-i)/2+i,y:(s-i)/2},x3:{x:(t-i)/2,y:(s-i)/2},x4:{x:(t-i)/2+i,y:(s-i)/2+i}}}},Xt.internal.getWidth=function(a){var t=0;return $a(a)==="object"&&(t=mN(a.Rect[2])),t},Xt.internal.getHeight=function(a){var t=0;return $a(a)==="object"&&(t=mN(a.Rect[3])),t};var q3=Si.addField=function(a){if(H3(this,a),!(a instanceof Cr))throw new Error("Invalid argument passed to jsPDF.addField.");var t;return(t=a).scope.internal.acroformPlugin.printedOut&&(t.scope.internal.acroformPlugin.printedOut=!1,t.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),t.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(t),a.page=a.scope.internal.getCurrentPageInfo().pageNumber,this};Si.AcroFormChoiceField=Bd,Si.AcroFormListBox=Cd,Si.AcroFormComboBox=Sd,Si.AcroFormEditBox=Zm,Si.AcroFormButton=rs,Si.AcroFormPushButton=ef,Si.AcroFormRadioButton=_d,Si.AcroFormCheckBox=tf,Si.AcroFormTextField=uA,Si.AcroFormPasswordField=af,Si.AcroFormAppearance=Xt,Si.AcroForm={ChoiceField:Bd,ListBox:Cd,ComboBox:Sd,EditBox:Zm,Button:rs,PushButton:ef,RadioButton:_d,CheckBox:tf,TextField:uA,PasswordField:af,Appearance:Xt},ea.AcroForm={ChoiceField:Bd,ListBox:Cd,ComboBox:Sd,EditBox:Zm,Button:rs,PushButton:ef,RadioButton:_d,CheckBox:tf,TextField:uA,PasswordField:af,Appearance:Xt};ea.AcroForm;function B1(a){return a.reduce(function(t,s,i){return t[s]=i,t},{})}(function(a){a.__addimage__={};var t="UNKNOWN",s={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},i=a.__addimage__.getImageFileTypeByImageData=function(_,X){var re,fe,Ne,ue,_e,ce=t;if((X=X||t)==="RGBA"||_.data!==void 0&&_.data instanceof Uint8ClampedArray&&"height"in _&&"width"in _)return"RGBA";if(H(_))for(_e in s)for(Ne=s[_e],re=0;re<Ne.length;re+=1){for(ue=!0,fe=0;fe<Ne[re].length;fe+=1)if(Ne[re][fe]!==void 0&&Ne[re][fe]!==_[fe]){ue=!1;break}if(ue===!0){ce=_e;break}}else for(_e in s)for(Ne=s[_e],re=0;re<Ne.length;re+=1){for(ue=!0,fe=0;fe<Ne[re].length;fe+=1)if(Ne[re][fe]!==void 0&&Ne[re][fe]!==_.charCodeAt(fe)){ue=!1;break}if(ue===!0){ce=_e;break}}return ce===t&&X!==t&&(ce=X),ce},r=function _(X){for(var re=this.internal.write,fe=this.internal.putStream,Ne=(0,this.internal.getFilters)();Ne.indexOf("FlateEncode")!==-1;)Ne.splice(Ne.indexOf("FlateEncode"),1);X.objectId=this.internal.newObject();var ue=[];if(ue.push({key:"Type",value:"/XObject"}),ue.push({key:"Subtype",value:"/Image"}),ue.push({key:"Width",value:X.width}),ue.push({key:"Height",value:X.height}),X.colorSpace===S.INDEXED?ue.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(X.palette.length/3-1)+" "+("sMask"in X&&X.sMask!==void 0?X.objectId+2:X.objectId+1)+" 0 R]"}):(ue.push({key:"ColorSpace",value:"/"+X.colorSpace}),X.colorSpace===S.DEVICE_CMYK&&ue.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),ue.push({key:"BitsPerComponent",value:X.bitsPerComponent}),"decodeParameters"in X&&X.decodeParameters!==void 0&&ue.push({key:"DecodeParms",value:"<<"+X.decodeParameters+">>"}),"transparency"in X&&Array.isArray(X.transparency)){for(var _e="",ce=0,ye=X.transparency.length;ce<ye;ce++)_e+=X.transparency[ce]+" "+X.transparency[ce]+" ";ue.push({key:"Mask",value:"["+_e+"]"})}X.sMask!==void 0&&ue.push({key:"SMask",value:X.objectId+1+" 0 R"});var Q=X.filter!==void 0?["/"+X.filter]:void 0;if(fe({data:X.data,additionalKeyValues:ue,alreadyAppliedFilters:Q,objectId:X.objectId}),re("endobj"),"sMask"in X&&X.sMask!==void 0){var ne="/Predictor "+X.predictor+" /Colors 1 /BitsPerComponent "+X.bitsPerComponent+" /Columns "+X.width,U={width:X.width,height:X.height,colorSpace:"DeviceGray",bitsPerComponent:X.bitsPerComponent,decodeParameters:ne,data:X.sMask};"filter"in X&&(U.filter=X.filter),_.call(this,U)}if(X.colorSpace===S.INDEXED){var V=this.internal.newObject();fe({data:Y(new Uint8Array(X.palette)),objectId:V}),re("endobj")}},c=function(){var _=this.internal.collections.addImage_images;for(var X in _)r.call(this,_[X])},A=function(){var _,X=this.internal.collections.addImage_images,re=this.internal.write;for(var fe in X)re("/I"+(_=X[fe]).index,_.objectId,"0","R")},d=function(){this.internal.collections.addImage_images||(this.internal.collections.addImage_images={},this.internal.events.subscribe("putResources",c),this.internal.events.subscribe("putXobjectDict",A))},h=function(){var _=this.internal.collections.addImage_images;return d.call(this),_},u=function(){return Object.keys(this.internal.collections.addImage_images).length},v=function(_){return typeof a["process"+_.toUpperCase()]=="function"},x=function(_){return $a(_)==="object"&&_.nodeType===1},y=function(_,X){if(_.nodeName==="IMG"&&_.hasAttribute("src")){var re=""+_.getAttribute("src");if(re.indexOf("data:image/")===0)return Gu(unescape(re).split("base64,").pop());var fe=a.loadFile(re,!0);if(fe!==void 0)return fe}if(_.nodeName==="CANVAS"){if(_.width===0||_.height===0)throw new Error("Given canvas must have data. Canvas width: "+_.width+", height: "+_.height);var Ne;switch(X){case"PNG":Ne="image/png";break;case"WEBP":Ne="image/webp";break;case"JPEG":case"JPG":default:Ne="image/jpeg"}return Gu(_.toDataURL(Ne,1).split("base64,").pop())}},p=function(_){var X=this.internal.collections.addImage_images;if(X){for(var re in X)if(_===X[re].alias)return X[re]}},F=function(_,X,re){return _||X||(_=-96,X=-96),_<0&&(_=-1*re.width*72/_/this.internal.scaleFactor),X<0&&(X=-1*re.height*72/X/this.internal.scaleFactor),_===0&&(_=X*re.width/re.height),X===0&&(X=_*re.height/re.width),[_,X]},b=function(_,X,re,fe,Ne,ue){var _e=F.call(this,re,fe,Ne),ce=this.internal.getCoordinateString,ye=this.internal.getVerticalCoordinateString,Q=h.call(this);if(re=_e[0],fe=_e[1],Q[Ne.index]=Ne,ue){ue*=Math.PI/180;var ne=Math.cos(ue),U=Math.sin(ue),V=function(ie){return ie.toFixed(4)},T=[V(ne),V(U),V(-1*U),V(ne),0,0,"cm"]}this.internal.write("q"),ue?(this.internal.write([1,"0","0",1,ce(_),ye(X+fe),"cm"].join(" ")),this.internal.write(T.join(" ")),this.internal.write([ce(re),"0","0",ce(fe),"0","0","cm"].join(" "))):this.internal.write([ce(re),"0","0",ce(fe),ce(_),ye(X+fe),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+Ne.index+" Do"),this.internal.write("Q")},S=a.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};a.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var f=a.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},O=a.__addimage__.sHashCode=function(_){var X,re,fe=0;if(typeof _=="string")for(re=_.length,X=0;X<re;X++)fe=(fe<<5)-fe+_.charCodeAt(X),fe|=0;else if(H(_))for(re=_.byteLength/2,X=0;X<re;X++)fe=(fe<<5)-fe+_[X],fe|=0;return fe},M=a.__addimage__.validateStringAsBase64=function(_){(_=_||"").toString().trim();var X=!0;return _.length===0&&(X=!1),_.length%4!=0&&(X=!1),/^[A-Za-z0-9+/]+$/.test(_.substr(0,_.length-2))===!1&&(X=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(_.substr(-2))===!1&&(X=!1),X},J=a.__addimage__.extractImageFromDataUrl=function(_){if(_==null||!(_=_.trim()).startsWith("data:"))return null;var X=_.indexOf(",");return X<0?null:_.substring(0,X).trim().endsWith("base64")?_.substring(X+1):null},K=a.__addimage__.supportsArrayBuffer=function(){return typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"};a.__addimage__.isArrayBuffer=function(_){return K()&&_ instanceof ArrayBuffer};var H=a.__addimage__.isArrayBufferView=function(_){return K()&&typeof Uint32Array<"u"&&(_ instanceof Int8Array||_ instanceof Uint8Array||typeof Uint8ClampedArray<"u"&&_ instanceof Uint8ClampedArray||_ instanceof Int16Array||_ instanceof Uint16Array||_ instanceof Int32Array||_ instanceof Uint32Array||_ instanceof Float32Array||_ instanceof Float64Array)},k=a.__addimage__.binaryStringToUint8Array=function(_){for(var X=_.length,re=new Uint8Array(X),fe=0;fe<X;fe++)re[fe]=_.charCodeAt(fe);return re},Y=a.__addimage__.arrayBufferToBinaryString=function(_){for(var X="",re=H(_)?_:new Uint8Array(_),fe=0;fe<re.length;fe+=8192)X+=String.fromCharCode.apply(null,re.subarray(fe,fe+8192));return X};a.addImage=function(){var _,X,re,fe,Ne,ue,_e,ce,ye;if(typeof arguments[1]=="number"?(X=t,re=arguments[1],fe=arguments[2],Ne=arguments[3],ue=arguments[4],_e=arguments[5],ce=arguments[6],ye=arguments[7]):(X=arguments[1],re=arguments[2],fe=arguments[3],Ne=arguments[4],ue=arguments[5],_e=arguments[6],ce=arguments[7],ye=arguments[8]),$a(_=arguments[0])==="object"&&!x(_)&&"imageData"in _){var Q=_;_=Q.imageData,X=Q.format||X||t,re=Q.x||re||0,fe=Q.y||fe||0,Ne=Q.w||Q.width||Ne,ue=Q.h||Q.height||ue,_e=Q.alias||_e,ce=Q.compression||ce,ye=Q.rotation||Q.angle||ye}var ne=this.internal.getFilters();if(ce===void 0&&ne.indexOf("FlateEncode")!==-1&&(ce="SLOW"),isNaN(re)||isNaN(fe))throw new Error("Invalid coordinates passed to jsPDF.addImage");d.call(this);var U=D.call(this,_,X,_e,ce);return b.call(this,re,fe,Ne,ue,U,ye),this};var D=function(_,X,re,fe){var Ne,ue,_e;if(typeof _=="string"&&i(_)===t){_=unescape(_);var ce=ge(_,!1);(ce!==""||(ce=a.loadFile(_,!0))!==void 0)&&(_=ce)}if(x(_)&&(_=y(_,X)),X=i(_,X),!v(X))throw new Error("addImage does not support files of type '"+X+"', please ensure that a plugin for '"+X+"' support is added.");if(((_e=re)==null||_e.length===0)&&(re=function(ye){return typeof ye=="string"||H(ye)?O(ye):H(ye.data)?O(ye.data):null}(_)),(Ne=p.call(this,re))||(K()&&(_ instanceof Uint8Array||X==="RGBA"||(ue=_,_=k(_))),Ne=this["process"+X.toUpperCase()](_,u.call(this),re,function(ye){return ye&&typeof ye=="string"&&(ye=ye.toUpperCase()),ye in a.image_compression?ye:f.NONE}(fe),ue)),!Ne)throw new Error("An unknown error occurred whilst processing the image.");return Ne},ge=a.__addimage__.convertBase64ToBinaryString=function(_,X){X=typeof X!="boolean"||X;var re,fe="";if(typeof _=="string"){var Ne;re=(Ne=J(_))!==null&&Ne!==void 0?Ne:_;try{fe=Gu(re)}catch(ue){if(X)throw M(re)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+ue.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return fe};a.getImageProperties=function(_){var X,re,fe="";if(x(_)&&(_=y(_)),typeof _=="string"&&i(_)===t&&((fe=ge(_,!1))===""&&(fe=a.loadFile(_)||""),_=fe),re=i(_),!v(re))throw new Error("addImage does not support files of type '"+re+"', please ensure that a plugin for '"+re+"' support is added.");if(!K()||_ instanceof Uint8Array||(_=k(_)),!(X=this["process"+re.toUpperCase()](_)))throw new Error("An unknown error occurred whilst processing the image");return X.fileType=re,X}})(ea.API),function(a){var t=function(s){if(s!==void 0&&s!="")return!0};ea.API.events.push(["addPage",function(s){this.internal.getPageInfo(s.pageNumber).pageContext.annotations=[]}]),a.events.push(["putPage",function(s){for(var i,r,c,A=this.internal.getCoordinateString,d=this.internal.getVerticalCoordinateString,h=this.internal.getPageInfoByObjId(s.objId),u=s.pageContext.annotations,v=!1,x=0;x<u.length&&!v;x++)switch((i=u[x]).type){case"link":(t(i.options.url)||t(i.options.pageNumber))&&(v=!0);break;case"reference":case"text":case"freetext":v=!0}if(v!=0){this.internal.write("/Annots [");for(var y=0;y<u.length;y++){i=u[y];var p=this.internal.pdfEscape,F=this.internal.getEncryptor(s.objId);switch(i.type){case"reference":this.internal.write(" "+i.object.objId+" 0 R ");break;case"text":var b=this.internal.newAdditionalObject(),S=this.internal.newAdditionalObject(),f=this.internal.getEncryptor(b.objId),O=i.title||"Note";c="<</Type /Annot /Subtype /Text "+(r="/Rect ["+A(i.bounds.x)+" "+d(i.bounds.y+i.bounds.h)+" "+A(i.bounds.x+i.bounds.w)+" "+d(i.bounds.y)+"] ")+"/Contents ("+p(f(i.contents))+")",c+=" /Popup "+S.objId+" 0 R",c+=" /P "+h.objId+" 0 R",c+=" /T ("+p(f(O))+") >>",b.content=c;var M=b.objId+" 0 R";c="<</Type /Annot /Subtype /Popup "+(r="/Rect ["+A(i.bounds.x+30)+" "+d(i.bounds.y+i.bounds.h)+" "+A(i.bounds.x+i.bounds.w+30)+" "+d(i.bounds.y)+"] ")+" /Parent "+M,i.open&&(c+=" /Open true"),c+=" >>",S.content=c,this.internal.write(b.objId,"0 R",S.objId,"0 R");break;case"freetext":r="/Rect ["+A(i.bounds.x)+" "+d(i.bounds.y)+" "+A(i.bounds.x+i.bounds.w)+" "+d(i.bounds.y+i.bounds.h)+"] ";var J=i.color||"#000000";c="<</Type /Annot /Subtype /FreeText "+r+"/Contents ("+p(F(i.contents))+")",c+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+J+")",c+=" /Border [0 0 0]",c+=" >>",this.internal.write(c);break;case"link":if(i.options.name){var K=this.annotations._nameMap[i.options.name];i.options.pageNumber=K.page,i.options.top=K.y}else i.options.top||(i.options.top=0);if(r="/Rect ["+i.finalBounds.x+" "+i.finalBounds.y+" "+i.finalBounds.w+" "+i.finalBounds.h+"] ",c="",i.options.url)c="<</Type /Annot /Subtype /Link "+r+"/Border [0 0 0] /A <</S /URI /URI ("+p(F(i.options.url))+") >>";else if(i.options.pageNumber)switch(c="<</Type /Annot /Subtype /Link "+r+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(i.options.pageNumber).objId+" 0 R",i.options.magFactor=i.options.magFactor||"XYZ",i.options.magFactor){case"Fit":c+=" /Fit]";break;case"FitH":c+=" /FitH "+i.options.top+"]";break;case"FitV":i.options.left=i.options.left||0,c+=" /FitV "+i.options.left+"]";break;case"XYZ":default:var H=d(i.options.top);i.options.left=i.options.left||0,i.options.zoom===void 0&&(i.options.zoom=0),c+=" /XYZ "+i.options.left+" "+H+" "+i.options.zoom+"]"}c!=""&&(c+=" >>",this.internal.write(c))}}this.internal.write("]")}}]),a.createAnnotation=function(s){var i=this.internal.getCurrentPageInfo();switch(s.type){case"link":this.link(s.bounds.x,s.bounds.y,s.bounds.w,s.bounds.h,s);break;case"text":case"freetext":i.pageContext.annotations.push(s)}},a.link=function(s,i,r,c,A){var d=this.internal.getCurrentPageInfo(),h=this.internal.getCoordinateString,u=this.internal.getVerticalCoordinateString;d.pageContext.annotations.push({finalBounds:{x:h(s),y:u(i),w:h(s+r),h:u(i+c)},options:A,type:"link"})},a.textWithLink=function(s,i,r,c){var A,d,h=this.getTextWidth(s),u=this.internal.getLineHeight()/this.internal.scaleFactor;if(c.maxWidth!==void 0){d=c.maxWidth;var v=this.splitTextToSize(s,d).length;A=Math.ceil(u*v)}else d=h,A=u;return this.text(s,i,r,c),r+=.2*u,c.align==="center"&&(i-=h/2),c.align==="right"&&(i-=h),this.link(i,r-u,d,A,c),h},a.getTextWidth=function(s){var i=this.internal.getFontSize();return this.getStringUnitWidth(s)*i/this.internal.scaleFactor}}(ea.API),function(a){var t={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},s={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},i={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},r=[1570,1571,1573,1575];a.__arabicParser__={};var c=a.__arabicParser__.isInArabicSubstitutionA=function(b){return t[b.charCodeAt(0)]!==void 0},A=a.__arabicParser__.isArabicLetter=function(b){return typeof b=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(b)},d=a.__arabicParser__.isArabicEndLetter=function(b){return A(b)&&c(b)&&t[b.charCodeAt(0)].length<=2},h=a.__arabicParser__.isArabicAlfLetter=function(b){return A(b)&&r.indexOf(b.charCodeAt(0))>=0};a.__arabicParser__.arabicLetterHasIsolatedForm=function(b){return A(b)&&c(b)&&t[b.charCodeAt(0)].length>=1};var u=a.__arabicParser__.arabicLetterHasFinalForm=function(b){return A(b)&&c(b)&&t[b.charCodeAt(0)].length>=2};a.__arabicParser__.arabicLetterHasInitialForm=function(b){return A(b)&&c(b)&&t[b.charCodeAt(0)].length>=3};var v=a.__arabicParser__.arabicLetterHasMedialForm=function(b){return A(b)&&c(b)&&t[b.charCodeAt(0)].length==4},x=a.__arabicParser__.resolveLigatures=function(b){var S=0,f=s,O="",M=0;for(S=0;S<b.length;S+=1)f[b.charCodeAt(S)]!==void 0?(M++,typeof(f=f[b.charCodeAt(S)])=="number"&&(O+=String.fromCharCode(f),f=s,M=0),S===b.length-1&&(f=s,O+=b.charAt(S-(M-1)),S-=M-1,M=0)):(f=s,O+=b.charAt(S-M),S-=M,M=0);return O};a.__arabicParser__.isArabicDiacritic=function(b){return b!==void 0&&i[b.charCodeAt(0)]!==void 0};var y=a.__arabicParser__.getCorrectForm=function(b,S,f){return A(b)?c(b)===!1?-1:!u(b)||!A(S)&&!A(f)||!A(f)&&d(S)||d(b)&&!A(S)||d(b)&&h(S)||d(b)&&d(S)?0:v(b)&&A(S)&&!d(S)&&A(f)&&u(f)?3:d(b)||!A(f)?1:2:-1},p=function(b){var S=0,f=0,O=0,M="",J="",K="",H=(b=b||"").split("\\s+"),k=[];for(S=0;S<H.length;S+=1){for(k.push(""),f=0;f<H[S].length;f+=1)M=H[S][f],J=H[S][f-1],K=H[S][f+1],A(M)?(O=y(M,J,K),k[S]+=O!==-1?String.fromCharCode(t[M.charCodeAt(0)][O]):M):k[S]+=M;k[S]=x(k[S])}return k.join(" ")},F=a.__arabicParser__.processArabic=a.processArabic=function(){var b,S=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,f=[];if(Array.isArray(S)){var O=0;for(f=[],O=0;O<S.length;O+=1)Array.isArray(S[O])?f.push([p(S[O][0]),S[O][1],S[O][2]]):f.push([p(S[O])]);b=f}else b=p(S);return typeof arguments[0]=="string"?b:(arguments[0].text=b,arguments[0])};a.events.push(["preProcessText",F])}(ea.API),ea.API.autoPrint=function(a){var t;switch((a=a||{}).variant=a.variant||"non-conform",a.variant){case"javascript":this.addJS("print({});");break;case"non-conform":default:this.internal.events.subscribe("postPutResources",function(){t=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+t+" 0 R")})}return this},function(a){var t=function(){var s=void 0;Object.defineProperty(this,"pdf",{get:function(){return s},set:function(d){s=d}});var i=150;Object.defineProperty(this,"width",{get:function(){return i},set:function(d){i=isNaN(d)||Number.isInteger(d)===!1||d<0?150:d,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=i+1)}});var r=300;Object.defineProperty(this,"height",{get:function(){return r},set:function(d){r=isNaN(d)||Number.isInteger(d)===!1||d<0?300:d,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=r+1)}});var c=[];Object.defineProperty(this,"childNodes",{get:function(){return c},set:function(d){c=d}});var A={};Object.defineProperty(this,"style",{get:function(){return A},set:function(d){A=d}}),Object.defineProperty(this,"parentNode",{})};t.prototype.getContext=function(s,i){var r;if((s=s||"2d")!=="2d")return null;for(r in i)this.pdf.context2d.hasOwnProperty(r)&&(this.pdf.context2d[r]=i[r]);return this.pdf.context2d._canvas=this,this.pdf.context2d},t.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},a.events.push(["initialized",function(){this.canvas=new t,this.canvas.pdf=this}])}(ea.API),function(a){var t={left:0,top:0,bottom:0,right:0},s=!1,i=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},t),this.internal.__cell__.margins.width=this.getPageWidth(),r.call(this))},r=function(){this.internal.__cell__.lastCell=new c,this.internal.__cell__.pages=1},c=function(){var h=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return h},set:function(b){h=b}});var u=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return u},set:function(b){u=b}});var v=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return v},set:function(b){v=b}});var x=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return x},set:function(b){x=b}});var y=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return y},set:function(b){y=b}});var p=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return p},set:function(b){p=b}});var F=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return F},set:function(b){F=b}}),this};c.prototype.clone=function(){return new c(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},c.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},a.setHeaderFunction=function(h){return i.call(this),this.internal.__cell__.headerFunction=typeof h=="function"?h:void 0,this},a.getTextDimensions=function(h,u){i.call(this);var v=(u=u||{}).fontSize||this.getFontSize(),x=u.font||this.getFont(),y=u.scaleFactor||this.internal.scaleFactor,p=0,F=0,b=0,S=this;if(!Array.isArray(h)&&typeof h!="string"){if(typeof h!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");h=String(h)}var f=u.maxWidth;f>0?typeof h=="string"?h=this.splitTextToSize(h,f):Object.prototype.toString.call(h)==="[object Array]"&&(h=h.reduce(function(M,J){return M.concat(S.splitTextToSize(J,f))},[])):h=Array.isArray(h)?h:[h];for(var O=0;O<h.length;O++)p<(b=this.getStringUnitWidth(h[O],{font:x})*v)&&(p=b);return p!==0&&(F=h.length),{w:p/=y,h:Math.max((F*v*this.getLineHeightFactor()-v*(this.getLineHeightFactor()-1))/y,0)}},a.cellAddPage=function(){i.call(this),this.addPage();var h=this.internal.__cell__.margins||t;return this.internal.__cell__.lastCell=new c(h.left,h.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var A=a.cell=function(){var h;h=arguments[0]instanceof c?arguments[0]:new c(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),i.call(this);var u=this.internal.__cell__.lastCell,v=this.internal.__cell__.padding,x=this.internal.__cell__.margins||t,y=this.internal.__cell__.tableHeaderRow,p=this.internal.__cell__.printHeaders;return u.lineNumber!==void 0&&(u.lineNumber===h.lineNumber?(h.x=(u.x||0)+(u.width||0),h.y=u.y||0):u.y+u.height+h.height+x.bottom>this.getPageHeight()?(this.cellAddPage(),h.y=x.top,p&&y&&(this.printHeaderRow(h.lineNumber,!0),h.y+=y[0].height)):h.y=u.y+u.height||h.y),h.text[0]!==void 0&&(this.rect(h.x,h.y,h.width,h.height,s===!0?"FD":void 0),h.align==="right"?this.text(h.text,h.x+h.width-v,h.y+v,{align:"right",baseline:"top"}):h.align==="center"?this.text(h.text,h.x+h.width/2,h.y+v,{align:"center",baseline:"top",maxWidth:h.width-v-v}):this.text(h.text,h.x+v,h.y+v,{align:"left",baseline:"top",maxWidth:h.width-v-v})),this.internal.__cell__.lastCell=h,this};a.table=function(h,u,v,x,y){if(i.call(this),!v)throw new Error("No data for PDF table.");var p,F,b,S,f=[],O=[],M=[],J={},K={},H=[],k=[],Y=(y=y||{}).autoSize||!1,D=y.printHeaders!==!1,ge=y.css&&y.css["font-size"]!==void 0?16*y.css["font-size"]:y.fontSize||12,_=y.margins||Object.assign({width:this.getPageWidth()},t),X=typeof y.padding=="number"?y.padding:3,re=y.headerBackgroundColor||"#c8c8c8",fe=y.headerTextColor||"#000";if(r.call(this),this.internal.__cell__.printHeaders=D,this.internal.__cell__.margins=_,this.internal.__cell__.table_font_size=ge,this.internal.__cell__.padding=X,this.internal.__cell__.headerBackgroundColor=re,this.internal.__cell__.headerTextColor=fe,this.setFontSize(ge),x==null)O=f=Object.keys(v[0]),M=f.map(function(){return"left"});else if(Array.isArray(x)&&$a(x[0])==="object")for(f=x.map(function(Q){return Q.name}),O=x.map(function(Q){return Q.prompt||Q.name||""}),M=x.map(function(Q){return Q.align||"left"}),p=0;p<x.length;p+=1)K[x[p].name]=x[p].width*(19.049976/25.4);else Array.isArray(x)&&typeof x[0]=="string"&&(O=f=x,M=f.map(function(){return"left"}));if(Y||Array.isArray(x)&&typeof x[0]=="string")for(p=0;p<f.length;p+=1){for(J[S=f[p]]=v.map(function(Q){return Q[S]}),this.setFont(void 0,"bold"),H.push(this.getTextDimensions(O[p],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),F=J[S],this.setFont(void 0,"normal"),b=0;b<F.length;b+=1)H.push(this.getTextDimensions(F[b],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);K[S]=Math.max.apply(null,H)+X+X,H=[]}if(D){var Ne={};for(p=0;p<f.length;p+=1)Ne[f[p]]={},Ne[f[p]].text=O[p],Ne[f[p]].align=M[p];var ue=d.call(this,Ne,K);k=f.map(function(Q){return new c(h,u,K[Q],ue,Ne[Q].text,void 0,Ne[Q].align)}),this.setTableHeaderRow(k),this.printHeaderRow(1,!1)}var _e=x.reduce(function(Q,ne){return Q[ne.name]=ne.align,Q},{});for(p=0;p<v.length;p+=1){"rowStart"in y&&y.rowStart instanceof Function&&y.rowStart({row:p,data:v[p]},this);var ce=d.call(this,v[p],K);for(b=0;b<f.length;b+=1){var ye=v[p][f[b]];"cellStart"in y&&y.cellStart instanceof Function&&y.cellStart({row:p,col:b,data:ye},this),A.call(this,new c(h,u,K[f[b]],ce,ye,p+2,_e[f[b]]))}}return this.internal.__cell__.table_x=h,this.internal.__cell__.table_y=u,this};var d=function(h,u){var v=this.internal.__cell__.padding,x=this.internal.__cell__.table_font_size,y=this.internal.scaleFactor;return Object.keys(h).map(function(p){var F=h[p];return this.splitTextToSize(F.hasOwnProperty("text")?F.text:F,u[p]-v-v)},this).map(function(p){return this.getLineHeightFactor()*p.length*x/y+v+v},this).reduce(function(p,F){return Math.max(p,F)},0)};a.setTableHeaderRow=function(h){i.call(this),this.internal.__cell__.tableHeaderRow=h},a.printHeaderRow=function(h,u){if(i.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var v;if(s=!0,typeof this.internal.__cell__.headerFunction=="function"){var x=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new c(x[0],x[1],x[2],x[3],void 0,-1)}this.setFont(void 0,"bold");for(var y=[],p=0;p<this.internal.__cell__.tableHeaderRow.length;p+=1){v=this.internal.__cell__.tableHeaderRow[p].clone(),u&&(v.y=this.internal.__cell__.margins.top||0,y.push(v)),v.lineNumber=h;var F=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),A.call(this,v),this.setTextColor(F)}y.length>0&&this.setTableHeaderRow(y),this.setFont(void 0,"normal"),s=!1}}(ea.API);var C1={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},S1=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],nx=B1(S1),_1=[100,200,300,400,500,600,700,800,900],K3=B1(_1);function rx(a){var t=a.family.replace(/"|'/g,"").toLowerCase(),s=function(c){return C1[c=c||"normal"]?c:"normal"}(a.style),i=function(c){if(!c)return 400;if(typeof c=="number")return c>=100&&c<=900&&c%100==0?c:400;if(/^\d00$/.test(c))return parseInt(c);switch(c){case"bold":return 700;case"normal":default:return 400}}(a.weight),r=function(c){return typeof nx[c=c||"normal"]=="number"?c:"normal"}(a.stretch);return{family:t,style:s,weight:i,stretch:r,src:a.src||[],ref:a.ref||{name:t,style:[r,s,i].join(" ")}}}function fN(a,t,s,i){var r;for(r=s;r>=0&&r<t.length;r+=i)if(a[t[r]])return a[t[r]];for(r=s;r>=0&&r<t.length;r-=i)if(a[t[r]])return a[t[r]]}var V3={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},pN={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function gN(a){return[a.stretch,a.style,a.weight,a.family].join(" ")}function z3(a,t,s){for(var i=(s=s||{}).defaultFontFamily||"times",r=Object.assign({},V3,s.genericFontFamilies||{}),c=null,A=null,d=0;d<t.length;++d)if(r[(c=rx(t[d])).family]&&(c.family=r[c.family]),a.hasOwnProperty(c.family)){A=a[c.family];break}if(!(A=A||a[i]))throw new Error("Could not find a font-family for the rule '"+gN(c)+"' and default family '"+i+"'.");if(A=function(h,u){if(u[h])return u[h];var v=nx[h],x=v<=nx.normal?-1:1,y=fN(u,S1,v,x);if(!y)throw new Error("Could not find a matching font-stretch value for "+h);return y}(c.stretch,A),A=function(h,u){if(u[h])return u[h];for(var v=C1[h],x=0;x<v.length;++x)if(u[v[x]])return u[v[x]];throw new Error("Could not find a matching font-style for "+h)}(c.style,A),!(A=function(h,u){if(u[h])return u[h];if(h===400&&u[500])return u[500];if(h===500&&u[400])return u[400];var v=K3[h],x=fN(u,_1,v,h<400?-1:1);if(!x)throw new Error("Could not find a matching font-weight for value "+h);return x}(c.weight,A)))throw new Error("Failed to resolve a font for the rule '"+gN(c)+"'.");return A}function vN(a){return a.trimLeft()}function $3(a,t){for(var s=0;s<a.length;){if(a.charAt(s)===t)return[a.substring(0,s),a.substring(s+1)];s+=1}return null}function G3(a){var t=a.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return t===null?null:[t[0],a.substring(t[0].length)]}var vm,xN,yN,$g=["times"];(function(a){var t,s,i,r,c,A,d,h,u,v=function(U){return U=U||{},this.isStrokeTransparent=U.isStrokeTransparent||!1,this.strokeOpacity=U.strokeOpacity||1,this.strokeStyle=U.strokeStyle||"#000000",this.fillStyle=U.fillStyle||"#000000",this.isFillTransparent=U.isFillTransparent||!1,this.fillOpacity=U.fillOpacity||1,this.font=U.font||"10px sans-serif",this.textBaseline=U.textBaseline||"alphabetic",this.textAlign=U.textAlign||"left",this.lineWidth=U.lineWidth||1,this.lineJoin=U.lineJoin||"miter",this.lineCap=U.lineCap||"butt",this.path=U.path||[],this.transform=U.transform!==void 0?U.transform.clone():new h,this.globalCompositeOperation=U.globalCompositeOperation||"normal",this.globalAlpha=U.globalAlpha||1,this.clip_path=U.clip_path||[],this.currentPoint=U.currentPoint||new A,this.miterLimit=U.miterLimit||10,this.lastPoint=U.lastPoint||new A,this.lineDashOffset=U.lineDashOffset||0,this.lineDash=U.lineDash||[],this.margin=U.margin||[0,0,0,0],this.prevPageLastElemOffset=U.prevPageLastElemOffset||0,this.ignoreClearRect=typeof U.ignoreClearRect!="boolean"||U.ignoreClearRect,this};a.events.push(["initialized",function(){this.context2d=new x(this),t=this.internal.f2,s=this.internal.getCoordinateString,i=this.internal.getVerticalCoordinateString,r=this.internal.getHorizontalCoordinate,c=this.internal.getVerticalCoordinate,A=this.internal.Point,d=this.internal.Rectangle,h=this.internal.Matrix,u=new v}]);var x=function(U){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var V=U;Object.defineProperty(this,"pdf",{get:function(){return V}});var T=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return T},set:function(Z){T=!!Z}});var ie=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return ie},set:function(Z){ie=!!Z}});var ae=0;Object.defineProperty(this,"posX",{get:function(){return ae},set:function(Z){isNaN(Z)||(ae=Z)}});var P=0;Object.defineProperty(this,"posY",{get:function(){return P},set:function(Z){isNaN(Z)||(P=Z)}}),Object.defineProperty(this,"margin",{get:function(){return u.margin},set:function(Z){var se;typeof Z=="number"?se=[Z,Z,Z,Z]:((se=new Array(4))[0]=Z[0],se[1]=Z.length>=2?Z[1]:se[0],se[2]=Z.length>=3?Z[2]:se[0],se[3]=Z.length>=4?Z[3]:se[1]),u.margin=se}});var z=!1;Object.defineProperty(this,"autoPaging",{get:function(){return z},set:function(Z){z=Z}});var B=0;Object.defineProperty(this,"lastBreak",{get:function(){return B},set:function(Z){B=Z}});var q=[];Object.defineProperty(this,"pageBreaks",{get:function(){return q},set:function(Z){q=Z}}),Object.defineProperty(this,"ctx",{get:function(){return u},set:function(Z){Z instanceof v&&(u=Z)}}),Object.defineProperty(this,"path",{get:function(){return u.path},set:function(Z){u.path=Z}});var te=[];Object.defineProperty(this,"ctxStack",{get:function(){return te},set:function(Z){te=Z}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(Z){var se;se=y(Z),this.ctx.fillStyle=se.style,this.ctx.isFillTransparent=se.a===0,this.ctx.fillOpacity=se.a,this.pdf.setFillColor(se.r,se.g,se.b,{a:se.a}),this.pdf.setTextColor(se.r,se.g,se.b,{a:se.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(Z){var se=y(Z);this.ctx.strokeStyle=se.style,this.ctx.isStrokeTransparent=se.a===0,this.ctx.strokeOpacity=se.a,se.a===0?this.pdf.setDrawColor(255,255,255):(se.a,this.pdf.setDrawColor(se.r,se.g,se.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(Z){["butt","round","square"].indexOf(Z)!==-1&&(this.ctx.lineCap=Z,this.pdf.setLineCap(Z))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(Z){isNaN(Z)||(this.ctx.lineWidth=Z,this.pdf.setLineWidth(Z))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(Z){["bevel","round","miter"].indexOf(Z)!==-1&&(this.ctx.lineJoin=Z,this.pdf.setLineJoin(Z))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(Z){isNaN(Z)||(this.ctx.miterLimit=Z,this.pdf.setMiterLimit(Z))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(Z){this.ctx.textBaseline=Z}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(Z){["right","end","center","left","start"].indexOf(Z)!==-1&&(this.ctx.textAlign=Z)}});var he=null;function W(Z,se){if(he===null){var Se=function(He){var Qe=[];return Object.keys(He).forEach(function(qe){He[qe].forEach(function(Ye){var st=null;switch(Ye){case"bold":st={family:qe,weight:"bold"};break;case"italic":st={family:qe,style:"italic"};break;case"bolditalic":st={family:qe,weight:"bold",style:"italic"};break;case"":case"normal":st={family:qe}}st!==null&&(st.ref={name:qe,style:Ye},Qe.push(st))})}),Qe}(Z.getFontList());he=function(He){for(var Qe={},qe=0;qe<He.length;++qe){var Ye=rx(He[qe]),st=Ye.family,kt=Ye.stretch,Mt=Ye.style,ke=Ye.weight;Qe[st]=Qe[st]||{},Qe[st][kt]=Qe[st][kt]||{},Qe[st][kt][Mt]=Qe[st][kt][Mt]||{},Qe[st][kt][Mt][ke]=Ye}return Qe}(Se.concat(se))}return he}var C=null;Object.defineProperty(this,"fontFaces",{get:function(){return C},set:function(Z){he=null,C=Z}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(Z){var se;if(this.ctx.font=Z,(se=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(Z))!==null){var Se=se[1];se[2];var He=se[3],Qe=se[4];se[5];var qe=se[6],Ye=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(Qe)[2];Qe=Math.floor(Ye==="px"?parseFloat(Qe)*this.pdf.internal.scaleFactor:Ye==="em"?parseFloat(Qe)*this.pdf.getFontSize():parseFloat(Qe)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(Qe);var st=function(de){var Me,Ie,Ze=[],nt=de.trim();if(nt==="")return $g;if(nt in pN)return[pN[nt]];for(;nt!=="";){switch(Ie=null,Me=(nt=vN(nt)).charAt(0)){case'"':case"'":Ie=$3(nt.substring(1),Me);break;default:Ie=G3(nt)}if(Ie===null||(Ze.push(Ie[0]),(nt=vN(Ie[1]))!==""&&nt.charAt(0)!==","))return $g;nt=nt.replace(/^,/,"")}return Ze}(qe);if(this.fontFaces){var kt=z3(W(this.pdf,this.fontFaces),st.map(function(de){return{family:de,stretch:"normal",weight:He,style:Se}}));this.pdf.setFont(kt.ref.name,kt.ref.style)}else{var Mt="";(He==="bold"||parseInt(He,10)>=700||Se==="bold")&&(Mt="bold"),Se==="italic"&&(Mt+="italic"),Mt.length===0&&(Mt="normal");for(var ke="",$e={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},Ae=0;Ae<st.length;Ae++){if(this.pdf.internal.getFont(st[Ae],Mt,{noFallback:!0,disableWarning:!0})!==void 0){ke=st[Ae];break}if(Mt==="bolditalic"&&this.pdf.internal.getFont(st[Ae],"bold",{noFallback:!0,disableWarning:!0})!==void 0)ke=st[Ae],Mt="bold";else if(this.pdf.internal.getFont(st[Ae],"normal",{noFallback:!0,disableWarning:!0})!==void 0){ke=st[Ae],Mt="normal";break}}if(ke===""){for(var Le=0;Le<st.length;Le++)if($e[st[Le]]){ke=$e[st[Le]];break}}ke=ke===""?"Times":ke,this.pdf.setFont(ke,Mt)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(Z){this.ctx.globalCompositeOperation=Z}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(Z){this.ctx.globalAlpha=Z}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(Z){this.ctx.lineDashOffset=Z,ne.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(Z){this.ctx.lineDash=Z,ne.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(Z){this.ctx.ignoreClearRect=!!Z}})};x.prototype.setLineDash=function(U){this.lineDash=U},x.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},x.prototype.fill=function(){J.call(this,"fill",!1)},x.prototype.stroke=function(){J.call(this,"stroke",!1)},x.prototype.beginPath=function(){this.path=[{type:"begin"}]},x.prototype.moveTo=function(U,V){if(isNaN(U)||isNaN(V))throw Za.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var T=this.ctx.transform.applyToPoint(new A(U,V));this.path.push({type:"mt",x:T.x,y:T.y}),this.ctx.lastPoint=new A(U,V)},x.prototype.closePath=function(){var U=new A(0,0),V=0;for(V=this.path.length-1;V!==-1;V--)if(this.path[V].type==="begin"&&$a(this.path[V+1])==="object"&&typeof this.path[V+1].x=="number"){U=new A(this.path[V+1].x,this.path[V+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new A(U.x,U.y)},x.prototype.lineTo=function(U,V){if(isNaN(U)||isNaN(V))throw Za.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var T=this.ctx.transform.applyToPoint(new A(U,V));this.path.push({type:"lt",x:T.x,y:T.y}),this.ctx.lastPoint=new A(T.x,T.y)},x.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),J.call(this,null,!0)},x.prototype.quadraticCurveTo=function(U,V,T,ie){if(isNaN(T)||isNaN(ie)||isNaN(U)||isNaN(V))throw Za.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var ae=this.ctx.transform.applyToPoint(new A(T,ie)),P=this.ctx.transform.applyToPoint(new A(U,V));this.path.push({type:"qct",x1:P.x,y1:P.y,x:ae.x,y:ae.y}),this.ctx.lastPoint=new A(ae.x,ae.y)},x.prototype.bezierCurveTo=function(U,V,T,ie,ae,P){if(isNaN(ae)||isNaN(P)||isNaN(U)||isNaN(V)||isNaN(T)||isNaN(ie))throw Za.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var z=this.ctx.transform.applyToPoint(new A(ae,P)),B=this.ctx.transform.applyToPoint(new A(U,V)),q=this.ctx.transform.applyToPoint(new A(T,ie));this.path.push({type:"bct",x1:B.x,y1:B.y,x2:q.x,y2:q.y,x:z.x,y:z.y}),this.ctx.lastPoint=new A(z.x,z.y)},x.prototype.arc=function(U,V,T,ie,ae,P){if(isNaN(U)||isNaN(V)||isNaN(T)||isNaN(ie)||isNaN(ae))throw Za.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(P=!!P,!this.ctx.transform.isIdentity){var z=this.ctx.transform.applyToPoint(new A(U,V));U=z.x,V=z.y;var B=this.ctx.transform.applyToPoint(new A(0,T)),q=this.ctx.transform.applyToPoint(new A(0,0));T=Math.sqrt(Math.pow(B.x-q.x,2)+Math.pow(B.y-q.y,2))}Math.abs(ae-ie)>=2*Math.PI&&(ie=0,ae=2*Math.PI),this.path.push({type:"arc",x:U,y:V,radius:T,startAngle:ie,endAngle:ae,counterclockwise:P})},x.prototype.arcTo=function(U,V,T,ie,ae){throw new Error("arcTo not implemented.")},x.prototype.rect=function(U,V,T,ie){if(isNaN(U)||isNaN(V)||isNaN(T)||isNaN(ie))throw Za.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(U,V),this.lineTo(U+T,V),this.lineTo(U+T,V+ie),this.lineTo(U,V+ie),this.lineTo(U,V),this.lineTo(U+T,V),this.lineTo(U,V)},x.prototype.fillRect=function(U,V,T,ie){if(isNaN(U)||isNaN(V)||isNaN(T)||isNaN(ie))throw Za.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!p.call(this)){var ae={};this.lineCap!=="butt"&&(ae.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(ae.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(U,V,T,ie),this.fill(),ae.hasOwnProperty("lineCap")&&(this.lineCap=ae.lineCap),ae.hasOwnProperty("lineJoin")&&(this.lineJoin=ae.lineJoin)}},x.prototype.strokeRect=function(U,V,T,ie){if(isNaN(U)||isNaN(V)||isNaN(T)||isNaN(ie))throw Za.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");F.call(this)||(this.beginPath(),this.rect(U,V,T,ie),this.stroke())},x.prototype.clearRect=function(U,V,T,ie){if(isNaN(U)||isNaN(V)||isNaN(T)||isNaN(ie))throw Za.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(U,V,T,ie))},x.prototype.save=function(U){U=typeof U!="boolean"||U;for(var V=this.pdf.internal.getCurrentPageInfo().pageNumber,T=0;T<this.pdf.internal.getNumberOfPages();T++)this.pdf.setPage(T+1),this.pdf.internal.out("q");if(this.pdf.setPage(V),U){this.ctx.fontSize=this.pdf.internal.getFontSize();var ie=new v(this.ctx);this.ctxStack.push(this.ctx),this.ctx=ie}},x.prototype.restore=function(U){U=typeof U!="boolean"||U;for(var V=this.pdf.internal.getCurrentPageInfo().pageNumber,T=0;T<this.pdf.internal.getNumberOfPages();T++)this.pdf.setPage(T+1),this.pdf.internal.out("Q");this.pdf.setPage(V),U&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},x.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var y=function(U){var V,T,ie,ae;if(U.isCanvasGradient===!0&&(U=U.getColor()),!U)return{r:0,g:0,b:0,a:0,style:U};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(U))V=0,T=0,ie=0,ae=0;else{var P=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(U);if(P!==null)V=parseInt(P[1]),T=parseInt(P[2]),ie=parseInt(P[3]),ae=1;else if((P=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(U))!==null)V=parseInt(P[1]),T=parseInt(P[2]),ie=parseInt(P[3]),ae=parseFloat(P[4]);else{if(ae=1,typeof U=="string"&&U.charAt(0)!=="#"){var z=new x1(U);U=z.ok?z.toHex():"#000000"}U.length===4?(V=U.substring(1,2),V+=V,T=U.substring(2,3),T+=T,ie=U.substring(3,4),ie+=ie):(V=U.substring(1,3),T=U.substring(3,5),ie=U.substring(5,7)),V=parseInt(V,16),T=parseInt(T,16),ie=parseInt(ie,16)}}return{r:V,g:T,b:ie,a:ae,style:U}},p=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},F=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};x.prototype.fillText=function(U,V,T,ie){if(isNaN(V)||isNaN(T)||typeof U!="string")throw Za.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(ie=isNaN(ie)?void 0:ie,!p.call(this)){var ae=ce(this.ctx.transform.rotation),P=this.ctx.transform.scaleX;X.call(this,{text:U,x:V,y:T,scale:P,angle:ae,align:this.textAlign,maxWidth:ie})}},x.prototype.strokeText=function(U,V,T,ie){if(isNaN(V)||isNaN(T)||typeof U!="string")throw Za.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!F.call(this)){ie=isNaN(ie)?void 0:ie;var ae=ce(this.ctx.transform.rotation),P=this.ctx.transform.scaleX;X.call(this,{text:U,x:V,y:T,scale:P,renderingMode:"stroke",angle:ae,align:this.textAlign,maxWidth:ie})}},x.prototype.measureText=function(U){if(typeof U!="string")throw Za.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var V=this.pdf,T=this.pdf.internal.scaleFactor,ie=V.internal.getFontSize(),ae=V.getStringUnitWidth(U)*ie/V.internal.scaleFactor,P=function(z){var B=(z=z||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return B}}),this};return new P({width:ae*=Math.round(96*T/72*1e4)/1e4})},x.prototype.scale=function(U,V){if(isNaN(U)||isNaN(V))throw Za.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var T=new h(U,0,0,V,0,0);this.ctx.transform=this.ctx.transform.multiply(T)},x.prototype.rotate=function(U){if(isNaN(U))throw Za.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var V=new h(Math.cos(U),Math.sin(U),-Math.sin(U),Math.cos(U),0,0);this.ctx.transform=this.ctx.transform.multiply(V)},x.prototype.translate=function(U,V){if(isNaN(U)||isNaN(V))throw Za.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var T=new h(1,0,0,1,U,V);this.ctx.transform=this.ctx.transform.multiply(T)},x.prototype.transform=function(U,V,T,ie,ae,P){if(isNaN(U)||isNaN(V)||isNaN(T)||isNaN(ie)||isNaN(ae)||isNaN(P))throw Za.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var z=new h(U,V,T,ie,ae,P);this.ctx.transform=this.ctx.transform.multiply(z)},x.prototype.setTransform=function(U,V,T,ie,ae,P){U=isNaN(U)?1:U,V=isNaN(V)?0:V,T=isNaN(T)?0:T,ie=isNaN(ie)?1:ie,ae=isNaN(ae)?0:ae,P=isNaN(P)?0:P,this.ctx.transform=new h(U,V,T,ie,ae,P)};var b=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};x.prototype.drawImage=function(U,V,T,ie,ae,P,z,B,q){var te=this.pdf.getImageProperties(U),he=1,W=1,C=1,Z=1;ie!==void 0&&B!==void 0&&(C=B/ie,Z=q/ae,he=te.width/ie*B/ie,W=te.height/ae*q/ae),P===void 0&&(P=V,z=T,V=0,T=0),ie!==void 0&&B===void 0&&(B=ie,q=ae),ie===void 0&&B===void 0&&(B=te.width,q=te.height);for(var se,Se=this.ctx.transform.decompose(),He=ce(Se.rotate.shx),Qe=new h,qe=(Qe=(Qe=(Qe=Qe.multiply(Se.translate)).multiply(Se.skew)).multiply(Se.scale)).applyToRectangle(new d(P-V*C,z-T*Z,ie*he,ae*W)),Ye=S.call(this,qe),st=[],kt=0;kt<Ye.length;kt+=1)st.indexOf(Ye[kt])===-1&&st.push(Ye[kt]);if(M(st),this.autoPaging)for(var Mt=st[0],ke=st[st.length-1],$e=Mt;$e<ke+1;$e++){this.pdf.setPage($e);var Ae=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Le=$e===1?this.posY+this.margin[0]:this.margin[0],de=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Me=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Ie=$e===1?0:de+($e-2)*Me;if(this.ctx.clip_path.length!==0){var Ze=this.path;se=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=O(se,this.posX+this.margin[3],-Ie+Le+this.ctx.prevPageLastElemOffset),K.call(this,"fill",!0),this.path=Ze}var nt=JSON.parse(JSON.stringify(qe));nt=O([nt],this.posX+this.margin[3],-Ie+Le+this.ctx.prevPageLastElemOffset)[0];var ot=($e>Mt||$e<ke)&&b.call(this);ot&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Ae,Me,null).clip().discardPath()),this.pdf.addImage(U,"JPEG",nt.x,nt.y,nt.w,nt.h,null,null,He),ot&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(U,"JPEG",qe.x,qe.y,qe.w,qe.h,null,null,He)};var S=function(U,V,T){var ie=[];V=V||this.pdf.internal.pageSize.width,T=T||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var ae=this.posY+this.ctx.prevPageLastElemOffset;switch(U.type){default:case"mt":case"lt":ie.push(Math.floor((U.y+ae)/T)+1);break;case"arc":ie.push(Math.floor((U.y+ae-U.radius)/T)+1),ie.push(Math.floor((U.y+ae+U.radius)/T)+1);break;case"qct":var P=ye(this.ctx.lastPoint.x,this.ctx.lastPoint.y,U.x1,U.y1,U.x,U.y);ie.push(Math.floor((P.y+ae)/T)+1),ie.push(Math.floor((P.y+P.h+ae)/T)+1);break;case"bct":var z=Q(this.ctx.lastPoint.x,this.ctx.lastPoint.y,U.x1,U.y1,U.x2,U.y2,U.x,U.y);ie.push(Math.floor((z.y+ae)/T)+1),ie.push(Math.floor((z.y+z.h+ae)/T)+1);break;case"rect":ie.push(Math.floor((U.y+ae)/T)+1),ie.push(Math.floor((U.y+U.h+ae)/T)+1)}for(var B=0;B<ie.length;B+=1)for(;this.pdf.internal.getNumberOfPages()<ie[B];)f.call(this);return ie},f=function(){var U=this.fillStyle,V=this.strokeStyle,T=this.font,ie=this.lineCap,ae=this.lineWidth,P=this.lineJoin;this.pdf.addPage(),this.fillStyle=U,this.strokeStyle=V,this.font=T,this.lineCap=ie,this.lineWidth=ae,this.lineJoin=P},O=function(U,V,T){for(var ie=0;ie<U.length;ie++)switch(U[ie].type){case"bct":U[ie].x2+=V,U[ie].y2+=T;case"qct":U[ie].x1+=V,U[ie].y1+=T;case"mt":case"lt":case"arc":default:U[ie].x+=V,U[ie].y+=T}return U},M=function(U){return U.sort(function(V,T){return V-T})},J=function(U,V){for(var T,ie,ae=this.fillStyle,P=this.strokeStyle,z=this.lineCap,B=this.lineWidth,q=Math.abs(B*this.ctx.transform.scaleX),te=this.lineJoin,he=JSON.parse(JSON.stringify(this.path)),W=JSON.parse(JSON.stringify(this.path)),C=[],Z=0;Z<W.length;Z++)if(W[Z].x!==void 0)for(var se=S.call(this,W[Z]),Se=0;Se<se.length;Se+=1)C.indexOf(se[Se])===-1&&C.push(se[Se]);for(var He=0;He<C.length;He++)for(;this.pdf.internal.getNumberOfPages()<C[He];)f.call(this);if(M(C),this.autoPaging)for(var Qe=C[0],qe=C[C.length-1],Ye=Qe;Ye<qe+1;Ye++){this.pdf.setPage(Ye),this.fillStyle=ae,this.strokeStyle=P,this.lineCap=z,this.lineWidth=q,this.lineJoin=te;var st=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],kt=Ye===1?this.posY+this.margin[0]:this.margin[0],Mt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],ke=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],$e=Ye===1?0:Mt+(Ye-2)*ke;if(this.ctx.clip_path.length!==0){var Ae=this.path;T=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=O(T,this.posX+this.margin[3],-$e+kt+this.ctx.prevPageLastElemOffset),K.call(this,U,!0),this.path=Ae}if(ie=JSON.parse(JSON.stringify(he)),this.path=O(ie,this.posX+this.margin[3],-$e+kt+this.ctx.prevPageLastElemOffset),V===!1||Ye===0){var Le=(Ye>Qe||Ye<qe)&&b.call(this);Le&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],st,ke,null).clip().discardPath()),K.call(this,U,V),Le&&this.pdf.restoreGraphicsState()}this.lineWidth=B}else this.lineWidth=q,K.call(this,U,V),this.lineWidth=B;this.path=he},K=function(U,V){if((U!=="stroke"||V||!F.call(this))&&(U==="stroke"||V||!p.call(this))){for(var T,ie,ae=[],P=this.path,z=0;z<P.length;z++){var B=P[z];switch(B.type){case"begin":ae.push({begin:!0});break;case"close":ae.push({close:!0});break;case"mt":ae.push({start:B,deltas:[],abs:[]});break;case"lt":var q=ae.length;if(P[z-1]&&!isNaN(P[z-1].x)&&(T=[B.x-P[z-1].x,B.y-P[z-1].y],q>0)){for(;q>=0;q--)if(ae[q-1].close!==!0&&ae[q-1].begin!==!0){ae[q-1].deltas.push(T),ae[q-1].abs.push(B);break}}break;case"bct":T=[B.x1-P[z-1].x,B.y1-P[z-1].y,B.x2-P[z-1].x,B.y2-P[z-1].y,B.x-P[z-1].x,B.y-P[z-1].y],ae[ae.length-1].deltas.push(T);break;case"qct":var te=P[z-1].x+2/3*(B.x1-P[z-1].x),he=P[z-1].y+2/3*(B.y1-P[z-1].y),W=B.x+2/3*(B.x1-B.x),C=B.y+2/3*(B.y1-B.y),Z=B.x,se=B.y;T=[te-P[z-1].x,he-P[z-1].y,W-P[z-1].x,C-P[z-1].y,Z-P[z-1].x,se-P[z-1].y],ae[ae.length-1].deltas.push(T);break;case"arc":ae.push({deltas:[],abs:[],arc:!0}),Array.isArray(ae[ae.length-1].abs)&&ae[ae.length-1].abs.push(B)}}ie=V?null:U==="stroke"?"stroke":"fill";for(var Se=!1,He=0;He<ae.length;He++)if(ae[He].arc)for(var Qe=ae[He].abs,qe=0;qe<Qe.length;qe++){var Ye=Qe[qe];Ye.type==="arc"?Y.call(this,Ye.x,Ye.y,Ye.radius,Ye.startAngle,Ye.endAngle,Ye.counterclockwise,void 0,V,!Se):re.call(this,Ye.x,Ye.y),Se=!0}else if(ae[He].close===!0)this.pdf.internal.out("h"),Se=!1;else if(ae[He].begin!==!0){var st=ae[He].start.x,kt=ae[He].start.y;fe.call(this,ae[He].deltas,st,kt),Se=!0}ie&&D.call(this,ie),V&&ge.call(this)}},H=function(U){var V=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,T=V*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return U-T;case"top":return U+V-T;case"hanging":return U+V-2*T;case"middle":return U+V/2-T;case"ideographic":return U;case"alphabetic":default:return U}},k=function(U){return U+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};x.prototype.createLinearGradient=function(){var U=function(){};return U.colorStops=[],U.addColorStop=function(V,T){this.colorStops.push([V,T])},U.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},U.isCanvasGradient=!0,U},x.prototype.createPattern=function(){return this.createLinearGradient()},x.prototype.createRadialGradient=function(){return this.createLinearGradient()};var Y=function(U,V,T,ie,ae,P,z,B,q){for(var te=ue.call(this,T,ie,ae,P),he=0;he<te.length;he++){var W=te[he];he===0&&(q?_.call(this,W.x1+U,W.y1+V):re.call(this,W.x1+U,W.y1+V)),Ne.call(this,U,V,W.x2,W.y2,W.x3,W.y3,W.x4,W.y4)}B?ge.call(this):D.call(this,z)},D=function(U){switch(U){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},ge=function(){this.pdf.clip(),this.pdf.discardPath()},_=function(U,V){this.pdf.internal.out(s(U)+" "+i(V)+" m")},X=function(U){var V;switch(U.align){case"right":case"end":V="right";break;case"center":V="center";break;case"left":case"start":default:V="left"}var T=this.pdf.getTextDimensions(U.text),ie=H.call(this,U.y),ae=k.call(this,ie)-T.h,P=this.ctx.transform.applyToPoint(new A(U.x,ie)),z=this.ctx.transform.decompose(),B=new h;B=(B=(B=B.multiply(z.translate)).multiply(z.skew)).multiply(z.scale);for(var q,te,he,W=this.ctx.transform.applyToRectangle(new d(U.x,ie,T.w,T.h)),C=B.applyToRectangle(new d(U.x,ae,T.w,T.h)),Z=S.call(this,C),se=[],Se=0;Se<Z.length;Se+=1)se.indexOf(Z[Se])===-1&&se.push(Z[Se]);if(M(se),this.autoPaging)for(var He=se[0],Qe=se[se.length-1],qe=He;qe<Qe+1;qe++){this.pdf.setPage(qe);var Ye=qe===1?this.posY+this.margin[0]:this.margin[0],st=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],kt=this.pdf.internal.pageSize.height-this.margin[2],Mt=kt-this.margin[0],ke=this.pdf.internal.pageSize.width-this.margin[1],$e=ke-this.margin[3],Ae=qe===1?0:st+(qe-2)*Mt;if(this.ctx.clip_path.length!==0){var Le=this.path;q=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=O(q,this.posX+this.margin[3],-1*Ae+Ye),K.call(this,"fill",!0),this.path=Le}var de=O([JSON.parse(JSON.stringify(C))],this.posX+this.margin[3],-Ae+Ye+this.ctx.prevPageLastElemOffset)[0];U.scale>=.01&&(te=this.pdf.internal.getFontSize(),this.pdf.setFontSize(te*U.scale),he=this.lineWidth,this.lineWidth=he*U.scale);var Me=this.autoPaging!=="text";if(Me||de.y+de.h<=kt){if(Me||de.y>=Ye&&de.x<=ke){var Ie=Me?U.text:this.pdf.splitTextToSize(U.text,U.maxWidth||ke-de.x)[0],Ze=O([JSON.parse(JSON.stringify(W))],this.posX+this.margin[3],-Ae+Ye+this.ctx.prevPageLastElemOffset)[0],nt=Me&&(qe>He||qe<Qe)&&b.call(this);nt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],$e,Mt,null).clip().discardPath()),this.pdf.text(Ie,Ze.x,Ze.y,{angle:U.angle,align:V,renderingMode:U.renderingMode}),nt&&this.pdf.restoreGraphicsState()}}else de.y<kt&&(this.ctx.prevPageLastElemOffset+=kt-de.y);U.scale>=.01&&(this.pdf.setFontSize(te),this.lineWidth=he)}else U.scale>=.01&&(te=this.pdf.internal.getFontSize(),this.pdf.setFontSize(te*U.scale),he=this.lineWidth,this.lineWidth=he*U.scale),this.pdf.text(U.text,P.x+this.posX,P.y+this.posY,{angle:U.angle,align:V,renderingMode:U.renderingMode,maxWidth:U.maxWidth}),U.scale>=.01&&(this.pdf.setFontSize(te),this.lineWidth=he)},re=function(U,V,T,ie){T=T||0,ie=ie||0,this.pdf.internal.out(s(U+T)+" "+i(V+ie)+" l")},fe=function(U,V,T){return this.pdf.lines(U,V,T,null,null)},Ne=function(U,V,T,ie,ae,P,z,B){this.pdf.internal.out([t(r(T+U)),t(c(ie+V)),t(r(ae+U)),t(c(P+V)),t(r(z+U)),t(c(B+V)),"c"].join(" "))},ue=function(U,V,T,ie){for(var ae=2*Math.PI,P=Math.PI/2;V>T;)V-=ae;var z=Math.abs(T-V);z<ae&&ie&&(z=ae-z);for(var B=[],q=ie?-1:1,te=V;z>1e-5;){var he=te+q*Math.min(z,P);B.push(_e.call(this,U,te,he)),z-=Math.abs(he-te),te=he}return B},_e=function(U,V,T){var ie=(T-V)/2,ae=U*Math.cos(ie),P=U*Math.sin(ie),z=ae,B=-P,q=z*z+B*B,te=q+z*ae+B*P,he=4/3*(Math.sqrt(2*q*te)-te)/(z*P-B*ae),W=z-he*B,C=B+he*z,Z=W,se=-C,Se=ie+V,He=Math.cos(Se),Qe=Math.sin(Se);return{x1:U*Math.cos(V),y1:U*Math.sin(V),x2:W*He-C*Qe,y2:W*Qe+C*He,x3:Z*He-se*Qe,y3:Z*Qe+se*He,x4:U*Math.cos(T),y4:U*Math.sin(T)}},ce=function(U){return 180*U/Math.PI},ye=function(U,V,T,ie,ae,P){var z=U+.5*(T-U),B=V+.5*(ie-V),q=ae+.5*(T-ae),te=P+.5*(ie-P),he=Math.min(U,ae,z,q),W=Math.max(U,ae,z,q),C=Math.min(V,P,B,te),Z=Math.max(V,P,B,te);return new d(he,C,W-he,Z-C)},Q=function(U,V,T,ie,ae,P,z,B){var q,te,he,W,C,Z,se,Se,He,Qe,qe,Ye,st,kt,Mt=T-U,ke=ie-V,$e=ae-T,Ae=P-ie,Le=z-ae,de=B-P;for(te=0;te<41;te++)He=(se=(he=U+(q=te/40)*Mt)+q*((C=T+q*$e)-he))+q*(C+q*(ae+q*Le-C)-se),Qe=(Se=(W=V+q*ke)+q*((Z=ie+q*Ae)-W))+q*(Z+q*(P+q*de-Z)-Se),te==0?(qe=He,Ye=Qe,st=He,kt=Qe):(qe=Math.min(qe,He),Ye=Math.min(Ye,Qe),st=Math.max(st,He),kt=Math.max(kt,Qe));return new d(Math.round(qe),Math.round(Ye),Math.round(st-qe),Math.round(kt-Ye))},ne=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var U,V,T=(U=this.ctx.lineDash,V=this.ctx.lineDashOffset,JSON.stringify({lineDash:U,lineDashOffset:V}));this.prevLineDash!==T&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=T)}}})(ea.API),function(a){var t=function(c){var A,d,h,u,v,x,y,p,F,b;for(d=[],h=0,u=(c+=A="\0\0\0\0".slice(c.length%4||4)).length;u>h;h+=4)(v=(c.charCodeAt(h)<<24)+(c.charCodeAt(h+1)<<16)+(c.charCodeAt(h+2)<<8)+c.charCodeAt(h+3))!==0?(x=(v=((v=((v=((v=(v-(b=v%85))/85)-(F=v%85))/85)-(p=v%85))/85)-(y=v%85))/85)%85,d.push(x+33,y+33,p+33,F+33,b+33)):d.push(122);return function(S,f){for(var O=f;O>0;O--)S.pop()}(d,A.length),String.fromCharCode.apply(String,d)+"~>"},s=function(c){var A,d,h,u,v,x=String,y="length",p=255,F="charCodeAt",b="slice",S="replace";for(c[b](-2),c=c[b](0,-2)[S](/\s/g,"")[S]("z","!!!!!"),h=[],u=0,v=(c+=A="uuuuu"[b](c[y]%5||5))[y];v>u;u+=5)d=52200625*(c[F](u)-33)+614125*(c[F](u+1)-33)+7225*(c[F](u+2)-33)+85*(c[F](u+3)-33)+(c[F](u+4)-33),h.push(p&d>>24,p&d>>16,p&d>>8,p&d);return function(f,O){for(var M=O;M>0;M--)f.pop()}(h,A[y]),x.fromCharCode.apply(x,h)},i=function(c){var A=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((c=c.replace(/\s/g,"")).indexOf(">")!==-1&&(c=c.substr(0,c.indexOf(">"))),c.length%2&&(c+="0"),A.test(c)===!1)return"";for(var d="",h=0;h<c.length;h+=2)d+=String.fromCharCode("0x"+(c[h]+c[h+1]));return d},r=function(c){for(var A=new Uint8Array(c.length),d=c.length;d--;)A[d]=c.charCodeAt(d);return c=(A=ex(A)).reduce(function(h,u){return h+String.fromCharCode(u)},"")};a.processDataByFilters=function(c,A){var d=0,h=c||"",u=[];for(typeof(A=A||[])=="string"&&(A=[A]),d=0;d<A.length;d+=1)switch(A[d]){case"ASCII85Decode":case"/ASCII85Decode":h=s(h),u.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":h=t(h),u.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":h=i(h),u.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":h=h.split("").map(function(v){return("0"+v.charCodeAt().toString(16)).slice(-2)}).join("")+">",u.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":h=r(h),u.push("/FlateDecode");break;default:throw new Error('The filter: "'+A[d]+'" is not implemented')}return{data:h,reverseChain:u.reverse().join(" ")}}}(ea.API),function(a){a.loadFile=function(t,s,i){return function(r,c,A){c=c!==!1,A=typeof A=="function"?A:function(){};var d=void 0;try{d=function(h,u,v){var x=new XMLHttpRequest,y=0,p=function(F){var b=F.length,S=[],f=String.fromCharCode;for(y=0;y<b;y+=1)S.push(f(255&F.charCodeAt(y)));return S.join("")};if(x.open("GET",h,!u),x.overrideMimeType("text/plain; charset=x-user-defined"),u===!1&&(x.onload=function(){x.status===200?v(p(this.responseText)):v(void 0)}),x.send(null),u&&x.status===200)return p(x.responseText)}(r,c,A)}catch{}return d}(t,s,i)},a.loadImageFile=a.loadFile}(ea.API),function(a){function t(){return(ma.html2canvas?Promise.resolve(ma.html2canvas):Wv(()=>Promise.resolve().then(()=>kU),[])).catch(function(A){return Promise.reject(new Error("Could not load html2canvas: "+A))}).then(function(A){return A.default?A.default:A})}function s(){return(ma.DOMPurify?Promise.resolve(ma.DOMPurify):Wv(()=>import("./purify.es-Bf0oSh3b.js"),[])).catch(function(A){return Promise.reject(new Error("Could not load dompurify: "+A))}).then(function(A){return A.default?A.default:A})}var i=function(A){var d=$a(A);return d==="undefined"?"undefined":d==="string"||A instanceof String?"string":d==="number"||A instanceof Number?"number":d==="function"||A instanceof Function?"function":A&&A.constructor===Array?"array":A&&A.nodeType===1?"element":d==="object"?"object":"unknown"},r=function(A,d){var h=document.createElement(A);for(var u in d.className&&(h.className=d.className),d.innerHTML&&d.dompurify&&(h.innerHTML=d.dompurify.sanitize(d.innerHTML)),d.style)h.style[u]=d.style[u];return h},c=function A(d){var h=Object.assign(A.convert(Promise.resolve()),JSON.parse(JSON.stringify(A.template))),u=A.convert(Promise.resolve(),h);return u=(u=u.setProgress(1,A,1,[A])).set(d)};(c.prototype=Object.create(Promise.prototype)).constructor=c,c.convert=function(A,d){return A.__proto__=d||c.prototype,A},c.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},c.prototype.from=function(A,d){return this.then(function(){switch(d=d||function(h){switch(i(h)){case"string":return"string";case"element":return h.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(A)){case"string":return this.then(s).then(function(h){return this.set({src:r("div",{innerHTML:A,dompurify:h})})});case"element":return this.set({src:A});case"canvas":return this.set({canvas:A});case"img":return this.set({img:A});default:return this.error("Unknown source type.")}})},c.prototype.to=function(A){switch(A){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},c.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var A={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},d=function h(u,v){for(var x=u.nodeType===3?document.createTextNode(u.nodeValue):u.cloneNode(!1),y=u.firstChild;y;y=y.nextSibling)v!==!0&&y.nodeType===1&&y.nodeName==="SCRIPT"||x.appendChild(h(y,v));return u.nodeType===1&&(u.nodeName==="CANVAS"?(x.width=u.width,x.height=u.height,x.getContext("2d").drawImage(u,0,0)):u.nodeName!=="TEXTAREA"&&u.nodeName!=="SELECT"||(x.value=u.value),x.addEventListener("load",function(){x.scrollTop=u.scrollTop,x.scrollLeft=u.scrollLeft},!0)),x}(this.prop.src,this.opt.html2canvas.javascriptEnabled);d.tagName==="BODY"&&(A.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=r("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=r("div",{className:"html2pdf__container",style:A}),this.prop.container.appendChild(d),this.prop.container.firstChild.appendChild(r("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},c.prototype.toCanvas=function(){var A=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(A).then(t).then(function(d){var h=Object.assign({},this.opt.html2canvas);return delete h.onrendered,d(this.prop.container,h)}).then(function(d){(this.opt.html2canvas.onrendered||function(){})(d),this.prop.canvas=d,document.body.removeChild(this.prop.overlay)})},c.prototype.toContext2d=function(){var A=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(A).then(t).then(function(d){var h=this.opt.jsPDF,u=this.opt.fontFaces,v=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,x=Object.assign({async:!0,allowTaint:!0,scale:v,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete x.onrendered,h.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,h.context2d.posX=this.opt.x,h.context2d.posY=this.opt.y,h.context2d.margin=this.opt.margin,h.context2d.fontFaces=u,u)for(var y=0;y<u.length;++y){var p=u[y],F=p.src.find(function(b){return b.format==="truetype"});F&&h.addFont(F.url,p.ref.name,p.ref.style)}return x.windowHeight=x.windowHeight||0,x.windowHeight=x.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):x.windowHeight,h.context2d.save(!0),d(this.prop.container,x)}).then(function(d){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(d),this.prop.canvas=d,document.body.removeChild(this.prop.overlay)})},c.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var A=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=A})},c.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},c.prototype.output=function(A,d,h){return(h=h||"pdf").toLowerCase()==="img"||h.toLowerCase()==="image"?this.outputImg(A,d):this.outputPdf(A,d)},c.prototype.outputPdf=function(A,d){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(A,d)})},c.prototype.outputImg=function(A){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(A){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+A+'" is not supported.'}})},c.prototype.save=function(A){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(A?{filename:A}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},c.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},c.prototype.set=function(A){if(i(A)!=="object")return this;var d=Object.keys(A||{}).map(function(h){if(h in c.template.prop)return function(){this.prop[h]=A[h]};switch(h){case"margin":return this.setMargin.bind(this,A.margin);case"jsPDF":return function(){return this.opt.jsPDF=A.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,A.pageSize);default:return function(){this.opt[h]=A[h]}}},this);return this.then(function(){return this.thenList(d)})},c.prototype.get=function(A,d){return this.then(function(){var h=A in c.template.prop?this.prop[A]:this.opt[A];return d?d(h):h})},c.prototype.setMargin=function(A){return this.then(function(){switch(i(A)){case"number":A=[A,A,A,A];case"array":if(A.length===2&&(A=[A[0],A[1],A[0],A[1]]),A.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=A}).then(this.setPageSize)},c.prototype.setPageSize=function(A){function d(h,u){return Math.floor(h*u/72*96)}return this.then(function(){(A=A||ea.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(A.inner={width:A.width-this.opt.margin[1]-this.opt.margin[3],height:A.height-this.opt.margin[0]-this.opt.margin[2]},A.inner.px={width:d(A.inner.width,A.k),height:d(A.inner.height,A.k)},A.inner.ratio=A.inner.height/A.inner.width),this.prop.pageSize=A})},c.prototype.setProgress=function(A,d,h,u){return A!=null&&(this.progress.val=A),d!=null&&(this.progress.state=d),h!=null&&(this.progress.n=h),u!=null&&(this.progress.stack=u),this.progress.ratio=this.progress.val/this.progress.state,this},c.prototype.updateProgress=function(A,d,h,u){return this.setProgress(A?this.progress.val+A:null,d||null,h?this.progress.n+h:null,u?this.progress.stack.concat(u):null)},c.prototype.then=function(A,d){var h=this;return this.thenCore(A,d,function(u,v){return h.updateProgress(null,null,1,[u]),Promise.prototype.then.call(this,function(x){return h.updateProgress(null,u),x}).then(u,v).then(function(x){return h.updateProgress(1),x})})},c.prototype.thenCore=function(A,d,h){h=h||Promise.prototype.then,A&&(A=A.bind(this)),d&&(d=d.bind(this));var u=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?this:c.convert(Object.assign({},this),Promise.prototype),v=h.call(u,A,d);return c.convert(v,this.__proto__)},c.prototype.thenExternal=function(A,d){return Promise.prototype.then.call(this,A,d)},c.prototype.thenList=function(A){var d=this;return A.forEach(function(h){d=d.thenCore(h)}),d},c.prototype.catch=function(A){A&&(A=A.bind(this));var d=Promise.prototype.catch.call(this,A);return c.convert(d,this)},c.prototype.catchExternal=function(A){return Promise.prototype.catch.call(this,A)},c.prototype.error=function(A){return this.then(function(){throw new Error(A)})},c.prototype.using=c.prototype.set,c.prototype.saveAs=c.prototype.save,c.prototype.export=c.prototype.output,c.prototype.run=c.prototype.then,ea.getPageSize=function(A,d,h){if($a(A)==="object"){var u=A;A=u.orientation,d=u.unit||d,h=u.format||h}d=d||"mm",h=h||"a4",A=(""+(A||"P")).toLowerCase();var v,x=(""+h).toLowerCase(),y={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(d){case"pt":v=1;break;case"mm":v=72/25.4;break;case"cm":v=72/2.54;break;case"in":v=72;break;case"px":v=.75;break;case"pc":case"em":v=12;break;case"ex":v=6;break;default:throw"Invalid unit: "+d}var p,F=0,b=0;if(y.hasOwnProperty(x))F=y[x][1]/v,b=y[x][0]/v;else try{F=h[1],b=h[0]}catch{throw new Error("Invalid format: "+h)}if(A==="p"||A==="portrait")A="p",b>F&&(p=b,b=F,F=p);else{if(A!=="l"&&A!=="landscape")throw"Invalid orientation: "+A;A="l",F>b&&(p=b,b=F,F=p)}return{width:b,height:F,unit:d,k:v,orientation:A}},a.html=function(A,d){(d=d||{}).callback=d.callback||function(){},d.html2canvas=d.html2canvas||{},d.html2canvas.canvas=d.html2canvas.canvas||this.canvas,d.jsPDF=d.jsPDF||this,d.fontFaces=d.fontFaces?d.fontFaces.map(rx):null;var h=new c(d);return d.worker?h:h.from(A).doCallback()}}(ea.API),ea.API.addJS=function(a){return yN=a,this.internal.events.subscribe("postPutResources",function(){vm=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(vm+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),xN=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+yN+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){vm!==void 0&&xN!==void 0&&this.internal.out("/Names <</JavaScript "+vm+" 0 R>>")}),this},function(a){var t;a.events.push(["postPutResources",function(){var s=this,i=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var r=s.outline.render().split(/\r\n/),c=0;c<r.length;c++){var A=r[c],d=i.exec(A);if(d!=null){var h=d[1];s.internal.newObjectDeferredBegin(h,!1)}s.internal.write(A)}if(this.outline.createNamedDestinations){var u=this.internal.pages.length,v=[];for(c=0;c<u;c++){var x=s.internal.newObject();v.push(x);var y=s.internal.getPageInfo(c+1);s.internal.write("<< /D["+y.objId+" 0 R /XYZ null null null]>> endobj")}var p=s.internal.newObject();for(s.internal.write("<< /Names [ "),c=0;c<v.length;c++)s.internal.write("(page_"+(c+1)+")"+v[c]+" 0 R");s.internal.write(" ] >>","endobj"),t=s.internal.newObject(),s.internal.write("<< /Dests "+p+" 0 R"),s.internal.write(">>","endobj")}}]),a.events.push(["putCatalog",function(){this.outline.root.children.length>0&&(this.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&this.internal.write("/Names "+t+" 0 R"))}]),a.events.push(["initialized",function(){var s=this;s.outline={createNamedDestinations:!1,root:{children:[]}},s.outline.add=function(i,r,c){var A={title:r,options:c,children:[]};return i==null&&(i=this.root),i.children.push(A),A},s.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=s,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},s.outline.genIds_r=function(i){i.id=s.internal.newObjectDeferred();for(var r=0;r<i.children.length;r++)this.genIds_r(i.children[r])},s.outline.renderRoot=function(i){this.objStart(i),this.line("/Type /Outlines"),i.children.length>0&&(this.line("/First "+this.makeRef(i.children[0])),this.line("/Last "+this.makeRef(i.children[i.children.length-1]))),this.line("/Count "+this.count_r({count:0},i)),this.objEnd()},s.outline.renderItems=function(i){for(var r=this.ctx.pdf.internal.getVerticalCoordinateString,c=0;c<i.children.length;c++){var A=i.children[c];this.objStart(A),this.line("/Title "+this.makeString(A.title)),this.line("/Parent "+this.makeRef(i)),c>0&&this.line("/Prev "+this.makeRef(i.children[c-1])),c<i.children.length-1&&this.line("/Next "+this.makeRef(i.children[c+1])),A.children.length>0&&(this.line("/First "+this.makeRef(A.children[0])),this.line("/Last "+this.makeRef(A.children[A.children.length-1])));var d=this.count=this.count_r({count:0},A);if(d>0&&this.line("/Count "+d),A.options&&A.options.pageNumber){var h=s.internal.getPageInfo(A.options.pageNumber);this.line("/Dest ["+h.objId+" 0 R /XYZ 0 "+r(0)+" 0]")}this.objEnd()}for(var u=0;u<i.children.length;u++)this.renderItems(i.children[u])},s.outline.line=function(i){this.ctx.val+=i+`\r
`},s.outline.makeRef=function(i){return i.id+" 0 R"},s.outline.makeString=function(i){return"("+s.internal.pdfEscape(i)+")"},s.outline.objStart=function(i){this.ctx.val+=`\r
`+i.id+` 0 obj\r
<<\r
`},s.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},s.outline.count_r=function(i,r){for(var c=0;c<r.children.length;c++)i.count++,this.count_r(i,r.children[c]);return i.count}}])}(ea.API),function(a){var t=[192,193,194,195,196,197,198,199];a.processJPEG=function(s,i,r,c,A,d){var h,u=this.decode.DCT_DECODE,v=null;if(typeof s=="string"||this.__addimage__.isArrayBuffer(s)||this.__addimage__.isArrayBufferView(s)){switch(s=A||s,s=this.__addimage__.isArrayBuffer(s)?new Uint8Array(s):s,(h=function(x){for(var y,p=256*x.charCodeAt(4)+x.charCodeAt(5),F=x.length,b={width:0,height:0,numcomponents:1},S=4;S<F;S+=2){if(S+=p,t.indexOf(x.charCodeAt(S+1))!==-1){y=256*x.charCodeAt(S+5)+x.charCodeAt(S+6),b={width:256*x.charCodeAt(S+7)+x.charCodeAt(S+8),height:y,numcomponents:x.charCodeAt(S+9)};break}p=256*x.charCodeAt(S+2)+x.charCodeAt(S+3)}return b}(s=this.__addimage__.isArrayBufferView(s)?this.__addimage__.arrayBufferToBinaryString(s):s)).numcomponents){case 1:d=this.color_spaces.DEVICE_GRAY;break;case 4:d=this.color_spaces.DEVICE_CMYK;break;case 3:d=this.color_spaces.DEVICE_RGB}v={data:s,width:h.width,height:h.height,colorSpace:d,bitsPerComponent:8,filter:u,index:i,alias:r}}return v}}(ea.API);var cd,xm,bN,wN,NN,W3=function(){var a,t,s;function i(c){var A,d,h,u,v,x,y,p,F,b,S,f,O,M;for(this.data=c,this.pos=8,this.palette=[],this.imgData=[],this.transparency={},this.animation=null,this.text={},x=null;;){switch(A=this.readUInt32(),F=(function(){var J,K;for(K=[],J=0;J<4;++J)K.push(String.fromCharCode(this.data[this.pos++]));return K}).call(this).join("")){case"IHDR":this.width=this.readUInt32(),this.height=this.readUInt32(),this.bits=this.data[this.pos++],this.colorType=this.data[this.pos++],this.compressionMethod=this.data[this.pos++],this.filterMethod=this.data[this.pos++],this.interlaceMethod=this.data[this.pos++];break;case"acTL":this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||1/0,frames:[]};break;case"PLTE":this.palette=this.read(A);break;case"fcTL":x&&this.animation.frames.push(x),this.pos+=4,x={width:this.readUInt32(),height:this.readUInt32(),xOffset:this.readUInt32(),yOffset:this.readUInt32()},v=this.readUInt16(),u=this.readUInt16()||100,x.delay=1e3*v/u,x.disposeOp=this.data[this.pos++],x.blendOp=this.data[this.pos++],x.data=[];break;case"IDAT":case"fdAT":for(F==="fdAT"&&(this.pos+=4,A-=4),c=(x!=null?x.data:void 0)||this.imgData,f=0;0<=A?f<A:f>A;0<=A?++f:--f)c.push(this.data[this.pos++]);break;case"tRNS":switch(this.transparency={},this.colorType){case 3:if(h=this.palette.length/3,this.transparency.indexed=this.read(A),this.transparency.indexed.length>h)throw new Error("More transparent colors than palette size");if((b=h-this.transparency.indexed.length)>0)for(O=0;0<=b?O<b:O>b;0<=b?++O:--O)this.transparency.indexed.push(255);break;case 0:this.transparency.grayscale=this.read(A)[0];break;case 2:this.transparency.rgb=this.read(A)}break;case"tEXt":y=(S=this.read(A)).indexOf(0),p=String.fromCharCode.apply(String,S.slice(0,y)),this.text[p]=String.fromCharCode.apply(String,S.slice(y+1));break;case"IEND":return x&&this.animation.frames.push(x),this.colors=(function(){switch(this.colorType){case 0:case 3:case 4:return 1;case 2:case 6:return 3}}).call(this),this.hasAlphaChannel=(M=this.colorType)===4||M===6,d=this.colors+(this.hasAlphaChannel?1:0),this.pixelBitlength=this.bits*d,this.colorSpace=(function(){switch(this.colors){case 1:return"DeviceGray";case 3:return"DeviceRGB"}}).call(this),void(this.imgData=new Uint8Array(this.imgData));default:this.pos+=A}if(this.pos+=4,this.pos>this.data.length)throw new Error("Incomplete or corrupt PNG file")}}i.prototype.read=function(c){var A,d;for(d=[],A=0;0<=c?A<c:A>c;0<=c?++A:--A)d.push(this.data[this.pos++]);return d},i.prototype.readUInt32=function(){return this.data[this.pos++]<<24|this.data[this.pos++]<<16|this.data[this.pos++]<<8|this.data[this.pos++]},i.prototype.readUInt16=function(){return this.data[this.pos++]<<8|this.data[this.pos++]},i.prototype.decodePixels=function(c){var A=this.pixelBitlength/8,d=new Uint8Array(this.width*this.height*A),h=0,u=this;if(c==null&&(c=this.imgData),c.length===0)return new Uint8Array(0);function v(x,y,p,F){var b,S,f,O,M,J,K,H,k,Y,D,ge,_,X,re,fe,Ne,ue,_e,ce,ye,Q=Math.ceil((u.width-x)/p),ne=Math.ceil((u.height-y)/F),U=u.width==Q&&u.height==ne;for(X=A*Q,ge=U?d:new Uint8Array(X*ne),J=c.length,_=0,S=0;_<ne&&h<J;){switch(c[h++]){case 0:for(O=Ne=0;Ne<X;O=Ne+=1)ge[S++]=c[h++];break;case 1:for(O=ue=0;ue<X;O=ue+=1)b=c[h++],M=O<A?0:ge[S-A],ge[S++]=(b+M)%256;break;case 2:for(O=_e=0;_e<X;O=_e+=1)b=c[h++],f=(O-O%A)/A,re=_&&ge[(_-1)*X+f*A+O%A],ge[S++]=(re+b)%256;break;case 3:for(O=ce=0;ce<X;O=ce+=1)b=c[h++],f=(O-O%A)/A,M=O<A?0:ge[S-A],re=_&&ge[(_-1)*X+f*A+O%A],ge[S++]=(b+Math.floor((M+re)/2))%256;break;case 4:for(O=ye=0;ye<X;O=ye+=1)b=c[h++],f=(O-O%A)/A,M=O<A?0:ge[S-A],_===0?re=fe=0:(re=ge[(_-1)*X+f*A+O%A],fe=f&&ge[(_-1)*X+(f-1)*A+O%A]),K=M+re-fe,H=Math.abs(K-M),Y=Math.abs(K-re),D=Math.abs(K-fe),k=H<=Y&&H<=D?M:Y<=D?re:fe,ge[S++]=(b+k)%256;break;default:throw new Error("Invalid filter algorithm: "+c[h-1])}if(!U){var V=((y+_*F)*u.width+x)*A,T=_*X;for(O=0;O<Q;O+=1){for(var ie=0;ie<A;ie+=1)d[V++]=ge[T++];V+=(p-1)*A}}_++}}return c=S3(c),u.interlaceMethod==1?(v(0,0,8,8),v(4,0,8,8),v(0,4,4,8),v(2,0,4,4),v(0,2,2,4),v(1,0,2,2),v(0,1,1,2)):v(0,0,1,1),d},i.prototype.decodePalette=function(){var c,A,d,h,u,v,x,y,p;for(d=this.palette,v=this.transparency.indexed||[],u=new Uint8Array((v.length||0)+d.length),h=0,c=0,A=x=0,y=d.length;x<y;A=x+=3)u[h++]=d[A],u[h++]=d[A+1],u[h++]=d[A+2],u[h++]=(p=v[c++])!=null?p:255;return u},i.prototype.copyToImageData=function(c,A){var d,h,u,v,x,y,p,F,b,S,f;if(h=this.colors,b=null,d=this.hasAlphaChannel,this.palette.length&&(b=(f=this._decodedPalette)!=null?f:this._decodedPalette=this.decodePalette(),h=4,d=!0),F=(u=c.data||c).length,x=b||A,v=y=0,h===1)for(;v<F;)p=b?4*A[v/4]:y,S=x[p++],u[v++]=S,u[v++]=S,u[v++]=S,u[v++]=d?x[p++]:255,y=p;else for(;v<F;)p=b?4*A[v/4]:y,u[v++]=x[p++],u[v++]=x[p++],u[v++]=x[p++],u[v++]=d?x[p++]:255,y=p},i.prototype.decode=function(){var c;return c=new Uint8Array(this.width*this.height*4),this.copyToImageData(c,this.decodePixels()),c};var r=function(){if(Object.prototype.toString.call(ma)==="[object Window]"){try{t=ma.document.createElement("canvas"),s=t.getContext("2d")}catch{return!1}return!0}return!1};return r(),a=function(c){var A;if(r()===!0)return s.width=c.width,s.height=c.height,s.clearRect(0,0,c.width,c.height),s.putImageData(c,0,0),(A=new Image).src=t.toDataURL(),A;throw new Error("This method requires a Browser with Canvas-capability.")},i.prototype.decodeFrames=function(c){var A,d,h,u,v,x,y,p;if(this.animation){for(p=[],d=v=0,x=(y=this.animation.frames).length;v<x;d=++v)A=y[d],h=c.createImageData(A.width,A.height),u=this.decodePixels(new Uint8Array(A.data)),this.copyToImageData(h,u),A.imageData=h,p.push(A.image=a(h));return p}},i.prototype.renderFrame=function(c,A){var d,h,u;return d=(h=this.animation.frames)[A],u=h[A-1],A===0&&c.clearRect(0,0,this.width,this.height),(u!=null?u.disposeOp:void 0)===1?c.clearRect(u.xOffset,u.yOffset,u.width,u.height):(u!=null?u.disposeOp:void 0)===2&&c.putImageData(u.imageData,u.xOffset,u.yOffset),d.blendOp===0&&c.clearRect(d.xOffset,d.yOffset,d.width,d.height),c.drawImage(d.image,d.xOffset,d.yOffset)},i.prototype.animate=function(c){var A,d,h,u,v,x,y=this;return d=0,x=this.animation,u=x.numFrames,h=x.frames,v=x.numPlays,(A=function(){var p,F;if(p=d++%u,F=h[p],y.renderFrame(c,p),u>1&&d/u<v)return y.animation._timeout=setTimeout(A,F.delay)})()},i.prototype.stopAnimation=function(){var c;return clearTimeout((c=this.animation)!=null?c._timeout:void 0)},i.prototype.render=function(c){var A,d;return c._png&&c._png.stopAnimation(),c._png=this,c.width=this.width,c.height=this.height,A=c.getContext("2d"),this.animation?(this.decodeFrames(A),this.animate(A)):(d=A.createImageData(this.width,this.height),this.copyToImageData(d,this.decodePixels()),A.putImageData(d,0,0))},i}();/**
 * @license
 *
 * Copyright (c) 2014 James Robb, https://github.com/jamesbrobb
 *
 * Permission is hereby granted, free of charge, to any person obtaining
 * a copy of this software and associated documentation files (the
 * "Software"), to deal in the Software without restriction, including
 * without limitation the rights to use, copy, modify, merge, publish,
 * distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to
 * the following conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
 * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
 * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
 * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 * ====================================================================
 *//**
 * @license
 * (c) Dean McNamee <dean@gmail.com>, 2013.
 *
 * https://github.com/deanm/omggif
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to
 * deal in the Software without restriction, including without limitation the
 * rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
 * sell copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
 * IN THE SOFTWARE.
 *
 * omggif is a JavaScript implementation of a GIF 89a encoder and decoder,
 * including animation and compression.  It does not rely on any specific
 * underlying system, so should run in the browser, Node, or Plask.
 */function Y3(a){var t=0;if(a[t++]!==71||a[t++]!==73||a[t++]!==70||a[t++]!==56||(a[t++]+1&253)!=56||a[t++]!==97)throw new Error("Invalid GIF 87a/89a header.");var s=a[t++]|a[t++]<<8,i=a[t++]|a[t++]<<8,r=a[t++],c=r>>7,A=1<<(7&r)+1;a[t++],a[t++];var d=null,h=null;c&&(d=t,h=A,t+=3*A);var u=!0,v=[],x=0,y=null,p=0,F=null;for(this.width=s,this.height=i;u&&t<a.length;)switch(a[t++]){case 33:switch(a[t++]){case 255:if(a[t]!==11||a[t+1]==78&&a[t+2]==69&&a[t+3]==84&&a[t+4]==83&&a[t+5]==67&&a[t+6]==65&&a[t+7]==80&&a[t+8]==69&&a[t+9]==50&&a[t+10]==46&&a[t+11]==48&&a[t+12]==3&&a[t+13]==1&&a[t+16]==0)t+=14,F=a[t++]|a[t++]<<8,t++;else for(t+=12;;){if(!((_=a[t++])>=0))throw Error("Invalid block size");if(_===0)break;t+=_}break;case 249:if(a[t++]!==4||a[t+4]!==0)throw new Error("Invalid graphics extension block.");var b=a[t++];x=a[t++]|a[t++]<<8,y=a[t++],!(1&b)&&(y=null),p=b>>2&7,t++;break;case 254:for(;;){if(!((_=a[t++])>=0))throw Error("Invalid block size");if(_===0)break;t+=_}break;default:throw new Error("Unknown graphic control label: 0x"+a[t-1].toString(16))}break;case 44:var S=a[t++]|a[t++]<<8,f=a[t++]|a[t++]<<8,O=a[t++]|a[t++]<<8,M=a[t++]|a[t++]<<8,J=a[t++],K=J>>6&1,H=1<<(7&J)+1,k=d,Y=h,D=!1;J>>7&&(D=!0,k=t,Y=H,t+=3*H);var ge=t;for(t++;;){var _;if(!((_=a[t++])>=0))throw Error("Invalid block size");if(_===0)break;t+=_}v.push({x:S,y:f,width:O,height:M,has_local_palette:D,palette_offset:k,palette_size:Y,data_offset:ge,data_length:t-ge,transparent_index:y,interlaced:!!K,delay:x,disposal:p});break;case 59:u=!1;break;default:throw new Error("Unknown gif block: 0x"+a[t-1].toString(16))}this.numFrames=function(){return v.length},this.loopCount=function(){return F},this.frameInfo=function(X){if(X<0||X>=v.length)throw new Error("Frame index out of range.");return v[X]},this.decodeAndBlitFrameBGRA=function(X,re){var fe=this.frameInfo(X),Ne=fe.width*fe.height,ue=new Uint8Array(Ne);jN(a,fe.data_offset,ue,Ne);var _e=fe.palette_offset,ce=fe.transparent_index;ce===null&&(ce=256);var ye=fe.width,Q=s-ye,ne=ye,U=4*(fe.y*s+fe.x),V=4*((fe.y+fe.height)*s+fe.x),T=U,ie=4*Q;fe.interlaced===!0&&(ie+=4*s*7);for(var ae=8,P=0,z=ue.length;P<z;++P){var B=ue[P];if(ne===0&&(ne=ye,(T+=ie)>=V&&(ie=4*Q+4*s*(ae-1),T=U+(ye+Q)*(ae<<1),ae>>=1)),B===ce)T+=4;else{var q=a[_e+3*B],te=a[_e+3*B+1],he=a[_e+3*B+2];re[T++]=he,re[T++]=te,re[T++]=q,re[T++]=255}--ne}},this.decodeAndBlitFrameRGBA=function(X,re){var fe=this.frameInfo(X),Ne=fe.width*fe.height,ue=new Uint8Array(Ne);jN(a,fe.data_offset,ue,Ne);var _e=fe.palette_offset,ce=fe.transparent_index;ce===null&&(ce=256);var ye=fe.width,Q=s-ye,ne=ye,U=4*(fe.y*s+fe.x),V=4*((fe.y+fe.height)*s+fe.x),T=U,ie=4*Q;fe.interlaced===!0&&(ie+=4*s*7);for(var ae=8,P=0,z=ue.length;P<z;++P){var B=ue[P];if(ne===0&&(ne=ye,(T+=ie)>=V&&(ie=4*Q+4*s*(ae-1),T=U+(ye+Q)*(ae<<1),ae>>=1)),B===ce)T+=4;else{var q=a[_e+3*B],te=a[_e+3*B+1],he=a[_e+3*B+2];re[T++]=q,re[T++]=te,re[T++]=he,re[T++]=255}--ne}}}function jN(a,t,s,i){for(var r=a[t++],c=1<<r,A=c+1,d=A+1,h=r+1,u=(1<<h)-1,v=0,x=0,y=0,p=a[t++],F=new Int32Array(4096),b=null;;){for(;v<16&&p!==0;)x|=a[t++]<<v,v+=8,p===1?p=a[t++]:--p;if(v<h)break;var S=x&u;if(x>>=h,v-=h,S!==c){if(S===A)break;for(var f=S<d?S:b,O=0,M=f;M>c;)M=F[M]>>8,++O;var J=M;if(y+O+(f!==S?1:0)>i)return void Za.log("Warning, gif stream longer than expected.");s[y++]=J;var K=y+=O;for(f!==S&&(s[y++]=J),M=f;O--;)M=F[M],s[--K]=255&M,M>>=8;b!==null&&d<4096&&(F[d++]=b<<8|J,d>=u+1&&h<12&&(++h,u=u<<1|1)),b=S}else d=A+1,u=(1<<(h=r+1))-1,b=null}return y!==i&&Za.log("Warning, gif stream shorter than expected."),s}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function Gg(a){var t,s,i,r,c,A=Math.floor,d=new Array(64),h=new Array(64),u=new Array(64),v=new Array(64),x=new Array(65535),y=new Array(65535),p=new Array(64),F=new Array(64),b=[],S=0,f=7,O=new Array(64),M=new Array(64),J=new Array(64),K=new Array(256),H=new Array(2048),k=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],Y=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],D=[0,1,2,3,4,5,6,7,8,9,10,11],ge=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],_=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],X=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],re=[0,1,2,3,4,5,6,7,8,9,10,11],fe=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],Ne=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function ue(U,V){for(var T=0,ie=0,ae=new Array,P=1;P<=16;P++){for(var z=1;z<=U[P];z++)ae[V[ie]]=[],ae[V[ie]][0]=T,ae[V[ie]][1]=P,ie++,T++;T*=2}return ae}function _e(U){for(var V=U[0],T=U[1]-1;T>=0;)V&1<<T&&(S|=1<<f),T--,--f<0&&(S==255?(ce(255),ce(0)):ce(S),f=7,S=0)}function ce(U){b.push(U)}function ye(U){ce(U>>8&255),ce(255&U)}function Q(U,V,T,ie,ae){for(var P,z=ae[0],B=ae[240],q=function(Qe,qe){var Ye,st,kt,Mt,ke,$e,Ae,Le,de,Me,Ie=0;for(de=0;de<8;++de){Ye=Qe[Ie],st=Qe[Ie+1],kt=Qe[Ie+2],Mt=Qe[Ie+3],ke=Qe[Ie+4],$e=Qe[Ie+5],Ae=Qe[Ie+6];var Ze=Ye+(Le=Qe[Ie+7]),nt=Ye-Le,ot=st+Ae,jt=st-Ae,ft=kt+$e,It=kt-$e,Ke=Mt+ke,it=Mt-ke,De=Ze+Ke,Be=Ze-Ke,pe=ot+ft,we=ot-ft;Qe[Ie]=De+pe,Qe[Ie+4]=De-pe;var ze=.707106781*(we+Be);Qe[Ie+2]=Be+ze,Qe[Ie+6]=Be-ze;var Xe=.382683433*((De=it+It)-(we=jt+nt)),wt=.5411961*De+Xe,yt=1.306562965*we+Xe,Qt=.707106781*(pe=It+jt),ta=nt+Qt,Ft=nt-Qt;Qe[Ie+5]=Ft+wt,Qe[Ie+3]=Ft-wt,Qe[Ie+1]=ta+yt,Qe[Ie+7]=ta-yt,Ie+=8}for(Ie=0,de=0;de<8;++de){Ye=Qe[Ie],st=Qe[Ie+8],kt=Qe[Ie+16],Mt=Qe[Ie+24],ke=Qe[Ie+32],$e=Qe[Ie+40],Ae=Qe[Ie+48];var Aa=Ye+(Le=Qe[Ie+56]),Ue=Ye-Le,be=st+Ae,R=st-Ae,G=kt+$e,oe=kt-$e,ee=Mt+ke,me=Mt-ke,$=Aa+ee,ve=Aa-ee,Pe=be+G,We=be-G;Qe[Ie]=$+Pe,Qe[Ie+32]=$-Pe;var ut=.707106781*(We+ve);Qe[Ie+16]=ve+ut,Qe[Ie+48]=ve-ut;var Ct=.382683433*(($=me+oe)-(We=R+Ue)),Kt=.5411961*$+Ct,ya=1.306562965*We+Ct,Ra=.707106781*(Pe=oe+R),qa=Ue+Ra,Qi=Ue-Ra;Qe[Ie+40]=Qi+Kt,Qe[Ie+24]=Qi-Kt,Qe[Ie+8]=qa+ya,Qe[Ie+56]=qa-ya,Ie++}for(de=0;de<64;++de)Me=Qe[de]*qe[de],p[de]=Me>0?Me+.5|0:Me-.5|0;return p}(U,V),te=0;te<64;++te)F[k[te]]=q[te];var he=F[0]-T;T=F[0],he==0?_e(ie[0]):(_e(ie[y[P=32767+he]]),_e(x[P]));for(var W=63;W>0&&F[W]==0;)W--;if(W==0)return _e(z),T;for(var C,Z=1;Z<=W;){for(var se=Z;F[Z]==0&&Z<=W;)++Z;var Se=Z-se;if(Se>=16){C=Se>>4;for(var He=1;He<=C;++He)_e(B);Se&=15}P=32767+F[Z],_e(ae[(Se<<4)+y[P]]),_e(x[P]),Z++}return W!=63&&_e(z),T}function ne(U){U=Math.min(Math.max(U,1),100),c!=U&&(function(V){for(var T=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],ie=0;ie<64;ie++){var ae=A((T[ie]*V+50)/100);ae=Math.min(Math.max(ae,1),255),d[k[ie]]=ae}for(var P=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],z=0;z<64;z++){var B=A((P[z]*V+50)/100);B=Math.min(Math.max(B,1),255),h[k[z]]=B}for(var q=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],te=0,he=0;he<8;he++)for(var W=0;W<8;W++)u[te]=1/(d[k[te]]*q[he]*q[W]*8),v[te]=1/(h[k[te]]*q[he]*q[W]*8),te++}(U<50?Math.floor(5e3/U):Math.floor(200-2*U)),c=U)}this.encode=function(U,V){V&&ne(V),b=new Array,S=0,f=7,ye(65496),ye(65504),ye(16),ce(74),ce(70),ce(73),ce(70),ce(0),ce(1),ce(1),ce(0),ye(1),ye(1),ce(0),ce(0),function(){ye(65499),ye(132),ce(0);for(var st=0;st<64;st++)ce(d[st]);ce(1);for(var kt=0;kt<64;kt++)ce(h[kt])}(),function(st,kt){ye(65472),ye(17),ce(8),ye(kt),ye(st),ce(3),ce(1),ce(17),ce(0),ce(2),ce(17),ce(1),ce(3),ce(17),ce(1)}(U.width,U.height),function(){ye(65476),ye(418),ce(0);for(var st=0;st<16;st++)ce(Y[st+1]);for(var kt=0;kt<=11;kt++)ce(D[kt]);ce(16);for(var Mt=0;Mt<16;Mt++)ce(ge[Mt+1]);for(var ke=0;ke<=161;ke++)ce(_[ke]);ce(1);for(var $e=0;$e<16;$e++)ce(X[$e+1]);for(var Ae=0;Ae<=11;Ae++)ce(re[Ae]);ce(17);for(var Le=0;Le<16;Le++)ce(fe[Le+1]);for(var de=0;de<=161;de++)ce(Ne[de])}(),ye(65498),ye(12),ce(3),ce(1),ce(0),ce(2),ce(17),ce(3),ce(17),ce(0),ce(63),ce(0);var T=0,ie=0,ae=0;S=0,f=7,this.encode.displayName="_encode_";for(var P,z,B,q,te,he,W,C,Z,se=U.data,Se=U.width,He=U.height,Qe=4*Se,qe=0;qe<He;){for(P=0;P<Qe;){for(te=Qe*qe+P,W=-1,C=0,Z=0;Z<64;Z++)he=te+(C=Z>>3)*Qe+(W=4*(7&Z)),qe+C>=He&&(he-=Qe*(qe+1+C-He)),P+W>=Qe&&(he-=P+W-Qe+4),z=se[he++],B=se[he++],q=se[he++],O[Z]=(H[z]+H[B+256>>0]+H[q+512>>0]>>16)-128,M[Z]=(H[z+768>>0]+H[B+1024>>0]+H[q+1280>>0]>>16)-128,J[Z]=(H[z+1280>>0]+H[B+1536>>0]+H[q+1792>>0]>>16)-128;T=Q(O,u,T,t,i),ie=Q(M,v,ie,s,r),ae=Q(J,v,ae,s,r),P+=32}qe+=8}if(f>=0){var Ye=[];Ye[1]=f+1,Ye[0]=(1<<f+1)-1,_e(Ye)}return ye(65497),new Uint8Array(b)},a=a||50,function(){for(var U=String.fromCharCode,V=0;V<256;V++)K[V]=U(V)}(),t=ue(Y,D),s=ue(X,re),i=ue(ge,_),r=ue(fe,Ne),function(){for(var U=1,V=2,T=1;T<=15;T++){for(var ie=U;ie<V;ie++)y[32767+ie]=T,x[32767+ie]=[],x[32767+ie][1]=T,x[32767+ie][0]=ie;for(var ae=-(V-1);ae<=-U;ae++)y[32767+ae]=T,x[32767+ae]=[],x[32767+ae][1]=T,x[32767+ae][0]=V-1+ae;U<<=1,V<<=1}}(),function(){for(var U=0;U<256;U++)H[U]=19595*U,H[U+256>>0]=38470*U,H[U+512>>0]=7471*U+32768,H[U+768>>0]=-11059*U,H[U+1024>>0]=-21709*U,H[U+1280>>0]=32768*U+8421375,H[U+1536>>0]=-27439*U,H[U+1792>>0]=-5329*U}(),ne(a)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function br(a,t){if(this.pos=0,this.buffer=a,this.datav=new DataView(a.buffer),this.is_with_alpha=!!t,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function BN(a){function t(Y){if(!Y)throw Error("assert :P")}function s(Y,D,ge){for(var _=0;4>_;_++)if(Y[D+_]!=ge.charCodeAt(_))return!0;return!1}function i(Y,D,ge,_,X){for(var re=0;re<X;re++)Y[D+re]=ge[_+re]}function r(Y,D,ge,_){for(var X=0;X<_;X++)Y[D+X]=ge}function c(Y){return new Int32Array(Y)}function A(Y,D){for(var ge=[],_=0;_<Y;_++)ge.push(new D);return ge}function d(Y,D){var ge=[];return function _(X,re,fe){for(var Ne=fe[re],ue=0;ue<Ne&&(X.push(fe.length>re+1?[]:new D),!(fe.length<re+1));ue++)_(X[ue],re+1,fe)}(ge,0,Y),ge}var h=function(){var Y=this;function D(g,j){for(var I=1<<j-1>>>0;g&I;)I>>>=1;return I?(g&I-1)+I:g}function ge(g,j,I,le,je){t(!(le%I));do g[j+(le-=I)]=je;while(0<le)}function _(g,j,I,le,je){if(t(2328>=je),512>=je)var Fe=c(512);else if((Fe=c(je))==null)return 0;return function(Ee,Oe,Re,Ve,at,pt){var vt,ct,bt=Oe,gt=1<<Re,et=c(16),rt=c(16);for(t(at!=0),t(Ve!=null),t(Ee!=null),t(0<Re),ct=0;ct<at;++ct){if(15<Ve[ct])return 0;++et[Ve[ct]]}if(et[0]==at)return 0;for(rt[1]=0,vt=1;15>vt;++vt){if(et[vt]>1<<vt)return 0;rt[vt+1]=rt[vt]+et[vt]}for(ct=0;ct<at;++ct)vt=Ve[ct],0<Ve[ct]&&(pt[rt[vt]++]=ct);if(rt[15]==1)return(Ve=new X).g=0,Ve.value=pt[0],ge(Ee,bt,1,gt,Ve),gt;var Dt,Ut=-1,Lt=gt-1,Vt=0,qt=1,ca=1,Pt=1<<Re;for(ct=0,vt=1,at=2;vt<=Re;++vt,at<<=1){if(qt+=ca<<=1,0>(ca-=et[vt]))return 0;for(;0<et[vt];--et[vt])(Ve=new X).g=vt,Ve.value=pt[ct++],ge(Ee,bt+Vt,at,Pt,Ve),Vt=D(Vt,vt)}for(vt=Re+1,at=2;15>=vt;++vt,at<<=1){if(qt+=ca<<=1,0>(ca-=et[vt]))return 0;for(;0<et[vt];--et[vt]){if(Ve=new X,(Vt&Lt)!=Ut){for(bt+=Pt,Dt=1<<(Ut=vt)-Re;15>Ut&&!(0>=(Dt-=et[Ut]));)++Ut,Dt<<=1;gt+=Pt=1<<(Dt=Ut-Re),Ee[Oe+(Ut=Vt&Lt)].g=Dt+Re,Ee[Oe+Ut].value=bt-Oe-Ut}Ve.g=vt-Re,Ve.value=pt[ct++],ge(Ee,bt+(Vt>>Re),at,Pt,Ve),Vt=D(Vt,vt)}}return qt!=2*rt[15]-1?0:gt}(g,j,I,le,je,Fe)}function X(){this.value=this.g=0}function re(){this.value=this.g=0}function fe(){this.G=A(5,X),this.H=c(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=A(_i,re)}function Ne(g,j,I,le){t(g!=null),t(j!=null),t(2147483648>le),g.Ca=254,g.I=0,g.b=-8,g.Ka=0,g.oa=j,g.pa=I,g.Jd=j,g.Yc=I+le,g.Zc=4<=le?I+le-4+1:I,P(g)}function ue(g,j){for(var I=0;0<j--;)I|=B(g,128)<<j;return I}function _e(g,j){var I=ue(g,j);return z(g)?-I:I}function ce(g,j,I,le){var je,Fe=0;for(t(g!=null),t(j!=null),t(4294967288>le),g.Sb=le,g.Ra=0,g.u=0,g.h=0,4<le&&(le=4),je=0;je<le;++je)Fe+=j[I+je]<<8*je;g.Ra=Fe,g.bb=le,g.oa=j,g.pa=I}function ye(g){for(;8<=g.u&&g.bb<g.Sb;)g.Ra>>>=8,g.Ra+=g.oa[g.pa+g.bb]<<yl-8>>>0,++g.bb,g.u-=8;T(g)&&(g.h=1,g.u=0)}function Q(g,j){if(t(0<=j),!g.h&&j<=xl){var I=V(g)&Ir[j];return g.u+=j,ye(g),I}return g.h=1,g.u=0}function ne(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function U(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function V(g){return g.Ra>>>(g.u&yl-1)>>>0}function T(g){return t(g.bb<=g.Sb),g.h||g.bb==g.Sb&&g.u>yl}function ie(g,j){g.u=j,g.h=T(g)}function ae(g){g.u>=yc&&(t(g.u>=yc),ye(g))}function P(g){t(g!=null&&g.oa!=null),g.pa<g.Zc?(g.I=(g.oa[g.pa++]|g.I<<8)>>>0,g.b+=8):(t(g!=null&&g.oa!=null),g.pa<g.Yc?(g.b+=8,g.I=g.oa[g.pa++]|g.I<<8):g.Ka?g.b=0:(g.I<<=8,g.b+=8,g.Ka=1))}function z(g){return ue(g,1)}function B(g,j){var I=g.Ca;0>g.b&&P(g);var le=g.b,je=I*j>>>8,Fe=(g.I>>>le>je)+0;for(Fe?(I-=je,g.I-=je+1<<le>>>0):I=je+1,le=I,je=0;256<=le;)je+=8,le>>=8;return le=7^je+ys[le],g.b-=le,g.Ca=(I<<le)-1,Fe}function q(g,j,I){g[j+0]=I>>24&255,g[j+1]=I>>16&255,g[j+2]=I>>8&255,g[j+3]=I>>0&255}function te(g,j){return g[j+0]<<0|g[j+1]<<8}function he(g,j){return te(g,j)|g[j+2]<<16}function W(g,j){return te(g,j)|te(g,j+2)<<16}function C(g,j){var I=1<<j;return t(g!=null),t(0<j),g.X=c(I),g.X==null?0:(g.Mb=32-j,g.Xa=j,1)}function Z(g,j){t(g!=null),t(j!=null),t(g.Xa==j.Xa),i(j.X,0,g.X,0,1<<j.Xa)}function se(){this.X=[],this.Xa=this.Mb=0}function Se(g,j,I,le){t(I!=null),t(le!=null);var je=I[0],Fe=le[0];return je==0&&(je=(g*Fe+j/2)/j),Fe==0&&(Fe=(j*je+g/2)/g),0>=je||0>=Fe?0:(I[0]=je,le[0]=Fe,1)}function He(g,j){return g+(1<<j)-1>>>j}function Qe(g,j){return((4278255360&g)+(4278255360&j)>>>0&4278255360)+((16711935&g)+(16711935&j)>>>0&16711935)>>>0}function qe(g,j){Y[j]=function(I,le,je,Fe,Ee,Oe,Re){var Ve;for(Ve=0;Ve<Ee;++Ve){var at=Y[g](Oe[Re+Ve-1],je,Fe+Ve);Oe[Re+Ve]=Qe(I[le+Ve],at)}}}function Ye(){this.ud=this.hd=this.jd=0}function st(g,j){return((4278124286&(g^j))>>>1)+(g&j)>>>0}function kt(g){return 0<=g&&256>g?g:0>g?0:255<g?255:void 0}function Mt(g,j){return kt(g+(g-j+.5>>1))}function ke(g,j,I){return Math.abs(j-I)-Math.abs(g-I)}function $e(g,j,I,le,je,Fe,Ee){for(le=Fe[Ee-1],I=0;I<je;++I)Fe[Ee+I]=le=Qe(g[j+I],le)}function Ae(g,j,I,le,je){var Fe;for(Fe=0;Fe<I;++Fe){var Ee=g[j+Fe],Oe=Ee>>8&255,Re=16711935&(Re=(Re=16711935&Ee)+((Oe<<16)+Oe));le[je+Fe]=(4278255360&Ee)+Re>>>0}}function Le(g,j){j.jd=g>>0&255,j.hd=g>>8&255,j.ud=g>>16&255}function de(g,j,I,le,je,Fe){var Ee;for(Ee=0;Ee<le;++Ee){var Oe=j[I+Ee],Re=Oe>>>8,Ve=Oe,at=255&(at=(at=Oe>>>16)+((g.jd<<24>>24)*(Re<<24>>24)>>>5));Ve=255&(Ve=(Ve=Ve+((g.hd<<24>>24)*(Re<<24>>24)>>>5))+((g.ud<<24>>24)*(at<<24>>24)>>>5)),je[Fe+Ee]=(4278255360&Oe)+(at<<16)+Ve}}function Me(g,j,I,le,je){Y[j]=function(Fe,Ee,Oe,Re,Ve,at,pt,vt,ct){for(Re=pt;Re<vt;++Re)for(pt=0;pt<ct;++pt)Ve[at++]=je(Oe[le(Fe[Ee++])])},Y[g]=function(Fe,Ee,Oe,Re,Ve,at,pt){var vt=8>>Fe.b,ct=Fe.Ea,bt=Fe.K[0],gt=Fe.w;if(8>vt)for(Fe=(1<<Fe.b)-1,gt=(1<<vt)-1;Ee<Oe;++Ee){var et,rt=0;for(et=0;et<ct;++et)et&Fe||(rt=le(Re[Ve++])),at[pt++]=je(bt[rt&gt]),rt>>=vt}else Y["VP8LMapColor"+I](Re,Ve,bt,gt,at,pt,Ee,Oe,ct)}}function Ie(g,j,I,le,je){for(I=j+I;j<I;){var Fe=g[j++];le[je++]=Fe>>16&255,le[je++]=Fe>>8&255,le[je++]=Fe>>0&255}}function Ze(g,j,I,le,je){for(I=j+I;j<I;){var Fe=g[j++];le[je++]=Fe>>16&255,le[je++]=Fe>>8&255,le[je++]=Fe>>0&255,le[je++]=Fe>>24&255}}function nt(g,j,I,le,je){for(I=j+I;j<I;){var Fe=(Ee=g[j++])>>16&240|Ee>>12&15,Ee=Ee>>0&240|Ee>>28&15;le[je++]=Fe,le[je++]=Ee}}function ot(g,j,I,le,je){for(I=j+I;j<I;){var Fe=(Ee=g[j++])>>16&248|Ee>>13&7,Ee=Ee>>5&224|Ee>>3&31;le[je++]=Fe,le[je++]=Ee}}function jt(g,j,I,le,je){for(I=j+I;j<I;){var Fe=g[j++];le[je++]=Fe>>0&255,le[je++]=Fe>>8&255,le[je++]=Fe>>16&255}}function ft(g,j,I,le,je,Fe){if(Fe==0)for(I=j+I;j<I;)q(le,((Fe=g[j++])[0]>>24|Fe[1]>>8&65280|Fe[2]<<8&16711680|Fe[3]<<24)>>>0),je+=32;else i(le,je,g,j,I)}function It(g,j){Y[j][0]=Y[g+"0"],Y[j][1]=Y[g+"1"],Y[j][2]=Y[g+"2"],Y[j][3]=Y[g+"3"],Y[j][4]=Y[g+"4"],Y[j][5]=Y[g+"5"],Y[j][6]=Y[g+"6"],Y[j][7]=Y[g+"7"],Y[j][8]=Y[g+"8"],Y[j][9]=Y[g+"9"],Y[j][10]=Y[g+"10"],Y[j][11]=Y[g+"11"],Y[j][12]=Y[g+"12"],Y[j][13]=Y[g+"13"],Y[j][14]=Y[g+"0"],Y[j][15]=Y[g+"0"]}function Ke(g){return g==pn||g==gn||g==Qn||g==LA}function it(){this.eb=[],this.size=this.A=this.fb=0}function De(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function Be(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new it,this.f.kb=new De,this.sd=null}function pe(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function we(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function ze(g){return alert("todo:WebPSamplerProcessPlane"),g.T}function Xe(g,j){var I=g.T,le=j.ba.f.RGBA,je=le.eb,Fe=le.fb+g.ka*le.A,Ee=ds[j.ba.S],Oe=g.y,Re=g.O,Ve=g.f,at=g.N,pt=g.ea,vt=g.W,ct=j.cc,bt=j.dc,gt=j.Mc,et=j.Nc,rt=g.ka,Dt=g.ka+g.T,Ut=g.U,Lt=Ut+1>>1;for(rt==0?Ee(Oe,Re,null,null,Ve,at,pt,vt,Ve,at,pt,vt,je,Fe,null,null,Ut):(Ee(j.ec,j.fc,Oe,Re,ct,bt,gt,et,Ve,at,pt,vt,je,Fe-le.A,je,Fe,Ut),++I);rt+2<Dt;rt+=2)ct=Ve,bt=at,gt=pt,et=vt,at+=g.Rc,vt+=g.Rc,Fe+=2*le.A,Ee(Oe,(Re+=2*g.fa)-g.fa,Oe,Re,ct,bt,gt,et,Ve,at,pt,vt,je,Fe-le.A,je,Fe,Ut);return Re+=g.fa,g.j+Dt<g.o?(i(j.ec,j.fc,Oe,Re,Ut),i(j.cc,j.dc,Ve,at,Lt),i(j.Mc,j.Nc,pt,vt,Lt),I--):1&Dt||Ee(Oe,Re,null,null,Ve,at,pt,vt,Ve,at,pt,vt,je,Fe+le.A,null,null,Ut),I}function wt(g,j,I){var le=g.F,je=[g.J];if(le!=null){var Fe=g.U,Ee=j.ba.S,Oe=Ee==As||Ee==Qn;j=j.ba.f.RGBA;var Re=[0],Ve=g.ka;Re[0]=g.T,g.Kb&&(Ve==0?--Re[0]:(--Ve,je[0]-=g.width),g.j+g.ka+g.T==g.o&&(Re[0]=g.o-g.j-Ve));var at=j.eb;Ve=j.fb+Ve*j.A,g=Qa(le,je[0],g.width,Fe,Re,at,Ve+(Oe?0:3),j.A),t(I==Re),g&&Ke(Ee)&&ui(at,Ve,Oe,Fe,Re,j.A)}return 0}function yt(g){var j=g.ma,I=j.ba.S,le=11>I,je=I==or||I==jl||I==As||I==Ns||I==12||Ke(I);if(j.memory=null,j.Ib=null,j.Jb=null,j.Nd=null,!kr(j.Oa,g,je?11:12))return 0;if(je&&Ke(I)&&Tt(),g.da)alert("todo:use_scaling");else{if(le){if(j.Ib=ze,g.Kb){if(I=g.U+1>>1,j.memory=c(g.U+2*I),j.memory==null)return 0;j.ec=j.memory,j.fc=0,j.cc=j.ec,j.dc=j.fc+g.U,j.Mc=j.cc,j.Nc=j.dc+I,j.Ib=Xe,Tt()}}else alert("todo:EmitYUV");je&&(j.Jb=wt,le&&ht())}if(le&&!yn){for(g=0;256>g;++g)$r[g]=89858*(g-128)+Ro>>Cl,dr[g]=-22014*(g-128)+Ro,Gr[g]=-45773*(g-128),Nh[g]=113618*(g-128)+Ro>>Cl;for(g=Sl;g<Po;++g)j=76283*(g-16)+Ro>>Cl,Fi[g-Sl]=Ts(j,255),OA[g-Sl]=Ts(j+8>>4,15);yn=1}return 1}function Qt(g){var j=g.ma,I=g.U,le=g.T;return t(!(1&g.ka)),0>=I||0>=le?0:(I=j.Ib(g,j),j.Jb!=null&&j.Jb(g,j,I),j.Dc+=I,1)}function ta(g){g.ma.memory=null}function Ft(g,j,I,le){return Q(g,8)!=47?0:(j[0]=Q(g,14)+1,I[0]=Q(g,14)+1,le[0]=Q(g,1),Q(g,3)!=0?0:!g.h)}function Aa(g,j){if(4>g)return g+1;var I=g-2>>1;return(2+(1&g)<<I)+Q(j,I)+1}function Ue(g,j){return 120<j?j-120:1<=(I=((I=vn[j-1])>>4)*g+(8-(15&I)))?I:1;var I}function be(g,j,I){var le=V(I),je=g[j+=255&le].g-8;return 0<je&&(ie(I,I.u+8),le=V(I),j+=g[j].value,j+=le&(1<<je)-1),ie(I,I.u+g[j].g),g[j].value}function R(g,j,I){return I.g+=g.g,I.value+=g.value<<j>>>0,t(8>=I.g),g.g}function G(g,j,I){var le=g.xc;return t((j=le==0?0:g.vc[g.md*(I>>le)+(j>>le)])<g.Wb),g.Ya[j]}function oe(g,j,I,le){var je=g.ab,Fe=g.c*j,Ee=g.C;j=Ee+j;var Oe=I,Re=le;for(le=g.Ta,I=g.Ua;0<je--;){var Ve=g.gc[je],at=Ee,pt=j,vt=Oe,ct=Re,bt=(Re=le,Oe=I,Ve.Ea);switch(t(at<pt),t(pt<=Ve.nc),Ve.hc){case 2:EA(vt,ct,(pt-at)*bt,Re,Oe);break;case 0:var gt=at,et=pt,rt=Re,Dt=Oe,Ut=(Pt=Ve).Ea;gt==0&&(Kd(vt,ct,null,null,1,rt,Dt),$e(vt,ct+1,0,0,Ut-1,rt,Dt+1),ct+=Ut,Dt+=Ut,++gt);for(var Lt=1<<Pt.b,Vt=Lt-1,qt=He(Ut,Pt.b),ca=Pt.K,Pt=Pt.w+(gt>>Pt.b)*qt;gt<et;){var La=ca,Ta=Pt,Da=1;for(Eo(vt,ct,rt,Dt-Ut,1,rt,Dt);Da<Ut;){var Ba=(Da&~Vt)+Lt;Ba>Ut&&(Ba=Ut),(0,ir[La[Ta++]>>8&15])(vt,ct+ +Da,rt,Dt+Da-Ut,Ba-Da,rt,Dt+Da),Da=Ba}ct+=Ut,Dt+=Ut,++gt&Vt||(Pt+=qt)}pt!=Ve.nc&&i(Re,Oe-bt,Re,Oe+(pt-at-1)*bt,bt);break;case 1:for(bt=vt,et=ct,Ut=(vt=Ve.Ea)-(Dt=vt&~(rt=(ct=1<<Ve.b)-1)),gt=He(vt,Ve.b),Lt=Ve.K,Ve=Ve.w+(at>>Ve.b)*gt;at<pt;){for(Vt=Lt,qt=Ve,ca=new Ye,Pt=et+Dt,La=et+vt;et<Pt;)Le(Vt[qt++],ca),Tr(ca,bt,et,ct,Re,Oe),et+=ct,Oe+=ct;et<La&&(Le(Vt[qt++],ca),Tr(ca,bt,et,Ut,Re,Oe),et+=Ut,Oe+=Ut),++at&rt||(Ve+=gt)}break;case 3:if(vt==Re&&ct==Oe&&0<Ve.b){for(et=Re,vt=bt=Oe+(pt-at)*bt-(Dt=(pt-at)*He(Ve.Ea,Ve.b)),ct=Re,rt=Oe,gt=[],Dt=(Ut=Dt)-1;0<=Dt;--Dt)gt[Dt]=ct[rt+Dt];for(Dt=Ut-1;0<=Dt;--Dt)et[vt+Dt]=gt[Dt];Xs(Ve,at,pt,Re,bt,Re,Oe)}else Xs(Ve,at,pt,vt,ct,Re,Oe)}Oe=le,Re=I}Re!=I&&i(le,I,Oe,Re,Fe)}function ee(g,j){var I=g.V,le=g.Ba+g.c*g.C,je=j-g.C;if(t(j<=g.l.o),t(16>=je),0<je){var Fe=g.l,Ee=g.Ta,Oe=g.Ua,Re=Fe.width;if(oe(g,je,I,le),je=Oe=[Oe],t((I=g.C)<(le=j)),t(Fe.v<Fe.va),le>Fe.o&&(le=Fe.o),I<Fe.j){var Ve=Fe.j-I;I=Fe.j,je[0]+=Ve*Re}if(I>=le?I=0:(je[0]+=4*Fe.v,Fe.ka=I-Fe.j,Fe.U=Fe.va-Fe.v,Fe.T=le-I,I=1),I){if(Oe=Oe[0],11>(I=g.ca).S){var at=I.f.RGBA,pt=(le=I.S,je=Fe.U,Fe=Fe.T,Ve=at.eb,at.A),vt=Fe;for(at=at.fb+g.Ma*at.A;0<vt--;){var ct=Ee,bt=Oe,gt=je,et=Ve,rt=at;switch(le){case cr:os(ct,bt,gt,et,rt);break;case or:Ki(ct,bt,gt,et,rt);break;case pn:Ki(ct,bt,gt,et,rt),ui(et,rt,0,gt,1,0);break;case Oo:bs(ct,bt,gt,et,rt);break;case jl:ft(ct,bt,gt,et,rt,1);break;case gn:ft(ct,bt,gt,et,rt,1),ui(et,rt,0,gt,1,0);break;case As:ft(ct,bt,gt,et,rt,0);break;case Qn:ft(ct,bt,gt,et,rt,0),ui(et,rt,1,gt,1,0);break;case Ns:Rr(ct,bt,gt,et,rt);break;case LA:Rr(ct,bt,gt,et,rt),ja(et,rt,gt,1,0);break;case Vr:sr(ct,bt,gt,et,rt);break;default:t(0)}Oe+=Re,at+=pt}g.Ma+=Fe}else alert("todo:EmitRescaledRowsYUVA");t(g.Ma<=I.height)}}g.C=j,t(g.C<=g.i)}function me(g){var j;if(0<g.ua)return 0;for(j=0;j<g.Wb;++j){var I=g.Ya[j].G,le=g.Ya[j].H;if(0<I[1][le[1]+0].g||0<I[2][le[2]+0].g||0<I[3][le[3]+0].g)return 0}return 1}function $(g,j,I,le,je,Fe){if(g.Z!=0){var Ee=g.qd,Oe=g.rd;for(t(en[g.Z]!=null);j<I;++j)en[g.Z](Ee,Oe,le,je,le,je,Fe),Ee=le,Oe=je,je+=Fe;g.qd=Ee,g.rd=Oe}}function ve(g,j){var I=g.l.ma,le=I.Z==0||I.Z==1?g.l.j:g.C;if(le=g.C<le?le:g.C,t(j<=g.l.o),j>le){var je=g.l.width,Fe=I.ca,Ee=I.tb+je*le,Oe=g.V,Re=g.Ba+g.c*le,Ve=g.gc;t(g.ab==1),t(Ve[0].hc==3),Qr(Ve[0],le,j,Oe,Re,Fe,Ee),$(I,le,j,Fe,Ee,je)}g.C=g.Ma=j}function Pe(g,j,I,le,je,Fe,Ee){var Oe=g.$/le,Re=g.$%le,Ve=g.m,at=g.s,pt=I+g.$,vt=pt;je=I+le*je;var ct=I+le*Fe,bt=280+at.ua,gt=g.Pb?Oe:16777216,et=0<at.ua?at.Wa:null,rt=at.wc,Dt=pt<ct?G(at,Re,Oe):null;t(g.C<Fe),t(ct<=je);var Ut=!1;e:for(;;){for(;Ut||pt<ct;){var Lt=0;if(Oe>=gt){var Vt=pt-I;t((gt=g).Pb),gt.wd=gt.m,gt.xd=Vt,0<gt.s.ua&&Z(gt.s.Wa,gt.s.vb),gt=Oe+$d}if(Re&rt||(Dt=G(at,Re,Oe)),t(Dt!=null),Dt.Qb&&(j[pt]=Dt.qb,Ut=!0),!Ut)if(ae(Ve),Dt.jc){Lt=Ve,Vt=j;var qt=pt,ca=Dt.pd[V(Lt)&_i-1];t(Dt.jc),256>ca.g?(ie(Lt,Lt.u+ca.g),Vt[qt]=ca.value,Lt=0):(ie(Lt,Lt.u+ca.g-256),t(256<=ca.value),Lt=ca.value),Lt==0&&(Ut=!0)}else Lt=be(Dt.G[0],Dt.H[0],Ve);if(Ve.h)break;if(Ut||256>Lt){if(!Ut)if(Dt.nd)j[pt]=(Dt.qb|Lt<<8)>>>0;else{if(ae(Ve),Ut=be(Dt.G[1],Dt.H[1],Ve),ae(Ve),Vt=be(Dt.G[2],Dt.H[2],Ve),qt=be(Dt.G[3],Dt.H[3],Ve),Ve.h)break;j[pt]=(qt<<24|Ut<<16|Lt<<8|Vt)>>>0}if(Ut=!1,++pt,++Re>=le&&(Re=0,++Oe,Ee!=null&&Oe<=Fe&&!(Oe%16)&&Ee(g,Oe),et!=null))for(;vt<pt;)Lt=j[vt++],et.X[(506832829*Lt&4294967295)>>>et.Mb]=Lt}else if(280>Lt){if(Lt=Aa(Lt-256,Ve),Vt=be(Dt.G[4],Dt.H[4],Ve),ae(Ve),Vt=Ue(le,Vt=Aa(Vt,Ve)),Ve.h)break;if(pt-I<Vt||je-pt<Lt)break e;for(qt=0;qt<Lt;++qt)j[pt+qt]=j[pt+qt-Vt];for(pt+=Lt,Re+=Lt;Re>=le;)Re-=le,++Oe,Ee!=null&&Oe<=Fe&&!(Oe%16)&&Ee(g,Oe);if(t(pt<=je),Re&rt&&(Dt=G(at,Re,Oe)),et!=null)for(;vt<pt;)Lt=j[vt++],et.X[(506832829*Lt&4294967295)>>>et.Mb]=Lt}else{if(!(Lt<bt))break e;for(Ut=Lt-280,t(et!=null);vt<pt;)Lt=j[vt++],et.X[(506832829*Lt&4294967295)>>>et.Mb]=Lt;Lt=pt,t(!(Ut>>>(Vt=et).Xa)),j[Lt]=Vt.X[Ut],Ut=!0}Ut||t(Ve.h==T(Ve))}if(g.Pb&&Ve.h&&pt<je)t(g.m.h),g.a=5,g.m=g.wd,g.$=g.xd,0<g.s.ua&&Z(g.s.vb,g.s.Wa);else{if(Ve.h)break e;Ee!=null&&Ee(g,Oe>Fe?Fe:Oe),g.a=0,g.$=pt-I}return 1}return g.a=3,0}function We(g){t(g!=null),g.vc=null,g.yc=null,g.Ya=null;var j=g.Wa;j!=null&&(j.X=null),g.vb=null,t(g!=null)}function ut(){var g=new qd;return g==null?null:(g.a=0,g.xb=Bl,It("Predictor","VP8LPredictors"),It("Predictor","VP8LPredictors_C"),It("PredictorAdd","VP8LPredictorsAdd"),It("PredictorAdd","VP8LPredictorsAdd_C"),EA=Ae,Tr=de,os=Ie,Ki=Ze,Rr=nt,sr=ot,bs=jt,Y.VP8LMapColor32b=Pi,Y.VP8LMapColor8b=Lo,g)}function Ct(g,j,I,le,je){var Fe=1,Ee=[g],Oe=[j],Re=le.m,Ve=le.s,at=null,pt=0;e:for(;;){if(I)for(;Fe&&Q(Re,1);){var vt=Ee,ct=Oe,bt=le,gt=1,et=bt.m,rt=bt.gc[bt.ab],Dt=Q(et,2);if(bt.Oc&1<<Dt)Fe=0;else{switch(bt.Oc|=1<<Dt,rt.hc=Dt,rt.Ea=vt[0],rt.nc=ct[0],rt.K=[null],++bt.ab,t(4>=bt.ab),Dt){case 0:case 1:rt.b=Q(et,3)+2,gt=Ct(He(rt.Ea,rt.b),He(rt.nc,rt.b),0,bt,rt.K),rt.K=rt.K[0];break;case 3:var Ut,Lt=Q(et,8)+1,Vt=16<Lt?0:4<Lt?1:2<Lt?2:3;if(vt[0]=He(rt.Ea,Vt),rt.b=Vt,Ut=gt=Ct(Lt,1,0,bt,rt.K)){var qt,ca=Lt,Pt=rt,La=1<<(8>>Pt.b),Ta=c(La);if(Ta==null)Ut=0;else{var Da=Pt.K[0],Ba=Pt.w;for(Ta[0]=Pt.K[0][0],qt=1;qt<1*ca;++qt)Ta[qt]=Qe(Da[Ba+qt],Ta[qt-1]);for(;qt<4*La;++qt)Ta[qt]=0;Pt.K[0]=null,Pt.K[0]=Ta,Ut=1}}gt=Ut;break;case 2:break;default:t(0)}Fe=gt}}if(Ee=Ee[0],Oe=Oe[0],Fe&&Q(Re,1)&&!(Fe=1<=(pt=Q(Re,4))&&11>=pt)){le.a=3;break e}var Va;if(Va=Fe)t:{var Pa,pa,mi,za=le,wa=Ee,$i=Oe,Ma=pt,ts=I,us=za.m,Wa=za.s,Ni=[null],Gi=1,js=0,bn=Tn[Ma];a:for(;;){if(ts&&Q(us,1)){var Ei=Q(us,3)+2,Rn=He(wa,Ei),Wr=He($i,Ei),_l=Rn*Wr;if(!Ct(Rn,Wr,0,za,Ni))break a;for(Ni=Ni[0],Wa.xc=Ei,Pa=0;Pa<_l;++Pa){var ur=Ni[Pa]>>8&65535;Ni[Pa]=ur,ur>=Gi&&(Gi=ur+1)}}if(us.h)break a;for(pa=0;5>pa;++pa){var ai=es[pa];!pa&&0<Ma&&(ai+=1<<Ma),js<ai&&(js=ai)}var QA=A(Gi*bn,X),Bh=Gi,Jd=A(Bh,fe);if(Jd==null)var Ho=null;else t(65536>=Bh),Ho=Jd;var _c=c(js);if(Ho==null||_c==null||QA==null){za.a=1;break a}var Fc=QA;for(Pa=mi=0;Pa<Gi;++Pa){var an=Ho[Pa],Fl=an.G,Dl=an.H,Zd=0,qo=1,Ch=0;for(pa=0;5>pa;++pa){ai=es[pa],Fl[pa]=Fc,Dl[pa]=mi,!pa&&0<Ma&&(ai+=1<<Ma);s:{var Ko,Yr=ai,Vo=za,Xr=_c,TA=Fc,Sh=mi,zo=0,hr=Vo.m,_h=Q(hr,1);if(r(Xr,0,0,Yr),_h){var Fh=Q(hr,1)+1,Dh=Q(hr,1),RA=Q(hr,Dh==0?1:8);Xr[RA]=1,Fh==2&&(Xr[RA=Q(hr,8)]=1);var $o=1}else{var eu=c(19),PA=Q(hr,4)+4;if(19<PA){Vo.a=3;var Go=0;break s}for(Ko=0;Ko<PA;++Ko)eu[ka[Ko]]=Q(hr,3);var HA=void 0,Wo=void 0,qA=Vo,Eh=eu,Yo=Yr,KA=Xr,VA=0,mr=qA.m,Lh=8,Mh=A(128,X);i:for(;_(Mh,0,7,Eh,19);){if(Q(mr,1)){var Uh=2+2*Q(mr,3);if((HA=2+Q(mr,Uh))>Yo)break i}else HA=Yo;for(Wo=0;Wo<Yo&&HA--;){ae(mr);var Dc=Mh[0+(127&V(mr))];ie(mr,mr.u+Dc.g);var Jr=Dc.value;if(16>Jr)KA[Wo++]=Jr,Jr!=0&&(Lh=Jr);else{var zA=Jr==16,tu=Jr-16,Oh=zd[tu],wn=Q(mr,Vd[tu])+Oh;if(Wo+wn>Yo)break i;for(var El=zA?Lh:0;0<wn--;)KA[Wo++]=El}}VA=1;break i}VA||(qA.a=3),$o=VA}($o=$o&&!hr.h)&&(zo=_(TA,Sh,8,Xr,Yr)),$o&&zo!=0?Go=zo:(Vo.a=3,Go=0)}if(Go==0)break a;if(qo&&zi[pa]==1&&(qo=Fc[mi].g==0),Zd+=Fc[mi].g,mi+=Go,3>=pa){var sn,fr=_c[0];for(sn=1;sn<ai;++sn)_c[sn]>fr&&(fr=_c[sn]);Ch+=fr}}if(an.nd=qo,an.Qb=0,qo&&(an.qb=(Fl[3][Dl[3]+0].value<<24|Fl[1][Dl[1]+0].value<<16|Fl[2][Dl[2]+0].value)>>>0,Zd==0&&256>Fl[0][Dl[0]+0].value&&(an.Qb=1,an.qb+=Fl[0][Dl[0]+0].value<<8)),an.jc=!an.Qb&&6>Ch,an.jc){var Ec,Nn=an;for(Ec=0;Ec<_i;++Ec){var pr=Ec,gr=Nn.pd[pr],Pn=Nn.G[0][Nn.H[0]+pr];256<=Pn.value?(gr.g=Pn.g+256,gr.value=Pn.value):(gr.g=0,gr.value=0,pr>>=R(Pn,8,gr),pr>>=R(Nn.G[1][Nn.H[1]+pr],16,gr),pr>>=R(Nn.G[2][Nn.H[2]+pr],0,gr),R(Nn.G[3][Nn.H[3]+pr],24,gr))}}}Wa.vc=Ni,Wa.Wb=Gi,Wa.Ya=Ho,Wa.yc=QA,Va=1;break t}Va=0}if(!(Fe=Va)){le.a=3;break e}if(0<pt){if(Ve.ua=1<<pt,!C(Ve.Wa,pt)){le.a=1,Fe=0;break e}}else Ve.ua=0;var Lc=le,au=Ee,kh=Oe,$A=Lc.s,Mc=$A.xc;if(Lc.c=au,Lc.i=kh,$A.md=He(au,Mc),$A.wc=Mc==0?-1:(1<<Mc)-1,I){le.xb=wh;break e}if((at=c(Ee*Oe))==null){le.a=1,Fe=0;break e}Fe=(Fe=Pe(le,at,0,Ee,Oe,Oe,null))&&!Re.h;break e}return Fe?(je!=null?je[0]=at:(t(at==null),t(I)),le.$=0,I||We(Ve)):We(Ve),Fe}function Kt(g,j){var I=g.c*g.i,le=I+j+16*j;return t(g.c<=j),g.V=c(le),g.V==null?(g.Ta=null,g.Ua=0,g.a=1,0):(g.Ta=g.V,g.Ua=g.Ba+I+j,1)}function ya(g,j){var I=g.C,le=j-I,je=g.V,Fe=g.Ba+g.c*I;for(t(j<=g.l.o);0<le;){var Ee=16<le?16:le,Oe=g.l.ma,Re=g.l.width,Ve=Re*Ee,at=Oe.ca,pt=Oe.tb+Re*I,vt=g.Ta,ct=g.Ua;oe(g,Ee,je,Fe),ci(vt,ct,at,pt,Ve),$(Oe,I,I+Ee,at,pt,Re),le-=Ee,je+=Ee*g.c,I+=Ee}t(I==j),g.C=g.Ma=j}function Ra(){this.ub=this.yd=this.td=this.Rb=0}function qa(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function Qi(){this.Fb=this.Bb=this.Cb=0,this.Zb=c(4),this.Lb=c(4)}function ls(){this.Yb=function(){var g=[];return function j(I,le,je){for(var Fe=je[le],Ee=0;Ee<Fe&&(I.push(je.length>le+1?[]:0),!(je.length<le+1));Ee++)j(I[Ee],le+1,je)}(g,0,[3,11]),g}()}function Ga(){this.jb=c(3),this.Wc=d([4,8],ls),this.Xc=d([4,17],ls)}function Ln(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new c(4),this.od=new c(4)}function ks(){this.ld=this.La=this.dd=this.tc=0}function Yi(){this.Na=this.la=0}function ra(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function Xi(){this.ad=c(384),this.Za=0,this.Ob=c(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function ha(){this.uc=this.M=this.Nb=0,this.wa=Array(new ks),this.Y=0,this.ya=Array(new Xi),this.aa=0,this.l=new tc}function xo(){this.y=c(16),this.f=c(8),this.ea=c(8)}function wA(){this.cb=this.a=0,this.sc="",this.m=new ne,this.Od=new Ra,this.Kc=new qa,this.ed=new Ln,this.Qa=new Qi,this.Ic=this.$c=this.Aa=0,this.D=new ha,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=A(8,ne),this.ia=0,this.pb=A(4,ra),this.Pa=new Ga,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new xo),this.Hd=0,this.rb=Array(new Yi),this.sb=0,this.wa=Array(new ks),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new Xi),this.L=this.aa=0,this.gd=d([4,2],ks),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function tc(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function ac(){var g=new wA;return g!=null&&(g.a=0,g.sc="OK",g.cb=0,g.Xb=0,Bc||(Bc=yo)),g}function ei(g,j,I){return g.a==0&&(g.a=j,g.sc=I,g.cb=0),0}function Gs(g,j,I){return 3<=I&&g[j+0]==157&&g[j+1]==1&&g[j+2]==42}function cs(g,j){if(g==null)return 0;if(g.a=0,g.sc="OK",j==null)return ei(g,2,"null VP8Io passed to VP8GetHeaders()");var I=j.data,le=j.w,je=j.ha;if(4>je)return ei(g,7,"Truncated header.");var Fe=I[le+0]|I[le+1]<<8|I[le+2]<<16,Ee=g.Od;if(Ee.Rb=!(1&Fe),Ee.td=Fe>>1&7,Ee.yd=Fe>>4&1,Ee.ub=Fe>>5,3<Ee.td)return ei(g,3,"Incorrect keyframe parameters.");if(!Ee.yd)return ei(g,4,"Frame not displayable.");le+=3,je-=3;var Oe=g.Kc;if(Ee.Rb){if(7>je)return ei(g,7,"cannot parse picture header");if(!Gs(I,le,je))return ei(g,3,"Bad code word");Oe.c=16383&(I[le+4]<<8|I[le+3]),Oe.Td=I[le+4]>>6,Oe.i=16383&(I[le+6]<<8|I[le+5]),Oe.Ud=I[le+6]>>6,le+=7,je-=7,g.za=Oe.c+15>>4,g.Ub=Oe.i+15>>4,j.width=Oe.c,j.height=Oe.i,j.Da=0,j.j=0,j.v=0,j.va=j.width,j.o=j.height,j.da=0,j.ib=j.width,j.hb=j.height,j.U=j.width,j.T=j.height,r((Fe=g.Pa).jb,0,255,Fe.jb.length),t((Fe=g.Qa)!=null),Fe.Cb=0,Fe.Bb=0,Fe.Fb=1,r(Fe.Zb,0,0,Fe.Zb.length),r(Fe.Lb,0,0,Fe.Lb)}if(Ee.ub>je)return ei(g,7,"bad partition length");Ne(Fe=g.m,I,le,Ee.ub),le+=Ee.ub,je-=Ee.ub,Ee.Rb&&(Oe.Ld=z(Fe),Oe.Kd=z(Fe)),Oe=g.Qa;var Re,Ve=g.Pa;if(t(Fe!=null),t(Oe!=null),Oe.Cb=z(Fe),Oe.Cb){if(Oe.Bb=z(Fe),z(Fe)){for(Oe.Fb=z(Fe),Re=0;4>Re;++Re)Oe.Zb[Re]=z(Fe)?_e(Fe,7):0;for(Re=0;4>Re;++Re)Oe.Lb[Re]=z(Fe)?_e(Fe,6):0}if(Oe.Bb)for(Re=0;3>Re;++Re)Ve.jb[Re]=z(Fe)?ue(Fe,8):255}else Oe.Bb=0;if(Fe.Ka)return ei(g,3,"cannot parse segment header");if((Oe=g.ed).zd=z(Fe),Oe.Tb=ue(Fe,6),Oe.wb=ue(Fe,3),Oe.Pc=z(Fe),Oe.Pc&&z(Fe)){for(Ve=0;4>Ve;++Ve)z(Fe)&&(Oe.vd[Ve]=_e(Fe,6));for(Ve=0;4>Ve;++Ve)z(Fe)&&(Oe.od[Ve]=_e(Fe,6))}if(g.L=Oe.Tb==0?0:Oe.zd?1:2,Fe.Ka)return ei(g,3,"cannot parse filter header");var at=je;if(je=Re=le,le=Re+at,Oe=at,g.Xb=(1<<ue(g.m,2))-1,at<3*(Ve=g.Xb))I=7;else{for(Re+=3*Ve,Oe-=3*Ve,at=0;at<Ve;++at){var pt=I[je+0]|I[je+1]<<8|I[je+2]<<16;pt>Oe&&(pt=Oe),Ne(g.Jc[+at],I,Re,pt),Re+=pt,Oe-=pt,je+=3}Ne(g.Jc[+Ve],I,Re,Oe),I=Re<le?0:5}if(I!=0)return ei(g,I,"cannot parse partitions");for(I=ue(Re=g.m,7),je=z(Re)?_e(Re,4):0,le=z(Re)?_e(Re,4):0,Oe=z(Re)?_e(Re,4):0,Ve=z(Re)?_e(Re,4):0,Re=z(Re)?_e(Re,4):0,at=g.Qa,pt=0;4>pt;++pt){if(at.Cb){var vt=at.Zb[pt];at.Fb||(vt+=I)}else{if(0<pt){g.pb[pt]=g.pb[0];continue}vt=I}var ct=g.pb[pt];ct.Sc[0]=Ar[Ts(vt+je,127)],ct.Sc[1]=MA[Ts(vt+0,127)],ct.Eb[0]=2*Ar[Ts(vt+le,127)],ct.Eb[1]=101581*MA[Ts(vt+Oe,127)]>>16,8>ct.Eb[1]&&(ct.Eb[1]=8),ct.Qc[0]=Ar[Ts(vt+Ve,117)],ct.Qc[1]=MA[Ts(vt+Re,127)],ct.lc=vt+Re}if(!Ee.Rb)return ei(g,4,"Not a key frame.");for(z(Fe),Ee=g.Pa,I=0;4>I;++I){for(je=0;8>je;++je)for(le=0;3>le;++le)for(Oe=0;11>Oe;++Oe)Ve=B(Fe,Gd[I][je][le][Oe])?ue(Fe,8):Qo[I][je][le][Oe],Ee.Wc[I][je].Yb[le][Oe]=Ve;for(je=0;17>je;++je)Ee.Xc[I][je]=Ee.Wc[I][bh[je]]}return g.kc=z(Fe),g.kc&&(g.Bd=ue(Fe,8)),g.cb=1}function yo(g,j,I,le,je,Fe,Ee){var Oe=j[je].Yb[I];for(I=0;16>je;++je){if(!B(g,Oe[I+0]))return je;for(;!B(g,Oe[I+1]);)if(Oe=j[++je].Yb[0],I=0,je==16)return 16;var Re=j[je+1].Yb;if(B(g,Oe[I+2])){var Ve=g,at=0;if(B(Ve,(vt=Oe)[(pt=I)+3]))if(B(Ve,vt[pt+6])){for(Oe=0,pt=2*(at=B(Ve,vt[pt+8]))+(vt=B(Ve,vt[pt+9+at])),at=0,vt=ko[pt];vt[Oe];++Oe)at+=at+B(Ve,vt[Oe]);at+=3+(8<<pt)}else B(Ve,vt[pt+7])?(at=7+2*B(Ve,165),at+=B(Ve,145)):at=5+B(Ve,159);else at=B(Ve,vt[pt+4])?3+B(Ve,vt[pt+5]):2;Oe=Re[2]}else at=1,Oe=Re[1];Re=Ee+Io[je],0>(Ve=g).b&&P(Ve);var pt,vt=Ve.b,ct=(pt=Ve.Ca>>1)-(Ve.I>>vt)>>31;--Ve.b,Ve.Ca+=ct,Ve.Ca|=1,Ve.I-=(pt+1&ct)<<vt,Fe[Re]=((at^ct)-ct)*le[(0<je)+0]}return 16}function bo(g){var j=g.rb[g.sb-1];j.la=0,j.Na=0,r(g.zc,0,0,g.zc.length),g.ja=0}function ic(g,j){if(g==null)return 0;if(j==null)return ei(g,2,"NULL VP8Io parameter in VP8Decode().");if(!g.cb&&!cs(g,j))return 0;if(t(g.cb),j.ac==null||j.ac(j)){j.ob&&(g.L=0);var I=kA[g.L];if(g.L==2?(g.yb=0,g.zb=0):(g.yb=j.v-I>>4,g.zb=j.j-I>>4,0>g.yb&&(g.yb=0),0>g.zb&&(g.zb=0)),g.Va=j.o+15+I>>4,g.Hb=j.va+15+I>>4,g.Hb>g.za&&(g.Hb=g.za),g.Va>g.Ub&&(g.Va=g.Ub),0<g.L){var le=g.ed;for(I=0;4>I;++I){var je;if(g.Qa.Cb){var Fe=g.Qa.Lb[I];g.Qa.Fb||(Fe+=le.Tb)}else Fe=le.Tb;for(je=0;1>=je;++je){var Ee=g.gd[I][je],Oe=Fe;if(le.Pc&&(Oe+=le.vd[0],je&&(Oe+=le.od[0])),0<(Oe=0>Oe?0:63<Oe?63:Oe)){var Re=Oe;0<le.wb&&(Re=4<le.wb?Re>>2:Re>>1)>9-le.wb&&(Re=9-le.wb),1>Re&&(Re=1),Ee.dd=Re,Ee.tc=2*Oe+Re,Ee.ld=40<=Oe?2:15<=Oe?1:0}else Ee.tc=0;Ee.La=je}}}I=0}else ei(g,6,"Frame setup failed"),I=g.a;if(I=I==0){if(I){g.$c=0,0<g.Aa||(g.Ic=Di);e:{I=g.Ic,le=4*(Re=g.za);var Ve=32*Re,at=Re+1,pt=0<g.L?Re*(0<g.Aa?2:1):0,vt=(g.Aa==2?2:1)*Re;if((Ee=le+832+(je=3*(16*I+kA[g.L])/2*Ve)+(Fe=g.Fa!=null&&0<g.Fa.length?g.Kc.c*g.Kc.i:0))!=Ee)I=0;else{if(Ee>g.Vb){if(g.Vb=0,g.Ec=c(Ee),g.Fc=0,g.Ec==null){I=ei(g,1,"no memory during frame initialization.");break e}g.Vb=Ee}Ee=g.Ec,Oe=g.Fc,g.Ac=Ee,g.Bc=Oe,Oe+=le,g.Gd=A(Ve,xo),g.Hd=0,g.rb=A(at+1,Yi),g.sb=1,g.wa=pt?A(pt,ks):null,g.Y=0,g.D.Nb=0,g.D.wa=g.wa,g.D.Y=g.Y,0<g.Aa&&(g.D.Y+=Re),t(!0),g.oc=Ee,g.pc=Oe,Oe+=832,g.ya=A(vt,Xi),g.aa=0,g.D.ya=g.ya,g.D.aa=g.aa,g.Aa==2&&(g.D.aa+=Re),g.R=16*Re,g.B=8*Re,Re=(Ve=kA[g.L])*g.R,Ve=Ve/2*g.B,g.sa=Ee,g.ta=Oe+Re,g.qa=g.sa,g.ra=g.ta+16*I*g.R+Ve,g.Ha=g.qa,g.Ia=g.ra+8*I*g.B+Ve,g.$c=0,Oe+=je,g.mb=Fe?Ee:null,g.nb=Fe?Oe:null,t(Oe+Fe<=g.Fc+g.Vb),bo(g),r(g.Ac,g.Bc,0,le),I=1}}if(I){if(j.ka=0,j.y=g.sa,j.O=g.ta,j.f=g.qa,j.N=g.ra,j.ea=g.Ha,j.Vd=g.Ia,j.fa=g.R,j.Rc=g.B,j.F=null,j.J=0,!Uo){for(I=-255;255>=I;++I)hi[255+I]=0>I?-I:I;for(I=-1020;1020>=I;++I)Js[1020+I]=-128>I?-128:127<I?127:I;for(I=-112;112>=I;++I)Nl[112+I]=-16>I?-16:15<I?15:I;for(I=-255;510>=I;++I)Hs[255+I]=0>I?0:255<I?255:I;Uo=1}Pr=jA,Rs=NA,bc=nc,vi=Fr,Vi=wo,li=sc,Hr=fl,Mo=pl,fn=Hd,qr=Co,Kr=Pd,nr=uc,bl=hc,wc=DA,wl=Mr,rr=Qs,Nc=In,Ps=Rd,Zs[0]=dn,Zs[1]=Td,Zs[2]=SA,Zs[3]=jo,Zs[4]=Dr,Zs[5]=Un,Zs[6]=cc,Zs[7]=Ys,Zs[8]=oc,Zs[9]=Bo,xn[0]=ml,xn[1]=CA,xn[2]=An,xn[3]=rc,xn[4]=Ti,xn[5]=No,xn[6]=Zn,qs[0]=er,qs[1]=BA,qs[2]=_A,qs[3]=Er,qs[4]=Is,qs[5]=Zi,qs[6]=Lr,I=1}else I=0}I&&(I=function(ct,bt){for(ct.M=0;ct.M<ct.Va;++ct.M){var gt,et=ct.Jc[ct.M&ct.Xb],rt=ct.m,Dt=ct;for(gt=0;gt<Dt.za;++gt){var Ut=rt,Lt=Dt,Vt=Lt.Ac,qt=Lt.Bc+4*gt,ca=Lt.zc,Pt=Lt.ya[Lt.aa+gt];if(Lt.Qa.Bb?Pt.$b=B(Ut,Lt.Pa.jb[0])?2+B(Ut,Lt.Pa.jb[2]):B(Ut,Lt.Pa.jb[1]):Pt.$b=0,Lt.kc&&(Pt.Ad=B(Ut,Lt.Bd)),Pt.Za=!B(Ut,145)+0,Pt.Za){var La=Pt.Ob,Ta=0;for(Lt=0;4>Lt;++Lt){var Da,Ba=ca[0+Lt];for(Da=0;4>Da;++Da){Ba=yh[Vt[qt+Da]][Ba];for(var Va=Cc[B(Ut,Ba[0])];0<Va;)Va=Cc[2*Va+B(Ut,Ba[Va])];Ba=-Va,Vt[qt+Da]=Ba}i(La,Ta,Vt,qt,4),Ta+=4,ca[0+Lt]=Ba}}else Ba=B(Ut,156)?B(Ut,128)?1:3:B(Ut,163)?2:0,Pt.Ob[0]=Ba,r(Vt,qt,Ba,4),r(ca,0,Ba,4);Pt.Dd=B(Ut,142)?B(Ut,114)?B(Ut,183)?1:3:2:0}if(Dt.m.Ka)return ei(ct,7,"Premature end-of-partition0 encountered.");for(;ct.ja<ct.za;++ct.ja){if(Dt=et,Ut=(rt=ct).rb[rt.sb-1],Vt=rt.rb[rt.sb+rt.ja],gt=rt.ya[rt.aa+rt.ja],qt=rt.kc?gt.Ad:0)Ut.la=Vt.la=0,gt.Za||(Ut.Na=Vt.Na=0),gt.Hc=0,gt.Gc=0,gt.ia=0;else{var Pa,pa;if(Ut=Vt,Vt=Dt,qt=rt.Pa.Xc,ca=rt.ya[rt.aa+rt.ja],Pt=rt.pb[ca.$b],Lt=ca.ad,La=0,Ta=rt.rb[rt.sb-1],Ba=Da=0,r(Lt,La,0,384),ca.Za)var mi=0,za=qt[3];else{Va=c(16);var wa=Ut.Na+Ta.Na;if(wa=Bc(Vt,qt[1],wa,Pt.Eb,0,Va,0),Ut.Na=Ta.Na=(0<wa)+0,1<wa)Pr(Va,0,Lt,La);else{var $i=Va[0]+3>>3;for(Va=0;256>Va;Va+=16)Lt[La+Va]=$i}mi=1,za=qt[0]}var Ma=15&Ut.la,ts=15&Ta.la;for(Va=0;4>Va;++Va){var us=1&ts;for($i=pa=0;4>$i;++$i)Ma=Ma>>1|(us=(wa=Bc(Vt,za,wa=us+(1&Ma),Pt.Sc,mi,Lt,La))>mi)<<7,pa=pa<<2|(3<wa?3:1<wa?2:Lt[La+0]!=0),La+=16;Ma>>=4,ts=ts>>1|us<<7,Da=(Da<<8|pa)>>>0}for(za=Ma,mi=ts>>4,Pa=0;4>Pa;Pa+=2){for(pa=0,Ma=Ut.la>>4+Pa,ts=Ta.la>>4+Pa,Va=0;2>Va;++Va){for(us=1&ts,$i=0;2>$i;++$i)wa=us+(1&Ma),Ma=Ma>>1|(us=0<(wa=Bc(Vt,qt[2],wa,Pt.Qc,0,Lt,La)))<<3,pa=pa<<2|(3<wa?3:1<wa?2:Lt[La+0]!=0),La+=16;Ma>>=2,ts=ts>>1|us<<5}Ba|=pa<<4*Pa,za|=Ma<<4<<Pa,mi|=(240&ts)<<Pa}Ut.la=za,Ta.la=mi,ca.Hc=Da,ca.Gc=Ba,ca.ia=43690&Ba?0:Pt.ia,qt=!(Da|Ba)}if(0<rt.L&&(rt.wa[rt.Y+rt.ja]=rt.gd[gt.$b][gt.Za],rt.wa[rt.Y+rt.ja].La|=!qt),Dt.Ka)return ei(ct,7,"Premature end-of-file encountered.")}if(bo(ct),rt=bt,Dt=1,gt=(et=ct).D,Ut=0<et.L&&et.M>=et.zb&&et.M<=et.Va,et.Aa==0)e:{if(gt.M=et.M,gt.uc=Ut,ar(et,gt),Dt=1,gt=(pa=et.D).Nb,Ut=(Ba=kA[et.L])*et.R,Vt=Ba/2*et.B,Va=16*gt*et.R,$i=8*gt*et.B,qt=et.sa,ca=et.ta-Ut+Va,Pt=et.qa,Lt=et.ra-Vt+$i,La=et.Ha,Ta=et.Ia-Vt+$i,ts=(Ma=pa.M)==0,Da=Ma>=et.Va-1,et.Aa==2&&ar(et,pa),pa.uc)for(us=(wa=et).D.M,t(wa.D.uc),pa=wa.yb;pa<wa.Hb;++pa){mi=pa,za=us;var Wa=(Ni=(ai=wa).D).Nb;Pa=ai.R;var Ni=Ni.wa[Ni.Y+mi],Gi=ai.sa,js=ai.ta+16*Wa*Pa+16*mi,bn=Ni.dd,Ei=Ni.tc;if(Ei!=0)if(t(3<=Ei),ai.L==1)0<mi&&rr(Gi,js,Pa,Ei+4),Ni.La&&Ps(Gi,js,Pa,Ei),0<za&&wl(Gi,js,Pa,Ei+4),Ni.La&&Nc(Gi,js,Pa,Ei);else{var Rn=ai.B,Wr=ai.qa,_l=ai.ra+8*Wa*Rn+8*mi,ur=ai.Ha,ai=ai.Ia+8*Wa*Rn+8*mi;Wa=Ni.ld,0<mi&&(Mo(Gi,js,Pa,Ei+4,bn,Wa),qr(Wr,_l,ur,ai,Rn,Ei+4,bn,Wa)),Ni.La&&(nr(Gi,js,Pa,Ei,bn,Wa),wc(Wr,_l,ur,ai,Rn,Ei,bn,Wa)),0<za&&(Hr(Gi,js,Pa,Ei+4,bn,Wa),fn(Wr,_l,ur,ai,Rn,Ei+4,bn,Wa)),Ni.La&&(Kr(Gi,js,Pa,Ei,bn,Wa),bl(Wr,_l,ur,ai,Rn,Ei,bn,Wa))}}if(et.ia&&alert("todo:DitherRow"),rt.put!=null){if(pa=16*Ma,Ma=16*(Ma+1),ts?(rt.y=et.sa,rt.O=et.ta+Va,rt.f=et.qa,rt.N=et.ra+$i,rt.ea=et.Ha,rt.W=et.Ia+$i):(pa-=Ba,rt.y=qt,rt.O=ca,rt.f=Pt,rt.N=Lt,rt.ea=La,rt.W=Ta),Da||(Ma-=Ba),Ma>rt.o&&(Ma=rt.o),rt.F=null,rt.J=null,et.Fa!=null&&0<et.Fa.length&&pa<Ma&&(rt.J=Fo(et,rt,pa,Ma-pa),rt.F=et.mb,rt.F==null&&rt.F.length==0)){Dt=ei(et,3,"Could not decode alpha data.");break e}pa<rt.j&&(Ba=rt.j-pa,pa=rt.j,t(!(1&Ba)),rt.O+=et.R*Ba,rt.N+=et.B*(Ba>>1),rt.W+=et.B*(Ba>>1),rt.F!=null&&(rt.J+=rt.width*Ba)),pa<Ma&&(rt.O+=rt.v,rt.N+=rt.v>>1,rt.W+=rt.v>>1,rt.F!=null&&(rt.J+=rt.v),rt.ka=pa-rt.j,rt.U=rt.va-rt.v,rt.T=Ma-pa,Dt=rt.put(rt))}gt+1!=et.Ic||Da||(i(et.sa,et.ta-Ut,qt,ca+16*et.R,Ut),i(et.qa,et.ra-Vt,Pt,Lt+8*et.B,Vt),i(et.Ha,et.Ia-Vt,La,Ta+8*et.B,Vt))}if(!Dt)return ei(ct,6,"Output aborted.")}return 1}(g,j)),j.bc!=null&&j.bc(j),I&=1}return I?(g.cb=0,I):0}function Ws(g,j,I,le,je){je=g[j+I+32*le]+(je>>3),g[j+I+32*le]=-256&je?0>je?0:255:je}function Jn(g,j,I,le,je,Fe){Ws(g,j,0,I,le+je),Ws(g,j,1,I,le+Fe),Ws(g,j,2,I,le-Fe),Ws(g,j,3,I,le-je)}function xs(g){return(20091*g>>16)+g}function Ji(g,j,I,le){var je,Fe=0,Ee=c(16);for(je=0;4>je;++je){var Oe=g[j+0]+g[j+8],Re=g[j+0]-g[j+8],Ve=(35468*g[j+4]>>16)-xs(g[j+12]),at=xs(g[j+4])+(35468*g[j+12]>>16);Ee[Fe+0]=Oe+at,Ee[Fe+1]=Re+Ve,Ee[Fe+2]=Re-Ve,Ee[Fe+3]=Oe-at,Fe+=4,j++}for(je=Fe=0;4>je;++je)Oe=(g=Ee[Fe+0]+4)+Ee[Fe+8],Re=g-Ee[Fe+8],Ve=(35468*Ee[Fe+4]>>16)-xs(Ee[Fe+12]),Ws(I,le,0,0,Oe+(at=xs(Ee[Fe+4])+(35468*Ee[Fe+12]>>16))),Ws(I,le,1,0,Re+Ve),Ws(I,le,2,0,Re-Ve),Ws(I,le,3,0,Oe-at),Fe++,le+=32}function sc(g,j,I,le){var je=g[j+0]+4,Fe=35468*g[j+4]>>16,Ee=xs(g[j+4]),Oe=35468*g[j+1]>>16;Jn(I,le,0,je+Ee,g=xs(g[j+1]),Oe),Jn(I,le,1,je+Fe,g,Oe),Jn(I,le,2,je-Fe,g,Oe),Jn(I,le,3,je-Ee,g,Oe)}function NA(g,j,I,le,je){Ji(g,j,I,le),je&&Ji(g,j+16,I,le+4)}function nc(g,j,I,le){Rs(g,j+0,I,le,1),Rs(g,j+32,I,le+128,1)}function Fr(g,j,I,le){var je;for(g=g[j+0]+4,je=0;4>je;++je)for(j=0;4>j;++j)Ws(I,le,j,je,g)}function wo(g,j,I,le){g[j+0]&&vi(g,j+0,I,le),g[j+16]&&vi(g,j+16,I,le+4),g[j+32]&&vi(g,j+32,I,le+128),g[j+48]&&vi(g,j+48,I,le+128+4)}function jA(g,j,I,le){var je,Fe=c(16);for(je=0;4>je;++je){var Ee=g[j+0+je]+g[j+12+je],Oe=g[j+4+je]+g[j+8+je],Re=g[j+4+je]-g[j+8+je],Ve=g[j+0+je]-g[j+12+je];Fe[0+je]=Ee+Oe,Fe[8+je]=Ee-Oe,Fe[4+je]=Ve+Re,Fe[12+je]=Ve-Re}for(je=0;4>je;++je)Ee=(g=Fe[0+4*je]+3)+Fe[3+4*je],Oe=Fe[1+4*je]+Fe[2+4*je],Re=Fe[1+4*je]-Fe[2+4*je],Ve=g-Fe[3+4*je],I[le+0]=Ee+Oe>>3,I[le+16]=Ve+Re>>3,I[le+32]=Ee-Oe>>3,I[le+48]=Ve-Re>>3,le+=64}function Mn(g,j,I){var le,je=j-32,Fe=ws,Ee=255-g[je-1];for(le=0;le<I;++le){var Oe,Re=Fe,Ve=Ee+g[j-1];for(Oe=0;Oe<I;++Oe)g[j+Oe]=Re[Ve+g[je+Oe]];j+=32}}function Td(g,j){Mn(g,j,4)}function BA(g,j){Mn(g,j,8)}function CA(g,j){Mn(g,j,16)}function An(g,j){var I;for(I=0;16>I;++I)i(g,j+32*I,g,j-32,16)}function rc(g,j){var I;for(I=16;0<I;--I)r(g,j,g[j-1],16),j+=32}function lc(g,j,I){var le;for(le=0;16>le;++le)r(j,I+32*le,g,16)}function ml(g,j){var I,le=16;for(I=0;16>I;++I)le+=g[j-1+32*I]+g[j+I-32];lc(le>>5,g,j)}function Ti(g,j){var I,le=8;for(I=0;16>I;++I)le+=g[j-1+32*I];lc(le>>4,g,j)}function No(g,j){var I,le=8;for(I=0;16>I;++I)le+=g[j+I-32];lc(le>>4,g,j)}function Zn(g,j){lc(128,g,j)}function da(g,j,I){return g+2*j+I+2>>2}function SA(g,j){var I,le=j-32;for(le=new Uint8Array([da(g[le-1],g[le+0],g[le+1]),da(g[le+0],g[le+1],g[le+2]),da(g[le+1],g[le+2],g[le+3]),da(g[le+2],g[le+3],g[le+4])]),I=0;4>I;++I)i(g,j+32*I,le,0,le.length)}function jo(g,j){var I=g[j-1],le=g[j-1+32],je=g[j-1+64],Fe=g[j-1+96];q(g,j+0,16843009*da(g[j-1-32],I,le)),q(g,j+32,16843009*da(I,le,je)),q(g,j+64,16843009*da(le,je,Fe)),q(g,j+96,16843009*da(je,Fe,Fe))}function dn(g,j){var I,le=4;for(I=0;4>I;++I)le+=g[j+I-32]+g[j-1+32*I];for(le>>=3,I=0;4>I;++I)r(g,j+32*I,le,4)}function Dr(g,j){var I=g[j-1+0],le=g[j-1+32],je=g[j-1+64],Fe=g[j-1-32],Ee=g[j+0-32],Oe=g[j+1-32],Re=g[j+2-32],Ve=g[j+3-32];g[j+0+96]=da(le,je,g[j-1+96]),g[j+1+96]=g[j+0+64]=da(I,le,je),g[j+2+96]=g[j+1+64]=g[j+0+32]=da(Fe,I,le),g[j+3+96]=g[j+2+64]=g[j+1+32]=g[j+0+0]=da(Ee,Fe,I),g[j+3+64]=g[j+2+32]=g[j+1+0]=da(Oe,Ee,Fe),g[j+3+32]=g[j+2+0]=da(Re,Oe,Ee),g[j+3+0]=da(Ve,Re,Oe)}function cc(g,j){var I=g[j+1-32],le=g[j+2-32],je=g[j+3-32],Fe=g[j+4-32],Ee=g[j+5-32],Oe=g[j+6-32],Re=g[j+7-32];g[j+0+0]=da(g[j+0-32],I,le),g[j+1+0]=g[j+0+32]=da(I,le,je),g[j+2+0]=g[j+1+32]=g[j+0+64]=da(le,je,Fe),g[j+3+0]=g[j+2+32]=g[j+1+64]=g[j+0+96]=da(je,Fe,Ee),g[j+3+32]=g[j+2+64]=g[j+1+96]=da(Fe,Ee,Oe),g[j+3+64]=g[j+2+96]=da(Ee,Oe,Re),g[j+3+96]=da(Oe,Re,Re)}function Un(g,j){var I=g[j-1+0],le=g[j-1+32],je=g[j-1+64],Fe=g[j-1-32],Ee=g[j+0-32],Oe=g[j+1-32],Re=g[j+2-32],Ve=g[j+3-32];g[j+0+0]=g[j+1+64]=Fe+Ee+1>>1,g[j+1+0]=g[j+2+64]=Ee+Oe+1>>1,g[j+2+0]=g[j+3+64]=Oe+Re+1>>1,g[j+3+0]=Re+Ve+1>>1,g[j+0+96]=da(je,le,I),g[j+0+64]=da(le,I,Fe),g[j+0+32]=g[j+1+96]=da(I,Fe,Ee),g[j+1+32]=g[j+2+96]=da(Fe,Ee,Oe),g[j+2+32]=g[j+3+96]=da(Ee,Oe,Re),g[j+3+32]=da(Oe,Re,Ve)}function Ys(g,j){var I=g[j+0-32],le=g[j+1-32],je=g[j+2-32],Fe=g[j+3-32],Ee=g[j+4-32],Oe=g[j+5-32],Re=g[j+6-32],Ve=g[j+7-32];g[j+0+0]=I+le+1>>1,g[j+1+0]=g[j+0+64]=le+je+1>>1,g[j+2+0]=g[j+1+64]=je+Fe+1>>1,g[j+3+0]=g[j+2+64]=Fe+Ee+1>>1,g[j+0+32]=da(I,le,je),g[j+1+32]=g[j+0+96]=da(le,je,Fe),g[j+2+32]=g[j+1+96]=da(je,Fe,Ee),g[j+3+32]=g[j+2+96]=da(Fe,Ee,Oe),g[j+3+64]=da(Ee,Oe,Re),g[j+3+96]=da(Oe,Re,Ve)}function Bo(g,j){var I=g[j-1+0],le=g[j-1+32],je=g[j-1+64],Fe=g[j-1+96];g[j+0+0]=I+le+1>>1,g[j+2+0]=g[j+0+32]=le+je+1>>1,g[j+2+32]=g[j+0+64]=je+Fe+1>>1,g[j+1+0]=da(I,le,je),g[j+3+0]=g[j+1+32]=da(le,je,Fe),g[j+3+32]=g[j+1+64]=da(je,Fe,Fe),g[j+3+64]=g[j+2+64]=g[j+0+96]=g[j+1+96]=g[j+2+96]=g[j+3+96]=Fe}function oc(g,j){var I=g[j-1+0],le=g[j-1+32],je=g[j-1+64],Fe=g[j-1+96],Ee=g[j-1-32],Oe=g[j+0-32],Re=g[j+1-32],Ve=g[j+2-32];g[j+0+0]=g[j+2+32]=I+Ee+1>>1,g[j+0+32]=g[j+2+64]=le+I+1>>1,g[j+0+64]=g[j+2+96]=je+le+1>>1,g[j+0+96]=Fe+je+1>>1,g[j+3+0]=da(Oe,Re,Ve),g[j+2+0]=da(Ee,Oe,Re),g[j+1+0]=g[j+3+32]=da(I,Ee,Oe),g[j+1+32]=g[j+3+64]=da(le,I,Ee),g[j+1+64]=g[j+3+96]=da(je,le,I),g[j+1+96]=da(Fe,je,le)}function _A(g,j){var I;for(I=0;8>I;++I)i(g,j+32*I,g,j-32,8)}function Er(g,j){var I;for(I=0;8>I;++I)r(g,j,g[j-1],8),j+=32}function On(g,j,I){var le;for(le=0;8>le;++le)r(j,I+32*le,g,8)}function er(g,j){var I,le=8;for(I=0;8>I;++I)le+=g[j+I-32]+g[j-1+32*I];On(le>>4,g,j)}function Zi(g,j){var I,le=4;for(I=0;8>I;++I)le+=g[j+I-32];On(le>>3,g,j)}function Is(g,j){var I,le=4;for(I=0;8>I;++I)le+=g[j-1+32*I];On(le>>3,g,j)}function Lr(g,j){On(128,g,j)}function kn(g,j,I){var le=g[j-I],je=g[j+0],Fe=3*(je-le)+jc[1020+g[j-2*I]-g[j+I]],Ee=lr[112+(Fe+4>>3)];g[j-I]=ws[255+le+lr[112+(Fe+3>>3)]],g[j+0]=ws[255+je-Ee]}function FA(g,j,I,le){var je=g[j+0],Fe=g[j+I];return oi[255+g[j-2*I]-g[j-I]]>le||oi[255+Fe-je]>le}function Ac(g,j,I,le){return 4*oi[255+g[j-I]-g[j+0]]+oi[255+g[j-2*I]-g[j+I]]<=le}function dc(g,j,I,le,je){var Fe=g[j-3*I],Ee=g[j-2*I],Oe=g[j-I],Re=g[j+0],Ve=g[j+I],at=g[j+2*I],pt=g[j+3*I];return 4*oi[255+Oe-Re]+oi[255+Ee-Ve]>le?0:oi[255+g[j-4*I]-Fe]<=je&&oi[255+Fe-Ee]<=je&&oi[255+Ee-Oe]<=je&&oi[255+pt-at]<=je&&oi[255+at-Ve]<=je&&oi[255+Ve-Re]<=je}function Mr(g,j,I,le){var je=2*le+1;for(le=0;16>le;++le)Ac(g,j+le,I,je)&&kn(g,j+le,I)}function Qs(g,j,I,le){var je=2*le+1;for(le=0;16>le;++le)Ac(g,j+le*I,1,je)&&kn(g,j+le*I,1)}function In(g,j,I,le){var je;for(je=3;0<je;--je)Mr(g,j+=4*I,I,le)}function Rd(g,j,I,le){var je;for(je=3;0<je;--je)Qs(g,j+=4,I,le)}function Ur(g,j,I,le,je,Fe,Ee,Oe){for(Fe=2*Fe+1;0<je--;){if(dc(g,j,I,Fe,Ee))if(FA(g,j,I,Oe))kn(g,j,I);else{var Re=g,Ve=j,at=I,pt=Re[Ve-2*at],vt=Re[Ve-at],ct=Re[Ve+0],bt=Re[Ve+at],gt=Re[Ve+2*at],et=27*(Dt=jc[1020+3*(ct-vt)+jc[1020+pt-bt]])+63>>7,rt=18*Dt+63>>7,Dt=9*Dt+63>>7;Re[Ve-3*at]=ws[255+Re[Ve-3*at]+Dt],Re[Ve-2*at]=ws[255+pt+rt],Re[Ve-at]=ws[255+vt+et],Re[Ve+0]=ws[255+ct-et],Re[Ve+at]=ws[255+bt-rt],Re[Ve+2*at]=ws[255+gt-Dt]}j+=le}}function un(g,j,I,le,je,Fe,Ee,Oe){for(Fe=2*Fe+1;0<je--;){if(dc(g,j,I,Fe,Ee))if(FA(g,j,I,Oe))kn(g,j,I);else{var Re=g,Ve=j,at=I,pt=Re[Ve-at],vt=Re[Ve+0],ct=Re[Ve+at],bt=lr[112+((gt=3*(vt-pt))+4>>3)],gt=lr[112+(gt+3>>3)],et=bt+1>>1;Re[Ve-2*at]=ws[255+Re[Ve-2*at]+et],Re[Ve-at]=ws[255+pt+gt],Re[Ve+0]=ws[255+vt-bt],Re[Ve+at]=ws[255+ct-et]}j+=le}}function fl(g,j,I,le,je,Fe){Ur(g,j,I,1,16,le,je,Fe)}function pl(g,j,I,le,je,Fe){Ur(g,j,1,I,16,le,je,Fe)}function Pd(g,j,I,le,je,Fe){var Ee;for(Ee=3;0<Ee;--Ee)un(g,j+=4*I,I,1,16,le,je,Fe)}function uc(g,j,I,le,je,Fe){var Ee;for(Ee=3;0<Ee;--Ee)un(g,j+=4,1,I,16,le,je,Fe)}function Hd(g,j,I,le,je,Fe,Ee,Oe){Ur(g,j,je,1,8,Fe,Ee,Oe),Ur(I,le,je,1,8,Fe,Ee,Oe)}function Co(g,j,I,le,je,Fe,Ee,Oe){Ur(g,j,1,je,8,Fe,Ee,Oe),Ur(I,le,1,je,8,Fe,Ee,Oe)}function hc(g,j,I,le,je,Fe,Ee,Oe){un(g,j+4*je,je,1,8,Fe,Ee,Oe),un(I,le+4*je,je,1,8,Fe,Ee,Oe)}function DA(g,j,I,le,je,Fe,Ee,Oe){un(g,j+4,1,je,8,Fe,Ee,Oe),un(I,le+4,1,je,8,Fe,Ee,Oe)}function mc(){this.ba=new Be,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new we,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function So(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function _o(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function fc(){this.ua=0,this.Wa=new se,this.vb=new se,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new fe,this.yc=new X}function qd(){this.xb=this.a=0,this.l=new tc,this.ca=new Be,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new U,this.Pb=0,this.wd=new U,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new fc,this.ab=0,this.gc=A(4,_o),this.Oc=0}function pc(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new tc,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function gl(g,j,I,le,je,Fe,Ee){for(g=g==null?0:g[j+0],j=0;j<Ee;++j)je[Fe+j]=g+I[le+j]&255,g=je[Fe+j]}function gc(g,j,I,le,je,Fe,Ee){var Oe;if(g==null)gl(null,null,I,le,je,Fe,Ee);else for(Oe=0;Oe<Ee;++Oe)je[Fe+Oe]=g[j+Oe]+I[le+Oe]&255}function Or(g,j,I,le,je,Fe,Ee){if(g==null)gl(null,null,I,le,je,Fe,Ee);else{var Oe,Re=g[j+0],Ve=Re,at=Re;for(Oe=0;Oe<Ee;++Oe)Ve=at+(Re=g[j+Oe])-Ve,at=I[le+Oe]+(-256&Ve?0>Ve?0:255:Ve)&255,Ve=Re,je[Fe+Oe]=at}}function Fo(g,j,I,le){var je=j.width,Fe=j.o;if(t(g!=null&&j!=null),0>I||0>=le||I+le>Fe)return null;if(!g.Cc){if(g.ga==null){var Ee;if(g.ga=new pc,(Ee=g.ga==null)||(Ee=j.width*j.o,t(g.Gb.length==0),g.Gb=c(Ee),g.Uc=0,g.Gb==null?Ee=0:(g.mb=g.Gb,g.nb=g.Uc,g.rc=null,Ee=1),Ee=!Ee),!Ee){Ee=g.ga;var Oe=g.Fa,Re=g.P,Ve=g.qc,at=g.mb,pt=g.nb,vt=Re+1,ct=Ve-1,bt=Ee.l;if(t(Oe!=null&&at!=null&&j!=null),en[0]=null,en[1]=gl,en[2]=gc,en[3]=Or,Ee.ca=at,Ee.tb=pt,Ee.c=j.width,Ee.i=j.height,t(0<Ee.c&&0<Ee.i),1>=Ve)j=0;else if(Ee.$a=Oe[Re+0]>>0&3,Ee.Z=Oe[Re+0]>>2&3,Ee.Lc=Oe[Re+0]>>4&3,Re=Oe[Re+0]>>6&3,0>Ee.$a||1<Ee.$a||4<=Ee.Z||1<Ee.Lc||Re)j=0;else if(bt.put=Qt,bt.ac=yt,bt.bc=ta,bt.ma=Ee,bt.width=j.width,bt.height=j.height,bt.Da=j.Da,bt.v=j.v,bt.va=j.va,bt.j=j.j,bt.o=j.o,Ee.$a)e:{t(Ee.$a==1),j=ut();t:for(;;){if(j==null){j=0;break e}if(t(Ee!=null),Ee.mc=j,j.c=Ee.c,j.i=Ee.i,j.l=Ee.l,j.l.ma=Ee,j.l.width=Ee.c,j.l.height=Ee.i,j.a=0,ce(j.m,Oe,vt,ct),!Ct(Ee.c,Ee.i,1,j,null)||(j.ab==1&&j.gc[0].hc==3&&me(j.s)?(Ee.ic=1,Oe=j.c*j.i,j.Ta=null,j.Ua=0,j.V=c(Oe),j.Ba=0,j.V==null?(j.a=1,j=0):j=1):(Ee.ic=0,j=Kt(j,Ee.c)),!j))break t;j=1;break e}Ee.mc=null,j=0}else j=ct>=Ee.c*Ee.i;Ee=!j}if(Ee)return null;g.ga.Lc!=1?g.Ga=0:le=Fe-I}t(g.ga!=null),t(I+le<=Fe);e:{if(j=(Oe=g.ga).c,Fe=Oe.l.o,Oe.$a==0){if(vt=g.rc,ct=g.Vc,bt=g.Fa,Re=g.P+1+I*j,Ve=g.mb,at=g.nb+I*j,t(Re<=g.P+g.qc),Oe.Z!=0)for(t(en[Oe.Z]!=null),Ee=0;Ee<le;++Ee)en[Oe.Z](vt,ct,bt,Re,Ve,at,j),vt=Ve,ct=at,at+=j,Re+=j;else for(Ee=0;Ee<le;++Ee)i(Ve,at,bt,Re,j),vt=Ve,ct=at,at+=j,Re+=j;g.rc=vt,g.Vc=ct}else{if(t(Oe.mc!=null),j=I+le,t((Ee=Oe.mc)!=null),t(j<=Ee.i),Ee.C>=j)j=1;else if(Oe.ic||ht(),Oe.ic){Oe=Ee.V,vt=Ee.Ba,ct=Ee.c;var gt=Ee.i,et=(bt=1,Re=Ee.$/ct,Ve=Ee.$%ct,at=Ee.m,pt=Ee.s,Ee.$),rt=ct*gt,Dt=ct*j,Ut=pt.wc,Lt=et<Dt?G(pt,Ve,Re):null;t(et<=rt),t(j<=gt),t(me(pt));t:for(;;){for(;!at.h&&et<Dt;){if(Ve&Ut||(Lt=G(pt,Ve,Re)),t(Lt!=null),ae(at),256>(gt=be(Lt.G[0],Lt.H[0],at)))Oe[vt+et]=gt,++et,++Ve>=ct&&(Ve=0,++Re<=j&&!(Re%16)&&ve(Ee,Re));else{if(!(280>gt)){bt=0;break t}gt=Aa(gt-256,at);var Vt,qt=be(Lt.G[4],Lt.H[4],at);if(ae(at),!(et>=(qt=Ue(ct,qt=Aa(qt,at)))&&rt-et>=gt)){bt=0;break t}for(Vt=0;Vt<gt;++Vt)Oe[vt+et+Vt]=Oe[vt+et+Vt-qt];for(et+=gt,Ve+=gt;Ve>=ct;)Ve-=ct,++Re<=j&&!(Re%16)&&ve(Ee,Re);et<Dt&&Ve&Ut&&(Lt=G(pt,Ve,Re))}t(at.h==T(at))}ve(Ee,Re>j?j:Re);break t}!bt||at.h&&et<rt?(bt=0,Ee.a=at.h?5:3):Ee.$=et,j=bt}else j=Pe(Ee,Ee.V,Ee.Ba,Ee.c,Ee.i,j,ya);if(!j){le=0;break e}}I+le>=Fe&&(g.Cc=1),le=1}if(!le)return null;if(g.Cc&&((le=g.ga)!=null&&(le.mc=null),g.ga=null,0<g.Ga))return alert("todo:WebPDequantizeLevels"),null}return g.nb+I*je}function L(g,j,I,le,je,Fe){for(;0<je--;){var Ee,Oe=g,Re=j+(I?1:0),Ve=g,at=j+(I?0:3);for(Ee=0;Ee<le;++Ee){var pt=Ve[at+4*Ee];pt!=255&&(pt*=32897,Oe[Re+4*Ee+0]=Oe[Re+4*Ee+0]*pt>>23,Oe[Re+4*Ee+1]=Oe[Re+4*Ee+1]*pt>>23,Oe[Re+4*Ee+2]=Oe[Re+4*Ee+2]*pt>>23)}j+=Fe}}function Ce(g,j,I,le,je){for(;0<le--;){var Fe;for(Fe=0;Fe<I;++Fe){var Ee=g[j+2*Fe+0],Oe=15&(Ve=g[j+2*Fe+1]),Re=4369*Oe,Ve=(240&Ve|Ve>>4)*Re>>16;g[j+2*Fe+0]=(240&Ee|Ee>>4)*Re>>16&240|(15&Ee|Ee<<4)*Re>>16>>4&15,g[j+2*Fe+1]=240&Ve|Oe}j+=je}}function Ge(g,j,I,le,je,Fe,Ee,Oe){var Re,Ve,at=255;for(Ve=0;Ve<je;++Ve){for(Re=0;Re<le;++Re){var pt=g[j+Re];Fe[Ee+4*Re]=pt,at&=pt}j+=I,Ee+=Oe}return at!=255}function tt(g,j,I,le,je){var Fe;for(Fe=0;Fe<je;++Fe)I[le+Fe]=g[j+Fe]>>8}function ht(){ui=L,ja=Ce,Qa=Ge,ci=tt}function St(g,j,I){Y[g]=function(le,je,Fe,Ee,Oe,Re,Ve,at,pt,vt,ct,bt,gt,et,rt,Dt,Ut){var Lt,Vt=Ut-1>>1,qt=Oe[Re+0]|Ve[at+0]<<16,ca=pt[vt+0]|ct[bt+0]<<16;t(le!=null);var Pt=3*qt+ca+131074>>2;for(j(le[je+0],255&Pt,Pt>>16,gt,et),Fe!=null&&(Pt=3*ca+qt+131074>>2,j(Fe[Ee+0],255&Pt,Pt>>16,rt,Dt)),Lt=1;Lt<=Vt;++Lt){var La=Oe[Re+Lt]|Ve[at+Lt]<<16,Ta=pt[vt+Lt]|ct[bt+Lt]<<16,Da=qt+La+ca+Ta+524296,Ba=Da+2*(La+ca)>>3;Pt=Ba+qt>>1,qt=(Da=Da+2*(qt+Ta)>>3)+La>>1,j(le[je+2*Lt-1],255&Pt,Pt>>16,gt,et+(2*Lt-1)*I),j(le[je+2*Lt-0],255&qt,qt>>16,gt,et+(2*Lt-0)*I),Fe!=null&&(Pt=Da+ca>>1,qt=Ba+Ta>>1,j(Fe[Ee+2*Lt-1],255&Pt,Pt>>16,rt,Dt+(2*Lt-1)*I),j(Fe[Ee+2*Lt+0],255&qt,qt>>16,rt,Dt+(2*Lt+0)*I)),qt=La,ca=Ta}1&Ut||(Pt=3*qt+ca+131074>>2,j(le[je+Ut-1],255&Pt,Pt>>16,gt,et+(Ut-1)*I),Fe!=null&&(Pt=3*ca+qt+131074>>2,j(Fe[Ee+Ut-1],255&Pt,Pt>>16,rt,Dt+(Ut-1)*I)))}}function Tt(){ds[cr]=To,ds[or]=Wd,ds[Oo]=UA,ds[jl]=Yd,ds[As]=zr,ds[Ns]=Xd,ds[Vr]=Sc,ds[pn]=Wd,ds[gn]=Yd,ds[Qn]=zr,ds[LA]=Xd}function zt(g){return g&-16384?0>g?0:255:g>>tn}function Zt(g,j){return zt((19077*g>>8)+(26149*j>>8)-14234)}function ga(g,j,I){return zt((19077*g>>8)-(6419*j>>8)-(13320*I>>8)+8708)}function fa(g,j){return zt((19077*g>>8)+(33050*j>>8)-17685)}function Sa(g,j,I,le,je){le[je+0]=Zt(g,I),le[je+1]=ga(g,j,I),le[je+2]=fa(g,j)}function ti(g,j,I,le,je){le[je+0]=fa(g,j),le[je+1]=ga(g,j,I),le[je+2]=Zt(g,I)}function ri(g,j,I,le,je){var Fe=ga(g,j,I);j=Fe<<3&224|fa(g,j)>>3,le[je+0]=248&Zt(g,I)|Fe>>5,le[je+1]=j}function pi(g,j,I,le,je){var Fe=240&fa(g,j)|15;le[je+0]=240&Zt(g,I)|ga(g,j,I)>>4,le[je+1]=Fe}function gi(g,j,I,le,je){le[je+0]=255,Sa(g,j,I,le,je+1)}function Ri(g,j,I,le,je){ti(g,j,I,le,je),le[je+3]=255}function hn(g,j,I,le,je){Sa(g,j,I,le,je),le[je+3]=255}function Ts(g,j){return 0>g?0:g>j?j:g}function mn(g,j,I){Y[g]=function(le,je,Fe,Ee,Oe,Re,Ve,at,pt){for(var vt=at+(-2&pt)*I;at!=vt;)j(le[je+0],Fe[Ee+0],Oe[Re+0],Ve,at),j(le[je+1],Fe[Ee+0],Oe[Re+0],Ve,at+I),je+=2,++Ee,++Re,at+=2*I;1&pt&&j(le[je+0],Fe[Ee+0],Oe[Re+0],Ve,at)}}function Do(g,j,I){return I==0?g==0?j==0?6:5:j==0?4:0:I}function tr(g,j,I,le,je){switch(g>>>30){case 3:Rs(j,I,le,je,0);break;case 2:li(j,I,le,je);break;case 1:vi(j,I,le,je)}}function ar(g,j){var I,le,je=j.M,Fe=j.Nb,Ee=g.oc,Oe=g.pc+40,Re=g.oc,Ve=g.pc+584,at=g.oc,pt=g.pc+600;for(I=0;16>I;++I)Ee[Oe+32*I-1]=129;for(I=0;8>I;++I)Re[Ve+32*I-1]=129,at[pt+32*I-1]=129;for(0<je?Ee[Oe-1-32]=Re[Ve-1-32]=at[pt-1-32]=129:(r(Ee,Oe-32-1,127,21),r(Re,Ve-32-1,127,9),r(at,pt-32-1,127,9)),le=0;le<g.za;++le){var vt=j.ya[j.aa+le];if(0<le){for(I=-1;16>I;++I)i(Ee,Oe+32*I-4,Ee,Oe+32*I+12,4);for(I=-1;8>I;++I)i(Re,Ve+32*I-4,Re,Ve+32*I+4,4),i(at,pt+32*I-4,at,pt+32*I+4,4)}var ct=g.Gd,bt=g.Hd+le,gt=vt.ad,et=vt.Hc;if(0<je&&(i(Ee,Oe-32,ct[bt].y,0,16),i(Re,Ve-32,ct[bt].f,0,8),i(at,pt-32,ct[bt].ea,0,8)),vt.Za){var rt=Ee,Dt=Oe-32+16;for(0<je&&(le>=g.za-1?r(rt,Dt,ct[bt].y[15],4):i(rt,Dt,ct[bt+1].y,0,4)),I=0;4>I;I++)rt[Dt+128+I]=rt[Dt+256+I]=rt[Dt+384+I]=rt[Dt+0+I];for(I=0;16>I;++I,et<<=2)rt=Ee,Dt=Oe+jh[I],Zs[vt.Ob[I]](rt,Dt),tr(et,gt,16*+I,rt,Dt)}else if(rt=Do(le,je,vt.Ob[0]),xn[rt](Ee,Oe),et!=0)for(I=0;16>I;++I,et<<=2)tr(et,gt,16*+I,Ee,Oe+jh[I]);for(I=vt.Gc,rt=Do(le,je,vt.Dd),qs[rt](Re,Ve),qs[rt](at,pt),et=gt,rt=Re,Dt=Ve,255&(vt=I>>0)&&(170&vt?bc(et,256,rt,Dt):Vi(et,256,rt,Dt)),vt=at,et=pt,255&(I>>=8)&&(170&I?bc(gt,320,vt,et):Vi(gt,320,vt,et)),je<g.Ub-1&&(i(ct[bt].y,0,Ee,Oe+480,16),i(ct[bt].f,0,Re,Ve+224,8),i(ct[bt].ea,0,at,pt+224,8)),I=8*Fe*g.B,ct=g.sa,bt=g.ta+16*le+16*Fe*g.R,gt=g.qa,vt=g.ra+8*le+I,et=g.Ha,rt=g.Ia+8*le+I,I=0;16>I;++I)i(ct,bt+I*g.R,Ee,Oe+32*I,16);for(I=0;8>I;++I)i(gt,vt+I*g.B,Re,Ve+32*I,8),i(et,rt+I*g.B,at,pt+32*I,8)}}function vc(g,j,I,le,je,Fe,Ee,Oe,Re){var Ve=[0],at=[0],pt=0,vt=Re!=null?Re.kd:0,ct=Re??new So;if(g==null||12>I)return 7;ct.data=g,ct.w=j,ct.ha=I,j=[j],I=[I],ct.gb=[ct.gb];e:{var bt=j,gt=I,et=ct.gb;if(t(g!=null),t(gt!=null),t(et!=null),et[0]=0,12<=gt[0]&&!s(g,bt[0],"RIFF")){if(s(g,bt[0]+8,"WEBP")){et=3;break e}var rt=W(g,bt[0]+4);if(12>rt||4294967286<rt){et=3;break e}if(vt&&rt>gt[0]-8){et=7;break e}et[0]=rt,bt[0]+=12,gt[0]-=12}et=0}if(et!=0)return et;for(rt=0<ct.gb[0],I=I[0];;){e:{var Dt=g;gt=j,et=I;var Ut=Ve,Lt=at,Vt=bt=[0];if((Pt=pt=[pt])[0]=0,8>et[0])et=7;else{if(!s(Dt,gt[0],"VP8X")){if(W(Dt,gt[0]+4)!=10){et=3;break e}if(18>et[0]){et=7;break e}var qt=W(Dt,gt[0]+8),ca=1+he(Dt,gt[0]+12);if(2147483648<=ca*(Dt=1+he(Dt,gt[0]+15))){et=3;break e}Vt!=null&&(Vt[0]=qt),Ut!=null&&(Ut[0]=ca),Lt!=null&&(Lt[0]=Dt),gt[0]+=18,et[0]-=18,Pt[0]=1}et=0}}if(pt=pt[0],bt=bt[0],et!=0)return et;if(gt=!!(2&bt),!rt&&pt)return 3;if(Fe!=null&&(Fe[0]=!!(16&bt)),Ee!=null&&(Ee[0]=gt),Oe!=null&&(Oe[0]=0),Ee=Ve[0],bt=at[0],pt&&gt&&Re==null){et=0;break}if(4>I){et=7;break}if(rt&&pt||!rt&&!pt&&!s(g,j[0],"ALPH")){I=[I],ct.na=[ct.na],ct.P=[ct.P],ct.Sa=[ct.Sa];e:{qt=g,et=j,rt=I;var Pt=ct.gb;Ut=ct.na,Lt=ct.P,Vt=ct.Sa,ca=22,t(qt!=null),t(rt!=null),Dt=et[0];var La=rt[0];for(t(Ut!=null),t(Vt!=null),Ut[0]=null,Lt[0]=null,Vt[0]=0;;){if(et[0]=Dt,rt[0]=La,8>La){et=7;break e}var Ta=W(qt,Dt+4);if(4294967286<Ta){et=3;break e}var Da=8+Ta+1&-2;if(ca+=Da,0<Pt&&ca>Pt){et=3;break e}if(!s(qt,Dt,"VP8 ")||!s(qt,Dt,"VP8L")){et=0;break e}if(La[0]<Da){et=7;break e}s(qt,Dt,"ALPH")||(Ut[0]=qt,Lt[0]=Dt+8,Vt[0]=Ta),Dt+=Da,La-=Da}}if(I=I[0],ct.na=ct.na[0],ct.P=ct.P[0],ct.Sa=ct.Sa[0],et!=0)break}I=[I],ct.Ja=[ct.Ja],ct.xa=[ct.xa];e:if(Pt=g,et=j,rt=I,Ut=ct.gb[0],Lt=ct.Ja,Vt=ct.xa,qt=et[0],Dt=!s(Pt,qt,"VP8 "),ca=!s(Pt,qt,"VP8L"),t(Pt!=null),t(rt!=null),t(Lt!=null),t(Vt!=null),8>rt[0])et=7;else{if(Dt||ca){if(Pt=W(Pt,qt+4),12<=Ut&&Pt>Ut-12){et=3;break e}if(vt&&Pt>rt[0]-8){et=7;break e}Lt[0]=Pt,et[0]+=8,rt[0]-=8,Vt[0]=ca}else Vt[0]=5<=rt[0]&&Pt[qt+0]==47&&!(Pt[qt+4]>>5),Lt[0]=rt[0];et=0}if(I=I[0],ct.Ja=ct.Ja[0],ct.xa=ct.xa[0],j=j[0],et!=0)break;if(4294967286<ct.Ja)return 3;if(Oe==null||gt||(Oe[0]=ct.xa?2:1),Ee=[Ee],bt=[bt],ct.xa){if(5>I){et=7;break}Oe=Ee,vt=bt,gt=Fe,g==null||5>I?g=0:5<=I&&g[j+0]==47&&!(g[j+4]>>5)?(rt=[0],Pt=[0],Ut=[0],ce(Lt=new U,g,j,I),Ft(Lt,rt,Pt,Ut)?(Oe!=null&&(Oe[0]=rt[0]),vt!=null&&(vt[0]=Pt[0]),gt!=null&&(gt[0]=Ut[0]),g=1):g=0):g=0}else{if(10>I){et=7;break}Oe=bt,g==null||10>I||!Gs(g,j+3,I-3)?g=0:(vt=g[j+0]|g[j+1]<<8|g[j+2]<<16,gt=16383&(g[j+7]<<8|g[j+6]),g=16383&(g[j+9]<<8|g[j+8]),1&vt||3<(vt>>1&7)||!(vt>>4&1)||vt>>5>=ct.Ja||!gt||!g?g=0:(Ee&&(Ee[0]=gt),Oe&&(Oe[0]=g),g=1))}if(!g||(Ee=Ee[0],bt=bt[0],pt&&(Ve[0]!=Ee||at[0]!=bt)))return 3;Re!=null&&(Re[0]=ct,Re.offset=j-Re.w,t(4294967286>j-Re.w),t(Re.offset==Re.ha-I));break}return et==0||et==7&&pt&&Re==null?(Fe!=null&&(Fe[0]|=ct.na!=null&&0<ct.na.length),le!=null&&(le[0]=Ee),je!=null&&(je[0]=bt),0):et}function kr(g,j,I){var le=j.width,je=j.height,Fe=0,Ee=0,Oe=le,Re=je;if(j.Da=g!=null&&0<g.Da,j.Da&&(Oe=g.cd,Re=g.bd,Fe=g.v,Ee=g.j,11>I||(Fe&=-2,Ee&=-2),0>Fe||0>Ee||0>=Oe||0>=Re||Fe+Oe>le||Ee+Re>je))return 0;if(j.v=Fe,j.j=Ee,j.va=Fe+Oe,j.o=Ee+Re,j.U=Oe,j.T=Re,j.da=g!=null&&0<g.da,j.da){if(!Se(Oe,Re,I=[g.ib],Fe=[g.hb]))return 0;j.ib=I[0],j.hb=Fe[0]}return j.ob=g!=null&&g.ob,j.Kb=g==null||!g.Sd,j.da&&(j.ob=j.ib<3*le/4&&j.hb<3*je/4,j.Kb=0),1}function xc(g){if(g==null)return 2;if(11>g.S){var j=g.f.RGBA;j.fb+=(g.height-1)*j.A,j.A=-j.A}else j=g.f.kb,g=g.height,j.O+=(g-1)*j.fa,j.fa=-j.fa,j.N+=(g-1>>1)*j.Ab,j.Ab=-j.Ab,j.W+=(g-1>>1)*j.Db,j.Db=-j.Db,j.F!=null&&(j.J+=(g-1)*j.lb,j.lb=-j.lb);return 0}function vl(g,j,I,le){if(le==null||0>=g||0>=j)return 2;if(I!=null){if(I.Da){var je=I.cd,Fe=I.bd,Ee=-2&I.v,Oe=-2&I.j;if(0>Ee||0>Oe||0>=je||0>=Fe||Ee+je>g||Oe+Fe>j)return 2;g=je,j=Fe}if(I.da){if(!Se(g,j,je=[I.ib],Fe=[I.hb]))return 2;g=je[0],j=Fe[0]}}le.width=g,le.height=j;e:{var Re=le.width,Ve=le.height;if(g=le.S,0>=Re||0>=Ve||!(g>=cr&&13>g))g=2;else{if(0>=le.Rd&&le.sd==null){Ee=Fe=je=j=0;var at=(Oe=Re*IA[g])*Ve;if(11>g||(Fe=(Ve+1)/2*(j=(Re+1)/2),g==12&&(Ee=(je=Re)*Ve)),(Ve=c(at+2*Fe+Ee))==null){g=1;break e}le.sd=Ve,11>g?((Re=le.f.RGBA).eb=Ve,Re.fb=0,Re.A=Oe,Re.size=at):((Re=le.f.kb).y=Ve,Re.O=0,Re.fa=Oe,Re.Fd=at,Re.f=Ve,Re.N=0+at,Re.Ab=j,Re.Cd=Fe,Re.ea=Ve,Re.W=0+at+Fe,Re.Db=j,Re.Ed=Fe,g==12&&(Re.F=Ve,Re.J=0+at+2*Fe),Re.Tc=Ee,Re.lb=je)}if(j=1,je=le.S,Fe=le.width,Ee=le.height,je>=cr&&13>je)if(11>je)g=le.f.RGBA,j&=(Oe=Math.abs(g.A))*(Ee-1)+Fe<=g.size,j&=Oe>=Fe*IA[je],j&=g.eb!=null;else{g=le.f.kb,Oe=(Fe+1)/2,at=(Ee+1)/2,Re=Math.abs(g.fa),Ve=Math.abs(g.Ab);var pt=Math.abs(g.Db),vt=Math.abs(g.lb),ct=vt*(Ee-1)+Fe;j&=Re*(Ee-1)+Fe<=g.Fd,j&=Ve*(at-1)+Oe<=g.Cd,j=(j&=pt*(at-1)+Oe<=g.Ed)&Re>=Fe&Ve>=Oe&pt>=Oe,j&=g.y!=null,j&=g.f!=null,j&=g.ea!=null,je==12&&(j&=vt>=Fe,j&=ct<=g.Tc,j&=g.F!=null)}else j=0;g=j?0:2}}return g!=0||I!=null&&I.fd&&(g=xc(le)),g}var _i=64,Ir=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],xl=24,yl=32,yc=8,ys=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];qe("Predictor0","PredictorAdd0"),Y.Predictor0=function(){return 4278190080},Y.Predictor1=function(g){return g},Y.Predictor2=function(g,j,I){return j[I+0]},Y.Predictor3=function(g,j,I){return j[I+1]},Y.Predictor4=function(g,j,I){return j[I-1]},Y.Predictor5=function(g,j,I){return st(st(g,j[I+1]),j[I+0])},Y.Predictor6=function(g,j,I){return st(g,j[I-1])},Y.Predictor7=function(g,j,I){return st(g,j[I+0])},Y.Predictor8=function(g,j,I){return st(j[I-1],j[I+0])},Y.Predictor9=function(g,j,I){return st(j[I+0],j[I+1])},Y.Predictor10=function(g,j,I){return st(st(g,j[I-1]),st(j[I+0],j[I+1]))},Y.Predictor11=function(g,j,I){var le=j[I+0];return 0>=ke(le>>24&255,g>>24&255,(j=j[I-1])>>24&255)+ke(le>>16&255,g>>16&255,j>>16&255)+ke(le>>8&255,g>>8&255,j>>8&255)+ke(255&le,255&g,255&j)?le:g},Y.Predictor12=function(g,j,I){var le=j[I+0];return(kt((g>>24&255)+(le>>24&255)-((j=j[I-1])>>24&255))<<24|kt((g>>16&255)+(le>>16&255)-(j>>16&255))<<16|kt((g>>8&255)+(le>>8&255)-(j>>8&255))<<8|kt((255&g)+(255&le)-(255&j)))>>>0},Y.Predictor13=function(g,j,I){var le=j[I-1];return(Mt((g=st(g,j[I+0]))>>24&255,le>>24&255)<<24|Mt(g>>16&255,le>>16&255)<<16|Mt(g>>8&255,le>>8&255)<<8|Mt(g>>0&255,le>>0&255))>>>0};var Kd=Y.PredictorAdd0;Y.PredictorAdd1=$e,qe("Predictor2","PredictorAdd2"),qe("Predictor3","PredictorAdd3"),qe("Predictor4","PredictorAdd4"),qe("Predictor5","PredictorAdd5"),qe("Predictor6","PredictorAdd6"),qe("Predictor7","PredictorAdd7"),qe("Predictor8","PredictorAdd8"),qe("Predictor9","PredictorAdd9"),qe("Predictor10","PredictorAdd10"),qe("Predictor11","PredictorAdd11"),qe("Predictor12","PredictorAdd12"),qe("Predictor13","PredictorAdd13");var Eo=Y.PredictorAdd2;Me("ColorIndexInverseTransform","MapARGB","32b",function(g){return g>>8&255},function(g){return g}),Me("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(g){return g},function(g){return g>>8&255});var EA,Xs=Y.ColorIndexInverseTransform,Pi=Y.MapARGB,Qr=Y.VP8LColorIndexInverseTransformAlpha,Lo=Y.MapAlpha,ir=Y.VP8LPredictorsAdd=[];ir.length=16,(Y.VP8LPredictors=[]).length=16,(Y.VP8LPredictorsAdd_C=[]).length=16,(Y.VP8LPredictors_C=[]).length=16;var Tr,os,Ki,Rr,sr,bs,Pr,Rs,li,bc,vi,Vi,Hr,Mo,fn,qr,Kr,nr,bl,wc,wl,rr,Nc,Ps,ui,ja,Qa,ci,hi=c(511),Js=c(2041),Nl=c(225),Hs=c(767),Uo=0,jc=Js,lr=Nl,ws=Hs,oi=hi,cr=0,or=1,Oo=2,jl=3,As=4,Ns=5,Vr=6,pn=7,gn=8,Qn=9,LA=10,Vd=[2,3,7],zd=[3,3,11],es=[280,256,256,256,40],zi=[0,1,1,1,0],ka=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],vn=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],Tn=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],$d=8,Ar=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],MA=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],Bc=null,ko=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],Io=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],Cc=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],Qo=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],yh=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],Gd=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],bh=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],xn=[],Zs=[],qs=[],wh=1,Bl=2,en=[],ds=[];St("UpsampleRgbLinePair",Sa,3),St("UpsampleBgrLinePair",ti,3),St("UpsampleRgbaLinePair",hn,4),St("UpsampleBgraLinePair",Ri,4),St("UpsampleArgbLinePair",gi,4),St("UpsampleRgba4444LinePair",pi,2),St("UpsampleRgb565LinePair",ri,2);var To=Y.UpsampleRgbLinePair,UA=Y.UpsampleBgrLinePair,Wd=Y.UpsampleRgbaLinePair,Yd=Y.UpsampleBgraLinePair,zr=Y.UpsampleArgbLinePair,Xd=Y.UpsampleRgba4444LinePair,Sc=Y.UpsampleRgb565LinePair,Cl=16,Ro=1<<Cl-1,Sl=-227,Po=482,tn=6,yn=0,$r=c(256),Nh=c(256),Gr=c(256),dr=c(256),Fi=c(Po-Sl),OA=c(Po-Sl);mn("YuvToRgbRow",Sa,3),mn("YuvToBgrRow",ti,3),mn("YuvToRgbaRow",hn,4),mn("YuvToBgraRow",Ri,4),mn("YuvToArgbRow",gi,4),mn("YuvToRgba4444Row",pi,2),mn("YuvToRgb565Row",ri,2);var jh=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],kA=[0,2,8],op=[8,7,6,4,4,2,2,2,1,1,1,1],Di=1;this.WebPDecodeRGBA=function(g,j,I,le,je){var Fe=or,Ee=new mc,Oe=new Be;Ee.ba=Oe,Oe.S=Fe,Oe.width=[Oe.width],Oe.height=[Oe.height];var Re=Oe.width,Ve=Oe.height,at=new pe;if(at==null||g==null)var pt=2;else t(at!=null),pt=vc(g,j,I,at.width,at.height,at.Pd,at.Qd,at.format,null);if(pt!=0?Re=0:(Re!=null&&(Re[0]=at.width[0]),Ve!=null&&(Ve[0]=at.height[0]),Re=1),Re){Oe.width=Oe.width[0],Oe.height=Oe.height[0],le!=null&&(le[0]=Oe.width),je!=null&&(je[0]=Oe.height);e:{if(le=new tc,(je=new So).data=g,je.w=j,je.ha=I,je.kd=1,j=[0],t(je!=null),((g=vc(je.data,je.w,je.ha,null,null,null,j,null,je))==0||g==7)&&j[0]&&(g=4),(j=g)==0){if(t(Ee!=null),le.data=je.data,le.w=je.w+je.offset,le.ha=je.ha-je.offset,le.put=Qt,le.ac=yt,le.bc=ta,le.ma=Ee,je.xa){if((g=ut())==null){Ee=1;break e}if(function(vt,ct){var bt=[0],gt=[0],et=[0];t:for(;;){if(vt==null)return 0;if(ct==null)return vt.a=2,0;if(vt.l=ct,vt.a=0,ce(vt.m,ct.data,ct.w,ct.ha),!Ft(vt.m,bt,gt,et)){vt.a=3;break t}if(vt.xb=Bl,ct.width=bt[0],ct.height=gt[0],!Ct(bt[0],gt[0],1,vt,null))break t;return 1}return t(vt.a!=0),0}(g,le)){if(le=(j=vl(le.width,le.height,Ee.Oa,Ee.ba))==0){t:{le=g;a:for(;;){if(le==null){le=0;break t}if(t(le.s.yc!=null),t(le.s.Ya!=null),t(0<le.s.Wb),t((I=le.l)!=null),t((je=I.ma)!=null),le.xb!=0){if(le.ca=je.ba,le.tb=je.tb,t(le.ca!=null),!kr(je.Oa,I,jl)){le.a=2;break a}if(!Kt(le,I.width)||I.da)break a;if((I.da||Ke(le.ca.S))&&ht(),11>le.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),le.ca.f.kb.F!=null&&ht()),le.Pb&&0<le.s.ua&&le.s.vb.X==null&&!C(le.s.vb,le.s.Wa.Xa)){le.a=1;break a}le.xb=0}if(!Pe(le,le.V,le.Ba,le.c,le.i,I.o,ee))break a;je.Dc=le.Ma,le=1;break t}t(le.a!=0),le=0}le=!le}le&&(j=g.a)}else j=g.a}else{if((g=new ac)==null){Ee=1;break e}if(g.Fa=je.na,g.P=je.P,g.qc=je.Sa,cs(g,le)){if((j=vl(le.width,le.height,Ee.Oa,Ee.ba))==0){if(g.Aa=0,I=Ee.Oa,t((je=g)!=null),I!=null){if(0<(Re=0>(Re=I.Md)?0:100<Re?255:255*Re/100)){for(Ve=at=0;4>Ve;++Ve)12>(pt=je.pb[Ve]).lc&&(pt.ia=Re*op[0>pt.lc?0:pt.lc]>>3),at|=pt.ia;at&&(alert("todo:VP8InitRandom"),je.ia=1)}je.Ga=I.Id,100<je.Ga?je.Ga=100:0>je.Ga&&(je.Ga=0)}ic(g,le)||(j=g.a)}}else j=g.a}j==0&&Ee.Oa!=null&&Ee.Oa.fd&&(j=xc(Ee.ba))}Ee=j}Fe=Ee!=0?null:11>Fe?Oe.f.RGBA.eb:Oe.f.kb.y}else Fe=null;return Fe};var IA=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function u(Y,D){for(var ge="",_=0;_<4;_++)ge+=String.fromCharCode(Y[D++]);return ge}function v(Y,D){return(Y[D+0]<<0|Y[D+1]<<8|Y[D+2]<<16)>>>0}function x(Y,D){return(Y[D+0]<<0|Y[D+1]<<8|Y[D+2]<<16|Y[D+3]<<24)>>>0}new h;var y=[0],p=[0],F=[],b=new h,S=a,f=function(Y,D){var ge={},_=0,X=!1,re=0,fe=0;if(ge.frames=[],!function(V,T,ie,ae){for(var P=0;P<ae;P++)if(V[T+P]!=ie.charCodeAt(P))return!0;return!1}(Y,D,"RIFF",4)){for(x(Y,D+=4),D+=8;D<Y.length;){var Ne=u(Y,D),ue=x(Y,D+=4);D+=4;var _e=ue+(1&ue);switch(Ne){case"VP8 ":case"VP8L":ge.frames[_]===void 0&&(ge.frames[_]={}),(Q=ge.frames[_]).src_off=X?fe:D-8,Q.src_size=re+ue+8,_++,X&&(X=!1,re=0,fe=0);break;case"VP8X":(Q=ge.header={}).feature_flags=Y[D];var ce=D+4;Q.canvas_width=1+v(Y,ce),ce+=3,Q.canvas_height=1+v(Y,ce),ce+=3;break;case"ALPH":X=!0,re=_e+8,fe=D-8;break;case"ANIM":(Q=ge.header).bgcolor=x(Y,D),ce=D+4,Q.loop_count=(ne=Y)[(U=ce)+0]<<0|ne[U+1]<<8,ce+=2;break;case"ANMF":var ye,Q;(Q=ge.frames[_]={}).offset_x=2*v(Y,D),D+=3,Q.offset_y=2*v(Y,D),D+=3,Q.width=1+v(Y,D),D+=3,Q.height=1+v(Y,D),D+=3,Q.duration=v(Y,D),D+=3,ye=Y[D++],Q.dispose=1&ye,Q.blend=ye>>1&1}Ne!="ANMF"&&(D+=_e)}var ne,U;return ge}}(S,0);f.response=S,f.rgbaoutput=!0,f.dataurl=!1;var O=f.header?f.header:null,M=f.frames?f.frames:null;if(O){O.loop_counter=O.loop_count,y=[O.canvas_height],p=[O.canvas_width];for(var J=0;J<M.length&&M[J].blend!=0;J++);}var K=M[0],H=b.WebPDecodeRGBA(S,K.src_off,K.src_size,p,y);K.rgba=H,K.imgwidth=p[0],K.imgheight=y[0];for(var k=0;k<p[0]*y[0]*4;k++)F[k]=H[k];return this.width=p,this.height=y,this.data=F,this}(function(a){var t=function(){return typeof ex=="function"},s=function(y,p,F,b){var S=4,f=A;switch(b){case a.image_compression.FAST:S=1,f=c;break;case a.image_compression.MEDIUM:S=6,f=d;break;case a.image_compression.SLOW:S=9,f=h}y=i(y,p,F,f);var O=ex(y,{level:S});return a.__addimage__.arrayBufferToBinaryString(O)},i=function(y,p,F,b){for(var S,f,O,M=y.length/p,J=new Uint8Array(y.length+M),K=v(),H=0;H<M;H+=1){if(O=H*p,S=y.subarray(O,O+p),b)J.set(b(S,F,f),O+H);else{for(var k,Y=K.length,D=[];k<Y;k+=1)D[k]=K[k](S,F,f);var ge=x(D.concat());J.set(D[ge],O+H)}f=S}return J},r=function(y){var p=Array.apply([],y);return p.unshift(0),p},c=function(y,p){var F,b=[],S=y.length;b[0]=1;for(var f=0;f<S;f+=1)F=y[f-p]||0,b[f+1]=y[f]-F+256&255;return b},A=function(y,p,F){var b,S=[],f=y.length;S[0]=2;for(var O=0;O<f;O+=1)b=F&&F[O]||0,S[O+1]=y[O]-b+256&255;return S},d=function(y,p,F){var b,S,f=[],O=y.length;f[0]=3;for(var M=0;M<O;M+=1)b=y[M-p]||0,S=F&&F[M]||0,f[M+1]=y[M]+256-(b+S>>>1)&255;return f},h=function(y,p,F){var b,S,f,O,M=[],J=y.length;M[0]=4;for(var K=0;K<J;K+=1)b=y[K-p]||0,S=F&&F[K]||0,f=F&&F[K-p]||0,O=u(b,S,f),M[K+1]=y[K]-O+256&255;return M},u=function(y,p,F){if(y===p&&p===F)return y;var b=Math.abs(p-F),S=Math.abs(y-F),f=Math.abs(y+p-F-F);return b<=S&&b<=f?y:S<=f?p:F},v=function(){return[r,c,A,d,h]},x=function(y){var p=y.map(function(F){return F.reduce(function(b,S){return b+Math.abs(S)},0)});return p.indexOf(Math.min.apply(null,p))};a.processPNG=function(y,p,F,b){var S,f,O,M,J,K,H,k,Y,D,ge,_,X,re,fe,Ne=this.decode.FLATE_DECODE,ue="";if(this.__addimage__.isArrayBuffer(y)&&(y=new Uint8Array(y)),this.__addimage__.isArrayBufferView(y)){if(y=(O=new W3(y)).imgData,f=O.bits,S=O.colorSpace,J=O.colors,[4,6].indexOf(O.colorType)!==-1){if(O.bits===8){Y=(k=O.pixelBitlength==32?new Uint32Array(O.decodePixels().buffer):O.pixelBitlength==16?new Uint16Array(O.decodePixels().buffer):new Uint8Array(O.decodePixels().buffer)).length,ge=new Uint8Array(Y*O.colors),D=new Uint8Array(Y);var _e,ce=O.pixelBitlength-O.bits;for(re=0,fe=0;re<Y;re++){for(X=k[re],_e=0;_e<ce;)ge[fe++]=X>>>_e&255,_e+=O.bits;D[re]=X>>>_e&255}}if(O.bits===16){Y=(k=new Uint32Array(O.decodePixels().buffer)).length,ge=new Uint8Array(Y*(32/O.pixelBitlength)*O.colors),D=new Uint8Array(Y*(32/O.pixelBitlength)),_=O.colors>1,re=0,fe=0;for(var ye=0;re<Y;)X=k[re++],ge[fe++]=X>>>0&255,_&&(ge[fe++]=X>>>16&255,X=k[re++],ge[fe++]=X>>>0&255),D[ye++]=X>>>16&255;f=8}b!==a.image_compression.NONE&&t()?(y=s(ge,O.width*O.colors,O.colors,b),H=s(D,O.width,1,b)):(y=ge,H=D,Ne=void 0)}if(O.colorType===3&&(S=this.color_spaces.INDEXED,K=O.palette,O.transparency.indexed)){var Q=O.transparency.indexed,ne=0;for(re=0,Y=Q.length;re<Y;++re)ne+=Q[re];if((ne/=255)===Y-1&&Q.indexOf(0)!==-1)M=[Q.indexOf(0)];else if(ne!==Y){for(k=O.decodePixels(),D=new Uint8Array(k.length),re=0,Y=k.length;re<Y;re++)D[re]=Q[k[re]];H=s(D,O.width,1)}}var U=function(V){var T;switch(V){case a.image_compression.FAST:T=11;break;case a.image_compression.MEDIUM:T=13;break;case a.image_compression.SLOW:T=14;break;default:T=12}return T}(b);return Ne===this.decode.FLATE_DECODE&&(ue="/Predictor "+U+" "),ue+="/Colors "+J+" /BitsPerComponent "+f+" /Columns "+O.width,(this.__addimage__.isArrayBuffer(y)||this.__addimage__.isArrayBufferView(y))&&(y=this.__addimage__.arrayBufferToBinaryString(y)),(H&&this.__addimage__.isArrayBuffer(H)||this.__addimage__.isArrayBufferView(H))&&(H=this.__addimage__.arrayBufferToBinaryString(H)),{alias:F,data:y,index:p,filter:Ne,decodeParameters:ue,transparency:M,palette:K,sMask:H,predictor:U,width:O.width,height:O.height,bitsPerComponent:f,colorSpace:S}}}})(ea.API),function(a){a.processGIF89A=function(t,s,i,r){var c=new Y3(t),A=c.width,d=c.height,h=[];c.decodeAndBlitFrameRGBA(0,h);var u={data:h,width:A,height:d},v=new Gg(100).encode(u,100);return a.processJPEG.call(this,v,s,i,r)},a.processGIF87A=a.processGIF89A}(ea.API),br.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var a=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(a);for(var t=0;t<a;t++){var s=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),c=this.datav.getUint8(this.pos++,!0);this.palette[t]={red:r,green:i,blue:s,quad:c}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},br.prototype.parseBGR=function(){this.pos=this.offset;try{var a="bit"+this.bitPP,t=this.width*this.height*4;this.data=new Uint8Array(t),this[a]()}catch(s){Za.log("bit decode error:"+s)}},br.prototype.bit1=function(){var a,t=Math.ceil(this.width/8),s=t%4;for(a=this.height-1;a>=0;a--){for(var i=this.bottom_up?a:this.height-1-a,r=0;r<t;r++)for(var c=this.datav.getUint8(this.pos++,!0),A=i*this.width*4+8*r*4,d=0;d<8&&8*r+d<this.width;d++){var h=this.palette[c>>7-d&1];this.data[A+4*d]=h.blue,this.data[A+4*d+1]=h.green,this.data[A+4*d+2]=h.red,this.data[A+4*d+3]=255}s!==0&&(this.pos+=4-s)}},br.prototype.bit4=function(){for(var a=Math.ceil(this.width/2),t=a%4,s=this.height-1;s>=0;s--){for(var i=this.bottom_up?s:this.height-1-s,r=0;r<a;r++){var c=this.datav.getUint8(this.pos++,!0),A=i*this.width*4+2*r*4,d=c>>4,h=15&c,u=this.palette[d];if(this.data[A]=u.blue,this.data[A+1]=u.green,this.data[A+2]=u.red,this.data[A+3]=255,2*r+1>=this.width)break;u=this.palette[h],this.data[A+4]=u.blue,this.data[A+4+1]=u.green,this.data[A+4+2]=u.red,this.data[A+4+3]=255}t!==0&&(this.pos+=4-t)}},br.prototype.bit8=function(){for(var a=this.width%4,t=this.height-1;t>=0;t--){for(var s=this.bottom_up?t:this.height-1-t,i=0;i<this.width;i++){var r=this.datav.getUint8(this.pos++,!0),c=s*this.width*4+4*i;if(r<this.palette.length){var A=this.palette[r];this.data[c]=A.red,this.data[c+1]=A.green,this.data[c+2]=A.blue,this.data[c+3]=255}else this.data[c]=255,this.data[c+1]=255,this.data[c+2]=255,this.data[c+3]=255}a!==0&&(this.pos+=4-a)}},br.prototype.bit15=function(){for(var a=this.width%3,t=parseInt("11111",2),s=this.height-1;s>=0;s--){for(var i=this.bottom_up?s:this.height-1-s,r=0;r<this.width;r++){var c=this.datav.getUint16(this.pos,!0);this.pos+=2;var A=(c&t)/t*255|0,d=(c>>5&t)/t*255|0,h=(c>>10&t)/t*255|0,u=c>>15?255:0,v=i*this.width*4+4*r;this.data[v]=h,this.data[v+1]=d,this.data[v+2]=A,this.data[v+3]=u}this.pos+=a}},br.prototype.bit16=function(){for(var a=this.width%3,t=parseInt("11111",2),s=parseInt("111111",2),i=this.height-1;i>=0;i--){for(var r=this.bottom_up?i:this.height-1-i,c=0;c<this.width;c++){var A=this.datav.getUint16(this.pos,!0);this.pos+=2;var d=(A&t)/t*255|0,h=(A>>5&s)/s*255|0,u=(A>>11)/t*255|0,v=r*this.width*4+4*c;this.data[v]=u,this.data[v+1]=h,this.data[v+2]=d,this.data[v+3]=255}this.pos+=a}},br.prototype.bit24=function(){for(var a=this.height-1;a>=0;a--){for(var t=this.bottom_up?a:this.height-1-a,s=0;s<this.width;s++){var i=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),c=this.datav.getUint8(this.pos++,!0),A=t*this.width*4+4*s;this.data[A]=c,this.data[A+1]=r,this.data[A+2]=i,this.data[A+3]=255}this.pos+=this.width%4}},br.prototype.bit32=function(){for(var a=this.height-1;a>=0;a--)for(var t=this.bottom_up?a:this.height-1-a,s=0;s<this.width;s++){var i=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),c=this.datav.getUint8(this.pos++,!0),A=this.datav.getUint8(this.pos++,!0),d=t*this.width*4+4*s;this.data[d]=c,this.data[d+1]=r,this.data[d+2]=i,this.data[d+3]=A}},br.prototype.getData=function(){return this.data},function(a){a.processBMP=function(t,s,i,r){var c=new br(t,!1),A=c.width,d=c.height,h={data:c.getData(),width:A,height:d},u=new Gg(100).encode(h,100);return a.processJPEG.call(this,u,s,i,r)}}(ea.API),BN.prototype.getData=function(){return this.data},function(a){a.processWEBP=function(t,s,i,r){var c=new BN(t),A=c.width,d=c.height,h={data:c.getData(),width:A,height:d},u=new Gg(100).encode(h,100);return a.processJPEG.call(this,u,s,i,r)}}(ea.API),ea.API.processRGBA=function(a,t,s){for(var i=a.data,r=i.length,c=new Uint8Array(r/4*3),A=new Uint8Array(r/4),d=0,h=0,u=0;u<r;u+=4){var v=i[u],x=i[u+1],y=i[u+2],p=i[u+3];c[d++]=v,c[d++]=x,c[d++]=y,A[h++]=p}var F=this.__addimage__.arrayBufferToBinaryString(c);return{alpha:this.__addimage__.arrayBufferToBinaryString(A),data:F,index:t,alias:s,colorSpace:"DeviceRGB",bitsPerComponent:8,width:a.width,height:a.height}},ea.API.setLanguage=function(a){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[a]!==void 0&&(this.internal.languageSettings.languageCode=a,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},cd=ea.API,xm=cd.getCharWidthsArray=function(a,t){var s,i,r=(t=t||{}).font||this.internal.getFont(),c=t.fontSize||this.internal.getFontSize(),A=t.charSpace||this.internal.getCharSpace(),d=t.widths?t.widths:r.metadata.Unicode.widths,h=d.fof?d.fof:1,u=t.kerning?t.kerning:r.metadata.Unicode.kerning,v=u.fof?u.fof:1,x=t.doKerning!==!1,y=0,p=a.length,F=0,b=d[0]||h,S=[];for(s=0;s<p;s++)i=a.charCodeAt(s),typeof r.metadata.widthOfString=="function"?S.push((r.metadata.widthOfGlyph(r.metadata.characterToGlyph(i))+A*(1e3/c)||0)/1e3):(y=x&&$a(u[i])==="object"&&!isNaN(parseInt(u[i][F],10))?u[i][F]/v:0,S.push((d[i]||b)/h+y)),F=i;return S},bN=cd.getStringUnitWidth=function(a,t){var s=(t=t||{}).fontSize||this.internal.getFontSize(),i=t.font||this.internal.getFont(),r=t.charSpace||this.internal.getCharSpace();return cd.processArabic&&(a=cd.processArabic(a)),typeof i.metadata.widthOfString=="function"?i.metadata.widthOfString(a,s,r)/s:xm.apply(this,arguments).reduce(function(c,A){return c+A},0)},wN=function(a,t,s,i){for(var r=[],c=0,A=a.length,d=0;c!==A&&d+t[c]<s;)d+=t[c],c++;r.push(a.slice(0,c));var h=c;for(d=0;c!==A;)d+t[c]>i&&(r.push(a.slice(h,c)),d=0,h=c),d+=t[c],c++;return h!==c&&r.push(a.slice(h,c)),r},NN=function(a,t,s){s||(s={});var i,r,c,A,d,h,u,v=[],x=[v],y=s.textIndent||0,p=0,F=0,b=a.split(" "),S=xm.apply(this,[" ",s])[0];if(h=s.lineIndent===-1?b[0].length+2:s.lineIndent||0){var f=Array(h).join(" "),O=[];b.map(function(J){(J=J.split(/\s*\n/)).length>1?O=O.concat(J.map(function(K,H){return(H&&K.length?`
`:"")+K})):O.push(J[0])}),b=O,h=bN.apply(this,[f,s])}for(c=0,A=b.length;c<A;c++){var M=0;if(i=b[c],h&&i[0]==`
`&&(i=i.substr(1),M=1),y+p+(F=(r=xm.apply(this,[i,s])).reduce(function(J,K){return J+K},0))>t||M){if(F>t){for(d=wN.apply(this,[i,r,t-(y+p),t]),v.push(d.shift()),v=[d.pop()];d.length;)x.push([d.shift()]);F=r.slice(i.length-(v[0]?v[0].length:0)).reduce(function(J,K){return J+K},0)}else v=[i];x.push(v),y=F+h,p=S}else v.push(i),y+=p+F,p=S}return u=h?function(J,K){return(K?f:"")+J.join(" ")}:function(J){return J.join(" ")},x.map(u)},cd.splitTextToSize=function(a,t,s){var i,r=(s=s||{}).fontSize||this.internal.getFontSize(),c=(function(v){if(v.widths&&v.kerning)return{widths:v.widths,kerning:v.kerning};var x=this.internal.getFont(v.fontName,v.fontStyle);return x.metadata.Unicode?{widths:x.metadata.Unicode.widths||{0:1},kerning:x.metadata.Unicode.kerning||{}}:{font:x.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,s);i=Array.isArray(a)?a:String(a).split(/\r?\n/);var A=1*this.internal.scaleFactor*t/r;c.textIndent=s.textIndent?1*s.textIndent*this.internal.scaleFactor/r:0,c.lineIndent=s.lineIndent;var d,h,u=[];for(d=0,h=i.length;d<h;d++)u=u.concat(NN.apply(this,[i[d],A,c]));return u},function(a){a.__fontmetrics__=a.__fontmetrics__||{};for(var t="klmnopqrstuvwxyz",s={},i={},r=0;r<t.length;r++)s[t[r]]="0123456789abcdef"[r],i["0123456789abcdef"[r]]=t[r];var c=function(x){return"0x"+parseInt(x,10).toString(16)},A=a.__fontmetrics__.compress=function(x){var y,p,F,b,S=["{"];for(var f in x){if(y=x[f],isNaN(parseInt(f,10))?p="'"+f+"'":(f=parseInt(f,10),p=(p=c(f).slice(2)).slice(0,-1)+i[p.slice(-1)]),typeof y=="number")y<0?(F=c(y).slice(3),b="-"):(F=c(y).slice(2),b=""),F=b+F.slice(0,-1)+i[F.slice(-1)];else{if($a(y)!=="object")throw new Error("Don't know what to do with value type "+$a(y)+".");F=A(y)}S.push(p+F)}return S.push("}"),S.join("")},d=a.__fontmetrics__.uncompress=function(x){if(typeof x!="string")throw new Error("Invalid argument passed to uncompress.");for(var y,p,F,b,S={},f=1,O=S,M=[],J="",K="",H=x.length-1,k=1;k<H;k+=1)(b=x[k])=="'"?y?(F=y.join(""),y=void 0):y=[]:y?y.push(b):b=="{"?(M.push([O,F]),O={},F=void 0):b=="}"?((p=M.pop())[0][p[1]]=O,F=void 0,O=p[0]):b=="-"?f=-1:F===void 0?s.hasOwnProperty(b)?(J+=s[b],F=parseInt(J,16)*f,f=1,J=""):J+=b:s.hasOwnProperty(b)?(K+=s[b],O[F]=parseInt(K,16)*f,f=1,F=void 0,K=""):K+=b;return S},h={codePages:["WinAnsiEncoding"],WinAnsiEncoding:d("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},u={Unicode:{Courier:h,"Courier-Bold":h,"Courier-BoldOblique":h,"Courier-Oblique":h,Helvetica:h,"Helvetica-Bold":h,"Helvetica-BoldOblique":h,"Helvetica-Oblique":h,"Times-Roman":h,"Times-Bold":h,"Times-BoldItalic":h,"Times-Italic":h}},v={Unicode:{"Courier-Oblique":d("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":d("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":d("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:d("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":d("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":d("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:d("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:d("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":d("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:d("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":d("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":d("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":d("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":d("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};a.events.push(["addFont",function(x){var y=x.font,p=v.Unicode[y.postScriptName];p&&(y.metadata.Unicode={},y.metadata.Unicode.widths=p.widths,y.metadata.Unicode.kerning=p.kerning);var F=u.Unicode[y.postScriptName];F&&(y.metadata.Unicode.encoding=F,y.encoding=F.codePages[0])}])}(ea.API),function(a){var t=function(s){for(var i=s.length,r=new Uint8Array(i),c=0;c<i;c++)r[c]=s.charCodeAt(c);return r};a.API.events.push(["addFont",function(s){var i=void 0,r=s.font,c=s.instance;if(!r.isStandardFont){if(c===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+r.postScriptName+"').");if(typeof(i=c.existsFileInVFS(r.postScriptName)===!1?c.loadFile(r.postScriptName):c.getFileFromVFS(r.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+r.postScriptName+"').");(function(A,d){d=/^\x00\x01\x00\x00/.test(d)?t(d):t(Gu(d)),A.metadata=a.API.TTFFont.open(d),A.metadata.Unicode=A.metadata.Unicode||{encoding:{},kerning:{},widths:[]},A.metadata.glyIdsUsed=[0]})(r,i)}}])}(ea),function(a){function t(){return(ma.canvg?Promise.resolve(ma.canvg):Wv(()=>import("./index.es-BESGoMNk.js"),[])).catch(function(s){return Promise.reject(new Error("Could not load canvg: "+s))}).then(function(s){return s.default?s.default:s})}ea.API.addSvgAsImage=function(s,i,r,c,A,d,h,u){if(isNaN(i)||isNaN(r))throw Za.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(c)||isNaN(A))throw Za.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var v=document.createElement("canvas");v.width=c,v.height=A;var x=v.getContext("2d");x.fillStyle="#fff",x.fillRect(0,0,v.width,v.height);var y={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},p=this;return t().then(function(F){return F.fromString(x,s,y)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(F){return F.render(y)}).then(function(){p.addImage(v.toDataURL("image/jpeg",1),i,r,c,A,h,u)})}}(),ea.API.putTotalPages=function(a){var t,s=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(t=new RegExp(a,"g"),s=this.internal.getNumberOfPages()):(t=new RegExp(this.pdfEscape16(a,this.internal.getFont()),"g"),s=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var i=1;i<=this.internal.getNumberOfPages();i++)for(var r=0;r<this.internal.pages[i].length;r++)this.internal.pages[i][r]=this.internal.pages[i][r].replace(t,s);return this},ea.API.viewerPreferences=function(a,t){var s;a=a||{},t=t||!1;var i,r,c,A={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},d=Object.keys(A),h=[],u=0,v=0,x=0;function y(F,b){var S,f=!1;for(S=0;S<F.length;S+=1)F[S]===b&&(f=!0);return f}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(A)),this.internal.viewerpreferences.isSubscribed=!1),s=this.internal.viewerpreferences.configuration,a==="reset"||t===!0){var p=d.length;for(x=0;x<p;x+=1)s[d[x]].value=s[d[x]].defaultValue,s[d[x]].explicitSet=!1}if($a(a)==="object"){for(r in a)if(c=a[r],y(d,r)&&c!==void 0){if(s[r].type==="boolean"&&typeof c=="boolean")s[r].value=c;else if(s[r].type==="name"&&y(s[r].valueSet,c))s[r].value=c;else if(s[r].type==="integer"&&Number.isInteger(c))s[r].value=c;else if(s[r].type==="array"){for(u=0;u<c.length;u+=1)if(i=!0,c[u].length===1&&typeof c[u][0]=="number")h.push(String(c[u]-1));else if(c[u].length>1){for(v=0;v<c[u].length;v+=1)typeof c[u][v]!="number"&&(i=!1);i===!0&&h.push([c[u][0]-1,c[u][1]-1].join(" "))}s[r].value="["+h.join(" ")+"]"}else s[r].value=s[r].defaultValue;s[r].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var F,b=[];for(F in s)s[F].explicitSet===!0&&(s[F].type==="name"?b.push("/"+F+" /"+s[F].value):b.push("/"+F+" "+s[F].value));b.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+b.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=s,this},function(a){var t=function(){var i='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',r=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),c=unescape(encodeURIComponent(i)),A=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),d=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),h=unescape(encodeURIComponent("</x:xmpmeta>")),u=c.length+A.length+d.length+r.length+h.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+u+" >>"),this.internal.write("stream"),this.internal.write(r+c+A+d+h),this.internal.write("endstream"),this.internal.write("endobj")},s=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};a.addMetadata=function(i,r){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:i,namespaceuri:r||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",s),this.internal.events.subscribe("postPutResources",t)),this}}(ea.API),function(a){var t=a.API,s=t.pdfEscape16=function(c,A){for(var d,h=A.metadata.Unicode.widths,u=["","0","00","000","0000"],v=[""],x=0,y=c.length;x<y;++x){if(d=A.metadata.characterToGlyph(c.charCodeAt(x)),A.metadata.glyIdsUsed.push(d),A.metadata.toUnicode[d]=c.charCodeAt(x),h.indexOf(d)==-1&&(h.push(d),h.push([parseInt(A.metadata.widthOfGlyph(d),10)])),d=="0")return v.join("");d=d.toString(16),v.push(u[4-d.length],d)}return v.join("")},i=function(c){var A,d,h,u,v,x,y;for(v=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,h=[],x=0,y=(d=Object.keys(c).sort(function(p,F){return p-F})).length;x<y;x++)A=d[x],h.length>=100&&(v+=`
`+h.length+` beginbfchar
`+h.join(`
`)+`
endbfchar`,h=[]),c[A]!==void 0&&c[A]!==null&&typeof c[A].toString=="function"&&(u=("0000"+c[A].toString(16)).slice(-4),A=("0000"+(+A).toString(16)).slice(-4),h.push("<"+A+"><"+u+">"));return h.length&&(v+=`
`+h.length+` beginbfchar
`+h.join(`
`)+`
endbfchar
`),v+=`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};t.events.push(["putFont",function(c){(function(A){var d=A.font,h=A.out,u=A.newObject,v=A.putStream;if(d.metadata instanceof a.API.TTFFont&&d.encoding==="Identity-H"){for(var x=d.metadata.Unicode.widths,y=d.metadata.subset.encode(d.metadata.glyIdsUsed,1),p="",F=0;F<y.length;F++)p+=String.fromCharCode(y[F]);var b=u();v({data:p,addLength1:!0,objectId:b}),h("endobj");var S=u();v({data:i(d.metadata.toUnicode),addLength1:!0,objectId:S}),h("endobj");var f=u();h("<<"),h("/Type /FontDescriptor"),h("/FontName /"+pd(d.fontName)),h("/FontFile2 "+b+" 0 R"),h("/FontBBox "+a.API.PDFObject.convert(d.metadata.bbox)),h("/Flags "+d.metadata.flags),h("/StemV "+d.metadata.stemV),h("/ItalicAngle "+d.metadata.italicAngle),h("/Ascent "+d.metadata.ascender),h("/Descent "+d.metadata.decender),h("/CapHeight "+d.metadata.capHeight),h(">>"),h("endobj");var O=u();h("<<"),h("/Type /Font"),h("/BaseFont /"+pd(d.fontName)),h("/FontDescriptor "+f+" 0 R"),h("/W "+a.API.PDFObject.convert(x)),h("/CIDToGIDMap /Identity"),h("/DW 1000"),h("/Subtype /CIDFontType2"),h("/CIDSystemInfo"),h("<<"),h("/Supplement 0"),h("/Registry (Adobe)"),h("/Ordering ("+d.encoding+")"),h(">>"),h(">>"),h("endobj"),d.objectNumber=u(),h("<<"),h("/Type /Font"),h("/Subtype /Type0"),h("/ToUnicode "+S+" 0 R"),h("/BaseFont /"+pd(d.fontName)),h("/Encoding /"+d.encoding),h("/DescendantFonts ["+O+" 0 R]"),h(">>"),h("endobj"),d.isAlreadyPutted=!0}})(c)}]),t.events.push(["putFont",function(c){(function(A){var d=A.font,h=A.out,u=A.newObject,v=A.putStream;if(d.metadata instanceof a.API.TTFFont&&d.encoding==="WinAnsiEncoding"){for(var x=d.metadata.rawData,y="",p=0;p<x.length;p++)y+=String.fromCharCode(x[p]);var F=u();v({data:y,addLength1:!0,objectId:F}),h("endobj");var b=u();v({data:i(d.metadata.toUnicode),addLength1:!0,objectId:b}),h("endobj");var S=u();h("<<"),h("/Descent "+d.metadata.decender),h("/CapHeight "+d.metadata.capHeight),h("/StemV "+d.metadata.stemV),h("/Type /FontDescriptor"),h("/FontFile2 "+F+" 0 R"),h("/Flags 96"),h("/FontBBox "+a.API.PDFObject.convert(d.metadata.bbox)),h("/FontName /"+pd(d.fontName)),h("/ItalicAngle "+d.metadata.italicAngle),h("/Ascent "+d.metadata.ascender),h(">>"),h("endobj"),d.objectNumber=u();for(var f=0;f<d.metadata.hmtx.widths.length;f++)d.metadata.hmtx.widths[f]=parseInt(d.metadata.hmtx.widths[f]*(1e3/d.metadata.head.unitsPerEm));h("<</Subtype/TrueType/Type/Font/ToUnicode "+b+" 0 R/BaseFont/"+pd(d.fontName)+"/FontDescriptor "+S+" 0 R/Encoding/"+d.encoding+" /FirstChar 29 /LastChar 255 /Widths "+a.API.PDFObject.convert(d.metadata.hmtx.widths)+">>"),h("endobj"),d.isAlreadyPutted=!0}})(c)}]);var r=function(c){var A,d=c.text||"",h=c.x,u=c.y,v=c.options||{},x=c.mutex||{},y=x.pdfEscape,p=x.activeFontKey,F=x.fonts,b=p,S="",f=0,O="",M=F[b].encoding;if(F[b].encoding!=="Identity-H")return{text:d,x:h,y:u,options:v,mutex:x};for(O=d,b=p,Array.isArray(d)&&(O=d[0]),f=0;f<O.length;f+=1)F[b].metadata.hasOwnProperty("cmap")&&(A=F[b].metadata.cmap.unicode.codeMap[O[f].charCodeAt(0)]),A||O[f].charCodeAt(0)<256&&F[b].metadata.hasOwnProperty("Unicode")?S+=O[f]:S+="";var J="";return parseInt(b.slice(1))<14||M==="WinAnsiEncoding"?J=y(S,b).split("").map(function(K){return K.charCodeAt(0).toString(16)}).join(""):M==="Identity-H"&&(J=s(S,F[b])),x.isHex=!0,{text:J,x:h,y:u,options:v,mutex:x}};t.events.push(["postProcessText",function(c){var A=c.text||"",d=[],h={text:A,x:c.x,y:c.y,options:c.options,mutex:c.mutex};if(Array.isArray(A)){var u=0;for(u=0;u<A.length;u+=1)Array.isArray(A[u])&&A[u].length===3?d.push([r(Object.assign({},h,{text:A[u][0]})).text,A[u][1],A[u][2]]):d.push(r(Object.assign({},h,{text:A[u]})).text);c.text=d}else c.text=r(Object.assign({},h,{text:A})).text}])}(ea),function(a){var t=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};a.existsFileInVFS=function(s){return t.call(this),this.internal.vFS[s]!==void 0},a.addFileToVFS=function(s,i){return t.call(this),this.internal.vFS[s]=i,this},a.getFileFromVFS=function(s){return t.call(this),this.internal.vFS[s]!==void 0?this.internal.vFS[s]:null}}(ea.API),function(a){a.__bidiEngine__=a.prototype.__bidiEngine__=function(i){var r,c,A,d,h,u,v,x=t,y=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],p=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],F={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},b={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},S=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],f=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),O=!1,M=0;this.__bidiEngine__={};var J=function(_){var X=_.charCodeAt(),re=X>>8,fe=b[re];return fe!==void 0?x[256*fe+(255&X)]:re===252||re===253?"AL":f.test(re)?"L":re===8?"R":"N"},K=function(_){for(var X,re=0;re<_.length;re++){if((X=J(_.charAt(re)))==="L")return!1;if(X==="R")return!0}return!1},H=function(_,X,re,fe){var Ne,ue,_e,ce,ye=X[fe];switch(ye){case"L":case"R":O=!1;break;case"N":case"AN":break;case"EN":O&&(ye="AN");break;case"AL":O=!0,ye="R";break;case"WS":ye="N";break;case"CS":fe<1||fe+1>=X.length||(Ne=re[fe-1])!=="EN"&&Ne!=="AN"||(ue=X[fe+1])!=="EN"&&ue!=="AN"?ye="N":O&&(ue="AN"),ye=ue===Ne?ue:"N";break;case"ES":ye=(Ne=fe>0?re[fe-1]:"B")==="EN"&&fe+1<X.length&&X[fe+1]==="EN"?"EN":"N";break;case"ET":if(fe>0&&re[fe-1]==="EN"){ye="EN";break}if(O){ye="N";break}for(_e=fe+1,ce=X.length;_e<ce&&X[_e]==="ET";)_e++;ye=_e<ce&&X[_e]==="EN"?"EN":"N";break;case"NSM":if(A&&!d){for(ce=X.length,_e=fe+1;_e<ce&&X[_e]==="NSM";)_e++;if(_e<ce){var Q=_[fe],ne=Q>=1425&&Q<=2303||Q===64286;if(Ne=X[_e],ne&&(Ne==="R"||Ne==="AL")){ye="R";break}}}ye=fe<1||(Ne=X[fe-1])==="B"?"N":re[fe-1];break;case"B":O=!1,r=!0,ye=M;break;case"S":c=!0,ye="N";break;case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":O=!1;break;case"BN":ye="N"}return ye},k=function(_,X,re){var fe=_.split("");return re&&Y(fe,re,{hiLevel:M}),fe.reverse(),X&&X.reverse(),fe.join("")},Y=function(_,X,re){var fe,Ne,ue,_e,ce,ye=-1,Q=_.length,ne=0,U=[],V=M?p:y,T=[];for(O=!1,r=!1,c=!1,Ne=0;Ne<Q;Ne++)T[Ne]=J(_[Ne]);for(ue=0;ue<Q;ue++){if(ce=ne,U[ue]=H(_,T,U,ue),fe=240&(ne=V[ce][F[U[ue]]]),ne&=15,X[ue]=_e=V[ne][5],fe>0)if(fe===16){for(Ne=ye;Ne<ue;Ne++)X[Ne]=1;ye=-1}else ye=-1;if(V[ne][6])ye===-1&&(ye=ue);else if(ye>-1){for(Ne=ye;Ne<ue;Ne++)X[Ne]=_e;ye=-1}T[ue]==="B"&&(X[ue]=0),re.hiLevel|=_e}c&&function(ie,ae,P){for(var z=0;z<P;z++)if(ie[z]==="S"){ae[z]=M;for(var B=z-1;B>=0&&ie[B]==="WS";B--)ae[B]=M}}(T,X,Q)},D=function(_,X,re,fe,Ne){if(!(Ne.hiLevel<_)){if(_===1&&M===1&&!r)return X.reverse(),void(re&&re.reverse());for(var ue,_e,ce,ye,Q=X.length,ne=0;ne<Q;){if(fe[ne]>=_){for(ce=ne+1;ce<Q&&fe[ce]>=_;)ce++;for(ye=ne,_e=ce-1;ye<_e;ye++,_e--)ue=X[ye],X[ye]=X[_e],X[_e]=ue,re&&(ue=re[ye],re[ye]=re[_e],re[_e]=ue);ne=ce}ne++}}},ge=function(_,X,re){var fe=_.split(""),Ne={hiLevel:M};return re||(re=[]),Y(fe,re,Ne),function(ue,_e,ce){if(ce.hiLevel!==0&&v)for(var ye,Q=0;Q<ue.length;Q++)_e[Q]===1&&(ye=S.indexOf(ue[Q]))>=0&&(ue[Q]=S[ye+1])}(fe,re,Ne),D(2,fe,X,re,Ne),D(1,fe,X,re,Ne),fe.join("")};return this.__bidiEngine__.doBidiReorder=function(_,X,re){if(function(Ne,ue){if(ue)for(var _e=0;_e<Ne.length;_e++)ue[_e]=_e;d===void 0&&(d=K(Ne)),u===void 0&&(u=K(Ne))}(_,X),A||!h||u)if(A&&h&&d^u)M=d?1:0,_=k(_,X,re);else if(!A&&h&&u)M=d?1:0,_=ge(_,X,re),_=k(_,X);else if(!A||d||h||u){if(A&&!h&&d^u)_=k(_,X),d?(M=0,_=ge(_,X,re)):(M=1,_=ge(_,X,re),_=k(_,X));else if(A&&d&&!h&&u)M=1,_=ge(_,X,re),_=k(_,X);else if(!A&&!h&&d^u){var fe=v;d?(M=1,_=ge(_,X,re),M=0,v=!1,_=ge(_,X,re),v=fe):(M=0,_=ge(_,X,re),_=k(_,X),M=1,v=!1,_=ge(_,X,re),v=fe,_=k(_,X))}}else M=0,_=ge(_,X,re);else M=d?1:0,_=ge(_,X,re);return _},this.__bidiEngine__.setOptions=function(_){_&&(A=_.isInputVisual,h=_.isOutputVisual,d=_.isInputRtl,u=_.isOutputRtl,v=_.isSymmetricSwapping)},this.__bidiEngine__.setOptions(i),this.__bidiEngine__};var t=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],s=new a.__bidiEngine__({isInputVisual:!0});a.API.events.push(["postProcessText",function(i){var r=i.text;i.x,i.y;var c=i.options||{};i.mutex,c.lang;var A=[];if(c.isInputVisual=typeof c.isInputVisual!="boolean"||c.isInputVisual,s.setOptions(c),Object.prototype.toString.call(r)==="[object Array]"){var d=0;for(A=[],d=0;d<r.length;d+=1)Object.prototype.toString.call(r[d])==="[object Array]"?A.push([s.doBidiReorder(r[d][0]),r[d][1],r[d][2]]):A.push([s.doBidiReorder(r[d])]);i.text=A}else i.text=s.doBidiReorder(r);s.setOptions({isInputVisual:!0})}])}(ea),ea.API.TTFFont=function(){function a(t){var s;if(this.rawData=t,s=this.contents=new po(t),this.contents.pos=4,s.readString(4)==="ttcf")throw new Error("TTCF not supported.");s.pos=0,this.parse(),this.subset=new dD(this),this.registerTTF()}return a.open=function(t){return new a(t)},a.prototype.parse=function(){return this.directory=new X3(this.contents),this.head=new Z3(this),this.name=new sD(this),this.cmap=new F1(this),this.toUnicode={},this.hhea=new eD(this),this.maxp=new nD(this),this.hmtx=new rD(this),this.post=new aD(this),this.os2=new tD(this),this.loca=new AD(this),this.glyf=new lD(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},a.prototype.registerTTF=function(){var t,s,i,r,c;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var A,d,h,u;for(u=[],A=0,d=(h=this.bbox).length;A<d;A++)t=h[A],u.push(Math.round(t*this.scaleFactor));return u}).call(this),this.stemV=0,this.post.exists?(i=255&(r=this.post.italic_angle),32768&(s=r>>16)&&(s=-(1+(65535^s))),this.italicAngle=+(s+"."+i)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(c=this.familyClass)===1||c===2||c===3||c===4||c===5||c===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},a.prototype.characterToGlyph=function(t){var s;return((s=this.cmap.unicode)!=null?s.codeMap[t]:void 0)||0},a.prototype.widthOfGlyph=function(t){var s;return s=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(t).advance*s},a.prototype.widthOfString=function(t,s,i){var r,c,A,d;for(A=0,c=0,d=(t=""+t).length;0<=d?c<d:c>d;c=0<=d?++c:--c)r=t.charCodeAt(c),A+=this.widthOfGlyph(this.characterToGlyph(r))+i*(1e3/s)||0;return A*(s/1e3)},a.prototype.lineHeight=function(t,s){var i;return s==null&&(s=!1),i=s?this.lineGap:0,(this.ascender+i-this.decender)/1e3*t},a}();var Sr,po=function(){function a(t){this.data=t??[],this.pos=0,this.length=this.data.length}return a.prototype.readByte=function(){return this.data[this.pos++]},a.prototype.writeByte=function(t){return this.data[this.pos++]=t},a.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},a.prototype.writeUInt32=function(t){return this.writeByte(t>>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t)},a.prototype.readInt32=function(){var t;return(t=this.readUInt32())>=2147483648?t-4294967296:t},a.prototype.writeInt32=function(t){return t<0&&(t+=4294967296),this.writeUInt32(t)},a.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},a.prototype.writeUInt16=function(t){return this.writeByte(t>>8&255),this.writeByte(255&t)},a.prototype.readInt16=function(){var t;return(t=this.readUInt16())>=32768?t-65536:t},a.prototype.writeInt16=function(t){return t<0&&(t+=65536),this.writeUInt16(t)},a.prototype.readString=function(t){var s,i;for(i=[],s=0;0<=t?s<t:s>t;s=0<=t?++s:--s)i[s]=String.fromCharCode(this.readByte());return i.join("")},a.prototype.writeString=function(t){var s,i,r;for(r=[],s=0,i=t.length;0<=i?s<i:s>i;s=0<=i?++s:--s)r.push(this.writeByte(t.charCodeAt(s)));return r},a.prototype.readShort=function(){return this.readInt16()},a.prototype.writeShort=function(t){return this.writeInt16(t)},a.prototype.readLongLong=function(){var t,s,i,r,c,A,d,h;return t=this.readByte(),s=this.readByte(),i=this.readByte(),r=this.readByte(),c=this.readByte(),A=this.readByte(),d=this.readByte(),h=this.readByte(),128&t?-1*(72057594037927940*(255^t)+281474976710656*(255^s)+1099511627776*(255^i)+4294967296*(255^r)+16777216*(255^c)+65536*(255^A)+256*(255^d)+(255^h)+1):72057594037927940*t+281474976710656*s+1099511627776*i+4294967296*r+16777216*c+65536*A+256*d+h},a.prototype.writeLongLong=function(t){var s,i;return s=Math.floor(t/4294967296),i=4294967295&t,this.writeByte(s>>24&255),this.writeByte(s>>16&255),this.writeByte(s>>8&255),this.writeByte(255&s),this.writeByte(i>>24&255),this.writeByte(i>>16&255),this.writeByte(i>>8&255),this.writeByte(255&i)},a.prototype.readInt=function(){return this.readInt32()},a.prototype.writeInt=function(t){return this.writeInt32(t)},a.prototype.read=function(t){var s,i;for(s=[],i=0;0<=t?i<t:i>t;i=0<=t?++i:--i)s.push(this.readByte());return s},a.prototype.write=function(t){var s,i,r,c;for(c=[],i=0,r=t.length;i<r;i++)s=t[i],c.push(this.writeByte(s));return c},a}(),X3=function(){var a;function t(s){var i,r,c;for(this.scalarType=s.readInt(),this.tableCount=s.readShort(),this.searchRange=s.readShort(),this.entrySelector=s.readShort(),this.rangeShift=s.readShort(),this.tables={},r=0,c=this.tableCount;0<=c?r<c:r>c;r=0<=c?++r:--r)i={tag:s.readString(4),checksum:s.readInt(),offset:s.readInt(),length:s.readInt()},this.tables[i.tag]=i}return t.prototype.encode=function(s){var i,r,c,A,d,h,u,v,x,y,p,F,b;for(b in p=Object.keys(s).length,h=Math.log(2),x=16*Math.floor(Math.log(p)/h),A=Math.floor(x/h),v=16*p-x,(r=new po).writeInt(this.scalarType),r.writeShort(p),r.writeShort(x),r.writeShort(A),r.writeShort(v),c=16*p,u=r.pos+c,d=null,F=[],s)for(y=s[b],r.writeString(b),r.writeInt(a(y)),r.writeInt(u),r.writeInt(y.length),F=F.concat(y),b==="head"&&(d=u),u+=y.length;u%4;)F.push(0),u++;return r.write(F),i=2981146554-a(r.data),r.pos=d+8,r.writeUInt32(i),r.data},a=function(s){var i,r,c,A;for(s=D1.call(s);s.length%4;)s.push(0);for(c=new po(s),r=0,i=0,A=s.length;i<A;i=i+=4)r+=c.readUInt32();return 4294967295&r},t}(),J3={}.hasOwnProperty,dl=function(a,t){for(var s in t)J3.call(t,s)&&(a[s]=t[s]);function i(){this.constructor=a}return i.prototype=t.prototype,a.prototype=new i,a.__super__=t.prototype,a};Sr=function(){function a(t){var s;this.file=t,s=this.file.directory.tables[this.tag],this.exists=!!s,s&&(this.offset=s.offset,this.length=s.length,this.parse(this.file.contents))}return a.prototype.parse=function(){},a.prototype.encode=function(){},a.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},a}();var Z3=function(a){function t(){return t.__super__.constructor.apply(this,arguments)}return dl(t,Sr),t.prototype.tag="head",t.prototype.parse=function(s){return s.pos=this.offset,this.version=s.readInt(),this.revision=s.readInt(),this.checkSumAdjustment=s.readInt(),this.magicNumber=s.readInt(),this.flags=s.readShort(),this.unitsPerEm=s.readShort(),this.created=s.readLongLong(),this.modified=s.readLongLong(),this.xMin=s.readShort(),this.yMin=s.readShort(),this.xMax=s.readShort(),this.yMax=s.readShort(),this.macStyle=s.readShort(),this.lowestRecPPEM=s.readShort(),this.fontDirectionHint=s.readShort(),this.indexToLocFormat=s.readShort(),this.glyphDataFormat=s.readShort()},t.prototype.encode=function(s){var i;return(i=new po).writeInt(this.version),i.writeInt(this.revision),i.writeInt(this.checkSumAdjustment),i.writeInt(this.magicNumber),i.writeShort(this.flags),i.writeShort(this.unitsPerEm),i.writeLongLong(this.created),i.writeLongLong(this.modified),i.writeShort(this.xMin),i.writeShort(this.yMin),i.writeShort(this.xMax),i.writeShort(this.yMax),i.writeShort(this.macStyle),i.writeShort(this.lowestRecPPEM),i.writeShort(this.fontDirectionHint),i.writeShort(s),i.writeShort(this.glyphDataFormat),i.data},t}(),CN=function(){function a(t,s){var i,r,c,A,d,h,u,v,x,y,p,F,b,S,f,O,M;switch(this.platformID=t.readUInt16(),this.encodingID=t.readShort(),this.offset=s+t.readInt(),x=t.pos,t.pos=this.offset,this.format=t.readUInt16(),this.length=t.readUInt16(),this.language=t.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(h=0;h<256;++h)this.codeMap[h]=t.readByte();break;case 4:for(p=t.readUInt16(),y=p/2,t.pos+=6,c=function(){var J,K;for(K=[],h=J=0;0<=y?J<y:J>y;h=0<=y?++J:--J)K.push(t.readUInt16());return K}(),t.pos+=2,b=function(){var J,K;for(K=[],h=J=0;0<=y?J<y:J>y;h=0<=y?++J:--J)K.push(t.readUInt16());return K}(),u=function(){var J,K;for(K=[],h=J=0;0<=y?J<y:J>y;h=0<=y?++J:--J)K.push(t.readUInt16());return K}(),v=function(){var J,K;for(K=[],h=J=0;0<=y?J<y:J>y;h=0<=y?++J:--J)K.push(t.readUInt16());return K}(),r=(this.length-t.pos+this.offset)/2,d=function(){var J,K;for(K=[],h=J=0;0<=r?J<r:J>r;h=0<=r?++J:--J)K.push(t.readUInt16());return K}(),h=f=0,M=c.length;f<M;h=++f)for(S=c[h],i=O=F=b[h];F<=S?O<=S:O>=S;i=F<=S?++O:--O)v[h]===0?A=i+u[h]:(A=d[v[h]/2+(i-F)-(y-h)]||0)!==0&&(A+=u[h]),this.codeMap[i]=65535&A}t.pos=x}return a.encode=function(t,s){var i,r,c,A,d,h,u,v,x,y,p,F,b,S,f,O,M,J,K,H,k,Y,D,ge,_,X,re,fe,Ne,ue,_e,ce,ye,Q,ne,U,V,T,ie,ae,P,z,B,q,te,he;switch(fe=new po,A=Object.keys(t).sort(function(W,C){return W-C}),s){case"macroman":for(b=0,S=function(){var W=[];for(F=0;F<256;++F)W.push(0);return W}(),O={0:0},c={},Ne=0,ye=A.length;Ne<ye;Ne++)O[B=t[r=A[Ne]]]==null&&(O[B]=++b),c[r]={old:t[r],new:O[t[r]]},S[r]=O[t[r]];return fe.writeUInt16(1),fe.writeUInt16(0),fe.writeUInt32(12),fe.writeUInt16(0),fe.writeUInt16(262),fe.writeUInt16(0),fe.write(S),{charMap:c,subtable:fe.data,maxGlyphID:b+1};case"unicode":for(X=[],x=[],M=0,O={},i={},f=u=null,ue=0,Q=A.length;ue<Q;ue++)O[K=t[r=A[ue]]]==null&&(O[K]=++M),i[r]={old:K,new:O[K]},d=O[K]-r,f!=null&&d===u||(f&&x.push(f),X.push(r),u=d),f=r;for(f&&x.push(f),x.push(65535),X.push(65535),ge=2*(D=X.length),Y=2*Math.pow(Math.log(D)/Math.LN2,2),y=Math.log(Y/2)/Math.LN2,k=2*D-Y,h=[],H=[],p=[],F=_e=0,ne=X.length;_e<ne;F=++_e){if(_=X[F],v=x[F],_===65535){h.push(0),H.push(0);break}if(_-(re=i[_].new)>=32768)for(h.push(0),H.push(2*(p.length+D-F)),r=ce=_;_<=v?ce<=v:ce>=v;r=_<=v?++ce:--ce)p.push(i[r].new);else h.push(re-_),H.push(0)}for(fe.writeUInt16(3),fe.writeUInt16(1),fe.writeUInt32(12),fe.writeUInt16(4),fe.writeUInt16(16+8*D+2*p.length),fe.writeUInt16(0),fe.writeUInt16(ge),fe.writeUInt16(Y),fe.writeUInt16(y),fe.writeUInt16(k),P=0,U=x.length;P<U;P++)r=x[P],fe.writeUInt16(r);for(fe.writeUInt16(0),z=0,V=X.length;z<V;z++)r=X[z],fe.writeUInt16(r);for(q=0,T=h.length;q<T;q++)d=h[q],fe.writeUInt16(d);for(te=0,ie=H.length;te<ie;te++)J=H[te],fe.writeUInt16(J);for(he=0,ae=p.length;he<ae;he++)b=p[he],fe.writeUInt16(b);return{charMap:i,subtable:fe.data,maxGlyphID:M+1}}},a}(),F1=function(a){function t(){return t.__super__.constructor.apply(this,arguments)}return dl(t,Sr),t.prototype.tag="cmap",t.prototype.parse=function(s){var i,r,c;for(s.pos=this.offset,this.version=s.readUInt16(),c=s.readUInt16(),this.tables=[],this.unicode=null,r=0;0<=c?r<c:r>c;r=0<=c?++r:--r)i=new CN(s,this.offset),this.tables.push(i),i.isUnicode&&this.unicode==null&&(this.unicode=i);return!0},t.encode=function(s,i){var r,c;return i==null&&(i="macroman"),r=CN.encode(s,i),(c=new po).writeUInt16(0),c.writeUInt16(1),r.table=c.data.concat(r.subtable),r},t}(),eD=function(a){function t(){return t.__super__.constructor.apply(this,arguments)}return dl(t,Sr),t.prototype.tag="hhea",t.prototype.parse=function(s){return s.pos=this.offset,this.version=s.readInt(),this.ascender=s.readShort(),this.decender=s.readShort(),this.lineGap=s.readShort(),this.advanceWidthMax=s.readShort(),this.minLeftSideBearing=s.readShort(),this.minRightSideBearing=s.readShort(),this.xMaxExtent=s.readShort(),this.caretSlopeRise=s.readShort(),this.caretSlopeRun=s.readShort(),this.caretOffset=s.readShort(),s.pos+=8,this.metricDataFormat=s.readShort(),this.numberOfMetrics=s.readUInt16()},t}(),tD=function(a){function t(){return t.__super__.constructor.apply(this,arguments)}return dl(t,Sr),t.prototype.tag="OS/2",t.prototype.parse=function(s){if(s.pos=this.offset,this.version=s.readUInt16(),this.averageCharWidth=s.readShort(),this.weightClass=s.readUInt16(),this.widthClass=s.readUInt16(),this.type=s.readShort(),this.ySubscriptXSize=s.readShort(),this.ySubscriptYSize=s.readShort(),this.ySubscriptXOffset=s.readShort(),this.ySubscriptYOffset=s.readShort(),this.ySuperscriptXSize=s.readShort(),this.ySuperscriptYSize=s.readShort(),this.ySuperscriptXOffset=s.readShort(),this.ySuperscriptYOffset=s.readShort(),this.yStrikeoutSize=s.readShort(),this.yStrikeoutPosition=s.readShort(),this.familyClass=s.readShort(),this.panose=function(){var i,r;for(r=[],i=0;i<10;++i)r.push(s.readByte());return r}(),this.charRange=function(){var i,r;for(r=[],i=0;i<4;++i)r.push(s.readInt());return r}(),this.vendorID=s.readString(4),this.selection=s.readShort(),this.firstCharIndex=s.readShort(),this.lastCharIndex=s.readShort(),this.version>0&&(this.ascent=s.readShort(),this.descent=s.readShort(),this.lineGap=s.readShort(),this.winAscent=s.readShort(),this.winDescent=s.readShort(),this.codePageRange=function(){var i,r;for(r=[],i=0;i<2;i=++i)r.push(s.readInt());return r}(),this.version>1))return this.xHeight=s.readShort(),this.capHeight=s.readShort(),this.defaultChar=s.readShort(),this.breakChar=s.readShort(),this.maxContext=s.readShort()},t}(),aD=function(a){function t(){return t.__super__.constructor.apply(this,arguments)}return dl(t,Sr),t.prototype.tag="post",t.prototype.parse=function(s){var i,r,c;switch(s.pos=this.offset,this.format=s.readInt(),this.italicAngle=s.readInt(),this.underlinePosition=s.readShort(),this.underlineThickness=s.readShort(),this.isFixedPitch=s.readInt(),this.minMemType42=s.readInt(),this.maxMemType42=s.readInt(),this.minMemType1=s.readInt(),this.maxMemType1=s.readInt(),this.format){case 65536:break;case 131072:var A;for(r=s.readUInt16(),this.glyphNameIndex=[],A=0;0<=r?A<r:A>r;A=0<=r?++A:--A)this.glyphNameIndex.push(s.readUInt16());for(this.names=[],c=[];s.pos<this.offset+this.length;)i=s.readByte(),c.push(this.names.push(s.readString(i)));return c;case 151552:return r=s.readUInt16(),this.offsets=s.read(r);case 196608:break;case 262144:return this.map=(function(){var d,h,u;for(u=[],A=d=0,h=this.file.maxp.numGlyphs;0<=h?d<h:d>h;A=0<=h?++d:--d)u.push(s.readUInt32());return u}).call(this)}},t}(),iD=function(a,t){this.raw=a,this.length=a.length,this.platformID=t.platformID,this.encodingID=t.encodingID,this.languageID=t.languageID},sD=function(a){function t(){return t.__super__.constructor.apply(this,arguments)}return dl(t,Sr),t.prototype.tag="name",t.prototype.parse=function(s){var i,r,c,A,d,h,u,v,x,y,p;for(s.pos=this.offset,s.readShort(),i=s.readShort(),h=s.readShort(),r=[],A=0;0<=i?A<i:A>i;A=0<=i?++A:--A)r.push({platformID:s.readShort(),encodingID:s.readShort(),languageID:s.readShort(),nameID:s.readShort(),length:s.readShort(),offset:this.offset+h+s.readShort()});for(u={},A=x=0,y=r.length;x<y;A=++x)c=r[A],s.pos=c.offset,v=s.readString(c.length),d=new iD(v,c),u[p=c.nameID]==null&&(u[p]=[]),u[c.nameID].push(d);this.strings=u,this.copyright=u[0],this.fontFamily=u[1],this.fontSubfamily=u[2],this.uniqueSubfamily=u[3],this.fontName=u[4],this.version=u[5];try{this.postscriptName=u[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=u[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=u[7],this.manufacturer=u[8],this.designer=u[9],this.description=u[10],this.vendorUrl=u[11],this.designerUrl=u[12],this.license=u[13],this.licenseUrl=u[14],this.preferredFamily=u[15],this.preferredSubfamily=u[17],this.compatibleFull=u[18],this.sampleText=u[19]},t}(),nD=function(a){function t(){return t.__super__.constructor.apply(this,arguments)}return dl(t,Sr),t.prototype.tag="maxp",t.prototype.parse=function(s){return s.pos=this.offset,this.version=s.readInt(),this.numGlyphs=s.readUInt16(),this.maxPoints=s.readUInt16(),this.maxContours=s.readUInt16(),this.maxCompositePoints=s.readUInt16(),this.maxComponentContours=s.readUInt16(),this.maxZones=s.readUInt16(),this.maxTwilightPoints=s.readUInt16(),this.maxStorage=s.readUInt16(),this.maxFunctionDefs=s.readUInt16(),this.maxInstructionDefs=s.readUInt16(),this.maxStackElements=s.readUInt16(),this.maxSizeOfInstructions=s.readUInt16(),this.maxComponentElements=s.readUInt16(),this.maxComponentDepth=s.readUInt16()},t}(),rD=function(a){function t(){return t.__super__.constructor.apply(this,arguments)}return dl(t,Sr),t.prototype.tag="hmtx",t.prototype.parse=function(s){var i,r,c,A,d,h,u;for(s.pos=this.offset,this.metrics=[],i=0,h=this.file.hhea.numberOfMetrics;0<=h?i<h:i>h;i=0<=h?++i:--i)this.metrics.push({advance:s.readUInt16(),lsb:s.readInt16()});for(c=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var v,x;for(x=[],i=v=0;0<=c?v<c:v>c;i=0<=c?++v:--v)x.push(s.readInt16());return x}(),this.widths=(function(){var v,x,y,p;for(p=[],v=0,x=(y=this.metrics).length;v<x;v++)A=y[v],p.push(A.advance);return p}).call(this),r=this.widths[this.widths.length-1],u=[],i=d=0;0<=c?d<c:d>c;i=0<=c?++d:--d)u.push(this.widths.push(r));return u},t.prototype.forGlyph=function(s){return s in this.metrics?this.metrics[s]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[s-this.metrics.length]}},t}(),D1=[].slice,lD=function(a){function t(){return t.__super__.constructor.apply(this,arguments)}return dl(t,Sr),t.prototype.tag="glyf",t.prototype.parse=function(){return this.cache={}},t.prototype.glyphFor=function(s){var i,r,c,A,d,h,u,v,x,y;return s in this.cache?this.cache[s]:(A=this.file.loca,i=this.file.contents,r=A.indexOf(s),(c=A.lengthOf(s))===0?this.cache[s]=null:(i.pos=this.offset+r,d=(h=new po(i.read(c))).readShort(),v=h.readShort(),y=h.readShort(),u=h.readShort(),x=h.readShort(),this.cache[s]=d===-1?new oD(h,v,y,u,x):new cD(h,d,v,y,u,x),this.cache[s]))},t.prototype.encode=function(s,i,r){var c,A,d,h,u;for(d=[],A=[],h=0,u=i.length;h<u;h++)c=s[i[h]],A.push(d.length),c&&(d=d.concat(c.encode(r)));return A.push(d.length),{table:d,offsets:A}},t}(),cD=function(){function a(t,s,i,r,c,A){this.raw=t,this.numberOfContours=s,this.xMin=i,this.yMin=r,this.xMax=c,this.yMax=A,this.compound=!1}return a.prototype.encode=function(){return this.raw.data},a}(),oD=function(){function a(t,s,i,r,c){var A,d;for(this.raw=t,this.xMin=s,this.yMin=i,this.xMax=r,this.yMax=c,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],A=this.raw;d=A.readShort(),this.glyphOffsets.push(A.pos),this.glyphIDs.push(A.readUInt16()),32&d;)A.pos+=1&d?4:2,128&d?A.pos+=8:64&d?A.pos+=4:8&d&&(A.pos+=2)}return a.prototype.encode=function(){var t,s,i;for(s=new po(D1.call(this.raw.data)),t=0,i=this.glyphIDs.length;t<i;++t)s.pos=this.glyphOffsets[t];return s.data},a}(),AD=function(a){function t(){return t.__super__.constructor.apply(this,arguments)}return dl(t,Sr),t.prototype.tag="loca",t.prototype.parse=function(s){var i,r;return s.pos=this.offset,i=this.file.head.indexToLocFormat,this.offsets=i===0?(function(){var c,A;for(A=[],r=0,c=this.length;r<c;r+=2)A.push(2*s.readUInt16());return A}).call(this):(function(){var c,A;for(A=[],r=0,c=this.length;r<c;r+=4)A.push(s.readUInt32());return A}).call(this)},t.prototype.indexOf=function(s){return this.offsets[s]},t.prototype.lengthOf=function(s){return this.offsets[s+1]-this.offsets[s]},t.prototype.encode=function(s,i){for(var r=new Uint32Array(this.offsets.length),c=0,A=0,d=0;d<r.length;++d)if(r[d]=c,A<i.length&&i[A]==d){++A,r[d]=c;var h=this.offsets[d],u=this.offsets[d+1]-h;u>0&&(c+=u)}for(var v=new Array(4*r.length),x=0;x<r.length;++x)v[4*x+3]=255&r[x],v[4*x+2]=(65280&r[x])>>8,v[4*x+1]=(16711680&r[x])>>16,v[4*x]=(4278190080&r[x])>>24;return v},t}(),dD=function(){function a(t){this.font=t,this.subset={},this.unicodes={},this.next=33}return a.prototype.generateCmap=function(){var t,s,i,r,c;for(s in r=this.font.cmap.tables[0].codeMap,t={},c=this.subset)i=c[s],t[s]=r[i];return t},a.prototype.glyphsFor=function(t){var s,i,r,c,A,d,h;for(r={},A=0,d=t.length;A<d;A++)r[c=t[A]]=this.font.glyf.glyphFor(c);for(c in s=[],r)(i=r[c])!=null&&i.compound&&s.push.apply(s,i.glyphIDs);if(s.length>0)for(c in h=this.glyphsFor(s))i=h[c],r[c]=i;return r},a.prototype.encode=function(t,s){var i,r,c,A,d,h,u,v,x,y,p,F,b,S,f;for(r in i=F1.encode(this.generateCmap(),"unicode"),A=this.glyphsFor(t),p={0:0},f=i.charMap)p[(h=f[r]).old]=h.new;for(F in y=i.maxGlyphID,A)F in p||(p[F]=y++);return v=function(O){var M,J;for(M in J={},O)J[O[M]]=M;return J}(p),x=Object.keys(v).sort(function(O,M){return O-M}),b=function(){var O,M,J;for(J=[],O=0,M=x.length;O<M;O++)d=x[O],J.push(v[d]);return J}(),c=this.font.glyf.encode(A,b,p),u=this.font.loca.encode(c.offsets,b),S={cmap:this.font.cmap.raw(),glyf:c.table,loca:u,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(s)},this.font.os2.exists&&(S["OS/2"]=this.font.os2.raw()),this.font.directory.encode(S)},a}();ea.API.PDFObject=function(){var a;function t(){}return a=function(s,i){return(Array(i+1).join("0")+s).slice(-i)},t.convert=function(s){var i,r,c,A;if(Array.isArray(s))return"["+function(){var d,h,u;for(u=[],d=0,h=s.length;d<h;d++)i=s[d],u.push(t.convert(i));return u}().join(" ")+"]";if(typeof s=="string")return"/"+s;if(s!=null&&s.isString)return"("+s+")";if(s instanceof Date)return"(D:"+a(s.getUTCFullYear(),4)+a(s.getUTCMonth(),2)+a(s.getUTCDate(),2)+a(s.getUTCHours(),2)+a(s.getUTCMinutes(),2)+a(s.getUTCSeconds(),2)+"Z)";if({}.toString.call(s)==="[object Object]"){for(r in c=["<<"],s)A=s[r],c.push("/"+r+" "+t.convert(A));return c.push(">>"),c.join(`
`)}return""+s},t}();/*!
 * html2canvas 1.4.1 <https://html2canvas.hertzen.com>
 * Copyright (c) 2022 Niklas von Hertzen <https://hertzen.com>
 * Released under MIT License
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var lx=function(a,t){return lx=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,i){s.__proto__=i}||function(s,i){for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(s[r]=i[r])},lx(a,t)};function _r(a,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");lx(a,t);function s(){this.constructor=a}a.prototype=t===null?Object.create(t):(s.prototype=t.prototype,new s)}var cx=function(){return cx=Object.assign||function(t){for(var s,i=1,r=arguments.length;i<r;i++){s=arguments[i];for(var c in s)Object.prototype.hasOwnProperty.call(s,c)&&(t[c]=s[c])}return t},cx.apply(this,arguments)};function Vs(a,t,s,i){function r(c){return c instanceof s?c:new s(function(A){A(c)})}return new(s||(s=Promise))(function(c,A){function d(v){try{u(i.next(v))}catch(x){A(x)}}function h(v){try{u(i.throw(v))}catch(x){A(x)}}function u(v){v.done?c(v.value):r(v.value).then(d,h)}u((i=i.apply(a,[])).next())})}function Es(a,t){var s={label:0,sent:function(){if(c[0]&1)throw c[1];return c[1]},trys:[],ops:[]},i,r,c,A;return A={next:d(0),throw:d(1),return:d(2)},typeof Symbol=="function"&&(A[Symbol.iterator]=function(){return this}),A;function d(u){return function(v){return h([u,v])}}function h(u){if(i)throw new TypeError("Generator is already executing.");for(;s;)try{if(i=1,r&&(c=u[0]&2?r.return:u[0]?r.throw||((c=r.return)&&c.call(r),0):r.next)&&!(c=c.call(r,u[1])).done)return c;switch(r=0,c&&(u=[u[0]&2,c.value]),u[0]){case 0:case 1:c=u;break;case 4:return s.label++,{value:u[1],done:!1};case 5:s.label++,r=u[1],u=[0];continue;case 7:u=s.ops.pop(),s.trys.pop();continue;default:if(c=s.trys,!(c=c.length>0&&c[c.length-1])&&(u[0]===6||u[0]===2)){s=0;continue}if(u[0]===3&&(!c||u[1]>c[0]&&u[1]<c[3])){s.label=u[1];break}if(u[0]===6&&s.label<c[1]){s.label=c[1],c=u;break}if(c&&s.label<c[2]){s.label=c[2],s.ops.push(u);break}c[2]&&s.ops.pop(),s.trys.pop();continue}u=t.call(a,s)}catch(v){u=[6,v],r=0}finally{i=c=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}function ym(a,t,s){if(arguments.length===2)for(var i=0,r=t.length,c;i<r;i++)(c||!(i in t))&&(c||(c=Array.prototype.slice.call(t,0,i)),c[i]=t[i]);return a.concat(c||t)}var Xl=function(){function a(t,s,i,r){this.left=t,this.top=s,this.width=i,this.height=r}return a.prototype.add=function(t,s,i,r){return new a(this.left+t,this.top+s,this.width+i,this.height+r)},a.fromClientRect=function(t,s){return new a(s.left+t.windowBounds.left,s.top+t.windowBounds.top,s.width,s.height)},a.fromDOMRectList=function(t,s){var i=Array.from(s).find(function(r){return r.width!==0});return i?new a(i.left+t.windowBounds.left,i.top+t.windowBounds.top,i.width,i.height):a.EMPTY},a.EMPTY=new a(0,0,0,0),a}(),Jf=function(a,t){return Xl.fromClientRect(a,t.getBoundingClientRect())},uD=function(a){var t=a.body,s=a.documentElement;if(!t||!s)throw new Error("Unable to get document size");var i=Math.max(Math.max(t.scrollWidth,s.scrollWidth),Math.max(t.offsetWidth,s.offsetWidth),Math.max(t.clientWidth,s.clientWidth)),r=Math.max(Math.max(t.scrollHeight,s.scrollHeight),Math.max(t.offsetHeight,s.offsetHeight),Math.max(t.clientHeight,s.clientHeight));return new Xl(0,0,i,r)},Zf=function(a){for(var t=[],s=0,i=a.length;s<i;){var r=a.charCodeAt(s++);if(r>=55296&&r<=56319&&s<i){var c=a.charCodeAt(s++);(c&64512)===56320?t.push(((r&1023)<<10)+(c&1023)+65536):(t.push(r),s--)}else t.push(r)}return t},Mi=function(){for(var a=[],t=0;t<arguments.length;t++)a[t]=arguments[t];if(String.fromCodePoint)return String.fromCodePoint.apply(String,a);var s=a.length;if(!s)return"";for(var i=[],r=-1,c="";++r<s;){var A=a[r];A<=65535?i.push(A):(A-=65536,i.push((A>>10)+55296,A%1024+56320)),(r+1===s||i.length>16384)&&(c+=String.fromCharCode.apply(String,i),i.length=0)}return c},SN="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",hD=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var bm=0;bm<SN.length;bm++)hD[SN.charCodeAt(bm)]=bm;var _N="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Tu=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var wm=0;wm<_N.length;wm++)Tu[_N.charCodeAt(wm)]=wm;var mD=function(a){var t=a.length*.75,s=a.length,i,r=0,c,A,d,h;a[a.length-1]==="="&&(t--,a[a.length-2]==="="&&t--);var u=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(t):new Array(t),v=Array.isArray(u)?u:new Uint8Array(u);for(i=0;i<s;i+=4)c=Tu[a.charCodeAt(i)],A=Tu[a.charCodeAt(i+1)],d=Tu[a.charCodeAt(i+2)],h=Tu[a.charCodeAt(i+3)],v[r++]=c<<2|A>>4,v[r++]=(A&15)<<4|d>>2,v[r++]=(d&3)<<6|h&63;return u},fD=function(a){for(var t=a.length,s=[],i=0;i<t;i+=2)s.push(a[i+1]<<8|a[i]);return s},pD=function(a){for(var t=a.length,s=[],i=0;i<t;i+=4)s.push(a[i+3]<<24|a[i+2]<<16|a[i+1]<<8|a[i]);return s},hA=5,ry=11,Wg=2,gD=ry-hA,E1=65536>>hA,vD=1<<hA,Yg=vD-1,xD=1024>>hA,yD=E1+xD,bD=yD,wD=32,ND=bD+wD,jD=65536>>ry,BD=1<<gD,CD=BD-1,FN=function(a,t,s){return a.slice?a.slice(t,s):new Uint16Array(Array.prototype.slice.call(a,t,s))},SD=function(a,t,s){return a.slice?a.slice(t,s):new Uint32Array(Array.prototype.slice.call(a,t,s))},_D=function(a,t){var s=mD(a),i=Array.isArray(s)?pD(s):new Uint32Array(s),r=Array.isArray(s)?fD(s):new Uint16Array(s),c=24,A=FN(r,c/2,i[4]/2),d=i[5]===2?FN(r,(c+i[4])/2):SD(i,Math.ceil((c+i[4])/4));return new FD(i[0],i[1],i[2],i[3],A,d)},FD=function(){function a(t,s,i,r,c,A){this.initialValue=t,this.errorValue=s,this.highStart=i,this.highValueIndex=r,this.index=c,this.data=A}return a.prototype.get=function(t){var s;if(t>=0){if(t<55296||t>56319&&t<=65535)return s=this.index[t>>hA],s=(s<<Wg)+(t&Yg),this.data[s];if(t<=65535)return s=this.index[E1+(t-55296>>hA)],s=(s<<Wg)+(t&Yg),this.data[s];if(t<this.highStart)return s=ND-jD+(t>>ry),s=this.index[s],s+=t>>hA&CD,s=this.index[s],s=(s<<Wg)+(t&Yg),this.data[s];if(t<=1114111)return this.data[this.highValueIndex]}return this.errorValue},a}(),DN="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",DD=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var Nm=0;Nm<DN.length;Nm++)DD[DN.charCodeAt(Nm)]=Nm;var ED="KwAAAAAAAAAACA4AUD0AADAgAAACAAAAAAAIABAAGABAAEgAUABYAGAAaABgAGgAYgBqAF8AZwBgAGgAcQB5AHUAfQCFAI0AlQCdAKIAqgCyALoAYABoAGAAaABgAGgAwgDKAGAAaADGAM4A0wDbAOEA6QDxAPkAAQEJAQ8BFwF1AH0AHAEkASwBNAE6AUIBQQFJAVEBWQFhAWgBcAF4ATAAgAGGAY4BlQGXAZ8BpwGvAbUBvQHFAc0B0wHbAeMB6wHxAfkBAQIJAvEBEQIZAiECKQIxAjgCQAJGAk4CVgJeAmQCbAJ0AnwCgQKJApECmQKgAqgCsAK4ArwCxAIwAMwC0wLbAjAA4wLrAvMC+AIAAwcDDwMwABcDHQMlAy0DNQN1AD0DQQNJA0kDSQNRA1EDVwNZA1kDdQB1AGEDdQBpA20DdQN1AHsDdQCBA4kDkQN1AHUAmQOhA3UAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AKYDrgN1AHUAtgO+A8YDzgPWAxcD3gPjA+sD8wN1AHUA+wMDBAkEdQANBBUEHQQlBCoEFwMyBDgEYABABBcDSARQBFgEYARoBDAAcAQzAXgEgASIBJAEdQCXBHUAnwSnBK4EtgS6BMIEyAR1AHUAdQB1AHUAdQCVANAEYABgAGAAYABgAGAAYABgANgEYADcBOQEYADsBPQE/AQEBQwFFAUcBSQFLAU0BWQEPAVEBUsFUwVbBWAAYgVgAGoFcgV6BYIFigWRBWAAmQWfBaYFYABgAGAAYABgAKoFYACxBbAFuQW6BcEFwQXHBcEFwQXPBdMF2wXjBeoF8gX6BQIGCgYSBhoGIgYqBjIGOgZgAD4GRgZMBmAAUwZaBmAAYABgAGAAYABgAGAAYABgAGAAYABgAGIGYABpBnAGYABgAGAAYABgAGAAYABgAGAAYAB4Bn8GhQZgAGAAYAB1AHcDFQSLBmAAYABgAJMGdQA9A3UAmwajBqsGqwaVALMGuwbDBjAAywbSBtIG1QbSBtIG0gbSBtIG0gbdBuMG6wbzBvsGAwcLBxMHAwcbByMHJwcsBywHMQcsB9IGOAdAB0gHTgfSBkgHVgfSBtIG0gbSBtIG0gbSBtIG0gbSBiwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdgAGAALAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdbB2MHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB2kH0gZwB64EdQB1AHUAdQB1AHUAdQB1AHUHfQdgAIUHjQd1AHUAlQedB2AAYAClB6sHYACzB7YHvgfGB3UAzgfWBzMB3gfmB1EB7gf1B/0HlQENAQUIDQh1ABUIHQglCBcDLQg1CD0IRQhNCEEDUwh1AHUAdQBbCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIcAh3CHoIMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIgggwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAALAcsBywHLAcsBywHLAcsBywHLAcsB4oILAcsB44I0gaWCJ4Ipgh1AHUAqgiyCHUAdQB1AHUAdQB1AHUAdQB1AHUAtwh8AXUAvwh1AMUIyQjRCNkI4AjoCHUAdQB1AO4I9gj+CAYJDgkTCS0HGwkjCYIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiAAIAAAAFAAYABgAGIAXwBgAHEAdQBFAJUAogCyAKAAYABgAEIA4ABGANMA4QDxAMEBDwE1AFwBLAE6AQEBUQF4QkhCmEKoQrhCgAHIQsAB0MLAAcABwAHAAeDC6ABoAHDCwMMAAcABwAHAAdDDGMMAAcAB6MM4wwjDWMNow3jDaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAEjDqABWw6bDqABpg6gAaABoAHcDvwOPA+gAaABfA/8DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DpcPAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcAB9cPKwkyCToJMAB1AHUAdQBCCUoJTQl1AFUJXAljCWcJawkwADAAMAAwAHMJdQB2CX4JdQCECYoJjgmWCXUAngkwAGAAYABxAHUApgn3A64JtAl1ALkJdQDACTAAMAAwADAAdQB1AHUAdQB1AHUAdQB1AHUAowYNBMUIMAAwADAAMADICcsJ0wnZCRUE4QkwAOkJ8An4CTAAMAB1AAAKvwh1AAgKDwoXCh8KdQAwACcKLgp1ADYKqAmICT4KRgowADAAdQB1AE4KMAB1AFYKdQBeCnUAZQowADAAMAAwADAAMAAwADAAMAAVBHUAbQowADAAdQC5CXUKMAAwAHwBxAijBogEMgF9CoQKiASMCpQKmgqIBKIKqgquCogEDQG2Cr4KxgrLCjAAMADTCtsKCgHjCusK8Qr5CgELMAAwADAAMAB1AIsECQsRC3UANAEZCzAAMAAwADAAMAB1ACELKQswAHUANAExCzkLdQBBC0kLMABRC1kLMAAwADAAMAAwADAAdQBhCzAAMAAwAGAAYABpC3ELdwt/CzAAMACHC4sLkwubC58Lpwt1AK4Ltgt1APsDMAAwADAAMAAwADAAMAAwAL4LwwvLC9IL1wvdCzAAMADlC+kL8Qv5C/8LSQswADAAMAAwADAAMAAwADAAMAAHDDAAMAAwADAAMAAODBYMHgx1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1ACYMMAAwADAAdQB1AHUALgx1AHUAdQB1AHUAdQA2DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AD4MdQBGDHUAdQB1AHUAdQB1AEkMdQB1AHUAdQB1AFAMMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQBYDHUAdQB1AF8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUA+wMVBGcMMAAwAHwBbwx1AHcMfwyHDI8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAYABgAJcMMAAwADAAdQB1AJ8MlQClDDAAMACtDCwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB7UMLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AA0EMAC9DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAsBywHLAcsBywHLAcsBywHLQcwAMEMyAwsBywHLAcsBywHLAcsBywHLAcsBywHzAwwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1ANQM2QzhDDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMABgAGAAYABgAGAAYABgAOkMYADxDGAA+AwADQYNYABhCWAAYAAODTAAMAAwADAAFg1gAGAAHg37AzAAMAAwADAAYABgACYNYAAsDTQNPA1gAEMNPg1LDWAAYABgAGAAYABgAGAAYABgAGAAUg1aDYsGVglhDV0NcQBnDW0NdQ15DWAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAlQCBDZUAiA2PDZcNMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAnw2nDTAAMAAwADAAMAAwAHUArw23DTAAMAAwADAAMAAwADAAMAAwADAAMAB1AL8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQDHDTAAYABgAM8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA1w11ANwNMAAwAD0B5A0wADAAMAAwADAAMADsDfQN/A0EDgwOFA4wABsOMAAwADAAMAAwADAAMAAwANIG0gbSBtIG0gbSBtIG0gYjDigOwQUuDsEFMw7SBjoO0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGQg5KDlIOVg7SBtIGXg5lDm0OdQ7SBtIGfQ6EDooOjQ6UDtIGmg6hDtIG0gaoDqwO0ga0DrwO0gZgAGAAYADEDmAAYAAkBtIGzA5gANIOYADaDokO0gbSBt8O5w7SBu8O0gb1DvwO0gZgAGAAxA7SBtIG0gbSBtIGYABgAGAAYAAED2AAsAUMD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHJA8sBywHLAcsBywHLAccDywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywPLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAc0D9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHPA/SBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gYUD0QPlQCVAJUAMAAwADAAMACVAJUAlQCVAJUAlQCVAEwPMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA//8EAAQABAAEAAQABAAEAAQABAANAAMAAQABAAIABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQACgATABcAHgAbABoAHgAXABYAEgAeABsAGAAPABgAHABLAEsASwBLAEsASwBLAEsASwBLABgAGAAeAB4AHgATAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABYAGwASAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWAA0AEQAeAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAFAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJABYAGgAbABsAGwAeAB0AHQAeAE8AFwAeAA0AHgAeABoAGwBPAE8ADgBQAB0AHQAdAE8ATwAXAE8ATwBPABYAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAFAATwBAAE8ATwBPAEAATwBQAFAATwBQAB4AHgAeAB4AHgAeAB0AHQAdAB0AHgAdAB4ADgBQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgBQAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAkACQAJAAkACQAJAAkABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAFAAHgAeAB4AKwArAFAAUABQAFAAGABQACsAKwArACsAHgAeAFAAHgBQAFAAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUAAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAYAA0AKwArAB4AHgAbACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAB4ABAAEAB4ABAAEABMABAArACsAKwArACsAKwArACsAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAKwArACsAKwBWAFYAVgBWAB4AHgArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AGgAaABoAGAAYAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQAEwAEACsAEwATAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABLAEsASwBLAEsASwBLAEsASwBLABoAGQAZAB4AUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABMAUAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABABQAFAABAAEAB4ABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUAAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAFAABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQAUABQAB4AHgAYABMAUAArACsABAAbABsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAFAABAAEAAQABAAEAFAABAAEAAQAUAAEAAQABAAEAAQAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArACsAHgArAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAUAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEAA0ADQBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUAArACsAKwBQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABABQACsAKwArACsAKwArACsAKwAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUAAaABoAUABQAFAAUABQAEwAHgAbAFAAHgAEACsAKwAEAAQABAArAFAAUABQAFAAUABQACsAKwArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQACsAUABQACsAKwAEACsABAAEAAQABAAEACsAKwArACsABAAEACsAKwAEAAQABAArACsAKwAEACsAKwArACsAKwArACsAUABQAFAAUAArAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLAAQABABQAFAAUAAEAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAArACsAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AGwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAKwArACsAKwArAAQABAAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAAQAUAArAFAAUABQAFAAUABQACsAKwArAFAAUABQACsAUABQAFAAUAArACsAKwBQAFAAKwBQACsAUABQACsAKwArAFAAUAArACsAKwBQAFAAUAArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArAAQABAAEAAQABAArACsAKwAEAAQABAArAAQABAAEAAQAKwArAFAAKwArACsAKwArACsABAArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAHgAeAB4AHgAeAB4AGwAeACsAKwArACsAKwAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAUABQAFAAKwArACsAKwArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwAOAFAAUABQAFAAUABQAFAAHgBQAAQABAAEAA4AUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAKwArAAQAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAKwArACsAKwArACsAUAArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAFAABAAEAAQABAAEAAQABAArAAQABAAEACsABAAEAAQABABQAB4AKwArACsAKwBQAFAAUAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQABoAUABQAFAAUABQAFAAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQACsAUAArACsAUABQAFAAUABQAFAAUAArACsAKwAEACsAKwArACsABAAEAAQABAAEAAQAKwAEACsABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArAAQABAAeACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAXAAqACoAKgAqACoAKgAqACsAKwArACsAGwBcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAeAEsASwBLAEsASwBLAEsASwBLAEsADQANACsAKwArACsAKwBcAFwAKwBcACsAXABcAFwAXABcACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAXAArAFwAXABcAFwAXABcAFwAXABcAFwAKgBcAFwAKgAqACoAKgAqACoAKgAqACoAXAArACsAXABcAFwAXABcACsAXAArACoAKgAqACoAKgAqACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwBcAFwAXABcAFAADgAOAA4ADgAeAA4ADgAJAA4ADgANAAkAEwATABMAEwATAAkAHgATAB4AHgAeAAQABAAeAB4AHgAeAB4AHgBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQAFAADQAEAB4ABAAeAAQAFgARABYAEQAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAAQABAAEAAQADQAEAAQAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAA0ADQAeAB4AHgAeAB4AHgAEAB4AHgAeAB4AHgAeACsAHgAeAA4ADgANAA4AHgAeAB4AHgAeAAkACQArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgBcAEsASwBLAEsASwBLAEsASwBLAEsADQANAB4AHgAeAB4AXABcAFwAXABcAFwAKgAqACoAKgBcAFwAXABcACoAKgAqAFwAKgAqACoAXABcACoAKgAqACoAKgAqACoAXABcAFwAKgAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqAFwAKgBLAEsASwBLAEsASwBLAEsASwBLACoAKgAqACoAKgAqAFAAUABQAFAAUABQACsAUAArACsAKwArACsAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAKwBQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsABAAEAAQAHgANAB4AHgAeAB4AHgAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUAArACsADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWABEAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQANAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAANAA0AKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUAArAAQABAArACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqAA0ADQAVAFwADQAeAA0AGwBcACoAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwAeAB4AEwATAA0ADQAOAB4AEwATAB4ABAAEAAQACQArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAHgArACsAKwATABMASwBLAEsASwBLAEsASwBLAEsASwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAXABcAFwAXABcACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAXAArACsAKwAqACoAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsAHgAeAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKwAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKwArAAQASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACoAKgAqACoAKgAqACoAXAAqACoAKgAqACoAKgArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABABQAFAAUABQAFAAUABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwANAA0AHgANAA0ADQANAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwAeAB4AHgAeAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArAA0ADQANAA0ADQBLAEsASwBLAEsASwBLAEsASwBLACsAKwArAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUAAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAAQAUABQAFAAUABQAFAABABQAFAABAAEAAQAUAArACsAKwArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQACsAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAFAAUABQACsAHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQACsAKwAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQACsAHgAeAB4AHgAeAB4AHgAOAB4AKwANAA0ADQANAA0ADQANAAkADQANAA0ACAAEAAsABAAEAA0ACQANAA0ADAAdAB0AHgAXABcAFgAXABcAFwAWABcAHQAdAB4AHgAUABQAFAANAAEAAQAEAAQABAAEAAQACQAaABoAGgAaABoAGgAaABoAHgAXABcAHQAVABUAHgAeAB4AHgAeAB4AGAAWABEAFQAVABUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ADQAeAA0ADQANAA0AHgANAA0ADQAHAB4AHgAeAB4AKwAEAAQABAAEAAQABAAEAAQABAAEAFAAUAArACsATwBQAFAAUABQAFAAHgAeAB4AFgARAE8AUABPAE8ATwBPAFAAUABQAFAAUAAeAB4AHgAWABEAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArABsAGwAbABsAGwAbABsAGgAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGgAbABsAGwAbABoAGwAbABoAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAHgAeAFAAGgAeAB0AHgBQAB4AGgAeAB4AHgAeAB4AHgAeAB4AHgBPAB4AUAAbAB4AHgBQAFAAUABQAFAAHgAeAB4AHQAdAB4AUAAeAFAAHgBQAB4AUABPAFAAUAAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgBQAFAAUABQAE8ATwBQAFAAUABQAFAATwBQAFAATwBQAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAUABQAFAATwBPAE8ATwBPAE8ATwBPAE8ATwBQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABPAB4AHgArACsAKwArAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHQAdAB4AHgAeAB0AHQAeAB4AHQAeAB4AHgAdAB4AHQAbABsAHgAdAB4AHgAeAB4AHQAeAB4AHQAdAB0AHQAeAB4AHQAeAB0AHgAdAB0AHQAdAB0AHQAeAB0AHgAeAB4AHgAeAB0AHQAdAB0AHgAeAB4AHgAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHgAeAB0AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAeAB0AHQAdAB0AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAdAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAWABEAHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAWABEAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AHQAdAB0AHgAeAB0AHgAeAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlAB4AHQAdAB4AHgAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AJQAlAB0AHQAlAB4AJQAlACUAIAAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAdAB0AHQAeAB0AJQAdAB0AHgAdAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAdAB0AHQAdACUAHgAlACUAJQAdACUAJQAdAB0AHQAlACUAHQAdACUAHQAdACUAJQAlAB4AHQAeAB4AHgAeAB0AHQAlAB0AHQAdAB0AHQAdACUAJQAlACUAJQAdACUAJQAgACUAHQAdACUAJQAlACUAJQAlACUAJQAeAB4AHgAlACUAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AFwAXABcAFwAXABcAHgATABMAJQAeAB4AHgAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARABYAEQAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAEAAQABAAeAB4AKwArACsAKwArABMADQANAA0AUAATAA0AUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUAANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAA0ADQANAA0ADQANAA0ADQAeAA0AFgANAB4AHgAXABcAHgAeABcAFwAWABEAFgARABYAEQAWABEADQANAA0ADQATAFAADQANAB4ADQANAB4AHgAeAB4AHgAMAAwADQANAA0AHgANAA0AFgANAA0ADQANAA0ADQANAA0AHgANAB4ADQANAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArAA0AEQARACUAJQBHAFcAVwAWABEAFgARABYAEQAWABEAFgARACUAJQAWABEAFgARABYAEQAWABEAFQAWABEAEQAlAFcAVwBXAFcAVwBXAFcAVwBXAAQABAAEAAQABAAEACUAVwBXAFcAVwA2ACUAJQBXAFcAVwBHAEcAJQAlACUAKwBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBRAFcAUQBXAFEAVwBXAFcAVwBXAFcAUQBXAFcAVwBXAFcAVwBRAFEAKwArAAQABAAVABUARwBHAFcAFQBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBRAFcAVwBXAFcAVwBXAFEAUQBXAFcAVwBXABUAUQBHAEcAVwArACsAKwArACsAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwAlACUAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACsAKwArACsAKwArACsAKwArACsAKwArAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBPAE8ATwBPAE8ATwBPAE8AJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADQATAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABLAEsASwBLAEsASwBLAEsASwBLAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAABAAEAAQABAAeAAQABAAEAAQABAAEAAQABAAEAAQAHgBQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAeAA0ADQANAA0ADQArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAAQAUABQAFAABABQAFAAUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAeAB4AHgAeAAQAKwArACsAUABQAFAAUABQAFAAHgAeABoAHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADgAOABMAEwArACsAKwArACsAKwArACsABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwANAA0ASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUAAeAB4AHgBQAA4AUABQAAQAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArAB4AWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYACsAKwArAAQAHgAeAB4AHgAeAB4ADQANAA0AHgAeAB4AHgArAFAASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArAB4AHgBcAFwAXABcAFwAKgBcAFwAXABcAFwAXABcAFwAXABcAEsASwBLAEsASwBLAEsASwBLAEsAXABcAFwAXABcACsAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAFAAUABQAAQAUABQAFAAUABQAFAAUABQAAQABAArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAHgANAA0ADQBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAXAAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAKgAqACoAXABcACoAKgBcAFwAXABcAFwAKgAqAFwAKgBcACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcACoAKgBQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAA0ADQBQAFAAUAAEAAQAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQADQAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAVABVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBUAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVACsAKwArACsAKwArACsAKwArACsAKwArAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAKwArACsAKwBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAKwArACsAKwAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAKwArACsAKwArAFYABABWAFYAVgBWAFYAVgBWAFYAVgBWAB4AVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgArAFYAVgBWAFYAVgArAFYAKwBWAFYAKwBWAFYAKwBWAFYAVgBWAFYAVgBWAFYAVgBWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAEQAWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAaAB4AKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAGAARABEAGAAYABMAEwAWABEAFAArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACUAJQAlACUAJQAWABEAFgARABYAEQAWABEAFgARABYAEQAlACUAFgARACUAJQAlACUAJQAlACUAEQAlABEAKwAVABUAEwATACUAFgARABYAEQAWABEAJQAlACUAJQAlACUAJQAlACsAJQAbABoAJQArACsAKwArAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAcAKwATACUAJQAbABoAJQAlABYAEQAlACUAEQAlABEAJQBXAFcAVwBXAFcAVwBXAFcAVwBXABUAFQAlACUAJQATACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXABYAJQARACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAWACUAEQAlABYAEQARABYAEQARABUAVwBRAFEAUQBRAFEAUQBRAFEAUQBRAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcARwArACsAVwBXAFcAVwBXAFcAKwArAFcAVwBXAFcAVwBXACsAKwBXAFcAVwBXAFcAVwArACsAVwBXAFcAKwArACsAGgAbACUAJQAlABsAGwArAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAAQAB0AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsADQANAA0AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAA0AUABQAFAAUAArACsAKwArAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwArAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwBQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAUABQAFAAUABQAAQABAAEACsABAAEACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAKwBQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAA0ADQANAA0ADQANAA0ADQAeACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAArACsAKwArAFAAUABQAFAAUAANAA0ADQANAA0ADQAUACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsADQANAA0ADQANAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArAAQABAANACsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAB4AHgAeAB4AHgArACsAKwArACsAKwAEAAQABAAEAAQABAAEAA0ADQAeAB4AHgAeAB4AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsASwBLAEsASwBLAEsASwBLAEsASwANAA0ADQANAFAABAAEAFAAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAeAA4AUAArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAADQANAB4ADQAEAAQABAAEAB4ABAAEAEsASwBLAEsASwBLAEsASwBLAEsAUAAOAFAADQANAA0AKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAANAA0AHgANAA0AHgAEACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAA0AKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsABAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsABAAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAUAArACsAKwArACsAKwAEACsAKwArACsAKwBQAFAAUABQAFAABAAEACsAKwAEAAQABAAEAAQABAAEACsAKwArAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAAQABABQAFAAUABQAA0ADQANAA0AHgBLAEsASwBLAEsASwBLAEsASwBLAA0ADQArAB4ABABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUAAeAFAAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABAAEAAQADgANAA0AEwATAB4AHgAeAA0ADQANAA0ADQANAA0ADQANAA0ADQANAA0ADQANAFAAUABQAFAABAAEACsAKwAEAA0ADQAeAFAAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKwArACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBcAFwADQANAA0AKgBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAKwArAFAAKwArAFAAUABQAFAAUABQAFAAUAArAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQAKwAEAAQAKwArAAQABAAEAAQAUAAEAFAABAAEAA0ADQANACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABABQAA4AUAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAFAABAAEAAQABAAOAB4ADQANAA0ADQAOAB4ABAArACsAKwArACsAKwArACsAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAA0ADQANAFAADgAOAA4ADQANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAAQABAAEAFAADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAOABMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAArACsAKwAEACsABAAEACsABAAEAAQABAAEAAQABABQAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAaABoAGgAaAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABIAEgAQwBDAEMAUABQAFAAUABDAFAAUABQAEgAQwBIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABDAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAJAAkACQAJAAkACQAJABYAEQArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwANAA0AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAANACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAA0ADQANAB4AHgAeAB4AHgAeAFAAUABQAFAADQAeACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAA0AHgAeACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAARwBHABUARwAJACsAKwArACsAKwArACsAKwArACsAKwAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUQBRAFEAKwArACsAKwArACsAKwArACsAKwArACsAKwBRAFEAUQBRACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAHgAEAAQADQAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQABAAEAAQABAAeAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQAHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAKwArAFAAKwArAFAAUAArACsAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUAArAFAAUABQAFAAUABQAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAHgAeAFAAUABQAFAAUAArAFAAKwArACsAUABQAFAAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeACsAKwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4ABAAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAHgAeAA0ADQANAA0AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArAAQABAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwBQAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArABsAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAB4AHgAeAB4ABAAEAAQABAAEAAQABABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArABYAFgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAGgBQAFAAUAAaAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUAArACsAKwArACsAKwBQACsAKwArACsAUAArAFAAKwBQACsAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUAArAFAAKwBQACsAUAArAFAAUAArAFAAKwArAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAKwBQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8AJQAlACUAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB4AHgAeACUAJQAlAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAlACUAJQAlACUAHgAlACUAJQAlACUAIAAgACAAJQAlACAAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACEAIQAhACEAIQAlACUAIAAgACUAJQAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAIAAlACUAJQAlACAAIAAgACUAIAAgACAAJQAlACUAJQAlACUAJQAgACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAlAB4AJQAeACUAJQAlACUAJQAgACUAJQAlACUAHgAlAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACAAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABcAFwAXABUAFQAVAB4AHgAeAB4AJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAgACUAJQAgACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAIAAgACUAJQAgACAAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACAAIAAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACAAIAAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAA==",EN=50,LD=1,L1=2,M1=3,MD=4,UD=5,LN=7,U1=8,MN=9,io=10,ox=11,UN=12,Ax=13,OD=14,Ru=15,dx=16,jm=17,Uu=18,kD=19,ON=20,ux=21,Ou=22,Xg=23,od=24,_n=25,Pu=26,Hu=27,Ad=28,ID=29,lA=30,QD=31,Bm=32,Cm=33,hx=34,mx=35,fx=36,rh=37,px=38,sf=39,nf=40,Jg=41,O1=42,TD=43,RD=[9001,65288],k1="!",Ea="",Sm="",gx=_D(ED),Kl=[lA,fx],vx=[LD,L1,M1,UD],I1=[io,U1],kN=[Hu,Pu],PD=vx.concat(I1),IN=[px,sf,nf,hx,mx],HD=[Ru,Ax],qD=function(a,t){t===void 0&&(t="strict");var s=[],i=[],r=[];return a.forEach(function(c,A){var d=gx.get(c);if(d>EN?(r.push(!0),d-=EN):r.push(!1),["normal","auto","loose"].indexOf(t)!==-1&&[8208,8211,12316,12448].indexOf(c)!==-1)return i.push(A),s.push(dx);if(d===MD||d===ox){if(A===0)return i.push(A),s.push(lA);var h=s[A-1];return PD.indexOf(h)===-1?(i.push(i[A-1]),s.push(h)):(i.push(A),s.push(lA))}if(i.push(A),d===QD)return s.push(t==="strict"?ux:rh);if(d===O1||d===ID)return s.push(lA);if(d===TD)return c>=131072&&c<=196605||c>=196608&&c<=262141?s.push(rh):s.push(lA);s.push(d)}),[i,s,r]},Zg=function(a,t,s,i){var r=i[s];if(Array.isArray(a)?a.indexOf(r)!==-1:a===r)for(var c=s;c<=i.length;){c++;var A=i[c];if(A===t)return!0;if(A!==io)break}if(r===io)for(var c=s;c>0;){c--;var d=i[c];if(Array.isArray(a)?a.indexOf(d)!==-1:a===d)for(var h=s;h<=i.length;){h++;var A=i[h];if(A===t)return!0;if(A!==io)break}if(d!==io)break}return!1},QN=function(a,t){for(var s=a;s>=0;){var i=t[s];if(i===io)s--;else return i}return 0},KD=function(a,t,s,i,r){if(s[i]===0)return Ea;var c=i-1;if(Array.isArray(r)&&r[c]===!0)return Ea;var A=c-1,d=c+1,h=t[c],u=A>=0?t[A]:0,v=t[d];if(h===L1&&v===M1)return Ea;if(vx.indexOf(h)!==-1)return k1;if(vx.indexOf(v)!==-1||I1.indexOf(v)!==-1)return Ea;if(QN(c,t)===U1)return Sm;if(gx.get(a[c])===ox||(h===Bm||h===Cm)&&gx.get(a[d])===ox||h===LN||v===LN||h===MN||[io,Ax,Ru].indexOf(h)===-1&&v===MN||[jm,Uu,kD,od,Ad].indexOf(v)!==-1||QN(c,t)===Ou||Zg(Xg,Ou,c,t)||Zg([jm,Uu],ux,c,t)||Zg(UN,UN,c,t))return Ea;if(h===io)return Sm;if(h===Xg||v===Xg)return Ea;if(v===dx||h===dx)return Sm;if([Ax,Ru,ux].indexOf(v)!==-1||h===OD||u===fx&&HD.indexOf(h)!==-1||h===Ad&&v===fx||v===ON||Kl.indexOf(v)!==-1&&h===_n||Kl.indexOf(h)!==-1&&v===_n||h===Hu&&[rh,Bm,Cm].indexOf(v)!==-1||[rh,Bm,Cm].indexOf(h)!==-1&&v===Pu||Kl.indexOf(h)!==-1&&kN.indexOf(v)!==-1||kN.indexOf(h)!==-1&&Kl.indexOf(v)!==-1||[Hu,Pu].indexOf(h)!==-1&&(v===_n||[Ou,Ru].indexOf(v)!==-1&&t[d+1]===_n)||[Ou,Ru].indexOf(h)!==-1&&v===_n||h===_n&&[_n,Ad,od].indexOf(v)!==-1)return Ea;if([_n,Ad,od,jm,Uu].indexOf(v)!==-1)for(var x=c;x>=0;){var y=t[x];if(y===_n)return Ea;if([Ad,od].indexOf(y)!==-1)x--;else break}if([Hu,Pu].indexOf(v)!==-1)for(var x=[jm,Uu].indexOf(h)!==-1?A:c;x>=0;){var y=t[x];if(y===_n)return Ea;if([Ad,od].indexOf(y)!==-1)x--;else break}if(px===h&&[px,sf,hx,mx].indexOf(v)!==-1||[sf,hx].indexOf(h)!==-1&&[sf,nf].indexOf(v)!==-1||[nf,mx].indexOf(h)!==-1&&v===nf||IN.indexOf(h)!==-1&&[ON,Pu].indexOf(v)!==-1||IN.indexOf(v)!==-1&&h===Hu||Kl.indexOf(h)!==-1&&Kl.indexOf(v)!==-1||h===od&&Kl.indexOf(v)!==-1||Kl.concat(_n).indexOf(h)!==-1&&v===Ou&&RD.indexOf(a[d])===-1||Kl.concat(_n).indexOf(v)!==-1&&h===Uu)return Ea;if(h===Jg&&v===Jg){for(var p=s[c],F=1;p>0&&(p--,t[p]===Jg);)F++;if(F%2!==0)return Ea}return h===Bm&&v===Cm?Ea:Sm},VD=function(a,t){t||(t={lineBreak:"normal",wordBreak:"normal"});var s=qD(a,t.lineBreak),i=s[0],r=s[1],c=s[2];(t.wordBreak==="break-all"||t.wordBreak==="break-word")&&(r=r.map(function(d){return[_n,lA,O1].indexOf(d)!==-1?rh:d}));var A=t.wordBreak==="keep-all"?c.map(function(d,h){return d&&a[h]>=19968&&a[h]<=40959}):void 0;return[i,r,A]},zD=function(){function a(t,s,i,r){this.codePoints=t,this.required=s===k1,this.start=i,this.end=r}return a.prototype.slice=function(){return Mi.apply(void 0,this.codePoints.slice(this.start,this.end))},a}(),$D=function(a,t){var s=Zf(a),i=VD(s,t),r=i[0],c=i[1],A=i[2],d=s.length,h=0,u=0;return{next:function(){if(u>=d)return{done:!0,value:null};for(var v=Ea;u<d&&(v=KD(s,c,r,++u,A))===Ea;);if(v!==Ea||u===d){var x=new zD(s,v,h,u);return h=u,{value:x,done:!1}}return{done:!0,value:null}}}},GD=1,WD=2,vh=4,TN=8,xf=10,RN=47,Wu=92,YD=9,XD=32,_m=34,ku=61,JD=35,ZD=36,eE=37,Fm=39,Dm=40,Iu=41,tE=95,nn=45,aE=33,iE=60,sE=62,nE=64,rE=91,lE=93,cE=61,oE=123,Em=63,AE=125,PN=124,dE=126,uE=128,HN=65533,ev=42,AA=43,hE=44,mE=58,fE=59,lh=46,pE=0,gE=8,vE=11,xE=14,yE=31,bE=127,al=-1,Q1=48,T1=97,R1=101,wE=102,NE=117,jE=122,P1=65,H1=69,q1=70,BE=85,CE=90,Ls=function(a){return a>=Q1&&a<=57},SE=function(a){return a>=55296&&a<=57343},dd=function(a){return Ls(a)||a>=P1&&a<=q1||a>=T1&&a<=wE},_E=function(a){return a>=T1&&a<=jE},FE=function(a){return a>=P1&&a<=CE},DE=function(a){return _E(a)||FE(a)},EE=function(a){return a>=uE},Lm=function(a){return a===xf||a===YD||a===XD},yf=function(a){return DE(a)||EE(a)||a===tE},qN=function(a){return yf(a)||Ls(a)||a===nn},LE=function(a){return a>=pE&&a<=gE||a===vE||a>=xE&&a<=yE||a===bE},eo=function(a,t){return a!==Wu?!1:t!==xf},Mm=function(a,t,s){return a===nn?yf(t)||eo(t,s):yf(a)?!0:!!(a===Wu&&eo(a,t))},tv=function(a,t,s){return a===AA||a===nn?Ls(t)?!0:t===lh&&Ls(s):Ls(a===lh?t:a)},ME=function(a){var t=0,s=1;(a[t]===AA||a[t]===nn)&&(a[t]===nn&&(s=-1),t++);for(var i=[];Ls(a[t]);)i.push(a[t++]);var r=i.length?parseInt(Mi.apply(void 0,i),10):0;a[t]===lh&&t++;for(var c=[];Ls(a[t]);)c.push(a[t++]);var A=c.length,d=A?parseInt(Mi.apply(void 0,c),10):0;(a[t]===H1||a[t]===R1)&&t++;var h=1;(a[t]===AA||a[t]===nn)&&(a[t]===nn&&(h=-1),t++);for(var u=[];Ls(a[t]);)u.push(a[t++]);var v=u.length?parseInt(Mi.apply(void 0,u),10):0;return s*(r+d*Math.pow(10,-A))*Math.pow(10,h*v)},UE={type:2},OE={type:3},kE={type:4},IE={type:13},QE={type:8},TE={type:21},RE={type:9},PE={type:10},HE={type:11},qE={type:12},KE={type:14},Um={type:23},VE={type:1},zE={type:25},$E={type:24},GE={type:26},WE={type:27},YE={type:28},XE={type:29},JE={type:31},xx={type:32},K1=function(){function a(){this._value=[]}return a.prototype.write=function(t){this._value=this._value.concat(Zf(t))},a.prototype.read=function(){for(var t=[],s=this.consumeToken();s!==xx;)t.push(s),s=this.consumeToken();return t},a.prototype.consumeToken=function(){var t=this.consumeCodePoint();switch(t){case _m:return this.consumeStringToken(_m);case JD:var s=this.peekCodePoint(0),i=this.peekCodePoint(1),r=this.peekCodePoint(2);if(qN(s)||eo(i,r)){var c=Mm(s,i,r)?WD:GD,A=this.consumeName();return{type:5,value:A,flags:c}}break;case ZD:if(this.peekCodePoint(0)===ku)return this.consumeCodePoint(),IE;break;case Fm:return this.consumeStringToken(Fm);case Dm:return UE;case Iu:return OE;case ev:if(this.peekCodePoint(0)===ku)return this.consumeCodePoint(),KE;break;case AA:if(tv(t,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(t),this.consumeNumericToken();break;case hE:return kE;case nn:var d=t,h=this.peekCodePoint(0),u=this.peekCodePoint(1);if(tv(d,h,u))return this.reconsumeCodePoint(t),this.consumeNumericToken();if(Mm(d,h,u))return this.reconsumeCodePoint(t),this.consumeIdentLikeToken();if(h===nn&&u===sE)return this.consumeCodePoint(),this.consumeCodePoint(),$E;break;case lh:if(tv(t,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(t),this.consumeNumericToken();break;case RN:if(this.peekCodePoint(0)===ev)for(this.consumeCodePoint();;){var v=this.consumeCodePoint();if(v===ev&&(v=this.consumeCodePoint(),v===RN))return this.consumeToken();if(v===al)return this.consumeToken()}break;case mE:return GE;case fE:return WE;case iE:if(this.peekCodePoint(0)===aE&&this.peekCodePoint(1)===nn&&this.peekCodePoint(2)===nn)return this.consumeCodePoint(),this.consumeCodePoint(),zE;break;case nE:var x=this.peekCodePoint(0),y=this.peekCodePoint(1),p=this.peekCodePoint(2);if(Mm(x,y,p)){var A=this.consumeName();return{type:7,value:A}}break;case rE:return YE;case Wu:if(eo(t,this.peekCodePoint(0)))return this.reconsumeCodePoint(t),this.consumeIdentLikeToken();break;case lE:return XE;case cE:if(this.peekCodePoint(0)===ku)return this.consumeCodePoint(),QE;break;case oE:return HE;case AE:return qE;case NE:case BE:var F=this.peekCodePoint(0),b=this.peekCodePoint(1);return F===AA&&(dd(b)||b===Em)&&(this.consumeCodePoint(),this.consumeUnicodeRangeToken()),this.reconsumeCodePoint(t),this.consumeIdentLikeToken();case PN:if(this.peekCodePoint(0)===ku)return this.consumeCodePoint(),RE;if(this.peekCodePoint(0)===PN)return this.consumeCodePoint(),TE;break;case dE:if(this.peekCodePoint(0)===ku)return this.consumeCodePoint(),PE;break;case al:return xx}return Lm(t)?(this.consumeWhiteSpace(),JE):Ls(t)?(this.reconsumeCodePoint(t),this.consumeNumericToken()):yf(t)?(this.reconsumeCodePoint(t),this.consumeIdentLikeToken()):{type:6,value:Mi(t)}},a.prototype.consumeCodePoint=function(){var t=this._value.shift();return typeof t>"u"?-1:t},a.prototype.reconsumeCodePoint=function(t){this._value.unshift(t)},a.prototype.peekCodePoint=function(t){return t>=this._value.length?-1:this._value[t]},a.prototype.consumeUnicodeRangeToken=function(){for(var t=[],s=this.consumeCodePoint();dd(s)&&t.length<6;)t.push(s),s=this.consumeCodePoint();for(var i=!1;s===Em&&t.length<6;)t.push(s),s=this.consumeCodePoint(),i=!0;if(i){var r=parseInt(Mi.apply(void 0,t.map(function(h){return h===Em?Q1:h})),16),c=parseInt(Mi.apply(void 0,t.map(function(h){return h===Em?q1:h})),16);return{type:30,start:r,end:c}}var A=parseInt(Mi.apply(void 0,t),16);if(this.peekCodePoint(0)===nn&&dd(this.peekCodePoint(1))){this.consumeCodePoint(),s=this.consumeCodePoint();for(var d=[];dd(s)&&d.length<6;)d.push(s),s=this.consumeCodePoint();var c=parseInt(Mi.apply(void 0,d),16);return{type:30,start:A,end:c}}else return{type:30,start:A,end:A}},a.prototype.consumeIdentLikeToken=function(){var t=this.consumeName();return t.toLowerCase()==="url"&&this.peekCodePoint(0)===Dm?(this.consumeCodePoint(),this.consumeUrlToken()):this.peekCodePoint(0)===Dm?(this.consumeCodePoint(),{type:19,value:t}):{type:20,value:t}},a.prototype.consumeUrlToken=function(){var t=[];if(this.consumeWhiteSpace(),this.peekCodePoint(0)===al)return{type:22,value:""};var s=this.peekCodePoint(0);if(s===Fm||s===_m){var i=this.consumeStringToken(this.consumeCodePoint());return i.type===0&&(this.consumeWhiteSpace(),this.peekCodePoint(0)===al||this.peekCodePoint(0)===Iu)?(this.consumeCodePoint(),{type:22,value:i.value}):(this.consumeBadUrlRemnants(),Um)}for(;;){var r=this.consumeCodePoint();if(r===al||r===Iu)return{type:22,value:Mi.apply(void 0,t)};if(Lm(r))return this.consumeWhiteSpace(),this.peekCodePoint(0)===al||this.peekCodePoint(0)===Iu?(this.consumeCodePoint(),{type:22,value:Mi.apply(void 0,t)}):(this.consumeBadUrlRemnants(),Um);if(r===_m||r===Fm||r===Dm||LE(r))return this.consumeBadUrlRemnants(),Um;if(r===Wu)if(eo(r,this.peekCodePoint(0)))t.push(this.consumeEscapedCodePoint());else return this.consumeBadUrlRemnants(),Um;else t.push(r)}},a.prototype.consumeWhiteSpace=function(){for(;Lm(this.peekCodePoint(0));)this.consumeCodePoint()},a.prototype.consumeBadUrlRemnants=function(){for(;;){var t=this.consumeCodePoint();if(t===Iu||t===al)return;eo(t,this.peekCodePoint(0))&&this.consumeEscapedCodePoint()}},a.prototype.consumeStringSlice=function(t){for(var s=5e4,i="";t>0;){var r=Math.min(s,t);i+=Mi.apply(void 0,this._value.splice(0,r)),t-=r}return this._value.shift(),i},a.prototype.consumeStringToken=function(t){var s="",i=0;do{var r=this._value[i];if(r===al||r===void 0||r===t)return s+=this.consumeStringSlice(i),{type:0,value:s};if(r===xf)return this._value.splice(0,i),VE;if(r===Wu){var c=this._value[i+1];c!==al&&c!==void 0&&(c===xf?(s+=this.consumeStringSlice(i),i=-1,this._value.shift()):eo(r,c)&&(s+=this.consumeStringSlice(i),s+=Mi(this.consumeEscapedCodePoint()),i=-1))}i++}while(!0)},a.prototype.consumeNumber=function(){var t=[],s=vh,i=this.peekCodePoint(0);for((i===AA||i===nn)&&t.push(this.consumeCodePoint());Ls(this.peekCodePoint(0));)t.push(this.consumeCodePoint());i=this.peekCodePoint(0);var r=this.peekCodePoint(1);if(i===lh&&Ls(r))for(t.push(this.consumeCodePoint(),this.consumeCodePoint()),s=TN;Ls(this.peekCodePoint(0));)t.push(this.consumeCodePoint());i=this.peekCodePoint(0),r=this.peekCodePoint(1);var c=this.peekCodePoint(2);if((i===H1||i===R1)&&((r===AA||r===nn)&&Ls(c)||Ls(r)))for(t.push(this.consumeCodePoint(),this.consumeCodePoint()),s=TN;Ls(this.peekCodePoint(0));)t.push(this.consumeCodePoint());return[ME(t),s]},a.prototype.consumeNumericToken=function(){var t=this.consumeNumber(),s=t[0],i=t[1],r=this.peekCodePoint(0),c=this.peekCodePoint(1),A=this.peekCodePoint(2);if(Mm(r,c,A)){var d=this.consumeName();return{type:15,number:s,flags:i,unit:d}}return r===eE?(this.consumeCodePoint(),{type:16,number:s,flags:i}):{type:17,number:s,flags:i}},a.prototype.consumeEscapedCodePoint=function(){var t=this.consumeCodePoint();if(dd(t)){for(var s=Mi(t);dd(this.peekCodePoint(0))&&s.length<6;)s+=Mi(this.consumeCodePoint());Lm(this.peekCodePoint(0))&&this.consumeCodePoint();var i=parseInt(s,16);return i===0||SE(i)||i>1114111?HN:i}return t===al?HN:t},a.prototype.consumeName=function(){for(var t="";;){var s=this.consumeCodePoint();if(qN(s))t+=Mi(s);else if(eo(s,this.peekCodePoint(0)))t+=Mi(this.consumeEscapedCodePoint());else return this.reconsumeCodePoint(s),t}},a}(),V1=function(){function a(t){this._tokens=t}return a.create=function(t){var s=new K1;return s.write(t),new a(s.read())},a.parseValue=function(t){return a.create(t).parseComponentValue()},a.parseValues=function(t){return a.create(t).parseComponentValues()},a.prototype.parseComponentValue=function(){for(var t=this.consumeToken();t.type===31;)t=this.consumeToken();if(t.type===32)throw new SyntaxError("Error parsing CSS component value, unexpected EOF");this.reconsumeToken(t);var s=this.consumeComponentValue();do t=this.consumeToken();while(t.type===31);if(t.type===32)return s;throw new SyntaxError("Error parsing CSS component value, multiple values found when expecting only one")},a.prototype.parseComponentValues=function(){for(var t=[];;){var s=this.consumeComponentValue();if(s.type===32)return t;t.push(s),t.push()}},a.prototype.consumeComponentValue=function(){var t=this.consumeToken();switch(t.type){case 11:case 28:case 2:return this.consumeSimpleBlock(t.type);case 19:return this.consumeFunction(t)}return t},a.prototype.consumeSimpleBlock=function(t){for(var s={type:t,values:[]},i=this.consumeToken();;){if(i.type===32||eL(i,t))return s;this.reconsumeToken(i),s.values.push(this.consumeComponentValue()),i=this.consumeToken()}},a.prototype.consumeFunction=function(t){for(var s={name:t.value,values:[],type:18};;){var i=this.consumeToken();if(i.type===32||i.type===3)return s;this.reconsumeToken(i),s.values.push(this.consumeComponentValue())}},a.prototype.consumeToken=function(){var t=this._tokens.shift();return typeof t>"u"?xx:t},a.prototype.reconsumeToken=function(t){this._tokens.unshift(t)},a}(),xh=function(a){return a.type===15},Qd=function(a){return a.type===17},Xa=function(a){return a.type===20},ZE=function(a){return a.type===0},yx=function(a,t){return Xa(a)&&a.value===t},z1=function(a){return a.type!==31},Ld=function(a){return a.type!==31&&a.type!==4},ul=function(a){var t=[],s=[];return a.forEach(function(i){if(i.type===4){if(s.length===0)throw new Error("Error parsing function args, zero tokens for arg");t.push(s),s=[];return}i.type!==31&&s.push(i)}),s.length&&t.push(s),t},eL=function(a,t){return t===11&&a.type===12||t===28&&a.type===29?!0:t===2&&a.type===3},go=function(a){return a.type===17||a.type===15},qi=function(a){return a.type===16||go(a)},$1=function(a){return a.length>1?[a[0],a[1]]:[a[0]]},ps={type:17,number:0,flags:vh},ly={type:16,number:50,flags:vh},so={type:16,number:100,flags:vh},qu=function(a,t,s){var i=a[0],r=a[1];return[ni(i,t),ni(typeof r<"u"?r:i,s)]},ni=function(a,t){if(a.type===16)return a.number/100*t;if(xh(a))switch(a.unit){case"rem":case"em":return 16*a.number;case"px":default:return a.number}return a.number},G1="deg",W1="grad",Y1="rad",X1="turn",ep={name:"angle",parse:function(a,t){if(t.type===15)switch(t.unit){case G1:return Math.PI*t.number/180;case W1:return Math.PI/200*t.number;case Y1:return t.number;case X1:return Math.PI*2*t.number}throw new Error("Unsupported angle type")}},J1=function(a){return a.type===15&&(a.unit===G1||a.unit===W1||a.unit===Y1||a.unit===X1)},Z1=function(a){var t=a.filter(Xa).map(function(s){return s.value}).join(" ");switch(t){case"to bottom right":case"to right bottom":case"left top":case"top left":return[ps,ps];case"to top":case"bottom":return Wn(0);case"to bottom left":case"to left bottom":case"right top":case"top right":return[ps,so];case"to right":case"left":return Wn(90);case"to top left":case"to left top":case"right bottom":case"bottom right":return[so,so];case"to bottom":case"top":return Wn(180);case"to top right":case"to right top":case"left bottom":case"bottom left":return[so,ps];case"to left":case"right":return Wn(270)}return 0},Wn=function(a){return Math.PI*a/180},lo={name:"color",parse:function(a,t){if(t.type===18){var s=tL[t.name];if(typeof s>"u")throw new Error('Attempting to parse an unsupported color function "'+t.name+'"');return s(a,t.values)}if(t.type===5){if(t.value.length===3){var i=t.value.substring(0,1),r=t.value.substring(1,2),c=t.value.substring(2,3);return no(parseInt(i+i,16),parseInt(r+r,16),parseInt(c+c,16),1)}if(t.value.length===4){var i=t.value.substring(0,1),r=t.value.substring(1,2),c=t.value.substring(2,3),A=t.value.substring(3,4);return no(parseInt(i+i,16),parseInt(r+r,16),parseInt(c+c,16),parseInt(A+A,16)/255)}if(t.value.length===6){var i=t.value.substring(0,2),r=t.value.substring(2,4),c=t.value.substring(4,6);return no(parseInt(i,16),parseInt(r,16),parseInt(c,16),1)}if(t.value.length===8){var i=t.value.substring(0,2),r=t.value.substring(2,4),c=t.value.substring(4,6),A=t.value.substring(6,8);return no(parseInt(i,16),parseInt(r,16),parseInt(c,16),parseInt(A,16)/255)}}if(t.type===20){var d=Gl[t.value.toUpperCase()];if(typeof d<"u")return d}return Gl.TRANSPARENT}},co=function(a){return(255&a)===0},ns=function(a){var t=255&a,s=255&a>>8,i=255&a>>16,r=255&a>>24;return t<255?"rgba("+r+","+i+","+s+","+t/255+")":"rgb("+r+","+i+","+s+")"},no=function(a,t,s,i){return(a<<24|t<<16|s<<8|Math.round(i*255)<<0)>>>0},KN=function(a,t){if(a.type===17)return a.number;if(a.type===16){var s=t===3?1:255;return t===3?a.number/100*s:Math.round(a.number/100*s)}return 0},VN=function(a,t){var s=t.filter(Ld);if(s.length===3){var i=s.map(KN),r=i[0],c=i[1],A=i[2];return no(r,c,A,1)}if(s.length===4){var d=s.map(KN),r=d[0],c=d[1],A=d[2],h=d[3];return no(r,c,A,h)}return 0};function av(a,t,s){return s<0&&(s+=1),s>=1&&(s-=1),s<1/6?(t-a)*s*6+a:s<1/2?t:s<2/3?(t-a)*6*(2/3-s)+a:a}var zN=function(a,t){var s=t.filter(Ld),i=s[0],r=s[1],c=s[2],A=s[3],d=(i.type===17?Wn(i.number):ep.parse(a,i))/(Math.PI*2),h=qi(r)?r.number/100:0,u=qi(c)?c.number/100:0,v=typeof A<"u"&&qi(A)?ni(A,1):1;if(h===0)return no(u*255,u*255,u*255,1);var x=u<=.5?u*(h+1):u+h-u*h,y=u*2-x,p=av(y,x,d+1/3),F=av(y,x,d),b=av(y,x,d-1/3);return no(p*255,F*255,b*255,v)},tL={hsl:zN,hsla:zN,rgb:VN,rgba:VN},Yu=function(a,t){return lo.parse(a,V1.create(t).parseComponentValue())},Gl={ALICEBLUE:4042850303,ANTIQUEWHITE:4209760255,AQUA:16777215,AQUAMARINE:2147472639,AZURE:4043309055,BEIGE:4126530815,BISQUE:4293182719,BLACK:255,BLANCHEDALMOND:4293643775,BLUE:65535,BLUEVIOLET:2318131967,BROWN:2771004159,BURLYWOOD:3736635391,CADETBLUE:1604231423,CHARTREUSE:2147418367,CHOCOLATE:3530104575,CORAL:4286533887,CORNFLOWERBLUE:1687547391,CORNSILK:4294499583,CRIMSON:3692313855,CYAN:16777215,DARKBLUE:35839,DARKCYAN:9145343,DARKGOLDENROD:3095837695,DARKGRAY:2846468607,DARKGREEN:6553855,DARKGREY:2846468607,DARKKHAKI:3182914559,DARKMAGENTA:2332068863,DARKOLIVEGREEN:1433087999,DARKORANGE:4287365375,DARKORCHID:2570243327,DARKRED:2332033279,DARKSALMON:3918953215,DARKSEAGREEN:2411499519,DARKSLATEBLUE:1211993087,DARKSLATEGRAY:793726975,DARKSLATEGREY:793726975,DARKTURQUOISE:13554175,DARKVIOLET:2483082239,DEEPPINK:4279538687,DEEPSKYBLUE:12582911,DIMGRAY:1768516095,DIMGREY:1768516095,DODGERBLUE:512819199,FIREBRICK:2988581631,FLORALWHITE:4294635775,FORESTGREEN:579543807,FUCHSIA:4278255615,GAINSBORO:3705462015,GHOSTWHITE:4177068031,GOLD:4292280575,GOLDENROD:3668254975,GRAY:2155905279,GREEN:8388863,GREENYELLOW:2919182335,GREY:2155905279,HONEYDEW:4043305215,HOTPINK:4285117695,INDIANRED:3445382399,INDIGO:1258324735,IVORY:4294963455,KHAKI:4041641215,LAVENDER:3873897215,LAVENDERBLUSH:4293981695,LAWNGREEN:2096890111,LEMONCHIFFON:4294626815,LIGHTBLUE:2916673279,LIGHTCORAL:4034953471,LIGHTCYAN:3774873599,LIGHTGOLDENRODYELLOW:4210742015,LIGHTGRAY:3553874943,LIGHTGREEN:2431553791,LIGHTGREY:3553874943,LIGHTPINK:4290167295,LIGHTSALMON:4288707327,LIGHTSEAGREEN:548580095,LIGHTSKYBLUE:2278488831,LIGHTSLATEGRAY:2005441023,LIGHTSLATEGREY:2005441023,LIGHTSTEELBLUE:2965692159,LIGHTYELLOW:4294959359,LIME:16711935,LIMEGREEN:852308735,LINEN:4210091775,MAGENTA:4278255615,MAROON:2147483903,MEDIUMAQUAMARINE:1724754687,MEDIUMBLUE:52735,MEDIUMORCHID:3126187007,MEDIUMPURPLE:2473647103,MEDIUMSEAGREEN:1018393087,MEDIUMSLATEBLUE:2070474495,MEDIUMSPRINGGREEN:16423679,MEDIUMTURQUOISE:1221709055,MEDIUMVIOLETRED:3340076543,MIDNIGHTBLUE:421097727,MINTCREAM:4127193855,MISTYROSE:4293190143,MOCCASIN:4293178879,NAVAJOWHITE:4292783615,NAVY:33023,OLDLACE:4260751103,OLIVE:2155872511,OLIVEDRAB:1804477439,ORANGE:4289003775,ORANGERED:4282712319,ORCHID:3664828159,PALEGOLDENROD:4008225535,PALEGREEN:2566625535,PALETURQUOISE:2951671551,PALEVIOLETRED:3681588223,PAPAYAWHIP:4293907967,PEACHPUFF:4292524543,PERU:3448061951,PINK:4290825215,PLUM:3718307327,POWDERBLUE:2967529215,PURPLE:2147516671,REBECCAPURPLE:1714657791,RED:4278190335,ROSYBROWN:3163525119,ROYALBLUE:1097458175,SADDLEBROWN:2336560127,SALMON:4202722047,SANDYBROWN:4104413439,SEAGREEN:780883967,SEASHELL:4294307583,SIENNA:2689740287,SILVER:3233857791,SKYBLUE:2278484991,SLATEBLUE:1784335871,SLATEGRAY:1887473919,SLATEGREY:1887473919,SNOW:4294638335,SPRINGGREEN:16744447,STEELBLUE:1182971135,TAN:3535047935,TEAL:8421631,THISTLE:3636451583,TOMATO:4284696575,TRANSPARENT:0,TURQUOISE:1088475391,VIOLET:4001558271,WHEAT:4125012991,WHITE:4294967295,WHITESMOKE:4126537215,YELLOW:4294902015,YELLOWGREEN:2597139199},aL={name:"background-clip",initialValue:"border-box",prefix:!1,type:1,parse:function(a,t){return t.map(function(s){if(Xa(s))switch(s.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},iL={name:"background-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},tp=function(a,t){var s=lo.parse(a,t[0]),i=t[1];return i&&qi(i)?{color:s,stop:i}:{color:s,stop:null}},$N=function(a,t){var s=a[0],i=a[a.length-1];s.stop===null&&(s.stop=ps),i.stop===null&&(i.stop=so);for(var r=[],c=0,A=0;A<a.length;A++){var d=a[A].stop;if(d!==null){var h=ni(d,t);h>c?r.push(h):r.push(c),c=h}else r.push(null)}for(var u=null,A=0;A<r.length;A++){var v=r[A];if(v===null)u===null&&(u=A);else if(u!==null){for(var x=A-u,y=r[u-1],p=(v-y)/(x+1),F=1;F<=x;F++)r[u+F-1]=p*F;u=null}}return a.map(function(b,S){var f=b.color;return{color:f,stop:Math.max(Math.min(1,r[S]/t),0)}})},sL=function(a,t,s){var i=t/2,r=s/2,c=ni(a[0],t)-i,A=r-ni(a[1],s);return(Math.atan2(A,c)+Math.PI*2)%(Math.PI*2)},nL=function(a,t,s){var i=typeof a=="number"?a:sL(a,t,s),r=Math.abs(t*Math.sin(i))+Math.abs(s*Math.cos(i)),c=t/2,A=s/2,d=r/2,h=Math.sin(i-Math.PI/2)*d,u=Math.cos(i-Math.PI/2)*d;return[r,c-u,c+u,A-h,A+h]},wr=function(a,t){return Math.sqrt(a*a+t*t)},GN=function(a,t,s,i,r){var c=[[0,0],[0,t],[a,0],[a,t]];return c.reduce(function(A,d){var h=d[0],u=d[1],v=wr(s-h,i-u);return(r?v<A.optimumDistance:v>A.optimumDistance)?{optimumCorner:d,optimumDistance:v}:A},{optimumDistance:r?1/0:-1/0,optimumCorner:null}).optimumCorner},rL=function(a,t,s,i,r){var c=0,A=0;switch(a.size){case 0:a.shape===0?c=A=Math.min(Math.abs(t),Math.abs(t-i),Math.abs(s),Math.abs(s-r)):a.shape===1&&(c=Math.min(Math.abs(t),Math.abs(t-i)),A=Math.min(Math.abs(s),Math.abs(s-r)));break;case 2:if(a.shape===0)c=A=Math.min(wr(t,s),wr(t,s-r),wr(t-i,s),wr(t-i,s-r));else if(a.shape===1){var d=Math.min(Math.abs(s),Math.abs(s-r))/Math.min(Math.abs(t),Math.abs(t-i)),h=GN(i,r,t,s,!0),u=h[0],v=h[1];c=wr(u-t,(v-s)/d),A=d*c}break;case 1:a.shape===0?c=A=Math.max(Math.abs(t),Math.abs(t-i),Math.abs(s),Math.abs(s-r)):a.shape===1&&(c=Math.max(Math.abs(t),Math.abs(t-i)),A=Math.max(Math.abs(s),Math.abs(s-r)));break;case 3:if(a.shape===0)c=A=Math.max(wr(t,s),wr(t,s-r),wr(t-i,s),wr(t-i,s-r));else if(a.shape===1){var d=Math.max(Math.abs(s),Math.abs(s-r))/Math.max(Math.abs(t),Math.abs(t-i)),x=GN(i,r,t,s,!1),u=x[0],v=x[1];c=wr(u-t,(v-s)/d),A=d*c}break}return Array.isArray(a.size)&&(c=ni(a.size[0],i),A=a.size.length===2?ni(a.size[1],r):c),[c,A]},lL=function(a,t){var s=Wn(180),i=[];return ul(t).forEach(function(r,c){if(c===0){var A=r[0];if(A.type===20&&A.value==="to"){s=Z1(r);return}else if(J1(A)){s=ep.parse(a,A);return}}var d=tp(a,r);i.push(d)}),{angle:s,stops:i,type:1}},Om=function(a,t){var s=Wn(180),i=[];return ul(t).forEach(function(r,c){if(c===0){var A=r[0];if(A.type===20&&["top","left","right","bottom"].indexOf(A.value)!==-1){s=Z1(r);return}else if(J1(A)){s=(ep.parse(a,A)+Wn(270))%Wn(360);return}}var d=tp(a,r);i.push(d)}),{angle:s,stops:i,type:1}},cL=function(a,t){var s=Wn(180),i=[],r=1,c=0,A=3,d=[];return ul(t).forEach(function(h,u){var v=h[0];if(u===0){if(Xa(v)&&v.value==="linear"){r=1;return}else if(Xa(v)&&v.value==="radial"){r=2;return}}if(v.type===18){if(v.name==="from"){var x=lo.parse(a,v.values[0]);i.push({stop:ps,color:x})}else if(v.name==="to"){var x=lo.parse(a,v.values[0]);i.push({stop:so,color:x})}else if(v.name==="color-stop"){var y=v.values.filter(Ld);if(y.length===2){var x=lo.parse(a,y[1]),p=y[0];Qd(p)&&i.push({stop:{type:16,number:p.number*100,flags:p.flags},color:x})}}}}),r===1?{angle:(s+Wn(180))%Wn(360),stops:i,type:r}:{size:A,shape:c,stops:i,position:d,type:r}},e2="closest-side",t2="farthest-side",a2="closest-corner",i2="farthest-corner",s2="circle",n2="ellipse",r2="cover",l2="contain",oL=function(a,t){var s=0,i=3,r=[],c=[];return ul(t).forEach(function(A,d){var h=!0;if(d===0){var u=!1;h=A.reduce(function(x,y){if(u)if(Xa(y))switch(y.value){case"center":return c.push(ly),x;case"top":case"left":return c.push(ps),x;case"right":case"bottom":return c.push(so),x}else(qi(y)||go(y))&&c.push(y);else if(Xa(y))switch(y.value){case s2:return s=0,!1;case n2:return s=1,!1;case"at":return u=!0,!1;case e2:return i=0,!1;case r2:case t2:return i=1,!1;case l2:case a2:return i=2,!1;case i2:return i=3,!1}else if(go(y)||qi(y))return Array.isArray(i)||(i=[]),i.push(y),!1;return x},h)}if(h){var v=tp(a,A);r.push(v)}}),{size:i,shape:s,stops:r,position:c,type:2}},km=function(a,t){var s=0,i=3,r=[],c=[];return ul(t).forEach(function(A,d){var h=!0;if(d===0?h=A.reduce(function(v,x){if(Xa(x))switch(x.value){case"center":return c.push(ly),!1;case"top":case"left":return c.push(ps),!1;case"right":case"bottom":return c.push(so),!1}else if(qi(x)||go(x))return c.push(x),!1;return v},h):d===1&&(h=A.reduce(function(v,x){if(Xa(x))switch(x.value){case s2:return s=0,!1;case n2:return s=1,!1;case l2:case e2:return i=0,!1;case t2:return i=1,!1;case a2:return i=2,!1;case r2:case i2:return i=3,!1}else if(go(x)||qi(x))return Array.isArray(i)||(i=[]),i.push(x),!1;return v},h)),h){var u=tp(a,A);r.push(u)}}),{size:i,shape:s,stops:r,position:c,type:2}},AL=function(a){return a.type===1},dL=function(a){return a.type===2},cy={name:"image",parse:function(a,t){if(t.type===22){var s={url:t.value,type:0};return a.cache.addImage(t.value),s}if(t.type===18){var i=c2[t.name];if(typeof i>"u")throw new Error('Attempting to parse an unsupported image function "'+t.name+'"');return i(a,t.values)}throw new Error("Unsupported image type "+t.type)}};function uL(a){return!(a.type===20&&a.value==="none")&&(a.type!==18||!!c2[a.name])}var c2={"linear-gradient":lL,"-moz-linear-gradient":Om,"-ms-linear-gradient":Om,"-o-linear-gradient":Om,"-webkit-linear-gradient":Om,"radial-gradient":oL,"-moz-radial-gradient":km,"-ms-radial-gradient":km,"-o-radial-gradient":km,"-webkit-radial-gradient":km,"-webkit-gradient":cL},hL={name:"background-image",initialValue:"none",type:1,prefix:!1,parse:function(a,t){if(t.length===0)return[];var s=t[0];return s.type===20&&s.value==="none"?[]:t.filter(function(i){return Ld(i)&&uL(i)}).map(function(i){return cy.parse(a,i)})}},mL={name:"background-origin",initialValue:"border-box",prefix:!1,type:1,parse:function(a,t){return t.map(function(s){if(Xa(s))switch(s.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},fL={name:"background-position",initialValue:"0% 0%",type:1,prefix:!1,parse:function(a,t){return ul(t).map(function(s){return s.filter(qi)}).map($1)}},pL={name:"background-repeat",initialValue:"repeat",prefix:!1,type:1,parse:function(a,t){return ul(t).map(function(s){return s.filter(Xa).map(function(i){return i.value}).join(" ")}).map(gL)}},gL=function(a){switch(a){case"no-repeat":return 1;case"repeat-x":case"repeat no-repeat":return 2;case"repeat-y":case"no-repeat repeat":return 3;case"repeat":default:return 0}},Fd;(function(a){a.AUTO="auto",a.CONTAIN="contain",a.COVER="cover"})(Fd||(Fd={}));var vL={name:"background-size",initialValue:"0",prefix:!1,type:1,parse:function(a,t){return ul(t).map(function(s){return s.filter(xL)})}},xL=function(a){return Xa(a)||qi(a)},ap=function(a){return{name:"border-"+a+"-color",initialValue:"transparent",prefix:!1,type:3,format:"color"}},yL=ap("top"),bL=ap("right"),wL=ap("bottom"),NL=ap("left"),ip=function(a){return{name:"border-radius-"+a,initialValue:"0 0",prefix:!1,type:1,parse:function(t,s){return $1(s.filter(qi))}}},jL=ip("top-left"),BL=ip("top-right"),CL=ip("bottom-right"),SL=ip("bottom-left"),sp=function(a){return{name:"border-"+a+"-style",initialValue:"solid",prefix:!1,type:2,parse:function(t,s){switch(s){case"none":return 0;case"dashed":return 2;case"dotted":return 3;case"double":return 4}return 1}}},_L=sp("top"),FL=sp("right"),DL=sp("bottom"),EL=sp("left"),np=function(a){return{name:"border-"+a+"-width",initialValue:"0",type:0,prefix:!1,parse:function(t,s){return xh(s)?s.number:0}}},LL=np("top"),ML=np("right"),UL=np("bottom"),OL=np("left"),kL={name:"color",initialValue:"transparent",prefix:!1,type:3,format:"color"},IL={name:"direction",initialValue:"ltr",prefix:!1,type:2,parse:function(a,t){switch(t){case"rtl":return 1;case"ltr":default:return 0}}},QL={name:"display",initialValue:"inline-block",prefix:!1,type:1,parse:function(a,t){return t.filter(Xa).reduce(function(s,i){return s|TL(i.value)},0)}},TL=function(a){switch(a){case"block":case"-webkit-box":return 2;case"inline":return 4;case"run-in":return 8;case"flow":return 16;case"flow-root":return 32;case"table":return 64;case"flex":case"-webkit-flex":return 128;case"grid":case"-ms-grid":return 256;case"ruby":return 512;case"subgrid":return 1024;case"list-item":return 2048;case"table-row-group":return 4096;case"table-header-group":return 8192;case"table-footer-group":return 16384;case"table-row":return 32768;case"table-cell":return 65536;case"table-column-group":return 131072;case"table-column":return 262144;case"table-caption":return 524288;case"ruby-base":return 1048576;case"ruby-text":return 2097152;case"ruby-base-container":return 4194304;case"ruby-text-container":return 8388608;case"contents":return 16777216;case"inline-block":return 33554432;case"inline-list-item":return 67108864;case"inline-table":return 134217728;case"inline-flex":return 268435456;case"inline-grid":return 536870912}return 0},RL={name:"float",initialValue:"none",prefix:!1,type:2,parse:function(a,t){switch(t){case"left":return 1;case"right":return 2;case"inline-start":return 3;case"inline-end":return 4}return 0}},PL={name:"letter-spacing",initialValue:"0",prefix:!1,type:0,parse:function(a,t){return t.type===20&&t.value==="normal"?0:t.type===17||t.type===15?t.number:0}},bf;(function(a){a.NORMAL="normal",a.STRICT="strict"})(bf||(bf={}));var HL={name:"line-break",initialValue:"normal",prefix:!1,type:2,parse:function(a,t){switch(t){case"strict":return bf.STRICT;case"normal":default:return bf.NORMAL}}},qL={name:"line-height",initialValue:"normal",prefix:!1,type:4},WN=function(a,t){return Xa(a)&&a.value==="normal"?1.2*t:a.type===17?t*a.number:qi(a)?ni(a,t):t},KL={name:"list-style-image",initialValue:"none",type:0,prefix:!1,parse:function(a,t){return t.type===20&&t.value==="none"?null:cy.parse(a,t)}},VL={name:"list-style-position",initialValue:"outside",prefix:!1,type:2,parse:function(a,t){switch(t){case"inside":return 0;case"outside":default:return 1}}},bx={name:"list-style-type",initialValue:"none",prefix:!1,type:2,parse:function(a,t){switch(t){case"disc":return 0;case"circle":return 1;case"square":return 2;case"decimal":return 3;case"cjk-decimal":return 4;case"decimal-leading-zero":return 5;case"lower-roman":return 6;case"upper-roman":return 7;case"lower-greek":return 8;case"lower-alpha":return 9;case"upper-alpha":return 10;case"arabic-indic":return 11;case"armenian":return 12;case"bengali":return 13;case"cambodian":return 14;case"cjk-earthly-branch":return 15;case"cjk-heavenly-stem":return 16;case"cjk-ideographic":return 17;case"devanagari":return 18;case"ethiopic-numeric":return 19;case"georgian":return 20;case"gujarati":return 21;case"gurmukhi":return 22;case"hebrew":return 22;case"hiragana":return 23;case"hiragana-iroha":return 24;case"japanese-formal":return 25;case"japanese-informal":return 26;case"kannada":return 27;case"katakana":return 28;case"katakana-iroha":return 29;case"khmer":return 30;case"korean-hangul-formal":return 31;case"korean-hanja-formal":return 32;case"korean-hanja-informal":return 33;case"lao":return 34;case"lower-armenian":return 35;case"malayalam":return 36;case"mongolian":return 37;case"myanmar":return 38;case"oriya":return 39;case"persian":return 40;case"simp-chinese-formal":return 41;case"simp-chinese-informal":return 42;case"tamil":return 43;case"telugu":return 44;case"thai":return 45;case"tibetan":return 46;case"trad-chinese-formal":return 47;case"trad-chinese-informal":return 48;case"upper-armenian":return 49;case"disclosure-open":return 50;case"disclosure-closed":return 51;case"none":default:return-1}}},rp=function(a){return{name:"margin-"+a,initialValue:"0",prefix:!1,type:4}},zL=rp("top"),$L=rp("right"),GL=rp("bottom"),WL=rp("left"),YL={name:"overflow",initialValue:"visible",prefix:!1,type:1,parse:function(a,t){return t.filter(Xa).map(function(s){switch(s.value){case"hidden":return 1;case"scroll":return 2;case"clip":return 3;case"auto":return 4;case"visible":default:return 0}})}},XL={name:"overflow-wrap",initialValue:"normal",prefix:!1,type:2,parse:function(a,t){switch(t){case"break-word":return"break-word";case"normal":default:return"normal"}}},lp=function(a){return{name:"padding-"+a,initialValue:"0",prefix:!1,type:3,format:"length-percentage"}},JL=lp("top"),ZL=lp("right"),eM=lp("bottom"),tM=lp("left"),aM={name:"text-align",initialValue:"left",prefix:!1,type:2,parse:function(a,t){switch(t){case"right":return 2;case"center":case"justify":return 1;case"left":default:return 0}}},iM={name:"position",initialValue:"static",prefix:!1,type:2,parse:function(a,t){switch(t){case"relative":return 1;case"absolute":return 2;case"fixed":return 3;case"sticky":return 4}return 0}},sM={name:"text-shadow",initialValue:"none",type:1,prefix:!1,parse:function(a,t){return t.length===1&&yx(t[0],"none")?[]:ul(t).map(function(s){for(var i={color:Gl.TRANSPARENT,offsetX:ps,offsetY:ps,blur:ps},r=0,c=0;c<s.length;c++){var A=s[c];go(A)?(r===0?i.offsetX=A:r===1?i.offsetY=A:i.blur=A,r++):i.color=lo.parse(a,A)}return i})}},nM={name:"text-transform",initialValue:"none",prefix:!1,type:2,parse:function(a,t){switch(t){case"uppercase":return 2;case"lowercase":return 1;case"capitalize":return 3}return 0}},rM={name:"transform",initialValue:"none",prefix:!0,type:0,parse:function(a,t){if(t.type===20&&t.value==="none")return null;if(t.type===18){var s=oM[t.name];if(typeof s>"u")throw new Error('Attempting to parse an unsupported transform function "'+t.name+'"');return s(t.values)}return null}},lM=function(a){var t=a.filter(function(s){return s.type===17}).map(function(s){return s.number});return t.length===6?t:null},cM=function(a){var t=a.filter(function(h){return h.type===17}).map(function(h){return h.number}),s=t[0],i=t[1];t[2],t[3];var r=t[4],c=t[5];t[6],t[7],t[8],t[9],t[10],t[11];var A=t[12],d=t[13];return t[14],t[15],t.length===16?[s,i,r,c,A,d]:null},oM={matrix:lM,matrix3d:cM},YN={type:16,number:50,flags:vh},AM=[YN,YN],dM={name:"transform-origin",initialValue:"50% 50%",prefix:!0,type:1,parse:function(a,t){var s=t.filter(qi);return s.length!==2?AM:[s[0],s[1]]}},uM={name:"visible",initialValue:"none",prefix:!1,type:2,parse:function(a,t){switch(t){case"hidden":return 1;case"collapse":return 2;case"visible":default:return 0}}},Xu;(function(a){a.NORMAL="normal",a.BREAK_ALL="break-all",a.KEEP_ALL="keep-all"})(Xu||(Xu={}));var hM={name:"word-break",initialValue:"normal",prefix:!1,type:2,parse:function(a,t){switch(t){case"break-all":return Xu.BREAK_ALL;case"keep-all":return Xu.KEEP_ALL;case"normal":default:return Xu.NORMAL}}},mM={name:"z-index",initialValue:"auto",prefix:!1,type:0,parse:function(a,t){if(t.type===20)return{auto:!0,order:0};if(Qd(t))return{auto:!1,order:t.number};throw new Error("Invalid z-index number parsed")}},o2={name:"time",parse:function(a,t){if(t.type===15)switch(t.unit.toLowerCase()){case"s":return 1e3*t.number;case"ms":return t.number}throw new Error("Unsupported time type")}},fM={name:"opacity",initialValue:"1",type:0,prefix:!1,parse:function(a,t){return Qd(t)?t.number:1}},pM={name:"text-decoration-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},gM={name:"text-decoration-line",initialValue:"none",prefix:!1,type:1,parse:function(a,t){return t.filter(Xa).map(function(s){switch(s.value){case"underline":return 1;case"overline":return 2;case"line-through":return 3;case"none":return 4}return 0}).filter(function(s){return s!==0})}},vM={name:"font-family",initialValue:"",prefix:!1,type:1,parse:function(a,t){var s=[],i=[];return t.forEach(function(r){switch(r.type){case 20:case 0:s.push(r.value);break;case 17:s.push(r.number.toString());break;case 4:i.push(s.join(" ")),s.length=0;break}}),s.length&&i.push(s.join(" ")),i.map(function(r){return r.indexOf(" ")===-1?r:"'"+r+"'"})}},xM={name:"font-size",initialValue:"0",prefix:!1,type:3,format:"length"},yM={name:"font-weight",initialValue:"normal",type:0,prefix:!1,parse:function(a,t){if(Qd(t))return t.number;if(Xa(t))switch(t.value){case"bold":return 700;case"normal":default:return 400}return 400}},bM={name:"font-variant",initialValue:"none",type:1,prefix:!1,parse:function(a,t){return t.filter(Xa).map(function(s){return s.value})}},wM={name:"font-style",initialValue:"normal",prefix:!1,type:2,parse:function(a,t){switch(t){case"oblique":return"oblique";case"italic":return"italic";case"normal":default:return"normal"}}},Wi=function(a,t){return(a&t)!==0},NM={name:"content",initialValue:"none",type:1,prefix:!1,parse:function(a,t){if(t.length===0)return[];var s=t[0];return s.type===20&&s.value==="none"?[]:t}},jM={name:"counter-increment",initialValue:"none",prefix:!0,type:1,parse:function(a,t){if(t.length===0)return null;var s=t[0];if(s.type===20&&s.value==="none")return null;for(var i=[],r=t.filter(z1),c=0;c<r.length;c++){var A=r[c],d=r[c+1];if(A.type===20){var h=d&&Qd(d)?d.number:1;i.push({counter:A.value,increment:h})}}return i}},BM={name:"counter-reset",initialValue:"none",prefix:!0,type:1,parse:function(a,t){if(t.length===0)return[];for(var s=[],i=t.filter(z1),r=0;r<i.length;r++){var c=i[r],A=i[r+1];if(Xa(c)&&c.value!=="none"){var d=A&&Qd(A)?A.number:0;s.push({counter:c.value,reset:d})}}return s}},CM={name:"duration",initialValue:"0s",prefix:!1,type:1,parse:function(a,t){return t.filter(xh).map(function(s){return o2.parse(a,s)})}},SM={name:"quotes",initialValue:"none",prefix:!0,type:1,parse:function(a,t){if(t.length===0)return null;var s=t[0];if(s.type===20&&s.value==="none")return null;var i=[],r=t.filter(ZE);if(r.length%2!==0)return null;for(var c=0;c<r.length;c+=2){var A=r[c].value,d=r[c+1].value;i.push({open:A,close:d})}return i}},XN=function(a,t,s){if(!a)return"";var i=a[Math.min(t,a.length-1)];return i?s?i.open:i.close:""},_M={name:"box-shadow",initialValue:"none",type:1,prefix:!1,parse:function(a,t){return t.length===1&&yx(t[0],"none")?[]:ul(t).map(function(s){for(var i={color:255,offsetX:ps,offsetY:ps,blur:ps,spread:ps,inset:!1},r=0,c=0;c<s.length;c++){var A=s[c];yx(A,"inset")?i.inset=!0:go(A)?(r===0?i.offsetX=A:r===1?i.offsetY=A:r===2?i.blur=A:i.spread=A,r++):i.color=lo.parse(a,A)}return i})}},FM={name:"paint-order",initialValue:"normal",prefix:!1,type:1,parse:function(a,t){var s=[0,1,2],i=[];return t.filter(Xa).forEach(function(r){switch(r.value){case"stroke":i.push(1);break;case"fill":i.push(0);break;case"markers":i.push(2);break}}),s.forEach(function(r){i.indexOf(r)===-1&&i.push(r)}),i}},DM={name:"-webkit-text-stroke-color",initialValue:"currentcolor",prefix:!1,type:3,format:"color"},EM={name:"-webkit-text-stroke-width",initialValue:"0",type:0,prefix:!1,parse:function(a,t){return xh(t)?t.number:0}},LM=function(){function a(t,s){var i,r;this.animationDuration=Gt(t,CM,s.animationDuration),this.backgroundClip=Gt(t,aL,s.backgroundClip),this.backgroundColor=Gt(t,iL,s.backgroundColor),this.backgroundImage=Gt(t,hL,s.backgroundImage),this.backgroundOrigin=Gt(t,mL,s.backgroundOrigin),this.backgroundPosition=Gt(t,fL,s.backgroundPosition),this.backgroundRepeat=Gt(t,pL,s.backgroundRepeat),this.backgroundSize=Gt(t,vL,s.backgroundSize),this.borderTopColor=Gt(t,yL,s.borderTopColor),this.borderRightColor=Gt(t,bL,s.borderRightColor),this.borderBottomColor=Gt(t,wL,s.borderBottomColor),this.borderLeftColor=Gt(t,NL,s.borderLeftColor),this.borderTopLeftRadius=Gt(t,jL,s.borderTopLeftRadius),this.borderTopRightRadius=Gt(t,BL,s.borderTopRightRadius),this.borderBottomRightRadius=Gt(t,CL,s.borderBottomRightRadius),this.borderBottomLeftRadius=Gt(t,SL,s.borderBottomLeftRadius),this.borderTopStyle=Gt(t,_L,s.borderTopStyle),this.borderRightStyle=Gt(t,FL,s.borderRightStyle),this.borderBottomStyle=Gt(t,DL,s.borderBottomStyle),this.borderLeftStyle=Gt(t,EL,s.borderLeftStyle),this.borderTopWidth=Gt(t,LL,s.borderTopWidth),this.borderRightWidth=Gt(t,ML,s.borderRightWidth),this.borderBottomWidth=Gt(t,UL,s.borderBottomWidth),this.borderLeftWidth=Gt(t,OL,s.borderLeftWidth),this.boxShadow=Gt(t,_M,s.boxShadow),this.color=Gt(t,kL,s.color),this.direction=Gt(t,IL,s.direction),this.display=Gt(t,QL,s.display),this.float=Gt(t,RL,s.cssFloat),this.fontFamily=Gt(t,vM,s.fontFamily),this.fontSize=Gt(t,xM,s.fontSize),this.fontStyle=Gt(t,wM,s.fontStyle),this.fontVariant=Gt(t,bM,s.fontVariant),this.fontWeight=Gt(t,yM,s.fontWeight),this.letterSpacing=Gt(t,PL,s.letterSpacing),this.lineBreak=Gt(t,HL,s.lineBreak),this.lineHeight=Gt(t,qL,s.lineHeight),this.listStyleImage=Gt(t,KL,s.listStyleImage),this.listStylePosition=Gt(t,VL,s.listStylePosition),this.listStyleType=Gt(t,bx,s.listStyleType),this.marginTop=Gt(t,zL,s.marginTop),this.marginRight=Gt(t,$L,s.marginRight),this.marginBottom=Gt(t,GL,s.marginBottom),this.marginLeft=Gt(t,WL,s.marginLeft),this.opacity=Gt(t,fM,s.opacity);var c=Gt(t,YL,s.overflow);this.overflowX=c[0],this.overflowY=c[c.length>1?1:0],this.overflowWrap=Gt(t,XL,s.overflowWrap),this.paddingTop=Gt(t,JL,s.paddingTop),this.paddingRight=Gt(t,ZL,s.paddingRight),this.paddingBottom=Gt(t,eM,s.paddingBottom),this.paddingLeft=Gt(t,tM,s.paddingLeft),this.paintOrder=Gt(t,FM,s.paintOrder),this.position=Gt(t,iM,s.position),this.textAlign=Gt(t,aM,s.textAlign),this.textDecorationColor=Gt(t,pM,(i=s.textDecorationColor)!==null&&i!==void 0?i:s.color),this.textDecorationLine=Gt(t,gM,(r=s.textDecorationLine)!==null&&r!==void 0?r:s.textDecoration),this.textShadow=Gt(t,sM,s.textShadow),this.textTransform=Gt(t,nM,s.textTransform),this.transform=Gt(t,rM,s.transform),this.transformOrigin=Gt(t,dM,s.transformOrigin),this.visibility=Gt(t,uM,s.visibility),this.webkitTextStrokeColor=Gt(t,DM,s.webkitTextStrokeColor),this.webkitTextStrokeWidth=Gt(t,EM,s.webkitTextStrokeWidth),this.wordBreak=Gt(t,hM,s.wordBreak),this.zIndex=Gt(t,mM,s.zIndex)}return a.prototype.isVisible=function(){return this.display>0&&this.opacity>0&&this.visibility===0},a.prototype.isTransparent=function(){return co(this.backgroundColor)},a.prototype.isTransformed=function(){return this.transform!==null},a.prototype.isPositioned=function(){return this.position!==0},a.prototype.isPositionedWithZIndex=function(){return this.isPositioned()&&!this.zIndex.auto},a.prototype.isFloating=function(){return this.float!==0},a.prototype.isInlineLevel=function(){return Wi(this.display,4)||Wi(this.display,33554432)||Wi(this.display,268435456)||Wi(this.display,536870912)||Wi(this.display,67108864)||Wi(this.display,134217728)},a}(),MM=function(){function a(t,s){this.content=Gt(t,NM,s.content),this.quotes=Gt(t,SM,s.quotes)}return a}(),JN=function(){function a(t,s){this.counterIncrement=Gt(t,jM,s.counterIncrement),this.counterReset=Gt(t,BM,s.counterReset)}return a}(),Gt=function(a,t,s){var i=new K1,r=s!==null&&typeof s<"u"?s.toString():t.initialValue;i.write(r);var c=new V1(i.read());switch(t.type){case 2:var A=c.parseComponentValue();return t.parse(a,Xa(A)?A.value:t.initialValue);case 0:return t.parse(a,c.parseComponentValue());case 1:return t.parse(a,c.parseComponentValues());case 4:return c.parseComponentValue();case 3:switch(t.format){case"angle":return ep.parse(a,c.parseComponentValue());case"color":return lo.parse(a,c.parseComponentValue());case"image":return cy.parse(a,c.parseComponentValue());case"length":var d=c.parseComponentValue();return go(d)?d:ps;case"length-percentage":var h=c.parseComponentValue();return qi(h)?h:ps;case"time":return o2.parse(a,c.parseComponentValue())}break}},UM="data-html2canvas-debug",OM=function(a){var t=a.getAttribute(UM);switch(t){case"all":return 1;case"clone":return 2;case"parse":return 3;case"render":return 4;default:return 0}},wx=function(a,t){var s=OM(a);return s===1||t===s},hl=function(){function a(t,s){if(this.context=t,this.textNodes=[],this.elements=[],this.flags=0,wx(s,3))debugger;this.styles=new LM(t,window.getComputedStyle(s,null)),Bx(s)&&(this.styles.animationDuration.some(function(i){return i>0})&&(s.style.animationDuration="0s"),this.styles.transform!==null&&(s.style.transform="none")),this.bounds=Jf(this.context,s),wx(s,4)&&(this.flags|=16)}return a}(),kM="AAAAAAAAAAAAEA4AGBkAAFAaAAACAAAAAAAIABAAGAAwADgACAAQAAgAEAAIABAACAAQAAgAEAAIABAACAAQAAgAEAAIABAAQABIAEQATAAIABAACAAQAAgAEAAIABAAVABcAAgAEAAIABAACAAQAGAAaABwAHgAgACIAI4AlgAIABAAmwCjAKgAsAC2AL4AvQDFAMoA0gBPAVYBWgEIAAgACACMANoAYgFkAWwBdAF8AX0BhQGNAZUBlgGeAaMBlQGWAasBswF8AbsBwwF0AcsBYwHTAQgA2wG/AOMBdAF8AekB8QF0AfkB+wHiAHQBfAEIAAMC5gQIAAsCEgIIAAgAFgIeAggAIgIpAggAMQI5AkACygEIAAgASAJQAlgCYAIIAAgACAAKBQoFCgUTBRMFGQUrBSsFCAAIAAgACAAIAAgACAAIAAgACABdAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABoAmgCrwGvAQgAbgJ2AggAHgEIAAgACADnAXsCCAAIAAgAgwIIAAgACAAIAAgACACKAggAkQKZAggAPADJAAgAoQKkAqwCsgK6AsICCADJAggA0AIIAAgACAAIANYC3gIIAAgACAAIAAgACABAAOYCCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAkASoB+QIEAAgACAA8AEMCCABCBQgACABJBVAFCAAIAAgACAAIAAgACAAIAAgACABTBVoFCAAIAFoFCABfBWUFCAAIAAgACAAIAAgAbQUIAAgACAAIAAgACABzBXsFfQWFBYoFigWKBZEFigWKBYoFmAWfBaYFrgWxBbkFCAAIAAgACAAIAAgACAAIAAgACAAIAMEFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAMgFCADQBQgACAAIAAgACAAIAAgACAAIAAgACAAIAO4CCAAIAAgAiQAIAAgACABAAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAD0AggACAD8AggACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIANYFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAMDvwAIAAgAJAIIAAgACAAIAAgACAAIAAgACwMTAwgACAB9BOsEGwMjAwgAKwMyAwsFYgE3A/MEPwMIAEUDTQNRAwgAWQOsAGEDCAAIAAgACAAIAAgACABpAzQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFIQUoBSwFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABtAwgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABMAEwACAAIAAgACAAIABgACAAIAAgACAC/AAgACAAyAQgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACAAIAAwAAgACAAIAAgACAAIAAgACAAIAAAARABIAAgACAAIABQASAAIAAgAIABwAEAAjgCIABsAqAC2AL0AigDQAtwC+IJIQqVAZUBWQqVAZUBlQGVAZUBlQGrC5UBlQGVAZUBlQGVAZUBlQGVAXsKlQGVAbAK6wsrDGUMpQzlDJUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAfAKAAuZA64AtwCJALoC6ADwAAgAuACgA/oEpgO6AqsD+AAIAAgAswMIAAgACAAIAIkAuwP5AfsBwwPLAwgACAAIAAgACADRA9kDCAAIAOED6QMIAAgACAAIAAgACADuA/YDCAAIAP4DyQAIAAgABgQIAAgAXQAOBAgACAAIAAgACAAIABMECAAIAAgACAAIAAgACAD8AAQBCAAIAAgAGgQiBCoECAExBAgAEAEIAAgACAAIAAgACAAIAAgACAAIAAgACAA4BAgACABABEYECAAIAAgATAQYAQgAVAQIAAgACAAIAAgACAAIAAgACAAIAFoECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAOQEIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAB+BAcACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAEABhgSMBAgACAAIAAgAlAQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAwAEAAQABAADAAMAAwADAAQABAAEAAQABAAEAAQABHATAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAdQMIAAgACAAIAAgACAAIAMkACAAIAAgAfQMIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACFA4kDCAAIAAgACAAIAOcBCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAIcDCAAIAAgACAAIAAgACAAIAAgACAAIAJEDCAAIAAgACADFAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABgBAgAZgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAbAQCBXIECAAIAHkECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABAAJwEQACjBKoEsgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAC6BMIECAAIAAgACAAIAAgACABmBAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAxwQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAGYECAAIAAgAzgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBd0FXwUIAOIF6gXxBYoF3gT5BQAGCAaKBYoFigWKBYoFigWKBYoFigWKBYoFigXWBIoFigWKBYoFigWKBYoFigWKBYsFEAaKBYoFigWKBYoFigWKBRQGCACKBYoFigWKBQgACAAIANEECAAIABgGigUgBggAJgYIAC4GMwaKBYoF0wQ3Bj4GigWKBYoFigWKBYoFigWKBYoFigWKBYoFigUIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWLBf///////wQABAAEAAQABAAEAAQABAAEAAQAAwAEAAQAAgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAQADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUAAAAFAAUAAAAFAAUAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAQAAAAUABQAFAAUABQAFAAAAAAAFAAUAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAFAAUAAQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAAABwAHAAcAAAAHAAcABwAFAAEAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAcABwAFAAUAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAAAAQABAAAAAAAAAAAAAAAFAAUABQAFAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAHAAcAAAAHAAcAAAAAAAUABQAHAAUAAQAHAAEABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwABAAUABQAFAAUAAAAAAAAAAAAAAAEAAQABAAEAAQABAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABQANAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAABQAHAAUABQAFAAAAAAAAAAcABQAFAAUABQAFAAQABAAEAAQABAAEAAQABAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUAAAAFAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAUAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAcABwAFAAcABwAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUABwAHAAUABQAFAAUAAAAAAAcABwAAAAAABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAAAAAAAAAAABQAFAAAAAAAFAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAFAAUABQAFAAUAAAAFAAUABwAAAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABwAFAAUABQAFAAAAAAAHAAcAAAAAAAcABwAFAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAAAAAAAAAHAAcABwAAAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAUABQAFAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAHAAcABQAHAAcAAAAFAAcABwAAAAcABwAFAAUAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAFAAcABwAFAAUABQAAAAUAAAAHAAcABwAHAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAHAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUAAAAFAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAUAAAAFAAUAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABwAFAAUABQAFAAUABQAAAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABQAFAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAFAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAHAAUABQAFAAUABQAFAAUABwAHAAcABwAHAAcABwAHAAUABwAHAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABwAHAAcABwAFAAUABwAHAAcAAAAAAAAAAAAHAAcABQAHAAcABwAHAAcABwAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAUABQAFAAUABQAFAAUAAAAFAAAABQAAAAAABQAFAAUABQAFAAUABQAFAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAUABQAFAAUABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABwAFAAcABwAHAAcABwAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAUABQAFAAUABwAHAAUABQAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABQAFAAcABwAHAAUABwAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAcABQAFAAUABQAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAAAAAABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAAAAAAAAAFAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAUABQAHAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAFAAUABQAFAAcABwAFAAUABwAHAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAcABwAFAAUABwAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABQAAAAAABQAFAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAcABwAAAAAAAAAAAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAcABwAFAAcABwAAAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAFAAUABQAAAAUABQAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABwAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAHAAcABQAHAAUABQAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAAABwAHAAAAAAAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAFAAUABwAFAAcABwAFAAcABQAFAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAAAAAABwAHAAcABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAFAAcABwAFAAUABQAFAAUABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAUABQAFAAcABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABQAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAAAAAAFAAUABwAHAAcABwAFAAAAAAAAAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAHAAUABQAFAAUABQAFAAUABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAABQAAAAUABQAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAHAAcAAAAFAAUAAAAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABQAFAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAABQAFAAUABQAFAAUABQAAAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAFAAUABQAFAAUADgAOAA4ADgAOAA4ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAMAAwADAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkAAAAAAAAAAAAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAAAAAAAAAAAAsADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwACwAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAADgAOAA4AAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAAAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4AAAAOAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAAAAAAAAAAAA4AAAAOAAAAAAAAAAAADgAOAA4AAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAA=",ZN="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Ku=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var Im=0;Im<ZN.length;Im++)Ku[ZN.charCodeAt(Im)]=Im;var IM=function(a){var t=a.length*.75,s=a.length,i,r=0,c,A,d,h;a[a.length-1]==="="&&(t--,a[a.length-2]==="="&&t--);var u=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(t):new Array(t),v=Array.isArray(u)?u:new Uint8Array(u);for(i=0;i<s;i+=4)c=Ku[a.charCodeAt(i)],A=Ku[a.charCodeAt(i+1)],d=Ku[a.charCodeAt(i+2)],h=Ku[a.charCodeAt(i+3)],v[r++]=c<<2|A>>4,v[r++]=(A&15)<<4|d>>2,v[r++]=(d&3)<<6|h&63;return u},QM=function(a){for(var t=a.length,s=[],i=0;i<t;i+=2)s.push(a[i+1]<<8|a[i]);return s},TM=function(a){for(var t=a.length,s=[],i=0;i<t;i+=4)s.push(a[i+3]<<24|a[i+2]<<16|a[i+1]<<8|a[i]);return s},mA=5,oy=11,iv=2,RM=oy-mA,A2=65536>>mA,PM=1<<mA,sv=PM-1,HM=1024>>mA,qM=A2+HM,KM=qM,VM=32,zM=KM+VM,$M=65536>>oy,GM=1<<RM,WM=GM-1,ej=function(a,t,s){return a.slice?a.slice(t,s):new Uint16Array(Array.prototype.slice.call(a,t,s))},YM=function(a,t,s){return a.slice?a.slice(t,s):new Uint32Array(Array.prototype.slice.call(a,t,s))},XM=function(a,t){var s=IM(a),i=Array.isArray(s)?TM(s):new Uint32Array(s),r=Array.isArray(s)?QM(s):new Uint16Array(s),c=24,A=ej(r,c/2,i[4]/2),d=i[5]===2?ej(r,(c+i[4])/2):YM(i,Math.ceil((c+i[4])/4));return new JM(i[0],i[1],i[2],i[3],A,d)},JM=function(){function a(t,s,i,r,c,A){this.initialValue=t,this.errorValue=s,this.highStart=i,this.highValueIndex=r,this.index=c,this.data=A}return a.prototype.get=function(t){var s;if(t>=0){if(t<55296||t>56319&&t<=65535)return s=this.index[t>>mA],s=(s<<iv)+(t&sv),this.data[s];if(t<=65535)return s=this.index[A2+(t-55296>>mA)],s=(s<<iv)+(t&sv),this.data[s];if(t<this.highStart)return s=zM-$M+(t>>oy),s=this.index[s],s+=t>>mA&WM,s=this.index[s],s=(s<<iv)+(t&sv),this.data[s];if(t<=1114111)return this.data[this.highValueIndex]}return this.errorValue},a}(),tj="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",ZM=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var Qm=0;Qm<tj.length;Qm++)ZM[tj.charCodeAt(Qm)]=Qm;var e6=1,nv=2,rv=3,aj=4,ij=5,t6=7,sj=8,lv=9,cv=10,nj=11,rj=12,lj=13,cj=14,ov=15,a6=function(a){for(var t=[],s=0,i=a.length;s<i;){var r=a.charCodeAt(s++);if(r>=55296&&r<=56319&&s<i){var c=a.charCodeAt(s++);(c&64512)===56320?t.push(((r&1023)<<10)+(c&1023)+65536):(t.push(r),s--)}else t.push(r)}return t},i6=function(){for(var a=[],t=0;t<arguments.length;t++)a[t]=arguments[t];if(String.fromCodePoint)return String.fromCodePoint.apply(String,a);var s=a.length;if(!s)return"";for(var i=[],r=-1,c="";++r<s;){var A=a[r];A<=65535?i.push(A):(A-=65536,i.push((A>>10)+55296,A%1024+56320)),(r+1===s||i.length>16384)&&(c+=String.fromCharCode.apply(String,i),i.length=0)}return c},s6=XM(kM),$n="",Av="",n6=function(a){return s6.get(a)},r6=function(a,t,s){var i=s-2,r=t[i],c=t[s-1],A=t[s];if(c===nv&&A===rv)return $n;if(c===nv||c===rv||c===aj||A===nv||A===rv||A===aj)return Av;if(c===sj&&[sj,lv,nj,rj].indexOf(A)!==-1||(c===nj||c===lv)&&(A===lv||A===cv)||(c===rj||c===cv)&&A===cv||A===lj||A===ij||A===t6||c===e6)return $n;if(c===lj&&A===cj){for(;r===ij;)r=t[--i];if(r===cj)return $n}if(c===ov&&A===ov){for(var d=0;r===ov;)d++,r=t[--i];if(d%2===0)return $n}return Av},l6=function(a){var t=a6(a),s=t.length,i=0,r=0,c=t.map(n6);return{next:function(){if(i>=s)return{done:!0,value:null};for(var A=$n;i<s&&(A=r6(t,c,++i))===$n;);if(A!==$n||i===s){var d=i6.apply(null,t.slice(r,i));return r=i,{value:d,done:!1}}return{done:!0,value:null}}}},c6=function(a){for(var t=l6(a),s=[],i;!(i=t.next()).done;)i.value&&s.push(i.value.slice());return s},o6=function(a){var t=123;if(a.createRange){var s=a.createRange();if(s.getBoundingClientRect){var i=a.createElement("boundtest");i.style.height=t+"px",i.style.display="block",a.body.appendChild(i),s.selectNode(i);var r=s.getBoundingClientRect(),c=Math.round(r.height);if(a.body.removeChild(i),c===t)return!0}}return!1},A6=function(a){var t=a.createElement("boundtest");t.style.width="50px",t.style.display="block",t.style.fontSize="12px",t.style.letterSpacing="0px",t.style.wordSpacing="0px",a.body.appendChild(t);var s=a.createRange();t.innerHTML=typeof"".repeat=="function"?"&#128104;".repeat(10):"";var i=t.firstChild,r=Zf(i.data).map(function(h){return Mi(h)}),c=0,A={},d=r.every(function(h,u){s.setStart(i,c),s.setEnd(i,c+h.length);var v=s.getBoundingClientRect();c+=h.length;var x=v.x>A.x||v.y>A.y;return A=v,u===0?!0:x});return a.body.removeChild(t),d},d6=function(){return typeof new Image().crossOrigin<"u"},u6=function(){return typeof new XMLHttpRequest().responseType=="string"},h6=function(a){var t=new Image,s=a.createElement("canvas"),i=s.getContext("2d");if(!i)return!1;t.src="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg'></svg>";try{i.drawImage(t,0,0),s.toDataURL()}catch{return!1}return!0},oj=function(a){return a[0]===0&&a[1]===255&&a[2]===0&&a[3]===255},m6=function(a){var t=a.createElement("canvas"),s=100;t.width=s,t.height=s;var i=t.getContext("2d");if(!i)return Promise.reject(!1);i.fillStyle="rgb(0, 255, 0)",i.fillRect(0,0,s,s);var r=new Image,c=t.toDataURL();r.src=c;var A=Nx(s,s,0,0,r);return i.fillStyle="red",i.fillRect(0,0,s,s),Aj(A).then(function(d){i.drawImage(d,0,0);var h=i.getImageData(0,0,s,s).data;i.fillStyle="red",i.fillRect(0,0,s,s);var u=a.createElement("div");return u.style.backgroundImage="url("+c+")",u.style.height=s+"px",oj(h)?Aj(Nx(s,s,0,0,u)):Promise.reject(!1)}).then(function(d){return i.drawImage(d,0,0),oj(i.getImageData(0,0,s,s).data)}).catch(function(){return!1})},Nx=function(a,t,s,i,r){var c="http://www.w3.org/2000/svg",A=document.createElementNS(c,"svg"),d=document.createElementNS(c,"foreignObject");return A.setAttributeNS(null,"width",a.toString()),A.setAttributeNS(null,"height",t.toString()),d.setAttributeNS(null,"width","100%"),d.setAttributeNS(null,"height","100%"),d.setAttributeNS(null,"x",s.toString()),d.setAttributeNS(null,"y",i.toString()),d.setAttributeNS(null,"externalResourcesRequired","true"),A.appendChild(d),d.appendChild(r),A},Aj=function(a){return new Promise(function(t,s){var i=new Image;i.onload=function(){return t(i)},i.onerror=s,i.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(a))})},fs={get SUPPORT_RANGE_BOUNDS(){var a=o6(document);return Object.defineProperty(fs,"SUPPORT_RANGE_BOUNDS",{value:a}),a},get SUPPORT_WORD_BREAKING(){var a=fs.SUPPORT_RANGE_BOUNDS&&A6(document);return Object.defineProperty(fs,"SUPPORT_WORD_BREAKING",{value:a}),a},get SUPPORT_SVG_DRAWING(){var a=h6(document);return Object.defineProperty(fs,"SUPPORT_SVG_DRAWING",{value:a}),a},get SUPPORT_FOREIGNOBJECT_DRAWING(){var a=typeof Array.from=="function"&&typeof window.fetch=="function"?m6(document):Promise.resolve(!1);return Object.defineProperty(fs,"SUPPORT_FOREIGNOBJECT_DRAWING",{value:a}),a},get SUPPORT_CORS_IMAGES(){var a=d6();return Object.defineProperty(fs,"SUPPORT_CORS_IMAGES",{value:a}),a},get SUPPORT_RESPONSE_TYPE(){var a=u6();return Object.defineProperty(fs,"SUPPORT_RESPONSE_TYPE",{value:a}),a},get SUPPORT_CORS_XHR(){var a="withCredentials"in new XMLHttpRequest;return Object.defineProperty(fs,"SUPPORT_CORS_XHR",{value:a}),a},get SUPPORT_NATIVE_TEXT_SEGMENTATION(){var a=!!(typeof Intl<"u"&&Intl.Segmenter);return Object.defineProperty(fs,"SUPPORT_NATIVE_TEXT_SEGMENTATION",{value:a}),a}},Ju=function(){function a(t,s){this.text=t,this.bounds=s}return a}(),f6=function(a,t,s,i){var r=v6(t,s),c=[],A=0;return r.forEach(function(d){if(s.textDecorationLine.length||d.trim().length>0)if(fs.SUPPORT_RANGE_BOUNDS){var h=dj(i,A,d.length).getClientRects();if(h.length>1){var u=Ay(d),v=0;u.forEach(function(y){c.push(new Ju(y,Xl.fromDOMRectList(a,dj(i,v+A,y.length).getClientRects()))),v+=y.length})}else c.push(new Ju(d,Xl.fromDOMRectList(a,h)))}else{var x=i.splitText(d.length);c.push(new Ju(d,p6(a,i))),i=x}else fs.SUPPORT_RANGE_BOUNDS||(i=i.splitText(d.length));A+=d.length}),c},p6=function(a,t){var s=t.ownerDocument;if(s){var i=s.createElement("html2canvaswrapper");i.appendChild(t.cloneNode(!0));var r=t.parentNode;if(r){r.replaceChild(i,t);var c=Jf(a,i);return i.firstChild&&r.replaceChild(i.firstChild,i),c}}return Xl.EMPTY},dj=function(a,t,s){var i=a.ownerDocument;if(!i)throw new Error("Node has no owner document");var r=i.createRange();return r.setStart(a,t),r.setEnd(a,t+s),r},Ay=function(a){if(fs.SUPPORT_NATIVE_TEXT_SEGMENTATION){var t=new Intl.Segmenter(void 0,{granularity:"grapheme"});return Array.from(t.segment(a)).map(function(s){return s.segment})}return c6(a)},g6=function(a,t){if(fs.SUPPORT_NATIVE_TEXT_SEGMENTATION){var s=new Intl.Segmenter(void 0,{granularity:"word"});return Array.from(s.segment(a)).map(function(i){return i.segment})}return y6(a,t)},v6=function(a,t){return t.letterSpacing!==0?Ay(a):g6(a,t)},x6=[32,160,4961,65792,65793,4153,4241],y6=function(a,t){for(var s=$D(a,{lineBreak:t.lineBreak,wordBreak:t.overflowWrap==="break-word"?"break-word":t.wordBreak}),i=[],r,c=function(){if(r.value){var A=r.value.slice(),d=Zf(A),h="";d.forEach(function(u){x6.indexOf(u)===-1?h+=Mi(u):(h.length&&i.push(h),i.push(Mi(u)),h="")}),h.length&&i.push(h)}};!(r=s.next()).done;)c();return i},b6=function(){function a(t,s,i){this.text=w6(s.data,i.textTransform),this.textBounds=f6(t,this.text,i,s)}return a}(),w6=function(a,t){switch(t){case 1:return a.toLowerCase();case 3:return a.replace(N6,j6);case 2:return a.toUpperCase();default:return a}},N6=/(^|\s|:|-|\(|\))([a-z])/g,j6=function(a,t,s){return a.length>0?t+s.toUpperCase():a},d2=function(a){_r(t,a);function t(s,i){var r=a.call(this,s,i)||this;return r.src=i.currentSrc||i.src,r.intrinsicWidth=i.naturalWidth,r.intrinsicHeight=i.naturalHeight,r.context.cache.addImage(r.src),r}return t}(hl),u2=function(a){_r(t,a);function t(s,i){var r=a.call(this,s,i)||this;return r.canvas=i,r.intrinsicWidth=i.width,r.intrinsicHeight=i.height,r}return t}(hl),h2=function(a){_r(t,a);function t(s,i){var r=a.call(this,s,i)||this,c=new XMLSerializer,A=Jf(s,i);return i.setAttribute("width",A.width+"px"),i.setAttribute("height",A.height+"px"),r.svg="data:image/svg+xml,"+encodeURIComponent(c.serializeToString(i)),r.intrinsicWidth=i.width.baseVal.value,r.intrinsicHeight=i.height.baseVal.value,r.context.cache.addImage(r.svg),r}return t}(hl),m2=function(a){_r(t,a);function t(s,i){var r=a.call(this,s,i)||this;return r.value=i.value,r}return t}(hl),jx=function(a){_r(t,a);function t(s,i){var r=a.call(this,s,i)||this;return r.start=i.start,r.reversed=typeof i.reversed=="boolean"&&i.reversed===!0,r}return t}(hl),B6=[{type:15,flags:0,unit:"px",number:3}],C6=[{type:16,flags:0,number:50}],S6=function(a){return a.width>a.height?new Xl(a.left+(a.width-a.height)/2,a.top,a.height,a.height):a.width<a.height?new Xl(a.left,a.top+(a.height-a.width)/2,a.width,a.width):a},_6=function(a){var t=a.type===F6?new Array(a.value.length+1).join(""):a.value;return t.length===0?a.placeholder||"":t},wf="checkbox",Nf="radio",F6="password",uj=707406591,dy=function(a){_r(t,a);function t(s,i){var r=a.call(this,s,i)||this;switch(r.type=i.type.toLowerCase(),r.checked=i.checked,r.value=_6(i),(r.type===wf||r.type===Nf)&&(r.styles.backgroundColor=3739148031,r.styles.borderTopColor=r.styles.borderRightColor=r.styles.borderBottomColor=r.styles.borderLeftColor=2779096575,r.styles.borderTopWidth=r.styles.borderRightWidth=r.styles.borderBottomWidth=r.styles.borderLeftWidth=1,r.styles.borderTopStyle=r.styles.borderRightStyle=r.styles.borderBottomStyle=r.styles.borderLeftStyle=1,r.styles.backgroundClip=[0],r.styles.backgroundOrigin=[0],r.bounds=S6(r.bounds)),r.type){case wf:r.styles.borderTopRightRadius=r.styles.borderTopLeftRadius=r.styles.borderBottomRightRadius=r.styles.borderBottomLeftRadius=B6;break;case Nf:r.styles.borderTopRightRadius=r.styles.borderTopLeftRadius=r.styles.borderBottomRightRadius=r.styles.borderBottomLeftRadius=C6;break}return r}return t}(hl),f2=function(a){_r(t,a);function t(s,i){var r=a.call(this,s,i)||this,c=i.options[i.selectedIndex||0];return r.value=c&&c.text||"",r}return t}(hl),p2=function(a){_r(t,a);function t(s,i){var r=a.call(this,s,i)||this;return r.value=i.value,r}return t}(hl),g2=function(a){_r(t,a);function t(s,i){var r=a.call(this,s,i)||this;r.src=i.src,r.width=parseInt(i.width,10)||0,r.height=parseInt(i.height,10)||0,r.backgroundColor=r.styles.backgroundColor;try{if(i.contentWindow&&i.contentWindow.document&&i.contentWindow.document.documentElement){r.tree=x2(s,i.contentWindow.document.documentElement);var c=i.contentWindow.document.documentElement?Yu(s,getComputedStyle(i.contentWindow.document.documentElement).backgroundColor):Gl.TRANSPARENT,A=i.contentWindow.document.body?Yu(s,getComputedStyle(i.contentWindow.document.body).backgroundColor):Gl.TRANSPARENT;r.backgroundColor=co(c)?co(A)?r.styles.backgroundColor:A:c}}catch{}return r}return t}(hl),D6=["OL","UL","MENU"],rf=function(a,t,s,i){for(var r=t.firstChild,c=void 0;r;r=c)if(c=r.nextSibling,y2(r)&&r.data.trim().length>0)s.textNodes.push(new b6(a,r,s.styles));else if(wd(r))if(j2(r)&&r.assignedNodes)r.assignedNodes().forEach(function(d){return rf(a,d,s,i)});else{var A=v2(a,r);A.styles.isVisible()&&(E6(r,A,i)?A.flags|=4:L6(A.styles)&&(A.flags|=2),D6.indexOf(r.tagName)!==-1&&(A.flags|=8),s.elements.push(A),r.slot,r.shadowRoot?rf(a,r.shadowRoot,A,i):!jf(r)&&!b2(r)&&!Bf(r)&&rf(a,r,A,i))}},v2=function(a,t){return Cx(t)?new d2(a,t):w2(t)?new u2(a,t):b2(t)?new h2(a,t):M6(t)?new m2(a,t):U6(t)?new jx(a,t):O6(t)?new dy(a,t):Bf(t)?new f2(a,t):jf(t)?new p2(a,t):N2(t)?new g2(a,t):new hl(a,t)},x2=function(a,t){var s=v2(a,t);return s.flags|=4,rf(a,t,s,s),s},E6=function(a,t,s){return t.styles.isPositionedWithZIndex()||t.styles.opacity<1||t.styles.isTransformed()||uy(a)&&s.styles.isTransparent()},L6=function(a){return a.isPositioned()||a.isFloating()},y2=function(a){return a.nodeType===Node.TEXT_NODE},wd=function(a){return a.nodeType===Node.ELEMENT_NODE},Bx=function(a){return wd(a)&&typeof a.style<"u"&&!lf(a)},lf=function(a){return typeof a.className=="object"},M6=function(a){return a.tagName==="LI"},U6=function(a){return a.tagName==="OL"},O6=function(a){return a.tagName==="INPUT"},k6=function(a){return a.tagName==="HTML"},b2=function(a){return a.tagName==="svg"},uy=function(a){return a.tagName==="BODY"},w2=function(a){return a.tagName==="CANVAS"},hj=function(a){return a.tagName==="VIDEO"},Cx=function(a){return a.tagName==="IMG"},N2=function(a){return a.tagName==="IFRAME"},mj=function(a){return a.tagName==="STYLE"},I6=function(a){return a.tagName==="SCRIPT"},jf=function(a){return a.tagName==="TEXTAREA"},Bf=function(a){return a.tagName==="SELECT"},j2=function(a){return a.tagName==="SLOT"},fj=function(a){return a.tagName.indexOf("-")>0},Q6=function(){function a(){this.counters={}}return a.prototype.getCounterValue=function(t){var s=this.counters[t];return s&&s.length?s[s.length-1]:1},a.prototype.getCounterValues=function(t){var s=this.counters[t];return s||[]},a.prototype.pop=function(t){var s=this;t.forEach(function(i){return s.counters[i].pop()})},a.prototype.parse=function(t){var s=this,i=t.counterIncrement,r=t.counterReset,c=!0;i!==null&&i.forEach(function(d){var h=s.counters[d.counter];h&&d.increment!==0&&(c=!1,h.length||h.push(1),h[Math.max(0,h.length-1)]+=d.increment)});var A=[];return c&&r.forEach(function(d){var h=s.counters[d.counter];A.push(d.counter),h||(h=s.counters[d.counter]=[]),h.push(d.reset)}),A},a}(),pj={integers:[1e3,900,500,400,100,90,50,40,10,9,5,4,1],values:["M","CM","D","CD","C","XC","L","XL","X","IX","V","IV","I"]},gj={integers:[9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},T6={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,400,300,200,100,90,80,70,60,50,40,30,20,19,18,17,16,15,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},R6={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},ud=function(a,t,s,i,r,c){return a<t||a>s?ch(a,r,c.length>0):i.integers.reduce(function(A,d,h){for(;a>=d;)a-=d,A+=i.values[h];return A},"")+c},B2=function(a,t,s,i){var r="";do s||a--,r=i(a)+r,a/=t;while(a*t>=t);return r},Li=function(a,t,s,i,r){var c=s-t+1;return(a<0?"-":"")+(B2(Math.abs(a),c,i,function(A){return Mi(Math.floor(A%c)+t)})+r)},sA=function(a,t,s){s===void 0&&(s=". ");var i=t.length;return B2(Math.abs(a),i,!1,function(r){return t[Math.floor(r%i)]})+s},gd=1,Jc=2,Zc=4,Vu=8,Vl=function(a,t,s,i,r,c){if(a<-9999||a>9999)return ch(a,4,r.length>0);var A=Math.abs(a),d=r;if(A===0)return t[0]+d;for(var h=0;A>0&&h<=4;h++){var u=A%10;u===0&&Wi(c,gd)&&d!==""?d=t[u]+d:u>1||u===1&&h===0||u===1&&h===1&&Wi(c,Jc)||u===1&&h===1&&Wi(c,Zc)&&a>100||u===1&&h>1&&Wi(c,Vu)?d=t[u]+(h>0?s[h-1]:"")+d:u===1&&h>0&&(d=s[h-1]+d),A=Math.floor(A/10)}return(a<0?i:"")+d},vj="",xj="",yj="",dv="",ch=function(a,t,s){var i=s?". ":"",r=s?"":"",c=s?", ":"",A=s?" ":"";switch(t){case 0:return""+A;case 1:return""+A;case 2:return""+A;case 5:var d=Li(a,48,57,!0,i);return d.length<4?"0"+d:d;case 4:return sA(a,"",r);case 6:return ud(a,1,3999,pj,3,i).toLowerCase();case 7:return ud(a,1,3999,pj,3,i);case 8:return Li(a,945,969,!1,i);case 9:return Li(a,97,122,!1,i);case 10:return Li(a,65,90,!1,i);case 11:return Li(a,1632,1641,!0,i);case 12:case 49:return ud(a,1,9999,gj,3,i);case 35:return ud(a,1,9999,gj,3,i).toLowerCase();case 13:return Li(a,2534,2543,!0,i);case 14:case 30:return Li(a,6112,6121,!0,i);case 15:return sA(a,"",r);case 16:return sA(a,"",r);case 17:case 48:return Vl(a,"",vj,"",r,Jc|Zc|Vu);case 47:return Vl(a,"",xj,"",r,gd|Jc|Zc|Vu);case 42:return Vl(a,"",vj,"",r,Jc|Zc|Vu);case 41:return Vl(a,"",xj,"",r,gd|Jc|Zc|Vu);case 26:return Vl(a,"","",yj,r,0);case 25:return Vl(a,"","",yj,r,gd|Jc|Zc);case 31:return Vl(a,"","",dv,c,gd|Jc|Zc);case 33:return Vl(a,"","",dv,c,0);case 32:return Vl(a,"","",dv,c,gd|Jc|Zc);case 18:return Li(a,2406,2415,!0,i);case 20:return ud(a,1,19999,R6,3,i);case 21:return Li(a,2790,2799,!0,i);case 22:return Li(a,2662,2671,!0,i);case 22:return ud(a,1,10999,T6,3,i);case 23:return sA(a,"");case 24:return sA(a,"");case 27:return Li(a,3302,3311,!0,i);case 28:return sA(a,"",r);case 29:return sA(a,"",r);case 34:return Li(a,3792,3801,!0,i);case 37:return Li(a,6160,6169,!0,i);case 38:return Li(a,4160,4169,!0,i);case 39:return Li(a,2918,2927,!0,i);case 40:return Li(a,1776,1785,!0,i);case 43:return Li(a,3046,3055,!0,i);case 44:return Li(a,3174,3183,!0,i);case 45:return Li(a,3664,3673,!0,i);case 46:return Li(a,3872,3881,!0,i);case 3:default:return Li(a,48,57,!0,i)}},C2="data-html2canvas-ignore",bj=function(){function a(t,s,i){if(this.context=t,this.options=i,this.scrolledElements=[],this.referenceElement=s,this.counters=new Q6,this.quoteDepth=0,!s.ownerDocument)throw new Error("Cloned element does not have an owner document");this.documentElement=this.cloneNode(s.ownerDocument.documentElement,!1)}return a.prototype.toIFrame=function(t,s){var i=this,r=P6(t,s);if(!r.contentWindow)return Promise.reject("Unable to find iframe window");var c=t.defaultView.pageXOffset,A=t.defaultView.pageYOffset,d=r.contentWindow,h=d.document,u=K6(r).then(function(){return Vs(i,void 0,void 0,function(){var v,x;return Es(this,function(y){switch(y.label){case 0:return this.scrolledElements.forEach(G6),d&&(d.scrollTo(s.left,s.top),/(iPad|iPhone|iPod)/g.test(navigator.userAgent)&&(d.scrollY!==s.top||d.scrollX!==s.left)&&(this.context.logger.warn("Unable to restore scroll position for cloned document"),this.context.windowBounds=this.context.windowBounds.add(d.scrollX-s.left,d.scrollY-s.top,0,0))),v=this.options.onclone,x=this.clonedReferenceElement,typeof x>"u"?[2,Promise.reject("Error finding the "+this.referenceElement.nodeName+" in the cloned document")]:h.fonts&&h.fonts.ready?[4,h.fonts.ready]:[3,2];case 1:y.sent(),y.label=2;case 2:return/(AppleWebKit)/g.test(navigator.userAgent)?[4,q6(h)]:[3,4];case 3:y.sent(),y.label=4;case 4:return typeof v=="function"?[2,Promise.resolve().then(function(){return v(h,x)}).then(function(){return r})]:[2,r]}})})});return h.open(),h.write(z6(document.doctype)+"<html></html>"),$6(this.referenceElement.ownerDocument,c,A),h.replaceChild(h.adoptNode(this.documentElement),h.documentElement),h.close(),u},a.prototype.createElementClone=function(t){if(wx(t,2))debugger;if(w2(t))return this.createCanvasClone(t);if(hj(t))return this.createVideoClone(t);if(mj(t))return this.createStyleClone(t);var s=t.cloneNode(!1);return Cx(s)&&(Cx(t)&&t.currentSrc&&t.currentSrc!==t.src&&(s.src=t.currentSrc,s.srcset=""),s.loading==="lazy"&&(s.loading="eager")),fj(s)?this.createCustomElementClone(s):s},a.prototype.createCustomElementClone=function(t){var s=document.createElement("html2canvascustomelement");return uv(t.style,s),s},a.prototype.createStyleClone=function(t){try{var s=t.sheet;if(s&&s.cssRules){var i=[].slice.call(s.cssRules,0).reduce(function(c,A){return A&&typeof A.cssText=="string"?c+A.cssText:c},""),r=t.cloneNode(!1);return r.textContent=i,r}}catch(c){if(this.context.logger.error("Unable to access cssRules property",c),c.name!=="SecurityError")throw c}return t.cloneNode(!1)},a.prototype.createCanvasClone=function(t){var s;if(this.options.inlineImages&&t.ownerDocument){var i=t.ownerDocument.createElement("img");try{return i.src=t.toDataURL(),i}catch{this.context.logger.info("Unable to inline canvas contents, canvas is tainted",t)}}var r=t.cloneNode(!1);try{r.width=t.width,r.height=t.height;var c=t.getContext("2d"),A=r.getContext("2d");if(A)if(!this.options.allowTaint&&c)A.putImageData(c.getImageData(0,0,t.width,t.height),0,0);else{var d=(s=t.getContext("webgl2"))!==null&&s!==void 0?s:t.getContext("webgl");if(d){var h=d.getContextAttributes();(h==null?void 0:h.preserveDrawingBuffer)===!1&&this.context.logger.warn("Unable to clone WebGL context as it has preserveDrawingBuffer=false",t)}A.drawImage(t,0,0)}return r}catch{this.context.logger.info("Unable to clone canvas as it is tainted",t)}return r},a.prototype.createVideoClone=function(t){var s=t.ownerDocument.createElement("canvas");s.width=t.offsetWidth,s.height=t.offsetHeight;var i=s.getContext("2d");try{return i&&(i.drawImage(t,0,0,s.width,s.height),this.options.allowTaint||i.getImageData(0,0,s.width,s.height)),s}catch{this.context.logger.info("Unable to clone video as it is tainted",t)}var r=t.ownerDocument.createElement("canvas");return r.width=t.offsetWidth,r.height=t.offsetHeight,r},a.prototype.appendChildNode=function(t,s,i){(!wd(s)||!I6(s)&&!s.hasAttribute(C2)&&(typeof this.options.ignoreElements!="function"||!this.options.ignoreElements(s)))&&(!this.options.copyStyles||!wd(s)||!mj(s))&&t.appendChild(this.cloneNode(s,i))},a.prototype.cloneChildNodes=function(t,s,i){for(var r=this,c=t.shadowRoot?t.shadowRoot.firstChild:t.firstChild;c;c=c.nextSibling)if(wd(c)&&j2(c)&&typeof c.assignedNodes=="function"){var A=c.assignedNodes();A.length&&A.forEach(function(d){return r.appendChildNode(s,d,i)})}else this.appendChildNode(s,c,i)},a.prototype.cloneNode=function(t,s){if(y2(t))return document.createTextNode(t.data);if(!t.ownerDocument)return t.cloneNode(!1);var i=t.ownerDocument.defaultView;if(i&&wd(t)&&(Bx(t)||lf(t))){var r=this.createElementClone(t);r.style.transitionProperty="none";var c=i.getComputedStyle(t),A=i.getComputedStyle(t,":before"),d=i.getComputedStyle(t,":after");this.referenceElement===t&&Bx(r)&&(this.clonedReferenceElement=r),uy(r)&&X6(r);var h=this.counters.parse(new JN(this.context,c)),u=this.resolvePseudoContent(t,r,A,Zu.BEFORE);fj(t)&&(s=!0),hj(t)||this.cloneChildNodes(t,r,s),u&&r.insertBefore(u,r.firstChild);var v=this.resolvePseudoContent(t,r,d,Zu.AFTER);return v&&r.appendChild(v),this.counters.pop(h),(c&&(this.options.copyStyles||lf(t))&&!N2(t)||s)&&uv(c,r),(t.scrollTop!==0||t.scrollLeft!==0)&&this.scrolledElements.push([r,t.scrollLeft,t.scrollTop]),(jf(t)||Bf(t))&&(jf(r)||Bf(r))&&(r.value=t.value),r}return t.cloneNode(!1)},a.prototype.resolvePseudoContent=function(t,s,i,r){var c=this;if(i){var A=i.content,d=s.ownerDocument;if(!(!d||!A||A==="none"||A==="-moz-alt-content"||i.display==="none")){this.counters.parse(new JN(this.context,i));var h=new MM(this.context,i),u=d.createElement("html2canvaspseudoelement");uv(i,u),h.content.forEach(function(x){if(x.type===0)u.appendChild(d.createTextNode(x.value));else if(x.type===22){var y=d.createElement("img");y.src=x.value,y.style.opacity="1",u.appendChild(y)}else if(x.type===18){if(x.name==="attr"){var p=x.values.filter(Xa);p.length&&u.appendChild(d.createTextNode(t.getAttribute(p[0].value)||""))}else if(x.name==="counter"){var F=x.values.filter(Ld),b=F[0],S=F[1];if(b&&Xa(b)){var f=c.counters.getCounterValue(b.value),O=S&&Xa(S)?bx.parse(c.context,S.value):3;u.appendChild(d.createTextNode(ch(f,O,!1)))}}else if(x.name==="counters"){var M=x.values.filter(Ld),b=M[0],J=M[1],S=M[2];if(b&&Xa(b)){var K=c.counters.getCounterValues(b.value),H=S&&Xa(S)?bx.parse(c.context,S.value):3,k=J&&J.type===0?J.value:"",Y=K.map(function(_){return ch(_,H,!1)}).join(k);u.appendChild(d.createTextNode(Y))}}}else if(x.type===20)switch(x.value){case"open-quote":u.appendChild(d.createTextNode(XN(h.quotes,c.quoteDepth++,!0)));break;case"close-quote":u.appendChild(d.createTextNode(XN(h.quotes,--c.quoteDepth,!1)));break;default:u.appendChild(d.createTextNode(x.value))}}),u.className=Sx+" "+_x;var v=r===Zu.BEFORE?" "+Sx:" "+_x;return lf(s)?s.className.baseValue+=v:s.className+=v,u}}},a.destroy=function(t){return t.parentNode?(t.parentNode.removeChild(t),!0):!1},a}(),Zu;(function(a){a[a.BEFORE=0]="BEFORE",a[a.AFTER=1]="AFTER"})(Zu||(Zu={}));var P6=function(a,t){var s=a.createElement("iframe");return s.className="html2canvas-container",s.style.visibility="hidden",s.style.position="fixed",s.style.left="-10000px",s.style.top="0px",s.style.border="0",s.width=t.width.toString(),s.height=t.height.toString(),s.scrolling="no",s.setAttribute(C2,"true"),a.body.appendChild(s),s},H6=function(a){return new Promise(function(t){if(a.complete){t();return}if(!a.src){t();return}a.onload=t,a.onerror=t})},q6=function(a){return Promise.all([].slice.call(a.images,0).map(H6))},K6=function(a){return new Promise(function(t,s){var i=a.contentWindow;if(!i)return s("No window assigned for iframe");var r=i.document;i.onload=a.onload=function(){i.onload=a.onload=null;var c=setInterval(function(){r.body.childNodes.length>0&&r.readyState==="complete"&&(clearInterval(c),t(a))},50)}})},V6=["all","d","content"],uv=function(a,t){for(var s=a.length-1;s>=0;s--){var i=a.item(s);V6.indexOf(i)===-1&&t.style.setProperty(i,a.getPropertyValue(i))}return t},z6=function(a){var t="";return a&&(t+="<!DOCTYPE ",a.name&&(t+=a.name),a.internalSubset&&(t+=a.internalSubset),a.publicId&&(t+='"'+a.publicId+'"'),a.systemId&&(t+='"'+a.systemId+'"'),t+=">"),t},$6=function(a,t,s){a&&a.defaultView&&(t!==a.defaultView.pageXOffset||s!==a.defaultView.pageYOffset)&&a.defaultView.scrollTo(t,s)},G6=function(a){var t=a[0],s=a[1],i=a[2];t.scrollLeft=s,t.scrollTop=i},W6=":before",Y6=":after",Sx="___html2canvas___pseudoelement_before",_x="___html2canvas___pseudoelement_after",wj=`{
    content: "" !important;
    display: none !important;
}`,X6=function(a){J6(a,"."+Sx+W6+wj+`
         .`+_x+Y6+wj)},J6=function(a,t){var s=a.ownerDocument;if(s){var i=s.createElement("style");i.textContent=t,a.appendChild(i)}},S2=function(){function a(){}return a.getOrigin=function(t){var s=a._link;return s?(s.href=t,s.href=s.href,s.protocol+s.hostname+s.port):"about:blank"},a.isSameOrigin=function(t){return a.getOrigin(t)===a._origin},a.setContext=function(t){a._link=t.document.createElement("a"),a._origin=a.getOrigin(t.location.href)},a._origin="about:blank",a}(),Z6=function(){function a(t,s){this.context=t,this._options=s,this._cache={}}return a.prototype.addImage=function(t){var s=Promise.resolve();return this.has(t)||(mv(t)||iU(t))&&(this._cache[t]=this.loadImage(t)).catch(function(){}),s},a.prototype.match=function(t){return this._cache[t]},a.prototype.loadImage=function(t){return Vs(this,void 0,void 0,function(){var s,i,r,c,A=this;return Es(this,function(d){switch(d.label){case 0:return s=S2.isSameOrigin(t),i=!hv(t)&&this._options.useCORS===!0&&fs.SUPPORT_CORS_IMAGES&&!s,r=!hv(t)&&!s&&!mv(t)&&typeof this._options.proxy=="string"&&fs.SUPPORT_CORS_XHR&&!i,!s&&this._options.allowTaint===!1&&!hv(t)&&!mv(t)&&!r&&!i?[2]:(c=t,r?[4,this.proxy(c)]:[3,2]);case 1:c=d.sent(),d.label=2;case 2:return this.context.logger.debug("Added image "+t.substring(0,256)),[4,new Promise(function(h,u){var v=new Image;v.onload=function(){return h(v)},v.onerror=u,(sU(c)||i)&&(v.crossOrigin="anonymous"),v.src=c,v.complete===!0&&setTimeout(function(){return h(v)},500),A._options.imageTimeout>0&&setTimeout(function(){return u("Timed out ("+A._options.imageTimeout+"ms) loading image")},A._options.imageTimeout)})];case 3:return[2,d.sent()]}})})},a.prototype.has=function(t){return typeof this._cache[t]<"u"},a.prototype.keys=function(){return Promise.resolve(Object.keys(this._cache))},a.prototype.proxy=function(t){var s=this,i=this._options.proxy;if(!i)throw new Error("No proxy defined");var r=t.substring(0,256);return new Promise(function(c,A){var d=fs.SUPPORT_RESPONSE_TYPE?"blob":"text",h=new XMLHttpRequest;h.onload=function(){if(h.status===200)if(d==="text")c(h.response);else{var x=new FileReader;x.addEventListener("load",function(){return c(x.result)},!1),x.addEventListener("error",function(y){return A(y)},!1),x.readAsDataURL(h.response)}else A("Failed to proxy resource "+r+" with status code "+h.status)},h.onerror=A;var u=i.indexOf("?")>-1?"&":"?";if(h.open("GET",""+i+u+"url="+encodeURIComponent(t)+"&responseType="+d),d!=="text"&&h instanceof XMLHttpRequest&&(h.responseType=d),s._options.imageTimeout){var v=s._options.imageTimeout;h.timeout=v,h.ontimeout=function(){return A("Timed out ("+v+"ms) proxying "+r)}}h.send()})},a}(),eU=/^data:image\/svg\+xml/i,tU=/^data:image\/.*;base64,/i,aU=/^data:image\/.*/i,iU=function(a){return fs.SUPPORT_SVG_DRAWING||!nU(a)},hv=function(a){return aU.test(a)},sU=function(a){return tU.test(a)},mv=function(a){return a.substr(0,4)==="blob"},nU=function(a){return a.substr(-3).toLowerCase()==="svg"||eU.test(a)},$t=function(){function a(t,s){this.type=0,this.x=t,this.y=s}return a.prototype.add=function(t,s){return new a(this.x+t,this.y+s)},a}(),hd=function(a,t,s){return new $t(a.x+(t.x-a.x)*s,a.y+(t.y-a.y)*s)},Tm=function(){function a(t,s,i,r){this.type=1,this.start=t,this.startControl=s,this.endControl=i,this.end=r}return a.prototype.subdivide=function(t,s){var i=hd(this.start,this.startControl,t),r=hd(this.startControl,this.endControl,t),c=hd(this.endControl,this.end,t),A=hd(i,r,t),d=hd(r,c,t),h=hd(A,d,t);return s?new a(this.start,i,A,h):new a(h,d,c,this.end)},a.prototype.add=function(t,s){return new a(this.start.add(t,s),this.startControl.add(t,s),this.endControl.add(t,s),this.end.add(t,s))},a.prototype.reverse=function(){return new a(this.end,this.endControl,this.startControl,this.start)},a}(),Gn=function(a){return a.type===1},rU=function(){function a(t){var s=t.styles,i=t.bounds,r=qu(s.borderTopLeftRadius,i.width,i.height),c=r[0],A=r[1],d=qu(s.borderTopRightRadius,i.width,i.height),h=d[0],u=d[1],v=qu(s.borderBottomRightRadius,i.width,i.height),x=v[0],y=v[1],p=qu(s.borderBottomLeftRadius,i.width,i.height),F=p[0],b=p[1],S=[];S.push((c+h)/i.width),S.push((F+x)/i.width),S.push((A+b)/i.height),S.push((u+y)/i.height);var f=Math.max.apply(Math,S);f>1&&(c/=f,A/=f,h/=f,u/=f,x/=f,y/=f,F/=f,b/=f);var O=i.width-h,M=i.height-y,J=i.width-x,K=i.height-b,H=s.borderTopWidth,k=s.borderRightWidth,Y=s.borderBottomWidth,D=s.borderLeftWidth,ge=ni(s.paddingTop,t.bounds.width),_=ni(s.paddingRight,t.bounds.width),X=ni(s.paddingBottom,t.bounds.width),re=ni(s.paddingLeft,t.bounds.width);this.topLeftBorderDoubleOuterBox=c>0||A>0?fi(i.left+D/3,i.top+H/3,c-D/3,A-H/3,Ka.TOP_LEFT):new $t(i.left+D/3,i.top+H/3),this.topRightBorderDoubleOuterBox=c>0||A>0?fi(i.left+O,i.top+H/3,h-k/3,u-H/3,Ka.TOP_RIGHT):new $t(i.left+i.width-k/3,i.top+H/3),this.bottomRightBorderDoubleOuterBox=x>0||y>0?fi(i.left+J,i.top+M,x-k/3,y-Y/3,Ka.BOTTOM_RIGHT):new $t(i.left+i.width-k/3,i.top+i.height-Y/3),this.bottomLeftBorderDoubleOuterBox=F>0||b>0?fi(i.left+D/3,i.top+K,F-D/3,b-Y/3,Ka.BOTTOM_LEFT):new $t(i.left+D/3,i.top+i.height-Y/3),this.topLeftBorderDoubleInnerBox=c>0||A>0?fi(i.left+D*2/3,i.top+H*2/3,c-D*2/3,A-H*2/3,Ka.TOP_LEFT):new $t(i.left+D*2/3,i.top+H*2/3),this.topRightBorderDoubleInnerBox=c>0||A>0?fi(i.left+O,i.top+H*2/3,h-k*2/3,u-H*2/3,Ka.TOP_RIGHT):new $t(i.left+i.width-k*2/3,i.top+H*2/3),this.bottomRightBorderDoubleInnerBox=x>0||y>0?fi(i.left+J,i.top+M,x-k*2/3,y-Y*2/3,Ka.BOTTOM_RIGHT):new $t(i.left+i.width-k*2/3,i.top+i.height-Y*2/3),this.bottomLeftBorderDoubleInnerBox=F>0||b>0?fi(i.left+D*2/3,i.top+K,F-D*2/3,b-Y*2/3,Ka.BOTTOM_LEFT):new $t(i.left+D*2/3,i.top+i.height-Y*2/3),this.topLeftBorderStroke=c>0||A>0?fi(i.left+D/2,i.top+H/2,c-D/2,A-H/2,Ka.TOP_LEFT):new $t(i.left+D/2,i.top+H/2),this.topRightBorderStroke=c>0||A>0?fi(i.left+O,i.top+H/2,h-k/2,u-H/2,Ka.TOP_RIGHT):new $t(i.left+i.width-k/2,i.top+H/2),this.bottomRightBorderStroke=x>0||y>0?fi(i.left+J,i.top+M,x-k/2,y-Y/2,Ka.BOTTOM_RIGHT):new $t(i.left+i.width-k/2,i.top+i.height-Y/2),this.bottomLeftBorderStroke=F>0||b>0?fi(i.left+D/2,i.top+K,F-D/2,b-Y/2,Ka.BOTTOM_LEFT):new $t(i.left+D/2,i.top+i.height-Y/2),this.topLeftBorderBox=c>0||A>0?fi(i.left,i.top,c,A,Ka.TOP_LEFT):new $t(i.left,i.top),this.topRightBorderBox=h>0||u>0?fi(i.left+O,i.top,h,u,Ka.TOP_RIGHT):new $t(i.left+i.width,i.top),this.bottomRightBorderBox=x>0||y>0?fi(i.left+J,i.top+M,x,y,Ka.BOTTOM_RIGHT):new $t(i.left+i.width,i.top+i.height),this.bottomLeftBorderBox=F>0||b>0?fi(i.left,i.top+K,F,b,Ka.BOTTOM_LEFT):new $t(i.left,i.top+i.height),this.topLeftPaddingBox=c>0||A>0?fi(i.left+D,i.top+H,Math.max(0,c-D),Math.max(0,A-H),Ka.TOP_LEFT):new $t(i.left+D,i.top+H),this.topRightPaddingBox=h>0||u>0?fi(i.left+Math.min(O,i.width-k),i.top+H,O>i.width+k?0:Math.max(0,h-k),Math.max(0,u-H),Ka.TOP_RIGHT):new $t(i.left+i.width-k,i.top+H),this.bottomRightPaddingBox=x>0||y>0?fi(i.left+Math.min(J,i.width-D),i.top+Math.min(M,i.height-Y),Math.max(0,x-k),Math.max(0,y-Y),Ka.BOTTOM_RIGHT):new $t(i.left+i.width-k,i.top+i.height-Y),this.bottomLeftPaddingBox=F>0||b>0?fi(i.left+D,i.top+Math.min(K,i.height-Y),Math.max(0,F-D),Math.max(0,b-Y),Ka.BOTTOM_LEFT):new $t(i.left+D,i.top+i.height-Y),this.topLeftContentBox=c>0||A>0?fi(i.left+D+re,i.top+H+ge,Math.max(0,c-(D+re)),Math.max(0,A-(H+ge)),Ka.TOP_LEFT):new $t(i.left+D+re,i.top+H+ge),this.topRightContentBox=h>0||u>0?fi(i.left+Math.min(O,i.width+D+re),i.top+H+ge,O>i.width+D+re?0:h-D+re,u-(H+ge),Ka.TOP_RIGHT):new $t(i.left+i.width-(k+_),i.top+H+ge),this.bottomRightContentBox=x>0||y>0?fi(i.left+Math.min(J,i.width-(D+re)),i.top+Math.min(M,i.height+H+ge),Math.max(0,x-(k+_)),y-(Y+X),Ka.BOTTOM_RIGHT):new $t(i.left+i.width-(k+_),i.top+i.height-(Y+X)),this.bottomLeftContentBox=F>0||b>0?fi(i.left+D+re,i.top+K,Math.max(0,F-(D+re)),b-(Y+X),Ka.BOTTOM_LEFT):new $t(i.left+D+re,i.top+i.height-(Y+X))}return a}(),Ka;(function(a){a[a.TOP_LEFT=0]="TOP_LEFT",a[a.TOP_RIGHT=1]="TOP_RIGHT",a[a.BOTTOM_RIGHT=2]="BOTTOM_RIGHT",a[a.BOTTOM_LEFT=3]="BOTTOM_LEFT"})(Ka||(Ka={}));var fi=function(a,t,s,i,r){var c=4*((Math.sqrt(2)-1)/3),A=s*c,d=i*c,h=a+s,u=t+i;switch(r){case Ka.TOP_LEFT:return new Tm(new $t(a,u),new $t(a,u-d),new $t(h-A,t),new $t(h,t));case Ka.TOP_RIGHT:return new Tm(new $t(a,t),new $t(a+A,t),new $t(h,u-d),new $t(h,u));case Ka.BOTTOM_RIGHT:return new Tm(new $t(h,t),new $t(h,t+d),new $t(a+A,u),new $t(a,u));case Ka.BOTTOM_LEFT:default:return new Tm(new $t(h,u),new $t(h-A,u),new $t(a,t+d),new $t(a,t))}},Cf=function(a){return[a.topLeftBorderBox,a.topRightBorderBox,a.bottomRightBorderBox,a.bottomLeftBorderBox]},lU=function(a){return[a.topLeftContentBox,a.topRightContentBox,a.bottomRightContentBox,a.bottomLeftContentBox]},Sf=function(a){return[a.topLeftPaddingBox,a.topRightPaddingBox,a.bottomRightPaddingBox,a.bottomLeftPaddingBox]},cU=function(){function a(t,s,i){this.offsetX=t,this.offsetY=s,this.matrix=i,this.type=0,this.target=6}return a}(),Rm=function(){function a(t,s){this.path=t,this.target=s,this.type=1}return a}(),oU=function(){function a(t){this.opacity=t,this.type=2,this.target=6}return a}(),AU=function(a){return a.type===0},_2=function(a){return a.type===1},dU=function(a){return a.type===2},Nj=function(a,t){return a.length===t.length?a.some(function(s,i){return s===t[i]}):!1},uU=function(a,t,s,i,r){return a.map(function(c,A){switch(A){case 0:return c.add(t,s);case 1:return c.add(t+i,s);case 2:return c.add(t+i,s+r);case 3:return c.add(t,s+r)}return c})},F2=function(){function a(t){this.element=t,this.inlineLevel=[],this.nonInlineLevel=[],this.negativeZIndex=[],this.zeroOrAutoZIndexOrTransformedOrOpacity=[],this.positiveZIndex=[],this.nonPositionedFloats=[],this.nonPositionedInlineLevel=[]}return a}(),D2=function(){function a(t,s){if(this.container=t,this.parent=s,this.effects=[],this.curves=new rU(this.container),this.container.styles.opacity<1&&this.effects.push(new oU(this.container.styles.opacity)),this.container.styles.transform!==null){var i=this.container.bounds.left+this.container.styles.transformOrigin[0].number,r=this.container.bounds.top+this.container.styles.transformOrigin[1].number,c=this.container.styles.transform;this.effects.push(new cU(i,r,c))}if(this.container.styles.overflowX!==0){var A=Cf(this.curves),d=Sf(this.curves);Nj(A,d)?this.effects.push(new Rm(A,6)):(this.effects.push(new Rm(A,2)),this.effects.push(new Rm(d,4)))}}return a.prototype.getEffects=function(t){for(var s=[2,3].indexOf(this.container.styles.position)===-1,i=this.parent,r=this.effects.slice(0);i;){var c=i.effects.filter(function(h){return!_2(h)});if(s||i.container.styles.position!==0||!i.parent){if(r.unshift.apply(r,c),s=[2,3].indexOf(i.container.styles.position)===-1,i.container.styles.overflowX!==0){var A=Cf(i.curves),d=Sf(i.curves);Nj(A,d)||r.unshift(new Rm(d,6))}}else r.unshift.apply(r,c);i=i.parent}return r.filter(function(h){return Wi(h.target,t)})},a}(),Fx=function(a,t,s,i){a.container.elements.forEach(function(r){var c=Wi(r.flags,4),A=Wi(r.flags,2),d=new D2(r,a);Wi(r.styles.display,2048)&&i.push(d);var h=Wi(r.flags,8)?[]:i;if(c||A){var u=c||r.styles.isPositioned()?s:t,v=new F2(d);if(r.styles.isPositioned()||r.styles.opacity<1||r.styles.isTransformed()){var x=r.styles.zIndex.order;if(x<0){var y=0;u.negativeZIndex.some(function(F,b){return x>F.element.container.styles.zIndex.order?(y=b,!1):y>0}),u.negativeZIndex.splice(y,0,v)}else if(x>0){var p=0;u.positiveZIndex.some(function(F,b){return x>=F.element.container.styles.zIndex.order?(p=b+1,!1):p>0}),u.positiveZIndex.splice(p,0,v)}else u.zeroOrAutoZIndexOrTransformedOrOpacity.push(v)}else r.styles.isFloating()?u.nonPositionedFloats.push(v):u.nonPositionedInlineLevel.push(v);Fx(d,v,c?v:s,h)}else r.styles.isInlineLevel()?t.inlineLevel.push(d):t.nonInlineLevel.push(d),Fx(d,t,s,h);Wi(r.flags,8)&&E2(r,h)})},E2=function(a,t){for(var s=a instanceof jx?a.start:1,i=a instanceof jx?a.reversed:!1,r=0;r<t.length;r++){var c=t[r];c.container instanceof m2&&typeof c.container.value=="number"&&c.container.value!==0&&(s=c.container.value),c.listValue=ch(s,c.container.styles.listStyleType,!0),s+=i?-1:1}},hU=function(a){var t=new D2(a,null),s=new F2(t),i=[];return Fx(t,s,s,i),E2(t.container,i),s},jj=function(a,t){switch(t){case 0:return Yn(a.topLeftBorderBox,a.topLeftPaddingBox,a.topRightBorderBox,a.topRightPaddingBox);case 1:return Yn(a.topRightBorderBox,a.topRightPaddingBox,a.bottomRightBorderBox,a.bottomRightPaddingBox);case 2:return Yn(a.bottomRightBorderBox,a.bottomRightPaddingBox,a.bottomLeftBorderBox,a.bottomLeftPaddingBox);case 3:default:return Yn(a.bottomLeftBorderBox,a.bottomLeftPaddingBox,a.topLeftBorderBox,a.topLeftPaddingBox)}},mU=function(a,t){switch(t){case 0:return Yn(a.topLeftBorderBox,a.topLeftBorderDoubleOuterBox,a.topRightBorderBox,a.topRightBorderDoubleOuterBox);case 1:return Yn(a.topRightBorderBox,a.topRightBorderDoubleOuterBox,a.bottomRightBorderBox,a.bottomRightBorderDoubleOuterBox);case 2:return Yn(a.bottomRightBorderBox,a.bottomRightBorderDoubleOuterBox,a.bottomLeftBorderBox,a.bottomLeftBorderDoubleOuterBox);case 3:default:return Yn(a.bottomLeftBorderBox,a.bottomLeftBorderDoubleOuterBox,a.topLeftBorderBox,a.topLeftBorderDoubleOuterBox)}},fU=function(a,t){switch(t){case 0:return Yn(a.topLeftBorderDoubleInnerBox,a.topLeftPaddingBox,a.topRightBorderDoubleInnerBox,a.topRightPaddingBox);case 1:return Yn(a.topRightBorderDoubleInnerBox,a.topRightPaddingBox,a.bottomRightBorderDoubleInnerBox,a.bottomRightPaddingBox);case 2:return Yn(a.bottomRightBorderDoubleInnerBox,a.bottomRightPaddingBox,a.bottomLeftBorderDoubleInnerBox,a.bottomLeftPaddingBox);case 3:default:return Yn(a.bottomLeftBorderDoubleInnerBox,a.bottomLeftPaddingBox,a.topLeftBorderDoubleInnerBox,a.topLeftPaddingBox)}},pU=function(a,t){switch(t){case 0:return Pm(a.topLeftBorderStroke,a.topRightBorderStroke);case 1:return Pm(a.topRightBorderStroke,a.bottomRightBorderStroke);case 2:return Pm(a.bottomRightBorderStroke,a.bottomLeftBorderStroke);case 3:default:return Pm(a.bottomLeftBorderStroke,a.topLeftBorderStroke)}},Pm=function(a,t){var s=[];return Gn(a)?s.push(a.subdivide(.5,!1)):s.push(a),Gn(t)?s.push(t.subdivide(.5,!0)):s.push(t),s},Yn=function(a,t,s,i){var r=[];return Gn(a)?r.push(a.subdivide(.5,!1)):r.push(a),Gn(s)?r.push(s.subdivide(.5,!0)):r.push(s),Gn(i)?r.push(i.subdivide(.5,!0).reverse()):r.push(i),Gn(t)?r.push(t.subdivide(.5,!1).reverse()):r.push(t),r},L2=function(a){var t=a.bounds,s=a.styles;return t.add(s.borderLeftWidth,s.borderTopWidth,-(s.borderRightWidth+s.borderLeftWidth),-(s.borderTopWidth+s.borderBottomWidth))},_f=function(a){var t=a.styles,s=a.bounds,i=ni(t.paddingLeft,s.width),r=ni(t.paddingRight,s.width),c=ni(t.paddingTop,s.width),A=ni(t.paddingBottom,s.width);return s.add(i+t.borderLeftWidth,c+t.borderTopWidth,-(t.borderRightWidth+t.borderLeftWidth+i+r),-(t.borderTopWidth+t.borderBottomWidth+c+A))},gU=function(a,t){return a===0?t.bounds:a===2?_f(t):L2(t)},vU=function(a,t){return a===0?t.bounds:a===2?_f(t):L2(t)},fv=function(a,t,s){var i=gU(vd(a.styles.backgroundOrigin,t),a),r=vU(vd(a.styles.backgroundClip,t),a),c=xU(vd(a.styles.backgroundSize,t),s,i),A=c[0],d=c[1],h=qu(vd(a.styles.backgroundPosition,t),i.width-A,i.height-d),u=yU(vd(a.styles.backgroundRepeat,t),h,c,i,r),v=Math.round(i.left+h[0]),x=Math.round(i.top+h[1]);return[u,v,x,A,d]},md=function(a){return Xa(a)&&a.value===Fd.AUTO},Hm=function(a){return typeof a=="number"},xU=function(a,t,s){var i=t[0],r=t[1],c=t[2],A=a[0],d=a[1];if(!A)return[0,0];if(qi(A)&&d&&qi(d))return[ni(A,s.width),ni(d,s.height)];var h=Hm(c);if(Xa(A)&&(A.value===Fd.CONTAIN||A.value===Fd.COVER)){if(Hm(c)){var u=s.width/s.height;return u<c!=(A.value===Fd.COVER)?[s.width,s.width/c]:[s.height*c,s.height]}return[s.width,s.height]}var v=Hm(i),x=Hm(r),y=v||x;if(md(A)&&(!d||md(d))){if(v&&x)return[i,r];if(!h&&!y)return[s.width,s.height];if(y&&h){var p=v?i:r*c,F=x?r:i/c;return[p,F]}var b=v?i:s.width,S=x?r:s.height;return[b,S]}if(h){var f=0,O=0;return qi(A)?f=ni(A,s.width):qi(d)&&(O=ni(d,s.height)),md(A)?f=O*c:(!d||md(d))&&(O=f/c),[f,O]}var M=null,J=null;if(qi(A)?M=ni(A,s.width):d&&qi(d)&&(J=ni(d,s.height)),M!==null&&(!d||md(d))&&(J=v&&x?M/i*r:s.height),J!==null&&md(A)&&(M=v&&x?J/r*i:s.width),M!==null&&J!==null)return[M,J];throw new Error("Unable to calculate background-size for element")},vd=function(a,t){var s=a[t];return typeof s>"u"?a[0]:s},yU=function(a,t,s,i,r){var c=t[0],A=t[1],d=s[0],h=s[1];switch(a){case 2:return[new $t(Math.round(i.left),Math.round(i.top+A)),new $t(Math.round(i.left+i.width),Math.round(i.top+A)),new $t(Math.round(i.left+i.width),Math.round(h+i.top+A)),new $t(Math.round(i.left),Math.round(h+i.top+A))];case 3:return[new $t(Math.round(i.left+c),Math.round(i.top)),new $t(Math.round(i.left+c+d),Math.round(i.top)),new $t(Math.round(i.left+c+d),Math.round(i.height+i.top)),new $t(Math.round(i.left+c),Math.round(i.height+i.top))];case 1:return[new $t(Math.round(i.left+c),Math.round(i.top+A)),new $t(Math.round(i.left+c+d),Math.round(i.top+A)),new $t(Math.round(i.left+c+d),Math.round(i.top+A+h)),new $t(Math.round(i.left+c),Math.round(i.top+A+h))];default:return[new $t(Math.round(r.left),Math.round(r.top)),new $t(Math.round(r.left+r.width),Math.round(r.top)),new $t(Math.round(r.left+r.width),Math.round(r.height+r.top)),new $t(Math.round(r.left),Math.round(r.height+r.top))]}},bU="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",Bj="Hidden Text",wU=function(){function a(t){this._data={},this._document=t}return a.prototype.parseMetrics=function(t,s){var i=this._document.createElement("div"),r=this._document.createElement("img"),c=this._document.createElement("span"),A=this._document.body;i.style.visibility="hidden",i.style.fontFamily=t,i.style.fontSize=s,i.style.margin="0",i.style.padding="0",i.style.whiteSpace="nowrap",A.appendChild(i),r.src=bU,r.width=1,r.height=1,r.style.margin="0",r.style.padding="0",r.style.verticalAlign="baseline",c.style.fontFamily=t,c.style.fontSize=s,c.style.margin="0",c.style.padding="0",c.appendChild(this._document.createTextNode(Bj)),i.appendChild(c),i.appendChild(r);var d=r.offsetTop-c.offsetTop+2;i.removeChild(c),i.appendChild(this._document.createTextNode(Bj)),i.style.lineHeight="normal",r.style.verticalAlign="super";var h=r.offsetTop-i.offsetTop+2;return A.removeChild(i),{baseline:d,middle:h}},a.prototype.getMetrics=function(t,s){var i=t+" "+s;return typeof this._data[i]>"u"&&(this._data[i]=this.parseMetrics(t,s)),this._data[i]},a}(),M2=function(){function a(t,s){this.context=t,this.options=s}return a}(),NU=1e4,jU=function(a){_r(t,a);function t(s,i){var r=a.call(this,s,i)||this;return r._activeEffects=[],r.canvas=i.canvas?i.canvas:document.createElement("canvas"),r.ctx=r.canvas.getContext("2d"),i.canvas||(r.canvas.width=Math.floor(i.width*i.scale),r.canvas.height=Math.floor(i.height*i.scale),r.canvas.style.width=i.width+"px",r.canvas.style.height=i.height+"px"),r.fontMetrics=new wU(document),r.ctx.scale(r.options.scale,r.options.scale),r.ctx.translate(-i.x,-i.y),r.ctx.textBaseline="bottom",r._activeEffects=[],r.context.logger.debug("Canvas renderer initialized ("+i.width+"x"+i.height+") with scale "+i.scale),r}return t.prototype.applyEffects=function(s){for(var i=this;this._activeEffects.length;)this.popEffect();s.forEach(function(r){return i.applyEffect(r)})},t.prototype.applyEffect=function(s){this.ctx.save(),dU(s)&&(this.ctx.globalAlpha=s.opacity),AU(s)&&(this.ctx.translate(s.offsetX,s.offsetY),this.ctx.transform(s.matrix[0],s.matrix[1],s.matrix[2],s.matrix[3],s.matrix[4],s.matrix[5]),this.ctx.translate(-s.offsetX,-s.offsetY)),_2(s)&&(this.path(s.path),this.ctx.clip()),this._activeEffects.push(s)},t.prototype.popEffect=function(){this._activeEffects.pop(),this.ctx.restore()},t.prototype.renderStack=function(s){return Vs(this,void 0,void 0,function(){var i;return Es(this,function(r){switch(r.label){case 0:return i=s.element.container.styles,i.isVisible()?[4,this.renderStackContent(s)]:[3,2];case 1:r.sent(),r.label=2;case 2:return[2]}})})},t.prototype.renderNode=function(s){return Vs(this,void 0,void 0,function(){return Es(this,function(i){switch(i.label){case 0:if(Wi(s.container.flags,16))debugger;return s.container.styles.isVisible()?[4,this.renderNodeBackgroundAndBorders(s)]:[3,3];case 1:return i.sent(),[4,this.renderNodeContent(s)];case 2:i.sent(),i.label=3;case 3:return[2]}})})},t.prototype.renderTextWithLetterSpacing=function(s,i,r){var c=this;if(i===0)this.ctx.fillText(s.text,s.bounds.left,s.bounds.top+r);else{var A=Ay(s.text);A.reduce(function(d,h){return c.ctx.fillText(h,d,s.bounds.top+r),d+c.ctx.measureText(h).width},s.bounds.left)}},t.prototype.createFontStyle=function(s){var i=s.fontVariant.filter(function(A){return A==="normal"||A==="small-caps"}).join(""),r=FU(s.fontFamily).join(", "),c=xh(s.fontSize)?""+s.fontSize.number+s.fontSize.unit:s.fontSize.number+"px";return[[s.fontStyle,i,s.fontWeight,c,r].join(" "),r,c]},t.prototype.renderTextNode=function(s,i){return Vs(this,void 0,void 0,function(){var r,c,A,d,h,u,v,x,y=this;return Es(this,function(p){return r=this.createFontStyle(i),c=r[0],A=r[1],d=r[2],this.ctx.font=c,this.ctx.direction=i.direction===1?"rtl":"ltr",this.ctx.textAlign="left",this.ctx.textBaseline="alphabetic",h=this.fontMetrics.getMetrics(A,d),u=h.baseline,v=h.middle,x=i.paintOrder,s.textBounds.forEach(function(F){x.forEach(function(b){switch(b){case 0:y.ctx.fillStyle=ns(i.color),y.renderTextWithLetterSpacing(F,i.letterSpacing,u);var S=i.textShadow;S.length&&F.text.trim().length&&(S.slice(0).reverse().forEach(function(f){y.ctx.shadowColor=ns(f.color),y.ctx.shadowOffsetX=f.offsetX.number*y.options.scale,y.ctx.shadowOffsetY=f.offsetY.number*y.options.scale,y.ctx.shadowBlur=f.blur.number,y.renderTextWithLetterSpacing(F,i.letterSpacing,u)}),y.ctx.shadowColor="",y.ctx.shadowOffsetX=0,y.ctx.shadowOffsetY=0,y.ctx.shadowBlur=0),i.textDecorationLine.length&&(y.ctx.fillStyle=ns(i.textDecorationColor||i.color),i.textDecorationLine.forEach(function(f){switch(f){case 1:y.ctx.fillRect(F.bounds.left,Math.round(F.bounds.top+u),F.bounds.width,1);break;case 2:y.ctx.fillRect(F.bounds.left,Math.round(F.bounds.top),F.bounds.width,1);break;case 3:y.ctx.fillRect(F.bounds.left,Math.ceil(F.bounds.top+v),F.bounds.width,1);break}}));break;case 1:i.webkitTextStrokeWidth&&F.text.trim().length&&(y.ctx.strokeStyle=ns(i.webkitTextStrokeColor),y.ctx.lineWidth=i.webkitTextStrokeWidth,y.ctx.lineJoin=window.chrome?"miter":"round",y.ctx.strokeText(F.text,F.bounds.left,F.bounds.top+u)),y.ctx.strokeStyle="",y.ctx.lineWidth=0,y.ctx.lineJoin="miter";break}})}),[2]})})},t.prototype.renderReplacedElement=function(s,i,r){if(r&&s.intrinsicWidth>0&&s.intrinsicHeight>0){var c=_f(s),A=Sf(i);this.path(A),this.ctx.save(),this.ctx.clip(),this.ctx.drawImage(r,0,0,s.intrinsicWidth,s.intrinsicHeight,c.left,c.top,c.width,c.height),this.ctx.restore()}},t.prototype.renderNodeContent=function(s){return Vs(this,void 0,void 0,function(){var i,r,c,A,d,h,O,O,u,v,x,y,J,p,F,K,b,S,f,O,M,J,K;return Es(this,function(H){switch(H.label){case 0:this.applyEffects(s.getEffects(4)),i=s.container,r=s.curves,c=i.styles,A=0,d=i.textNodes,H.label=1;case 1:return A<d.length?(h=d[A],[4,this.renderTextNode(h,c)]):[3,4];case 2:H.sent(),H.label=3;case 3:return A++,[3,1];case 4:if(!(i instanceof d2))return[3,8];H.label=5;case 5:return H.trys.push([5,7,,8]),[4,this.context.cache.match(i.src)];case 6:return O=H.sent(),this.renderReplacedElement(i,r,O),[3,8];case 7:return H.sent(),this.context.logger.error("Error loading image "+i.src),[3,8];case 8:if(i instanceof u2&&this.renderReplacedElement(i,r,i.canvas),!(i instanceof h2))return[3,12];H.label=9;case 9:return H.trys.push([9,11,,12]),[4,this.context.cache.match(i.svg)];case 10:return O=H.sent(),this.renderReplacedElement(i,r,O),[3,12];case 11:return H.sent(),this.context.logger.error("Error loading svg "+i.svg.substring(0,255)),[3,12];case 12:return i instanceof g2&&i.tree?(u=new t(this.context,{scale:this.options.scale,backgroundColor:i.backgroundColor,x:0,y:0,width:i.width,height:i.height}),[4,u.render(i.tree)]):[3,14];case 13:v=H.sent(),i.width&&i.height&&this.ctx.drawImage(v,0,0,i.width,i.height,i.bounds.left,i.bounds.top,i.bounds.width,i.bounds.height),H.label=14;case 14:if(i instanceof dy&&(x=Math.min(i.bounds.width,i.bounds.height),i.type===wf?i.checked&&(this.ctx.save(),this.path([new $t(i.bounds.left+x*.39363,i.bounds.top+x*.79),new $t(i.bounds.left+x*.16,i.bounds.top+x*.5549),new $t(i.bounds.left+x*.27347,i.bounds.top+x*.44071),new $t(i.bounds.left+x*.39694,i.bounds.top+x*.5649),new $t(i.bounds.left+x*.72983,i.bounds.top+x*.23),new $t(i.bounds.left+x*.84,i.bounds.top+x*.34085),new $t(i.bounds.left+x*.39363,i.bounds.top+x*.79)]),this.ctx.fillStyle=ns(uj),this.ctx.fill(),this.ctx.restore()):i.type===Nf&&i.checked&&(this.ctx.save(),this.ctx.beginPath(),this.ctx.arc(i.bounds.left+x/2,i.bounds.top+x/2,x/4,0,Math.PI*2,!0),this.ctx.fillStyle=ns(uj),this.ctx.fill(),this.ctx.restore())),BU(i)&&i.value.length){switch(y=this.createFontStyle(c),J=y[0],p=y[1],F=this.fontMetrics.getMetrics(J,p).baseline,this.ctx.font=J,this.ctx.fillStyle=ns(c.color),this.ctx.textBaseline="alphabetic",this.ctx.textAlign=SU(i.styles.textAlign),K=_f(i),b=0,i.styles.textAlign){case 1:b+=K.width/2;break;case 2:b+=K.width;break}S=K.add(b,0,0,-K.height/2+1),this.ctx.save(),this.path([new $t(K.left,K.top),new $t(K.left+K.width,K.top),new $t(K.left+K.width,K.top+K.height),new $t(K.left,K.top+K.height)]),this.ctx.clip(),this.renderTextWithLetterSpacing(new Ju(i.value,S),c.letterSpacing,F),this.ctx.restore(),this.ctx.textBaseline="alphabetic",this.ctx.textAlign="left"}if(!Wi(i.styles.display,2048))return[3,20];if(i.styles.listStyleImage===null)return[3,19];if(f=i.styles.listStyleImage,f.type!==0)return[3,18];O=void 0,M=f.url,H.label=15;case 15:return H.trys.push([15,17,,18]),[4,this.context.cache.match(M)];case 16:return O=H.sent(),this.ctx.drawImage(O,i.bounds.left-(O.width+10),i.bounds.top),[3,18];case 17:return H.sent(),this.context.logger.error("Error loading list-style-image "+M),[3,18];case 18:return[3,20];case 19:s.listValue&&i.styles.listStyleType!==-1&&(J=this.createFontStyle(c)[0],this.ctx.font=J,this.ctx.fillStyle=ns(c.color),this.ctx.textBaseline="middle",this.ctx.textAlign="right",K=new Xl(i.bounds.left,i.bounds.top+ni(i.styles.paddingTop,i.bounds.width),i.bounds.width,WN(c.lineHeight,c.fontSize.number)/2+1),this.renderTextWithLetterSpacing(new Ju(s.listValue,K),c.letterSpacing,WN(c.lineHeight,c.fontSize.number)/2+2),this.ctx.textBaseline="bottom",this.ctx.textAlign="left"),H.label=20;case 20:return[2]}})})},t.prototype.renderStackContent=function(s){return Vs(this,void 0,void 0,function(){var i,r,f,c,A,f,d,h,f,u,v,f,x,y,f,p,F,f,b,S,f;return Es(this,function(O){switch(O.label){case 0:if(Wi(s.element.container.flags,16))debugger;return[4,this.renderNodeBackgroundAndBorders(s.element)];case 1:O.sent(),i=0,r=s.negativeZIndex,O.label=2;case 2:return i<r.length?(f=r[i],[4,this.renderStack(f)]):[3,5];case 3:O.sent(),O.label=4;case 4:return i++,[3,2];case 5:return[4,this.renderNodeContent(s.element)];case 6:O.sent(),c=0,A=s.nonInlineLevel,O.label=7;case 7:return c<A.length?(f=A[c],[4,this.renderNode(f)]):[3,10];case 8:O.sent(),O.label=9;case 9:return c++,[3,7];case 10:d=0,h=s.nonPositionedFloats,O.label=11;case 11:return d<h.length?(f=h[d],[4,this.renderStack(f)]):[3,14];case 12:O.sent(),O.label=13;case 13:return d++,[3,11];case 14:u=0,v=s.nonPositionedInlineLevel,O.label=15;case 15:return u<v.length?(f=v[u],[4,this.renderStack(f)]):[3,18];case 16:O.sent(),O.label=17;case 17:return u++,[3,15];case 18:x=0,y=s.inlineLevel,O.label=19;case 19:return x<y.length?(f=y[x],[4,this.renderNode(f)]):[3,22];case 20:O.sent(),O.label=21;case 21:return x++,[3,19];case 22:p=0,F=s.zeroOrAutoZIndexOrTransformedOrOpacity,O.label=23;case 23:return p<F.length?(f=F[p],[4,this.renderStack(f)]):[3,26];case 24:O.sent(),O.label=25;case 25:return p++,[3,23];case 26:b=0,S=s.positiveZIndex,O.label=27;case 27:return b<S.length?(f=S[b],[4,this.renderStack(f)]):[3,30];case 28:O.sent(),O.label=29;case 29:return b++,[3,27];case 30:return[2]}})})},t.prototype.mask=function(s){this.ctx.beginPath(),this.ctx.moveTo(0,0),this.ctx.lineTo(this.canvas.width,0),this.ctx.lineTo(this.canvas.width,this.canvas.height),this.ctx.lineTo(0,this.canvas.height),this.ctx.lineTo(0,0),this.formatPath(s.slice(0).reverse()),this.ctx.closePath()},t.prototype.path=function(s){this.ctx.beginPath(),this.formatPath(s),this.ctx.closePath()},t.prototype.formatPath=function(s){var i=this;s.forEach(function(r,c){var A=Gn(r)?r.start:r;c===0?i.ctx.moveTo(A.x,A.y):i.ctx.lineTo(A.x,A.y),Gn(r)&&i.ctx.bezierCurveTo(r.startControl.x,r.startControl.y,r.endControl.x,r.endControl.y,r.end.x,r.end.y)})},t.prototype.renderRepeat=function(s,i,r,c){this.path(s),this.ctx.fillStyle=i,this.ctx.translate(r,c),this.ctx.fill(),this.ctx.translate(-r,-c)},t.prototype.resizeImage=function(s,i,r){var c;if(s.width===i&&s.height===r)return s;var A=(c=this.canvas.ownerDocument)!==null&&c!==void 0?c:document,d=A.createElement("canvas");d.width=Math.max(1,i),d.height=Math.max(1,r);var h=d.getContext("2d");return h.drawImage(s,0,0,s.width,s.height,0,0,i,r),d},t.prototype.renderBackgroundImage=function(s){return Vs(this,void 0,void 0,function(){var i,r,c,A,d,h;return Es(this,function(u){switch(u.label){case 0:i=s.styles.backgroundImage.length-1,r=function(v){var x,y,p,ge,ue,_e,re,fe,Y,F,ge,ue,_e,re,fe,b,S,f,O,M,J,K,H,k,Y,D,ge,_,X,re,fe,Ne,ue,_e,ce,ye,Q,ne,U,V,T,ie;return Es(this,function(ae){switch(ae.label){case 0:if(v.type!==0)return[3,5];x=void 0,y=v.url,ae.label=1;case 1:return ae.trys.push([1,3,,4]),[4,c.context.cache.match(y)];case 2:return x=ae.sent(),[3,4];case 3:return ae.sent(),c.context.logger.error("Error loading background-image "+y),[3,4];case 4:return x&&(p=fv(s,i,[x.width,x.height,x.width/x.height]),ge=p[0],ue=p[1],_e=p[2],re=p[3],fe=p[4],Y=c.ctx.createPattern(c.resizeImage(x,re,fe),"repeat"),c.renderRepeat(ge,Y,ue,_e)),[3,6];case 5:AL(v)?(F=fv(s,i,[null,null,null]),ge=F[0],ue=F[1],_e=F[2],re=F[3],fe=F[4],b=nL(v.angle,re,fe),S=b[0],f=b[1],O=b[2],M=b[3],J=b[4],K=document.createElement("canvas"),K.width=re,K.height=fe,H=K.getContext("2d"),k=H.createLinearGradient(f,M,O,J),$N(v.stops,S).forEach(function(P){return k.addColorStop(P.stop,ns(P.color))}),H.fillStyle=k,H.fillRect(0,0,re,fe),re>0&&fe>0&&(Y=c.ctx.createPattern(K,"repeat"),c.renderRepeat(ge,Y,ue,_e))):dL(v)&&(D=fv(s,i,[null,null,null]),ge=D[0],_=D[1],X=D[2],re=D[3],fe=D[4],Ne=v.position.length===0?[ly]:v.position,ue=ni(Ne[0],re),_e=ni(Ne[Ne.length-1],fe),ce=rL(v,ue,_e,re,fe),ye=ce[0],Q=ce[1],ye>0&&Q>0&&(ne=c.ctx.createRadialGradient(_+ue,X+_e,0,_+ue,X+_e,ye),$N(v.stops,ye*2).forEach(function(P){return ne.addColorStop(P.stop,ns(P.color))}),c.path(ge),c.ctx.fillStyle=ne,ye!==Q?(U=s.bounds.left+.5*s.bounds.width,V=s.bounds.top+.5*s.bounds.height,T=Q/ye,ie=1/T,c.ctx.save(),c.ctx.translate(U,V),c.ctx.transform(1,0,0,T,0,0),c.ctx.translate(-U,-V),c.ctx.fillRect(_,ie*(X-V)+V,re,fe*ie),c.ctx.restore()):c.ctx.fill())),ae.label=6;case 6:return i--,[2]}})},c=this,A=0,d=s.styles.backgroundImage.slice(0).reverse(),u.label=1;case 1:return A<d.length?(h=d[A],[5,r(h)]):[3,4];case 2:u.sent(),u.label=3;case 3:return A++,[3,1];case 4:return[2]}})})},t.prototype.renderSolidBorder=function(s,i,r){return Vs(this,void 0,void 0,function(){return Es(this,function(c){return this.path(jj(r,i)),this.ctx.fillStyle=ns(s),this.ctx.fill(),[2]})})},t.prototype.renderDoubleBorder=function(s,i,r,c){return Vs(this,void 0,void 0,function(){var A,d;return Es(this,function(h){switch(h.label){case 0:return i<3?[4,this.renderSolidBorder(s,r,c)]:[3,2];case 1:return h.sent(),[2];case 2:return A=mU(c,r),this.path(A),this.ctx.fillStyle=ns(s),this.ctx.fill(),d=fU(c,r),this.path(d),this.ctx.fill(),[2]}})})},t.prototype.renderNodeBackgroundAndBorders=function(s){return Vs(this,void 0,void 0,function(){var i,r,c,A,d,h,u,v,x=this;return Es(this,function(y){switch(y.label){case 0:return this.applyEffects(s.getEffects(2)),i=s.container.styles,r=!co(i.backgroundColor)||i.backgroundImage.length,c=[{style:i.borderTopStyle,color:i.borderTopColor,width:i.borderTopWidth},{style:i.borderRightStyle,color:i.borderRightColor,width:i.borderRightWidth},{style:i.borderBottomStyle,color:i.borderBottomColor,width:i.borderBottomWidth},{style:i.borderLeftStyle,color:i.borderLeftColor,width:i.borderLeftWidth}],A=CU(vd(i.backgroundClip,0),s.curves),r||i.boxShadow.length?(this.ctx.save(),this.path(A),this.ctx.clip(),co(i.backgroundColor)||(this.ctx.fillStyle=ns(i.backgroundColor),this.ctx.fill()),[4,this.renderBackgroundImage(s.container)]):[3,2];case 1:y.sent(),this.ctx.restore(),i.boxShadow.slice(0).reverse().forEach(function(p){x.ctx.save();var F=Cf(s.curves),b=p.inset?0:NU,S=uU(F,-b+(p.inset?1:-1)*p.spread.number,(p.inset?1:-1)*p.spread.number,p.spread.number*(p.inset?-2:2),p.spread.number*(p.inset?-2:2));p.inset?(x.path(F),x.ctx.clip(),x.mask(S)):(x.mask(F),x.ctx.clip(),x.path(S)),x.ctx.shadowOffsetX=p.offsetX.number+b,x.ctx.shadowOffsetY=p.offsetY.number,x.ctx.shadowColor=ns(p.color),x.ctx.shadowBlur=p.blur.number,x.ctx.fillStyle=p.inset?ns(p.color):"rgba(0,0,0,1)",x.ctx.fill(),x.ctx.restore()}),y.label=2;case 2:d=0,h=0,u=c,y.label=3;case 3:return h<u.length?(v=u[h],v.style!==0&&!co(v.color)&&v.width>0?v.style!==2?[3,5]:[4,this.renderDashedDottedBorder(v.color,v.width,d,s.curves,2)]:[3,11]):[3,13];case 4:return y.sent(),[3,11];case 5:return v.style!==3?[3,7]:[4,this.renderDashedDottedBorder(v.color,v.width,d,s.curves,3)];case 6:return y.sent(),[3,11];case 7:return v.style!==4?[3,9]:[4,this.renderDoubleBorder(v.color,v.width,d,s.curves)];case 8:return y.sent(),[3,11];case 9:return[4,this.renderSolidBorder(v.color,d,s.curves)];case 10:y.sent(),y.label=11;case 11:d++,y.label=12;case 12:return h++,[3,3];case 13:return[2]}})})},t.prototype.renderDashedDottedBorder=function(s,i,r,c,A){return Vs(this,void 0,void 0,function(){var d,h,u,v,x,y,p,F,b,S,f,O,M,J,K,H,K,H;return Es(this,function(k){return this.ctx.save(),d=pU(c,r),h=jj(c,r),A===2&&(this.path(h),this.ctx.clip()),Gn(h[0])?(u=h[0].start.x,v=h[0].start.y):(u=h[0].x,v=h[0].y),Gn(h[1])?(x=h[1].end.x,y=h[1].end.y):(x=h[1].x,y=h[1].y),r===0||r===2?p=Math.abs(u-x):p=Math.abs(v-y),this.ctx.beginPath(),A===3?this.formatPath(d):this.formatPath(h.slice(0,2)),F=i<3?i*3:i*2,b=i<3?i*2:i,A===3&&(F=i,b=i),S=!0,p<=F*2?S=!1:p<=F*2+b?(f=p/(2*F+b),F*=f,b*=f):(O=Math.floor((p+b)/(F+b)),M=(p-O*F)/(O-1),J=(p-(O+1)*F)/O,b=J<=0||Math.abs(b-M)<Math.abs(b-J)?M:J),S&&(A===3?this.ctx.setLineDash([0,F+b]):this.ctx.setLineDash([F,b])),A===3?(this.ctx.lineCap="round",this.ctx.lineWidth=i):this.ctx.lineWidth=i*2+1.1,this.ctx.strokeStyle=ns(s),this.ctx.stroke(),this.ctx.setLineDash([]),A===2&&(Gn(h[0])&&(K=h[3],H=h[0],this.ctx.beginPath(),this.formatPath([new $t(K.end.x,K.end.y),new $t(H.start.x,H.start.y)]),this.ctx.stroke()),Gn(h[1])&&(K=h[1],H=h[2],this.ctx.beginPath(),this.formatPath([new $t(K.end.x,K.end.y),new $t(H.start.x,H.start.y)]),this.ctx.stroke())),this.ctx.restore(),[2]})})},t.prototype.render=function(s){return Vs(this,void 0,void 0,function(){var i;return Es(this,function(r){switch(r.label){case 0:return this.options.backgroundColor&&(this.ctx.fillStyle=ns(this.options.backgroundColor),this.ctx.fillRect(this.options.x,this.options.y,this.options.width,this.options.height)),i=hU(s),[4,this.renderStack(i)];case 1:return r.sent(),this.applyEffects([]),[2,this.canvas]}})})},t}(M2),BU=function(a){return a instanceof p2||a instanceof f2?!0:a instanceof dy&&a.type!==Nf&&a.type!==wf},CU=function(a,t){switch(a){case 0:return Cf(t);case 2:return lU(t);case 1:default:return Sf(t)}},SU=function(a){switch(a){case 1:return"center";case 2:return"right";case 0:default:return"left"}},_U=["-apple-system","system-ui"],FU=function(a){return/iPhone OS 15_(0|1)/.test(window.navigator.userAgent)?a.filter(function(t){return _U.indexOf(t)===-1}):a},DU=function(a){_r(t,a);function t(s,i){var r=a.call(this,s,i)||this;return r.canvas=i.canvas?i.canvas:document.createElement("canvas"),r.ctx=r.canvas.getContext("2d"),r.options=i,r.canvas.width=Math.floor(i.width*i.scale),r.canvas.height=Math.floor(i.height*i.scale),r.canvas.style.width=i.width+"px",r.canvas.style.height=i.height+"px",r.ctx.scale(r.options.scale,r.options.scale),r.ctx.translate(-i.x,-i.y),r.context.logger.debug("EXPERIMENTAL ForeignObject renderer initialized ("+i.width+"x"+i.height+" at "+i.x+","+i.y+") with scale "+i.scale),r}return t.prototype.render=function(s){return Vs(this,void 0,void 0,function(){var i,r;return Es(this,function(c){switch(c.label){case 0:return i=Nx(this.options.width*this.options.scale,this.options.height*this.options.scale,this.options.scale,this.options.scale,s),[4,EU(i)];case 1:return r=c.sent(),this.options.backgroundColor&&(this.ctx.fillStyle=ns(this.options.backgroundColor),this.ctx.fillRect(0,0,this.options.width*this.options.scale,this.options.height*this.options.scale)),this.ctx.drawImage(r,-this.options.x*this.options.scale,-this.options.y*this.options.scale),[2,this.canvas]}})})},t}(M2),EU=function(a){return new Promise(function(t,s){var i=new Image;i.onload=function(){t(i)},i.onerror=s,i.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(a))})},LU=function(){function a(t){var s=t.id,i=t.enabled;this.id=s,this.enabled=i,this.start=Date.now()}return a.prototype.debug=function(){for(var t=[],s=0;s<arguments.length;s++)t[s]=arguments[s];this.enabled&&(typeof window<"u"&&window.console&&typeof console.debug=="function"?console.debug.apply(console,ym([this.id,this.getTime()+"ms"],t)):this.info.apply(this,t))},a.prototype.getTime=function(){return Date.now()-this.start},a.prototype.info=function(){for(var t=[],s=0;s<arguments.length;s++)t[s]=arguments[s];this.enabled&&typeof window<"u"&&window.console&&typeof console.info=="function"&&console.info.apply(console,ym([this.id,this.getTime()+"ms"],t))},a.prototype.warn=function(){for(var t=[],s=0;s<arguments.length;s++)t[s]=arguments[s];this.enabled&&(typeof window<"u"&&window.console&&typeof console.warn=="function"?console.warn.apply(console,ym([this.id,this.getTime()+"ms"],t)):this.info.apply(this,t))},a.prototype.error=function(){for(var t=[],s=0;s<arguments.length;s++)t[s]=arguments[s];this.enabled&&(typeof window<"u"&&window.console&&typeof console.error=="function"?console.error.apply(console,ym([this.id,this.getTime()+"ms"],t)):this.info.apply(this,t))},a.instances={},a}(),MU=function(){function a(t,s){var i;this.windowBounds=s,this.instanceName="#"+a.instanceCount++,this.logger=new LU({id:this.instanceName,enabled:t.logging}),this.cache=(i=t.cache)!==null&&i!==void 0?i:new Z6(this,t)}return a.instanceCount=1,a}(),$s=function(a,t){return t===void 0&&(t={}),UU(a,t)};typeof window<"u"&&S2.setContext(window);var UU=function(a,t){return Vs(void 0,void 0,void 0,function(){var s,i,r,c,A,d,h,u,v,x,y,p,F,b,S,f,O,M,J,K,k,H,k,Y,D,ge,_,X,re,fe,Ne,ue,_e,ce,ye,Q,ne,U,V,T;return Es(this,function(ie){switch(ie.label){case 0:if(!a||typeof a!="object")return[2,Promise.reject("Invalid element provided as first argument")];if(s=a.ownerDocument,!s)throw new Error("Element is not attached to a Document");if(i=s.defaultView,!i)throw new Error("Document is not attached to a Window");return r={allowTaint:(Y=t.allowTaint)!==null&&Y!==void 0?Y:!1,imageTimeout:(D=t.imageTimeout)!==null&&D!==void 0?D:15e3,proxy:t.proxy,useCORS:(ge=t.useCORS)!==null&&ge!==void 0?ge:!1},c=cx({logging:(_=t.logging)!==null&&_!==void 0?_:!0,cache:t.cache},r),A={windowWidth:(X=t.windowWidth)!==null&&X!==void 0?X:i.innerWidth,windowHeight:(re=t.windowHeight)!==null&&re!==void 0?re:i.innerHeight,scrollX:(fe=t.scrollX)!==null&&fe!==void 0?fe:i.pageXOffset,scrollY:(Ne=t.scrollY)!==null&&Ne!==void 0?Ne:i.pageYOffset},d=new Xl(A.scrollX,A.scrollY,A.windowWidth,A.windowHeight),h=new MU(c,d),u=(ue=t.foreignObjectRendering)!==null&&ue!==void 0?ue:!1,v={allowTaint:(_e=t.allowTaint)!==null&&_e!==void 0?_e:!1,onclone:t.onclone,ignoreElements:t.ignoreElements,inlineImages:u,copyStyles:u},h.logger.debug("Starting document clone with size "+d.width+"x"+d.height+" scrolled to "+-d.left+","+-d.top),x=new bj(h,a,v),y=x.clonedReferenceElement,y?[4,x.toIFrame(s,d)]:[2,Promise.reject("Unable to find element in cloned iframe")];case 1:return p=ie.sent(),F=uy(y)||k6(y)?uD(y.ownerDocument):Jf(h,y),b=F.width,S=F.height,f=F.left,O=F.top,M=OU(h,y,t.backgroundColor),J={canvas:t.canvas,backgroundColor:M,scale:(ye=(ce=t.scale)!==null&&ce!==void 0?ce:i.devicePixelRatio)!==null&&ye!==void 0?ye:1,x:((Q=t.x)!==null&&Q!==void 0?Q:0)+f,y:((ne=t.y)!==null&&ne!==void 0?ne:0)+O,width:(U=t.width)!==null&&U!==void 0?U:Math.ceil(b),height:(V=t.height)!==null&&V!==void 0?V:Math.ceil(S)},u?(h.logger.debug("Document cloned, using foreign object rendering"),k=new DU(h,J),[4,k.render(y)]):[3,3];case 2:return K=ie.sent(),[3,5];case 3:return h.logger.debug("Document cloned, element located at "+f+","+O+" with size "+b+"x"+S+" using computed rendering"),h.logger.debug("Starting DOM parsing"),H=x2(h,y),M===H.styles.backgroundColor&&(H.styles.backgroundColor=Gl.TRANSPARENT),h.logger.debug("Starting renderer for element at "+J.x+","+J.y+" with size "+J.width+"x"+J.height),k=new jU(h,J),[4,k.render(H)];case 4:K=ie.sent(),ie.label=5;case 5:return(!((T=t.removeContainer)!==null&&T!==void 0)||T)&&(bj.destroy(p)||h.logger.error("Cannot detach cloned iframe as it is not in the DOM anymore")),h.logger.debug("Finished rendering"),[2,K]}})})},OU=function(a,t,s){var i=t.ownerDocument,r=i.documentElement?Yu(a,getComputedStyle(i.documentElement).backgroundColor):Gl.TRANSPARENT,c=i.body?Yu(a,getComputedStyle(i.body).backgroundColor):Gl.TRANSPARENT,A=typeof s=="string"?Yu(a,s):s===null?Gl.TRANSPARENT:4294967295;return t===i.documentElement?co(r)?co(c)?A:c:r:A};const kU=Object.freeze(Object.defineProperty({__proto__:null,default:$s},Symbol.toStringTag,{value:"Module"})),IU=()=>{const[a,t]=N.useState("PENDING"),[s,i]=N.useState(null),[r,c]=N.useState(!1),[A,d]=N.useState(!1),[h,u]=N.useState(!1),[v,x]=N.useState(""),y=N.useRef(null),[p,F]=N.useState(!1),[b,S]=N.useState(!0),[f,O]=N.useState(null),[M,J]=N.useState(null),K=oa(),H=Jt(),[k,Y]=N.useState(""),[D,ge]=N.useState(""),[_,X]=N.useState("");N.useEffect(()=>{var z,B;const ae=(z=K.state)==null?void 0:z.baptismID,P=(B=K.state)==null?void 0:B.status;if(!ae){J("Missing baptism information. Please try again."),S(!1);return}P&&t(P),re(ae)},[K]),N.useEffect(()=>{console.log("Current priest values:",{selectedPriest:k,baptismDataPriest:f==null?void 0:f.priest})},[k,f]);const re=async ae=>{try{S(!0);const z=await(await fetch(`https://parishofdivinemercy.com/backend/fetch_baptism_details.php?baptismID=${ae}`)).json();if(z.success){const B=Ne(z.data);O(B),t(B.status||a),B.status==="Approved"?fe(ae):(ge(B.date||""),X(B.time||""),Y(B.priest||""))}else J(z.message||"Failed to fetch baptism details")}catch(P){console.error("Error fetching baptism details:",P),J("An error occurred while fetching the data")}finally{S(!1)}},fe=async ae=>{try{const z=await(await fetch(`https://parishofdivinemercy.com/backend/fetch_approved_appointment.php?sacramentID=${ae}&sacrament_type=Baptism`)).json();z.success&&z.appointment?(ge(z.appointment.date||""),X(z.appointment.time||""),Y(z.appointment.priest||"")):console.log("No approved appointment schedule found or there was an error")}catch(P){console.error("Error fetching approved appointment schedule:",P)}},Ne=ae=>{const{baptism:P,parents:z,marital:B,address:q,godFathers:te,godMothers:he,requirements:W,client:C}=ae;return{date:P.dateOfBaptism,time:P.timeOfBaptism,priest:P.priestName,status:P.status,baptismID:P.baptismID,clientID:(C==null?void 0:C.clientID)||null,child:{firstName:P.firstName,middleName:P.middleName,lastName:P.lastName,gender:P.sex,age:P.age,dateOfBirth:P.dateOfBirth,placeOfBirth:P.placeOfBirth,region:P.region||""},father:{firstName:(z==null?void 0:z.fatherFirstName)||"N/A",middleName:(z==null?void 0:z.fatherMiddleName)||"N/A",lastName:(z==null?void 0:z.fatherLastName)||"N/A",placeOfBirth:(z==null?void 0:z.fatherPlaceOfBirth)||"N/A",dateOfBirth:(z==null?void 0:z.fatherDateOfBirth)||"N/A",education:(z==null?void 0:z.fatherEducation)||"N/A",occupation:(z==null?void 0:z.fatherOccupation)||"N/A",contact:(z==null?void 0:z.fatherContact)||"N/A"},mother:{firstName:(z==null?void 0:z.motherFirstName)||"N/A",middleName:(z==null?void 0:z.motherMiddleName)||"N/A",lastName:(z==null?void 0:z.motherLastName)||"N/A",placeOfBirth:(z==null?void 0:z.motherPlaceOfBirth)||"N/A",dateOfBirth:(z==null?void 0:z.motherDateOfBirth)||"N/A",education:(z==null?void 0:z.motherEducation)||"N/A",occupation:(z==null?void 0:z.motherOccupation)||"N/A",contact:(z==null?void 0:z.motherContact)||"N/A"},maritalStatus:{type:(B==null?void 0:B.maritalStatus)||"N/A",yearsMarried:(B==null?void 0:B.yearsMarried)||"N/A"},address:{street:(q==null?void 0:q.street)||"N/A",barangay:(q==null?void 0:q.barangay)||"N/A",municipality:(q==null?void 0:q.municipality)||"N/A",province:(q==null?void 0:q.province)||"N/A",region:(q==null?void 0:q.region)||"N/A"},godParents:[...te.map(Z=>({name:Z,sacraments:"Baptism, Confirmation",address:"N/A"})),...he.map(Z=>({name:Z,sacraments:"Baptism, Confirmation",address:"N/A"}))],requirements:{birthCert:{submitted:(W==null?void 0:W.birth_cert_status)==="Submitted",fileName:W!=null&&W.birth_cert?W.birth_cert.split("/").pop():"N/A",status:(W==null?void 0:W.birth_cert_status)||"Not Submitted"},marriageCert:{submitted:(W==null?void 0:W.marriage_cert_status)==="Submitted",fileName:W!=null&&W.marriage_cert?W.marriage_cert.split("/").pop():"N/A",status:(W==null?void 0:W.marriage_cert_status)||"Not Submitted"},validIds:{submitted:(W==null?void 0:W.valid_ids_status)==="Submitted",fileName:W!=null&&W.valid_ids?W.valid_ids.split("/").pop():"N/A",status:(W==null?void 0:W.valid_ids_status)||"Not Submitted"}},certificate:{bookNumber:"1",pageNumber:"43",lineNumber:"22",dateIssued:new Date().toISOString().split("T")[0],purposeOf:"Reference"}}},ue=async()=>{if(!f||!f.baptismID){alert("No baptism data available to approve.");return}if(!D){alert("Please select a date for the appointment.");return}if(!_){alert("Please select a time for the appointment.");return}if(!k){alert("Please enter the name of the priest for the baptism.");return}u(!0)},_e=async()=>{u(!1);try{const P=await(await fetch("https://parishofdivinemercy.com/backend/save_approved_appointment.php",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({sacramentID:f.baptismID,sacrament_type:"Baptism",date:D,time:_,priest:k})})).json();if(!P.success)throw new Error(P.message||"Failed to save appointment details");const z=await fetch("https://parishofdivinemercy.com/backend/update_baptism_status.php",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({baptismID:f.baptismID,status:"Approved",date:D,time:_,priest:k})});let B;const q=z.headers.get("content-type");if(q&&q.indexOf("application/json")!==-1)B=await z.json();else{const te=await z.text();throw console.error("Non-JSON response:",te),new Error("Invalid response from server. Please check server logs.")}if(B.success)t("Approved"),x("Baptism application has been approved successfully! An email notification has been sent to the client."),d(!0),O({...f,date:D,time:_,priest:k});else{const te=B.message||"Failed to approve baptism application";x(te),d(!0)}}catch(ae){console.error("Error approving baptism application:",ae),x("An error occurred while approving the baptism application: "+ae.message),d(!0)}},ce=ae=>{if(!ae)return"N/A";try{return new Date(ae).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})}catch(P){return console.error("Error formatting date:",P),ae}},ye=async()=>{if(y.current){F(!0);try{const ae=y.current.querySelectorAll("img");await Promise.all([...ae].map(C=>C.complete?Promise.resolve():new Promise(Z=>{C.onload=Z,C.onerror=Z})));const P=await $s(y.current,{scale:2,logging:!1,useCORS:!0,allowTaint:!0,backgroundColor:"#ffffff"}),z=P.toDataURL("image/png"),B=210,q=297,te=P.height*B/P.width,he=new ea("p","mm","a4");he.addImage(z,"PNG",0,0,B,te);const W=`Baptism_Certificate_${f.child.firstName}_${f.child.lastName}.pdf`;he.save(W),c(!1),alert("Certificate downloaded successfully!")}catch(ae){console.error("Error generating PDF:",ae),alert("Error generating PDF. Please try again.")}finally{F(!1)}}},Q=ae=>e.jsx("div",{className:"secretary-view-value",children:ae||"N/A"}),ne=ae=>window.location.hostname==="localhost"||window.location.hostname==="127.0.0.1"?`/backend/uploads/baptism_requirements/${ae}`:`/backend/uploads/baptism_requirements/${ae}`,U=()=>{if(!s)return null;const ae=s.split(".").pop().toLowerCase(),P=["jpg","jpeg","png","gif","webp"].includes(ae),z=ae==="pdf",B=ne(s),q="Document Preview";return e.jsx("div",{className:"secretary-document-viewer-overlay",children:e.jsxs("div",{className:"secretary-document-viewer-container",children:[e.jsx("div",{className:"secretary-document-viewer-header",children:e.jsx("h3",{children:q})}),e.jsxs("div",{className:"secretary-document-viewer-content",children:[P&&e.jsx("img",{src:B,alt:q,style:{maxWidth:"100%",maxHeight:"70vh"},onError:te=>{console.error(`Failed to load image: ${B}`),te.target.src="https://via.placeholder.com/500x300?text=Image+Not+Found",te.target.alt="Document not found"}}),z&&e.jsx("iframe",{src:`${B}#toolbar=0`,title:q,width:"100%",height:"600px",style:{border:"none"},onError:te=>{console.error(`Failed to load PDF: ${B}`),te.target.src="about:blank"}}),!P&&!z&&e.jsxs("div",{className:"secretary-document-placeholder",children:[e.jsx("p",{children:"Document preview not available for this file type."}),e.jsx("a",{href:B,target:"_blank",rel:"noopener noreferrer",className:"secretary-document-download-link",children:"Download to view"})]})]})]})})},V=()=>{var ae,P;return!r||!f?null:e.jsx("div",{className:"secretary-document-viewer-overlay",children:e.jsxs("div",{className:"secretary-certificate-modal-container",children:[e.jsxs("div",{className:"secretary-document-viewer-header",children:[e.jsx("h3",{children:"Baptism Certificate"}),e.jsx("button",{className:"secretary-document-close-btn",onClick:()=>c(!1),children:""})]}),e.jsxs("div",{className:"secretary-certificate-modal-content",children:[e.jsx("p",{children:"Would you like to download this certificate?"}),e.jsxs("div",{ref:y,className:"baptism-certificate-preview",children:[e.jsx("div",{className:"certificate-header",children:e.jsxs("div",{className:"certificate-logos",children:[e.jsx("div",{className:"parish-logo-left",children:e.jsx("img",{src:zs,alt:"Parish Logo Left",onError:z=>{z.target.src="https://via.placeholder.com/70x70?text=Church"}})}),e.jsxs("div",{className:"parish-title",children:[e.jsx("div",{className:"diocese-title",children:"DIOCESE OF DAET"}),e.jsx("div",{className:"parish-name",children:"PARISH OF THE DIVINE MERCY"}),e.jsx("div",{className:"parish-address",children:"Alawihao, Daet, Camarines Norte"})]}),e.jsx("div",{className:"parish-logo-right",children:e.jsx("img",{src:Ii,alt:"Parish Logo Right",onError:z=>{z.target.src="https://via.placeholder.com/80x80?text=PDM"}})})]})}),e.jsxs("div",{className:"certificate-details",children:[e.jsx("h1",{className:"certificate-title",children:"CERTIFICATE OF BAPTISM"}),e.jsxs("div",{className:"certificate-row",children:[e.jsx("div",{className:"certificate-label",children:"NAME"}),e.jsxs("div",{className:"certificate-value",children:[f.child.firstName," ",f.child.middleName," ",f.child.lastName]})]}),e.jsxs("div",{className:"certificate-row",children:[e.jsx("div",{className:"certificate-label",children:"DATE OF BIRTH"}),e.jsx("div",{className:"certificate-value",children:ce(f.child.dateOfBirth)})]}),e.jsxs("div",{className:"certificate-row",children:[e.jsx("div",{className:"certificate-label",children:"PLACE OF BIRTH"}),e.jsx("div",{className:"certificate-value",children:f.child.placeOfBirth})]}),e.jsxs("div",{className:"certificate-row",children:[e.jsx("div",{className:"certificate-label",children:"LEGITIMACY"}),e.jsx("div",{className:"certificate-value",children:f.maritalStatus.type==="Married"?"Legitimate":"Natural"})]}),e.jsxs("div",{className:"certificate-row",children:[e.jsx("div",{className:"certificate-label",children:"FATHER"}),e.jsxs("div",{className:"certificate-value",children:[f.father.firstName," ",f.father.middleName," ",f.father.lastName]})]}),e.jsxs("div",{className:"certificate-row",children:[e.jsx("div",{className:"certificate-label",children:"PLACE OF BIRTH"}),e.jsx("div",{className:"certificate-value",children:f.father.placeOfBirth})]}),e.jsxs("div",{className:"certificate-row",children:[e.jsx("div",{className:"certificate-label",children:"MOTHER"}),e.jsxs("div",{className:"certificate-value",children:[f.mother.firstName," ",f.mother.middleName," ",f.mother.lastName]})]}),e.jsxs("div",{className:"certificate-row",children:[e.jsx("div",{className:"certificate-label",children:"PLACE OF BIRTH"}),e.jsx("div",{className:"certificate-value",children:f.mother.placeOfBirth})]}),e.jsxs("div",{className:"certificate-row",children:[e.jsx("div",{className:"certificate-label",children:"DATE OF BAPTISM"}),e.jsx("div",{className:"certificate-value",children:ce(D||f.date)})]}),e.jsxs("div",{className:"certificate-row",children:[e.jsx("div",{className:"certificate-label",children:"RESIDENCE"}),e.jsxs("div",{className:"certificate-value",children:[f.address.street,", ",f.address.barangay,", ",f.address.municipality,", ",f.address.province]})]}),e.jsxs("div",{className:"certificate-row",children:[e.jsx("div",{className:"certificate-label",children:"MINISTER"}),e.jsx("div",{className:"certificate-value",children:k||f.priest||"N/A"})]}),f.godParents.length>0&&e.jsx(e.Fragment,{children:e.jsxs("div",{className:"certificate-row",children:[e.jsx("div",{className:"certificate-label",children:"GODFATHER"}),e.jsx("div",{className:"certificate-value",children:((ae=f.godParents[0])==null?void 0:ae.name)||"N/A"})]})}),f.godParents.length>1&&e.jsx(e.Fragment,{children:e.jsxs("div",{className:"certificate-row",children:[e.jsx("div",{className:"certificate-label",children:"GODMOTHER"}),e.jsx("div",{className:"certificate-value",children:((P=f.godParents[1])==null?void 0:P.name)||"N/A"})]})})]}),e.jsx("div",{className:"certificate-footer",children:e.jsxs("div",{className:"certificate-reference",children:[e.jsxs("div",{className:"reference-row",children:[e.jsx("span",{className:"reference-label",children:"Book Number"}),e.jsx("span",{className:"reference-value",children:f.certificate.bookNumber})]}),e.jsxs("div",{className:"reference-row",children:[e.jsx("span",{className:"reference-label",children:"Page and Line Number"}),e.jsxs("span",{className:"reference-value",children:[f.certificate.pageNumber,"/",f.certificate.lineNumber]})]}),e.jsxs("div",{className:"reference-row",children:[e.jsx("span",{className:"reference-label",children:"Date Issued"}),e.jsx("span",{className:"reference-value",children:ce(f.certificate.dateIssued)})]}),e.jsxs("div",{className:"reference-row",children:[e.jsx("span",{className:"reference-label",children:"For the purpose of"}),e.jsx("span",{className:"reference-value",children:f.certificate.purposeOf})]})]})})]}),e.jsxs("div",{className:"secretary-certificate-modal-actions",children:[e.jsx("button",{className:"secretary-certificate-download-btn",onClick:ye,disabled:p,children:p?"Processing...":e.jsxs(e.Fragment,{children:[e.jsx(gs,{})," Download"]})}),e.jsx("button",{className:"secretary-certificate-cancel-btn",onClick:()=>c(!1),disabled:p,children:"Cancel"})]})]})]})})},T=()=>{if(!A)return null;const ae=v.includes("successfully"),P=ae?"success":"error",z=()=>{d(!1),ae&&H("/secretary-baptism")};return e.jsx("div",{className:"secretary-document-viewer-overlay",children:e.jsxs("div",{className:`secretary-${P}-modal-container`,children:[e.jsxs("div",{className:`secretary-${P}-header`,children:[e.jsx("h3",{children:ae?"Success":"Error"}),e.jsx("button",{className:"secretary-document-close-btn",onClick:()=>d(!1),children:""})]}),e.jsxs("div",{className:`secretary-${P}-content`,children:[e.jsx("div",{className:`secretary-${P}-icon`,children:ae?"":"!"}),e.jsx("p",{children:v}),e.jsx("button",{className:`secretary-${P}-ok-btn`,onClick:z,children:"OK"})]})]})})},ie=()=>h?e.jsx("div",{className:"secretary-document-viewer-overlay",children:e.jsxs("div",{className:"secretary-confirm-modal-container",children:[e.jsxs("div",{className:"secretary-confirm-header",children:[e.jsx("h3",{children:"Confirm Approval"}),e.jsx("button",{className:"secretary-document-close-btn",onClick:()=>u(!1),children:""})]}),e.jsxs("div",{className:"secretary-confirm-content",children:[e.jsx("div",{className:"secretary-confirm-icon",children:"?"}),e.jsx("p",{children:"Are you sure you want to approve this baptism appointment?"}),e.jsxs("p",{children:["Date: ",D]}),e.jsxs("p",{children:["Time: ",_]}),e.jsxs("p",{children:["Priest: ",k]}),e.jsx("p",{children:"An email notification will be sent to the client."}),e.jsxs("div",{className:"secretary-confirm-buttons",children:[e.jsx("button",{className:"secretary-confirm-yes-btn",onClick:_e,children:"Yes, Approve"}),e.jsx("button",{className:"secretary-confirm-no-btn",onClick:()=>u(!1),children:"Cancel"})]})]})]})}):null;return b?e.jsx("div",{className:"secretary-baptism-view-container",children:e.jsx("div",{className:"secretary-baptism-view-loading",children:"Loading baptism details..."})}):M?e.jsx("div",{className:"secretary-baptism-view-container",children:e.jsxs("div",{className:"secretary-baptism-view-error",children:[e.jsx("p",{children:M}),e.jsx("button",{onClick:()=>H(-1),children:"Back"})]})}):f?e.jsxs("div",{className:"secretary-baptism-view-container",children:[U(),V(),T(),ie(),e.jsx("div",{className:"secretary-baptism-view-header",children:e.jsx("div",{className:"secretary-view-left-section",children:e.jsxs("button",{className:"secretary-view-back-button",onClick:()=>H(-1),children:[e.jsx(Oa,{className:"secretary-view-back-icon"})," Back"]})})}),e.jsx("h1",{className:"secretary-view-title",children:"Baptism Application Details"}),e.jsxs("div",{className:"secretary-baptismal-view-data",children:[e.jsxs("div",{className:"secretary-baptismal-view-row-date",children:[e.jsxs("div",{className:"secretary-baptismal-view-field-date",children:[e.jsx("label",{children:"Date of Appointment:"}),Q(ce(f.date))]}),e.jsxs("div",{className:"secretary-baptismal-view-field-time",children:[e.jsx("label",{children:"Time of Appointment:"}),Q(f.time)]})]}),e.jsxs("div",{className:"secretary-view-bypart",children:[e.jsx("h3",{className:"secretary-view-sub-title",children:"Baptism Information"}),e.jsxs("div",{className:"secretary-baptismal-view-info-card",children:[e.jsxs("div",{className:"secretary-baptismal-view-row",children:[e.jsxs("div",{className:"secretary-baptismal-view-field",children:[e.jsx("label",{children:"First Name of the Baptized:"}),Q(f.child.firstName)]}),e.jsxs("div",{className:"secretary-baptismal-view-field",children:[e.jsx("label",{children:"Middle Name of the Baptized:"}),Q(f.child.middleName)]}),e.jsxs("div",{className:"secretary-baptismal-view-field",children:[e.jsx("label",{children:"Last Name of the Baptized:"}),Q(f.child.lastName)]})]}),e.jsxs("div",{className:"secretary-baptismal-view-row",children:[e.jsxs("div",{className:"secretary-baptismal-view-field",children:[e.jsx("label",{children:"Date of Birth:"}),Q(ce(f.child.dateOfBirth))]}),e.jsxs("div",{className:"secretary-baptismal-view-field",children:[e.jsx("label",{children:"Age:"}),Q(f.child.age)]}),e.jsxs("div",{className:"secretary-baptismal-view-field",children:[e.jsx("label",{children:"Gender:"}),Q(f.child.gender)]})]}),e.jsxs("div",{className:"secretary-baptismal-view-row",children:[e.jsxs("div",{className:"secretary-baptismal-view-field",children:[e.jsx("label",{children:"Place of Birth:"}),Q(f.child.placeOfBirth)]}),e.jsxs("div",{className:"secretary-baptismal-view-field",children:[e.jsx("label",{children:"Region of Birth:"}),Q(f.child.region)]})]})]}),e.jsx("h3",{className:"secretary-view-sub-title",children:"Father Information"}),e.jsxs("div",{className:"secretary-baptismal-view-info-card",children:[e.jsxs("div",{className:"secretary-baptismal-view-row",children:[e.jsxs("div",{className:"secretary-baptismal-view-field",children:[e.jsx("label",{children:"Father's First Name:"}),Q(f.father.firstName)]}),e.jsxs("div",{className:"secretary-baptismal-view-field",children:[e.jsx("label",{children:"Father's Middle Name:"}),Q(f.father.middleName)]}),e.jsxs("div",{className:"secretary-baptismal-view-field",children:[e.jsx("label",{children:"Father's Last Name:"}),Q(f.father.lastName)]})]}),e.jsxs("div",{className:"secretary-baptismal-view-row",children:[e.jsxs("div",{className:"secretary-baptismal-view-field",children:[e.jsx("label",{children:"Father's Date of Birth:"}),Q(ce(f.father.dateOfBirth))]}),e.jsxs("div",{className:"secretary-baptismal-view-field",children:[e.jsx("label",{children:"Father's Contact Number:"}),Q(f.father.contact)]}),e.jsxs("div",{className:"secretary-baptismal-view-field",children:[e.jsx("label",{children:"Father's Place of Birth:"}),Q(f.father.placeOfBirth)]})]})]}),e.jsx("h3",{className:"secretary-view-sub-title",children:"Mother Information"}),e.jsxs("div",{className:"secretary-baptismal-view-info-card",children:[e.jsxs("div",{className:"secretary-baptismal-view-row",children:[e.jsxs("div",{className:"secretary-baptismal-view-field",children:[e.jsx("label",{children:"Mother's First Name:"}),Q(f.mother.firstName)]}),e.jsxs("div",{className:"secretary-baptismal-view-field",children:[e.jsx("label",{children:"Mother's Middle Name:"}),Q(f.mother.middleName)]}),e.jsxs("div",{className:"secretary-baptismal-view-field",children:[e.jsx("label",{children:"Mother's Last Name:"}),Q(f.mother.lastName)]})]}),e.jsxs("div",{className:"secretary-baptismal-view-row",children:[e.jsxs("div",{className:"secretary-baptismal-view-field",children:[e.jsx("label",{children:"Mother's Date of Birth:"}),Q(ce(f.mother.dateOfBirth))]}),e.jsxs("div",{className:"secretary-baptismal-view-field",children:[e.jsx("label",{children:"Mother's Contact Number:"}),Q(f.mother.contact)]}),e.jsxs("div",{className:"secretary-baptismal-view-field",children:[e.jsx("label",{children:"Mother's Place of Birth:"}),Q(f.mother.placeOfBirth)]})]})]}),e.jsx("h3",{className:"secretary-view-sub-title",children:"Parents Marital Status"}),e.jsxs("div",{className:"secretary-baptismal-view-info-card",children:[e.jsxs("div",{className:"secretary-baptismal-view-row-pms",children:[e.jsxs("div",{className:"secretary-marital-view-status",children:[e.jsx("label",{className:"secretary-view-section-label",children:"Parents' marital status:"}),e.jsxs("div",{className:"secretary-marital-view-options",children:[e.jsxs("div",{className:`secretary-view-pms-label ${f.maritalStatus.type==="Married"?"secretary-view-selected-status":""}`,children:[e.jsx("span",{className:`secretary-view-checkbox ${f.maritalStatus.type==="Married"?"secretary-view-checked":""}`}),e.jsx("label",{children:"Married"})]}),e.jsxs("div",{className:`secretary-view-pms-label ${f.maritalStatus.type==="Civil"?"secretary-view-selected-status":""}`,children:[e.jsx("span",{className:`secretary-view-checkbox ${f.maritalStatus.type==="Civil"?"secretary-view-checked":""}`}),e.jsx("label",{children:"Civil"})]}),e.jsxs("div",{className:`secretary-view-pms-label ${f.maritalStatus.type==="Living Together"?"secretary-view-selected-status":""}`,children:[e.jsx("span",{className:`secretary-view-checkbox ${f.maritalStatus.type==="Living Together"?"secretary-view-checked":""}`}),e.jsx("label",{children:"Living Together"})]})]})]}),e.jsxs("div",{className:"secretary-years-view-married",children:[e.jsx("label",{children:"Number of Years Married: "}),e.jsx("span",{className:"secretary-view-years",children:f.maritalStatus.yearsMarried})]})]}),e.jsxs("div",{className:"secretary-baptismal-view-row secretary-address-view-row",children:[e.jsxs("div",{className:"secretary-baptismal-view-field",children:[e.jsx("label",{children:"Street:"}),Q(f.address.street)]}),e.jsxs("div",{className:"secretary-baptismal-view-field",children:[e.jsx("label",{children:"Barangay:"}),Q(f.address.barangay)]}),e.jsxs("div",{className:"secretary-baptismal-view-field",children:[e.jsx("label",{children:"Municipality:"}),Q(f.address.municipality)]})]}),e.jsxs("div",{className:"secretary-baptismal-view-row secretary-address-view-row",children:[e.jsxs("div",{className:"secretary-baptismal-view-field",children:[e.jsx("label",{children:"Province:"}),Q(f.address.province)]}),e.jsxs("div",{className:"secretary-baptismal-view-field",children:[e.jsx("label",{children:"Region:"}),Q(f.address.region)]})]})]}),e.jsxs("div",{className:"secretary-view-bypart",children:[e.jsx("h3",{className:"secretary-view-sub-title",children:"Godparents Information"}),e.jsx("div",{className:"secretary-baptismal-view-info-card",children:f.godParents.map((ae,P)=>e.jsxs("div",{className:"secretary-godparent-item",children:[e.jsx("h4",{className:"secretary-baptismal-view-godparent-header",children:P===0?"Godfather (Ninong)":"Godmother (Ninang)"}),e.jsx("div",{className:"secretary-baptismal-view-row",children:e.jsxs("div",{className:"secretary-baptismal-view-field",children:[e.jsx("label",{children:P===0?"Godfather's Name:":"Godmother's Name:"}),Q(ae.name)]})}),P<f.godParents.length-1&&e.jsx("hr",{className:"secretary-baptismal-view-godparent-divider"})]},P))})]})]}),e.jsxs("div",{className:"secretary-requirements-view-container",children:[e.jsx("h2",{className:"secretary-requirements-view-title",children:"Requirements"}),e.jsxs("div",{className:"secretary-requirements-view-box",children:[e.jsx("h3",{className:"secretary-view-section-header",children:"Documents Required"}),e.jsxs("div",{className:"secretary-info-view-list",children:[e.jsx("div",{className:"secretary-info-view-item",children:e.jsx("p",{children:"Birth Certificate of the Child (PSA or local civil registrar copy)"})}),e.jsx("div",{className:"secretary-info-view-item",children:e.jsx("p",{children:"Parents' Marriage Certificate (If married in the Church)"})}),e.jsx("div",{className:"secretary-info-view-item",children:e.jsx("p",{children:"Valid IDs of Parents and Godparents"})}),e.jsx("div",{className:"secretary-info-view-item",children:e.jsx("p",{children:"Certificate of Permission(If outside the Parish)"})})]}),e.jsx("h3",{className:"secretary-view-section-header",children:"Requirements for Parent"}),e.jsxs("div",{className:"secretary-info-view-list",children:[e.jsx("div",{className:"secretary-info-view-item",children:e.jsx("p",{children:"At least one parent must be Catholic"})}),e.jsx("div",{className:"secretary-info-view-item",children:e.jsx("p",{children:"Parents should be willing to raise the child in the Catholic faith"})}),e.jsx("div",{className:"secretary-info-view-item",children:e.jsx("p",{children:"Must attend Pre-Baptismal Seminar (Required in most parishes)"})})]}),e.jsx("h3",{className:"secretary-view-section-header",children:"Requirements for Godparents"}),e.jsxs("div",{className:"secretary-info-view-list",children:[e.jsx("div",{className:"secretary-info-view-item",children:e.jsx("p",{children:"Must be a practicing Catholic"})}),e.jsx("div",{className:"secretary-info-view-item",children:e.jsx("p",{children:"Must have received the Sacraments of Baptism, Confirmation, and Holy Eucharist"})}),e.jsx("div",{className:"secretary-info-view-item",children:e.jsx("p",{children:"Must be at least 16 years old"})}),e.jsx("div",{className:"secretary-info-view-item",children:e.jsx("p",{children:"If married, must be married in the Catholic Church"})}),e.jsx("div",{className:"secretary-info-view-item",children:e.jsx("p",{children:"Confirmation Certificate (Some parishes require this for proof of faith practice)"})}),e.jsx("div",{className:"secretary-info-view-item",children:e.jsx("p",{children:"Certificate of Permission (if outside the Parish)"})})]})]})]}),e.jsxs("div",{className:"secretary-baptismal-view-info-card",children:[e.jsx("h3",{className:"secretary-view-sub-title",children:"Schedule Selection"}),e.jsxs("div",{className:"secretary-baptismal-view-row-date",children:[e.jsxs("div",{className:"secretary-baptismal-view-field-date",children:[e.jsx("label",{children:"Date of Baptism:"}),e.jsx("input",{type:"date",className:"secretary-view-input",value:D,onChange:ae=>ge(ae.target.value),disabled:a==="Approved"})]}),e.jsxs("div",{className:"secretary-baptismal-view-field-time",children:[e.jsx("label",{children:"Time of Baptism:"}),e.jsx("input",{type:"time",className:"secretary-view-input",value:_,onChange:ae=>X(ae.target.value),disabled:a==="Approved"})]})]}),e.jsxs("div",{className:"secretary-baptismal-view-field-date",children:[e.jsx("label",{children:"Name of the Priest:"}),a==="Approved"?Q(k||f.priest||"N/A"):e.jsx("input",{type:"text",className:"secretary-view-input",value:k,onChange:ae=>Y(ae.target.value),placeholder:"Enter the name of the priest",disabled:a==="Approved"})]})]}),e.jsx("div",{className:"secretary-action-buttons",children:a!=="Approved"&&e.jsx("button",{className:"secretary-submit-button",onClick:ue,children:"Approve"})})]})]}):e.jsx("div",{className:"secretary-baptism-view-container",children:e.jsxs("div",{className:"secretary-baptism-view-error",children:[e.jsx("p",{children:"No baptism data found."}),e.jsx("button",{onClick:()=>H(-1),children:"Back"})]})})},QU=()=>{const[a,t]=N.useState("PENDING"),[s,i]=N.useState(null),[r,c]=N.useState(!1),[A,d]=N.useState(1),h=N.useRef(null),[u,v]=N.useState(!1),[x,y]=N.useState(!0),[p,F]=N.useState(null),[b,S]=N.useState(null),f=oa(),O=Jt(),[M,J]=N.useState(!1),[K,H]=N.useState(""),[k,Y]=N.useState(!1),[D,ge]=N.useState(""),[_,X]=N.useState(""),[re,fe]=N.useState(""),Ne="https://parishofdivinemercy.com/backend";N.useEffect(()=>{var Z,se;const W=(Z=f.state)==null?void 0:Z.marriageID,C=(se=f.state)==null?void 0:se.status;if(!W){S("Missing marriage information. Please try again."),y(!1);return}C&&t(C),ue(W)},[f]);const ue=async W=>{try{y(!0);const C=`${Ne}/fetch_marriage_details.php?marriageID=${W}`,Z=await fetch(C);if(!Z.ok)throw new Error(`Server responded with status: ${Z.status}`);const se=await Z.json();if(se.success){const Se=ce(se.data);F(Se),t(Se.status||a),ge(Se.date||""),X(Se.time||""),fe(Se.priest||""),Se.status==="Approved"&&_e(W),console.log("Marriage data loaded successfully:",Se)}else S(se.message||"Failed to fetch marriage details"),console.error("API error:",se.message)}catch(C){console.error("Error fetching marriage details:",C),S("An error occurred while fetching the data: "+C.message)}finally{y(!1)}},_e=async W=>{try{const C=`${Ne}/fetch_approved_appointment.php?sacramentID=${W}&sacrament_type=Marriage`,Z=await fetch(C);if(!Z.ok)throw new Error(`Server responded with status: ${Z.status}`);const se=await Z.json();se.success&&se.appointment?(ge(se.appointment.date||""),X(se.appointment.time||""),fe(se.appointment.priest||""),console.log("Approved appointment details loaded:",se.appointment)):console.log("No approved appointment schedule found or there was an error")}catch(C){console.error("Error fetching approved appointment schedule:",C)}},ce=W=>{if(!W||!W.marriage)throw console.error("Invalid data structure received from API",W),new Error("Invalid data structure received from API");const{marriage:C,groomAddress:Z,brideAddress:se,firstWitness:Se,secondWitness:He,requirements:Qe}=W,qe=Qe||{};return{date:C.date||"",time:C.time||"",priest:C.priest||"",status:C.status||"PENDING",marriageID:C.marriageID,clientID:C.clientID||null,groom:{firstName:C.groom_first_name||"",middleName:C.groom_middle_name||"",lastName:C.groom_last_name||"",age:C.groom_age||"",dateOfBirth:C.groom_dateOfBirth||"",placeOfBirth:C.groom_placeOfBirth||"",dateOfBaptism:C.groom_dateOfBaptism||"",churchOfBaptism:C.groom_churchOfBaptism||"",email:C.groom_email||"",address:{street:(Z==null?void 0:Z.street)||"",barangay:(Z==null?void 0:Z.barangay)||"",municipality:(Z==null?void 0:Z.municipality)||"",province:(Z==null?void 0:Z.province)||""}},bride:{firstName:C.bride_first_name||"",middleName:C.bride_middle_name||"",lastName:C.bride_last_name||"",age:C.bride_age||"",dateOfBirth:C.bride_dateOfBirth||"",placeOfBirth:C.bride_placeOfBirth||"",dateOfBaptism:C.bride_dateOfBaptism||"",churchOfBaptism:C.bride_churchOfBaptism||"",email:C.bride_email||"",address:{street:(se==null?void 0:se.street)||"",barangay:(se==null?void 0:se.barangay)||"",municipality:(se==null?void 0:se.municipality)||"",province:(se==null?void 0:se.province)||""}},witnesses:[{firstName:(Se==null?void 0:Se.first_name)||"",middleName:(Se==null?void 0:Se.middle_name)||"",lastName:(Se==null?void 0:Se.last_name)||"",gender:(Se==null?void 0:Se.gender)||"",age:(Se==null?void 0:Se.age)||"",dateOfBirth:(Se==null?void 0:Se.dateOfBirth)||"",contact:(Se==null?void 0:Se.contact_number)||"",address:{street:(Se==null?void 0:Se.street)||"",barangay:(Se==null?void 0:Se.barangay)||"",municipality:(Se==null?void 0:Se.municipality)||"",province:(Se==null?void 0:Se.province)||""}},{firstName:(He==null?void 0:He.first_name)||"",middleName:(He==null?void 0:He.middle_name)||"",lastName:(He==null?void 0:He.last_name)||"",gender:(He==null?void 0:He.gender)||"",age:(He==null?void 0:He.age)||"",dateOfBirth:(He==null?void 0:He.dateOfBirth)||"",contact:(He==null?void 0:He.contact_number)||"",address:{street:(He==null?void 0:He.street)||"",barangay:(He==null?void 0:He.barangay)||"",municipality:(He==null?void 0:He.municipality)||"",province:(He==null?void 0:He.province)||""}}],requirements:{baptismalCert:{submitted:qe.baptism_cert_status==="Submitted",fileName:qe.baptism_cert?qe.baptism_cert.split("/").pop():"N/A"},confirmationCert:{submitted:qe.confirmation_cert_status==="Submitted",fileName:qe.confirmation_cert?qe.confirmation_cert.split("/").pop():"N/A"},birthCert:{submitted:qe.birth_cert_status==="Submitted",fileName:qe.birth_cert?qe.birth_cert.split("/").pop():"N/A"},marriageLicense:{submitted:qe.marriage_license_status==="Submitted",fileName:qe.marriage_license?qe.marriage_license.split("/").pop():"N/A"},cenomar:{submitted:qe.cenomar_status==="Submitted",fileName:qe.cenomar?qe.cenomar.split("/").pop():"N/A"},publicationBanns:{submitted:qe.publication_banns_status==="Submitted",fileName:qe.publication_banns?qe.publication_banns.split("/").pop():"N/A"},permitFromParish:{submitted:qe.parish_permit_status==="Submitted",fileName:qe.parish_permit?qe.parish_permit.split("/").pop():"N/A"},preCana:{submitted:qe.pre_cana_status==="Submitted",fileName:qe.pre_cana?qe.pre_cana.split("/").pop():"N/A"},sponsorsList:{submitted:qe.sponsors_list_status==="Submitted",fileName:qe.sponsors_list?qe.sponsors_list.split("/").pop():"N/A"},canonicalInterview:{submitted:qe.canonical_interview_status==="Submitted",fileName:qe.canonical_interview?qe.canonical_interview.split("/").pop():"N/A"}},certificate:{registerNumber:"2025-0123",pageNumber:"45",lineNumber:"12",dateIssued:new Date().toISOString().split("T")[0],registry:{province:"Camarines Norte",city:"Daet",registryNo:"2025-M-0123"},solemnizer:{name:C.priest||"Fr. Jos Chito M. Estrella",position:"Parish Priest",address:"Parish of the Divine Mercy, Alawihao, Daet, Camarines Norte"}}}},ye=async()=>{if(!p||!p.marriageID){alert("No marriage data available to approve.");return}if(!D){alert("Please select a date for the appointment.");return}if(!_){alert("Please select a time for the appointment.");return}if(!re){alert("Please enter the name of the priest for the ceremony.");return}Y(!0)},Q=async()=>{var W,C,Z,se,Se,He;Y(!1);try{const Qe={sacramentID:p.marriageID,sacrament_type:"Marriage",date:D,time:_,priest:re,clientID:p.clientID};console.log("Saving appointment data:",Qe);const qe=await fetch(`${Ne}/save_approved_appointment.php`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(Qe)});if(!qe.ok)throw new Error(`Server responded with status: ${qe.status}`);const Ye=await qe.json();if(!Ye.success)throw new Error(Ye.message||"Failed to save appointment details");console.log("Appointment saved successfully:",Ye);const st={marriageID:p.marriageID,status:"Approved",date:D,time:_,priest:re,groomEmail:(W=p.groom)==null?void 0:W.email,brideEmail:(C=p.bride)==null?void 0:C.email,groomName:`${(Z=p.groom)==null?void 0:Z.firstName} ${(se=p.groom)==null?void 0:se.lastName}`,brideName:`${(Se=p.bride)==null?void 0:Se.firstName} ${(He=p.bride)==null?void 0:He.lastName}`,clientID:p.clientID};console.log("Updating marriage status with data:",st);const kt=await fetch(`${Ne}/update_marriage_status.php`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(st)});if(!kt.ok)throw new Error(`Server responded with status: ${kt.status}`);const Mt=await kt.json();if(console.log("Status update response:",Mt),Mt.success)t("Approved"),H(Mt.message||"Marriage application has been approved successfully! An email notification has been sent to the client."),J(!0),F({...p,date:D,time:_,priest:re,status:"Approved"});else{const ke=Mt.message||"Failed to approve marriage application";H(ke),J(!0)}}catch(Qe){console.error("Error approving marriage application:",Qe),H("An error occurred while approving the marriage application: "+Qe.message),J(!0)}},ne=W=>{ge(W)},U=W=>{X(W)},V=W=>{fe(W)},T=W=>{d(W)},ie=W=>{if(!W)return"N/A";try{return new Date(W).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})}catch(C){return console.error("Error formatting date:",C),W}},ae=W=>{if(!W)return{month:"N/A",day:"N/A"};try{const C=new Date(W),Z=C.toLocaleDateString("en-US",{month:"long"}),se=C.getDate();return{month:Z,day:se}}catch(C){return console.error("Error extracting month and day:",C),{month:"N/A",day:"N/A"}}},P=async()=>{if(h.current){v(!0);try{const W=h.current.querySelectorAll("img");await Promise.all([...W].map(qe=>qe.complete?Promise.resolve():new Promise(Ye=>{qe.onload=Ye,qe.onerror=Ye})));const C=new ea("p","mm","a4");d(1),await new Promise(qe=>setTimeout(qe,500));let Z=await $s(h.current,{scale:2,logging:!1,useCORS:!0,allowTaint:!0,backgroundColor:"#ffffff"}),se=Z.toDataURL("image/png");const Se=210,He=Z.height*Se/Z.width;C.addImage(se,"PNG",0,0,Se,He),d(2),await new Promise(qe=>setTimeout(qe,500)),Z=await $s(h.current,{scale:2,logging:!1,useCORS:!0,allowTaint:!0,backgroundColor:"#ffffff"}),se=Z.toDataURL("image/png"),C.addPage(),C.addImage(se,"PNG",0,0,Se,He);const Qe=`Marriage_Certificate_${p.groom.lastName}_${p.bride.lastName}.pdf`;C.save(Qe);try{await fetch(`${Ne}/log_certificate_download.php`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({sacramentID:p.marriageID,sacrament_type:"Marriage",filename:Qe,downloadedBy:"Secretary"})})}catch(qe){console.error("Error logging certificate download:",qe)}c(!1),alert("Certificate downloaded successfully!")}catch(W){console.error("Error generating PDF:",W),alert("Error generating PDF. Please try again.")}finally{v(!1)}}},z=W=>e.jsx("div",{className:"secretary-marriage-view-value",children:W||"N/A"}),B=W=>window.location.hostname==="localhost"||window.location.hostname==="127.0.0.1"?`/uploads/marriage_requirements/${W}`:`/uploads/marriage_requirements/${W}`,q=()=>{if(!s)return null;const W=s.split(".").pop().toLowerCase(),C=["jpg","jpeg","png","gif","webp"].includes(W),Z=W==="pdf",se=B(s);return e.jsx("div",{className:"secretary-marriage-document-viewer-overlay",children:e.jsxs("div",{className:"secretary-marriage-document-viewer-container",children:[e.jsxs("div",{className:"secretary-marriage-document-viewer-header",children:[e.jsx("h3",{children:s}),e.jsx("button",{className:"secretary-marriage-document-close-btn",onClick:()=>i(null),children:""})]}),e.jsxs("div",{className:"secretary-marriage-document-viewer-content",children:[C&&e.jsx("img",{src:se,alt:s,style:{maxWidth:"100%",maxHeight:"70vh"},onError:Se=>{console.error(`Failed to load image: ${se}`),Se.target.src="https://via.placeholder.com/500x300?text=Image+Not+Found",Se.target.alt="Document not found"}}),Z&&e.jsx("iframe",{src:`${se}#toolbar=0`,title:s,width:"100%",height:"600px",style:{border:"none"},onError:Se=>{console.error(`Failed to load PDF: ${se}`),Se.target.src="about:blank"}}),!C&&!Z&&e.jsxs("div",{className:"secretary-marriage-document-placeholder",children:[e.jsx("p",{children:"Document preview not available for this file type."}),e.jsxs("p",{children:["Filename: ",s]}),e.jsx("a",{href:se,target:"_blank",rel:"noopener noreferrer",className:"secretary-marriage-document-download-link",children:"Download to view"})]})]})]})})},te=()=>k?e.jsx("div",{className:"secretary-marriage-success-modal-overlay",children:e.jsx("div",{className:"secretary-marriage-success-modal",children:e.jsxs("div",{className:"secretary-marriage-success-modal-content",children:[e.jsx("div",{className:"secretary-marriage-confirm-icon",children:"?"}),e.jsx("h2",{children:"Confirm Approval"}),e.jsx("p",{children:"Are you sure you want to approve this marriage appointment?"}),e.jsxs("p",{children:["Date: ",D]}),e.jsxs("p",{children:["Time: ",_]}),e.jsxs("p",{children:["Priest: ",re]}),e.jsx("p",{children:"An email notification will be sent to the client."}),e.jsxs("div",{className:"secretary-marriage-confirm-buttons",children:[e.jsx("button",{className:"secretary-marriage-confirm-yes-button",onClick:Q,children:"Yes, Approve"}),e.jsx("button",{className:"secretary-marriage-confirm-no-button",onClick:()=>Y(!1),children:"Cancel"})]})]})})}):null,he=()=>{if(!M)return null;const W=!K.includes("error")&&!K.includes("failed");return e.jsx("div",{className:"secretary-marriage-success-modal-overlay",children:e.jsx("div",{className:"secretary-marriage-success-modal",children:e.jsxs("div",{className:"secretary-marriage-success-modal-content",children:[e.jsx("div",{className:W?"secretary-marriage-success-icon":"secretary-marriage-error-icon",children:W?"":"!"}),e.jsx("h2",{children:W?"Success!":"Error"}),e.jsx("p",{children:K}),e.jsx("button",{className:"secretary-marriage-success-modal-button",onClick:()=>{J(!1),W&&O("/secretary-marriage")},children:W?"Back to Marriage List":"Close"})]})})})};return x?e.jsx("div",{className:"secretary-marriage-view-container",children:e.jsx("div",{className:"secretary-marriage-view-loading",children:"Loading marriage details..."})}):b?e.jsx("div",{className:"secretary-marriage-view-container",children:e.jsxs("div",{className:"secretary-marriage-view-error",children:[e.jsx("p",{children:b}),e.jsx("button",{onClick:()=>O(-1),children:"Back"})]})}):p?e.jsxs("div",{className:"secretary-marriage-view-container",children:[q(),r&&p&&(()=>{const{month:W,day:C}=ae(D||p.date),Z=new Date(D||p.date).getFullYear();return e.jsx("div",{className:"secretary-marriage-document-viewer-overlay",children:e.jsxs("div",{className:"secretary-marriage-certificate-modal-container",children:[e.jsxs("div",{className:"secretary-marriage-document-viewer-header",children:[e.jsx("h3",{children:"Marriage Certificate"}),e.jsx("button",{className:"secretary-marriage-document-close-btn",onClick:()=>c(!1),children:""})]}),e.jsxs("div",{className:"secretary-marriage-certificate-modal-content",children:[e.jsxs("div",{className:"secretary-marriage-certificate-page-tabs",children:[e.jsx("button",{className:`secretary-marriage-certificate-page-tab ${A===1?"active":""}`,onClick:()=>T(1),children:"Page 1"}),e.jsx("button",{className:`secretary-marriage-certificate-page-tab ${A===2?"active":""}`,onClick:()=>T(2),children:"Page 2"})]}),e.jsx("div",{ref:h,className:"marriage-certificate-preview",children:A===1?e.jsxs("div",{className:"marriage-certificate-page-1",children:[e.jsxs("div",{className:"marriage-certificate-header",children:[e.jsxs("div",{className:"marriage-certificate-logos",children:[e.jsx("div",{className:"marriage-parish-logo-left",children:e.jsx("img",{src:zs,alt:"Parish Logo Left",onError:se=>{console.error("Failed to load church image"),se.target.src="https://via.placeholder.com/70x70?text=Church"}})}),e.jsxs("div",{className:"marriage-certificate-title-section",children:[e.jsx("div",{className:"republic-title",children:"REPUBLIC OF THE PHILIPPINES"}),e.jsx("div",{className:"office-title",children:"OFFICE OF THE CIVIL REGISTRAR GENERAL"}),e.jsx("div",{className:"certificate-title",children:"CERTIFICATE OF MARRIAGE"}),e.jsxs("div",{className:"certificate-id",children:["Marriage ID: ",p.marriageID]})]}),e.jsx("div",{className:"marriage-parish-logo-right",children:e.jsx("img",{src:Ii,alt:"Parish Logo Right",onError:se=>{console.error("Failed to load PDM logo"),se.target.src="https://via.placeholder.com/80x80?text=PDM"}})})]}),e.jsx("div",{className:"marriage-certificate-registry-info",children:e.jsxs("div",{className:"registry-fields",children:[e.jsxs("div",{className:"registry-field",children:[e.jsx("span",{className:"registry-label",children:"Registry No.: "}),e.jsx("span",{className:"registry-value",children:p.certificate.registry.registryNo})]}),e.jsxs("div",{className:"registry-field",children:[e.jsx("span",{className:"registry-label",children:"Province: "}),e.jsx("span",{className:"registry-value",children:p.certificate.registry.province})]}),e.jsxs("div",{className:"registry-field",children:[e.jsx("span",{className:"registry-label",children:"City/Municipality: "}),e.jsx("span",{className:"registry-value",children:p.certificate.registry.city})]})]})})]}),e.jsxs("div",{className:"marriage-certificate-main-content",children:[e.jsxs("div",{className:"marriage-certificate-section husband-wife-section",children:[e.jsxs("div",{className:"husband-section",children:[e.jsx("div",{className:"section-title",children:"HUSBAND"}),e.jsxs("div",{className:"person-fields",children:[e.jsxs("div",{className:"person-field",children:[e.jsx("span",{className:"field-label",children:"1. Name of Contracting Party"}),e.jsxs("div",{className:"name-parts",children:[e.jsxs("div",{className:"name-part",children:[e.jsx("span",{className:"name-value",children:p.groom.firstName}),e.jsx("span",{className:"name-label",children:"(First)"})]}),e.jsxs("div",{className:"name-part",children:[e.jsx("span",{className:"name-value",children:p.groom.middleName}),e.jsx("span",{className:"name-label",children:"(Middle)"})]}),e.jsxs("div",{className:"name-part",children:[e.jsx("span",{className:"name-value",children:p.groom.lastName}),e.jsx("span",{className:"name-label",children:"(Last)"})]})]})]}),e.jsxs("div",{className:"person-field",children:[e.jsx("span",{className:"field-label",children:"2. Date of Birth"}),e.jsxs("div",{className:"date-parts",children:[e.jsxs("div",{className:"date-part",children:[e.jsx("span",{className:"date-value",children:new Date(p.groom.dateOfBirth).getDate()||"-"}),e.jsx("span",{className:"date-label",children:"(Day)"})]}),e.jsxs("div",{className:"date-part",children:[e.jsx("span",{className:"date-value",children:new Date(p.groom.dateOfBirth).getMonth()+1||"-"}),e.jsx("span",{className:"date-label",children:"(Month)"})]}),e.jsxs("div",{className:"date-part",children:[e.jsx("span",{className:"date-value",children:new Date(p.groom.dateOfBirth).getFullYear()||"-"}),e.jsx("span",{className:"date-label",children:"(Year)"})]})]})]}),e.jsxs("div",{className:"person-field",children:[e.jsx("span",{className:"field-label",children:"3. Place of Birth"}),e.jsx("span",{className:"field-value",children:p.groom.placeOfBirth})]}),e.jsxs("div",{className:"person-field",children:[e.jsx("span",{className:"field-label",children:"4. Citizenship"}),e.jsx("span",{className:"field-value",children:"Filipino"})]}),e.jsxs("div",{className:"person-field",children:[e.jsx("span",{className:"field-label",children:"5. Residence"}),e.jsx("span",{className:"field-value",children:`${p.groom.address.street}, ${p.groom.address.municipality}, ${p.groom.address.province}`})]}),e.jsxs("div",{className:"person-field",children:[e.jsx("span",{className:"field-label",children:"6. Religion/Religious Sect"}),e.jsx("span",{className:"field-value",children:"Roman Catholic"})]}),e.jsxs("div",{className:"person-field",children:[e.jsx("span",{className:"field-label",children:"7. Civil Status"}),e.jsx("span",{className:"field-value",children:"Single"})]}),e.jsxs("div",{className:"person-field",children:[e.jsx("span",{className:"field-label",children:"8. Name of Father"}),e.jsxs("div",{className:"name-parts",children:[e.jsxs("div",{className:"name-part",children:[e.jsx("span",{className:"name-value"}),e.jsx("span",{className:"name-label",children:"(First)"})]}),e.jsxs("div",{className:"name-part",children:[e.jsx("span",{className:"name-value"}),e.jsx("span",{className:"name-label",children:"(Middle)"})]}),e.jsxs("div",{className:"name-part",children:[e.jsx("span",{className:"name-value"}),e.jsx("span",{className:"name-label",children:"(Last)"})]})]})]}),e.jsxs("div",{className:"person-field",children:[e.jsx("span",{className:"field-label",children:"9. Citizenship"}),e.jsx("span",{className:"field-value",children:"Filipino"})]}),e.jsxs("div",{className:"person-field",children:[e.jsx("span",{className:"field-label",children:"10. Mother's Maiden Name"}),e.jsxs("div",{className:"name-parts",children:[e.jsxs("div",{className:"name-part",children:[e.jsx("span",{className:"name-value"}),e.jsx("span",{className:"name-label",children:"(First)"})]}),e.jsxs("div",{className:"name-part",children:[e.jsx("span",{className:"name-value"}),e.jsx("span",{className:"name-label",children:"(Middle)"})]}),e.jsxs("div",{className:"name-part",children:[e.jsx("span",{className:"name-value"}),e.jsx("span",{className:"name-label",children:"(Last)"})]})]})]}),e.jsxs("div",{className:"person-field",children:[e.jsx("span",{className:"field-label",children:"11. Citizenship"}),e.jsx("span",{className:"field-value",children:"Filipino"})]})]})]}),e.jsxs("div",{className:"wife-section",children:[e.jsx("div",{className:"section-title",children:"WIFE"}),e.jsxs("div",{className:"person-fields",children:[e.jsxs("div",{className:"person-field",children:[e.jsx("span",{className:"field-label",children:"1. Name of Contracting Party"}),e.jsxs("div",{className:"name-parts",children:[e.jsxs("div",{className:"name-part",children:[e.jsx("span",{className:"name-value",children:p.bride.firstName}),e.jsx("span",{className:"name-label",children:"(First)"})]}),e.jsxs("div",{className:"name-part",children:[e.jsx("span",{className:"name-value",children:p.bride.middleName}),e.jsx("span",{className:"name-label",children:"(Middle)"})]}),e.jsxs("div",{className:"name-part",children:[e.jsx("span",{className:"name-value",children:p.bride.lastName}),e.jsx("span",{className:"name-label",children:"(Last)"})]})]})]}),e.jsxs("div",{className:"person-field",children:[e.jsx("span",{className:"field-label",children:"2. Date of Birth"}),e.jsxs("div",{className:"date-parts",children:[e.jsxs("div",{className:"date-part",children:[e.jsx("span",{className:"date-value",children:new Date(p.bride.dateOfBirth).getDate()||"-"}),e.jsx("span",{className:"date-label",children:"(Day)"})]}),e.jsxs("div",{className:"date-part",children:[e.jsx("span",{className:"date-value",children:new Date(p.bride.dateOfBirth).getMonth()+1||"-"}),e.jsx("span",{className:"date-label",children:"(Month)"})]}),e.jsxs("div",{className:"date-part",children:[e.jsx("span",{className:"date-value",children:new Date(p.bride.dateOfBirth).getFullYear()||"-"}),e.jsx("span",{className:"date-label",children:"(Year)"})]})]})]}),e.jsxs("div",{className:"person-field",children:[e.jsx("span",{className:"field-label",children:"3. Place of Birth"}),e.jsx("span",{className:"field-value",children:p.bride.placeOfBirth})]}),e.jsxs("div",{className:"person-field",children:[e.jsx("span",{className:"field-label",children:"4. Citizenship"}),e.jsx("span",{className:"field-value",children:"Filipino"})]}),e.jsxs("div",{className:"person-field",children:[e.jsx("span",{className:"field-label",children:"5. Residence"}),e.jsx("span",{className:"field-value",children:`${p.bride.address.street}, ${p.bride.address.municipality}, ${p.bride.address.province}`})]}),e.jsxs("div",{className:"person-field",children:[e.jsx("span",{className:"field-label",children:"6. Religion/Religious Sect"}),e.jsx("span",{className:"field-value",children:"Roman Catholic"})]}),e.jsxs("div",{className:"person-field",children:[e.jsx("span",{className:"field-label",children:"7. Civil Status"}),e.jsx("span",{className:"field-value",children:"Single"})]}),e.jsxs("div",{className:"person-field",children:[e.jsx("span",{className:"field-label",children:"8. Name of Father"}),e.jsxs("div",{className:"name-parts",children:[e.jsxs("div",{className:"name-part",children:[e.jsx("span",{className:"name-value"}),e.jsx("span",{className:"name-label",children:"(First)"})]}),e.jsxs("div",{className:"name-part",children:[e.jsx("span",{className:"name-value"}),e.jsx("span",{className:"name-label",children:"(Middle)"})]}),e.jsxs("div",{className:"name-part",children:[e.jsx("span",{className:"name-value"}),e.jsx("span",{className:"name-label",children:"(Last)"})]})]})]}),e.jsxs("div",{className:"person-field",children:[e.jsx("span",{className:"field-label",children:"9. Citizenship"}),e.jsx("span",{className:"field-value",children:"Filipino"})]}),e.jsxs("div",{className:"person-field",children:[e.jsx("span",{className:"field-label",children:"10. Mother's Maiden Name"}),e.jsxs("div",{className:"name-parts",children:[e.jsxs("div",{className:"name-part",children:[e.jsx("span",{className:"name-value"}),e.jsx("span",{className:"name-label",children:"(First)"})]}),e.jsxs("div",{className:"name-part",children:[e.jsx("span",{className:"name-value"}),e.jsx("span",{className:"name-label",children:"(Middle)"})]}),e.jsxs("div",{className:"name-part",children:[e.jsx("span",{className:"name-value"}),e.jsx("span",{className:"name-label",children:"(Last)"})]})]})]}),e.jsxs("div",{className:"person-field",children:[e.jsx("span",{className:"field-label",children:"11. Citizenship"}),e.jsx("span",{className:"field-value",children:"Filipino"})]})]})]})]}),e.jsxs("div",{className:"marriage-certificate-section marriage-details-section",children:[e.jsxs("div",{className:"marriage-field",children:[e.jsx("span",{className:"field-label",children:"12. Place of Marriage"}),e.jsx("span",{className:"field-value",children:"Parish of the Divine Mercy, Alawihao, Daet, Camarines Norte"})]}),e.jsxs("div",{className:"marriage-field",children:[e.jsx("span",{className:"field-label",children:"13. Date of Marriage"}),e.jsxs("div",{className:"date-parts",children:[e.jsxs("div",{className:"date-part",children:[e.jsx("span",{className:"date-value",children:C}),e.jsx("span",{className:"date-label",children:"(Day)"})]}),e.jsxs("div",{className:"date-part",children:[e.jsx("span",{className:"date-value",children:W}),e.jsx("span",{className:"date-label",children:"(Month)"})]}),e.jsxs("div",{className:"date-part",children:[e.jsx("span",{className:"date-value",children:Z}),e.jsx("span",{className:"date-label",children:"(Year)"})]})]})]})]})]})]},"page-1"):e.jsxs("div",{className:"marriage-certificate-page-2",children:[e.jsx("div",{className:"marriage-certificate-header",children:e.jsxs("div",{className:"marriage-certificate-title-section",children:[e.jsx("div",{className:"certificate-page-title",children:"CERTIFICATE OF MARRIAGE"}),e.jsxs("div",{className:"certificate-id",children:["Marriage ID: ",p.marriageID]})]})}),e.jsx("div",{className:"marriage-certificate-main-content",children:e.jsxs("div",{className:"marriage-certificate-section certification-section",children:[e.jsx("div",{className:"certification-header",children:e.jsx("h3",{children:"I CERTIFY THAT THE ABOVE-NAMED PARTIES"})}),e.jsxs("div",{className:"certification-statement",children:[e.jsxs("p",{children:["This is to certify that ",e.jsxs("strong",{children:[p.groom.firstName," ",p.groom.middleName," ",p.groom.lastName]})," and ",e.jsxs("strong",{children:[p.bride.firstName," ",p.bride.middleName," ",p.bride.lastName]}),", both of legal age, were united in the Holy Sacrament of Matrimony on the ",e.jsxs("strong",{children:[C,"th"]})," day of ",e.jsx("strong",{children:W})," in the year ",e.jsx("strong",{children:Z}),", at the Parish of the Divine Mercy, Alawihao, Daet, Camarines Norte, Philippines, according to the rites of the Roman Catholic Church."]}),e.jsxs("p",{children:["The marriage was solemnized by ",e.jsx("strong",{children:re||p.certificate.solemnizer.name}),", ",p.certificate.solemnizer.position,", in the presence of witnesses ",e.jsxs("strong",{children:[p.witnesses[0].firstName," ",p.witnesses[0].middleName," ",p.witnesses[0].lastName]})," and ",e.jsxs("strong",{children:[p.witnesses[1].firstName," ",p.witnesses[1].middleName," ",p.witnesses[1].lastName]}),"."]})]}),e.jsxs("div",{className:"certification-signatures",children:[e.jsxs("div",{className:"signature-section",children:[e.jsxs("div",{className:"signature-placeholder",children:[e.jsx("p",{children:"Signature of Husband"}),e.jsx("div",{className:"signature-line"}),e.jsxs("p",{children:[p.groom.firstName," ",p.groom.middleName," ",p.groom.lastName]})]}),e.jsxs("div",{className:"signature-placeholder",children:[e.jsx("p",{children:"Signature of Wife"}),e.jsx("div",{className:"signature-line"}),e.jsxs("p",{children:[p.bride.firstName," ",p.bride.middleName," ",p.bride.lastName]})]})]}),e.jsxs("div",{className:"witness-signatures",children:[e.jsxs("div",{className:"signature-placeholder",children:[e.jsx("p",{children:"Witness"}),e.jsx("div",{className:"signature-line"}),e.jsxs("p",{children:[p.witnesses[0].firstName," ",p.witnesses[0].middleName," ",p.witnesses[0].lastName]})]}),e.jsxs("div",{className:"signature-placeholder",children:[e.jsx("p",{children:"Witness"}),e.jsx("div",{className:"signature-line"}),e.jsxs("p",{children:[p.witnesses[1].firstName," ",p.witnesses[1].middleName," ",p.witnesses[1].lastName]})]})]}),e.jsx("div",{className:"solemnizer-signature",children:e.jsxs("div",{className:"signature-placeholder",children:[e.jsx("p",{children:"Solemnizing Officer"}),e.jsx("div",{className:"signature-line"}),e.jsx("p",{children:re||p.certificate.solemnizer.name}),e.jsx("p",{children:p.certificate.solemnizer.position})]})})]}),e.jsxs("div",{className:"certification-footer",children:[e.jsxs("div",{className:"registry-details",children:[e.jsxs("p",{children:[e.jsx("strong",{children:"Registry No:"})," ",p.certificate.registry.registryNo]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Date Issued:"})," ",ie(p.certificate.dateIssued)]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Marriage ID:"})," ",p.marriageID]})]}),e.jsx("div",{className:"parish-seal",children:e.jsx("p",{children:"Parish Seal"})})]})]})})]},"page-2")}),e.jsxs("div",{className:"secretary-marriage-certificate-modal-actions",children:[e.jsx("button",{className:"secretary-marriage-certificate-download-btn",onClick:P,disabled:u,children:u?"Processing...":e.jsxs(e.Fragment,{children:[e.jsx(gs,{})," Download"]})}),e.jsx("button",{className:"secretary-marriage-certificate-cancel-btn",onClick:()=>c(!1),disabled:u,children:"Cancel"})]})]})]})})})(),te(),he(),e.jsx("div",{className:"secretary-marriage-view-header",children:e.jsx("div",{className:"secretary-marriage-view-left-section",children:e.jsxs("button",{className:"secretary-marriage-view-back-button",onClick:()=>O(-1),children:[e.jsx(Oa,{className:"secretary-marriage-view-back-icon"})," Back"]})})}),e.jsx("h1",{className:"secretary-marriage-view-title",children:"Holy Matrimony Application Details"}),e.jsxs("div",{className:"secretary-marriage-view-data",children:[e.jsxs("div",{className:"secretary-marriage-view-row-date",children:[e.jsxs("div",{className:"secretary-marriage-view-field-date",children:[e.jsx("label",{children:"Date of Appointment:"}),z(ie(p.date))]}),e.jsxs("div",{className:"secretary-marriage-view-field-time",children:[e.jsx("label",{children:"Time of Appointment:"}),z(p.time)]})]}),e.jsxs("div",{className:"secretary-marriage-view-bypart",children:[e.jsx("h3",{className:"secretary-marriage-view-sub-title",children:"Groom Information"}),e.jsxs("div",{className:"secretary-marriage-view-info-card",children:[e.jsxs("div",{className:"secretary-marriage-view-row",children:[e.jsxs("div",{className:"secretary-marriage-view-field",children:[e.jsx("label",{children:"First Name:"}),z(p.groom.firstName)]}),e.jsxs("div",{className:"secretary-marriage-view-field",children:[e.jsx("label",{children:"Middle Name:"}),z(p.groom.middleName)]}),e.jsxs("div",{className:"secretary-marriage-view-field",children:[e.jsx("label",{children:"Last Name:"}),z(p.groom.lastName)]}),e.jsxs("div",{className:"secretary-marriage-view-field",children:[e.jsx("label",{children:"Age:"}),z(p.groom.age)]})]}),e.jsxs("div",{className:"secretary-marriage-view-row",children:[e.jsxs("div",{className:"secretary-marriage-view-field",children:[e.jsx("label",{children:"Date of Birth:"}),z(ie(p.groom.dateOfBirth))]}),e.jsxs("div",{className:"client-marriage-view-field",children:[e.jsx("label",{children:"Date of Baptism:"}),e.jsx("div",{className:"client-marriage-view-value",children:p.groom.dateOfBaptism})]}),e.jsxs("div",{className:"client-marriage-view-field-dob",children:[e.jsx("label",{children:"Church of Baptism:"}),e.jsx("div",{className:"client-marriage-view-value",children:p.groom.churchOfBaptism})]})]}),e.jsx("label",{className:"mini-view",children:"Place of Birth"}),e.jsx("div",{className:"secretary-marriage-view-row",children:e.jsxs("div",{className:"secretary-marriage-view-field",children:[e.jsx("label",{children:"Place of Birth:"}),e.jsx("div",{className:"secretary-marriage-view-value",children:p.groom.placeOfBirth})]})}),e.jsx("label",{className:"mini-view",children:"Home Address"}),e.jsxs("div",{className:"secretary-marriage-view-row secretary-marriage-address-view-row",children:[e.jsxs("div",{className:"secretary-marriage-view-field",children:[e.jsx("label",{children:"Street:"}),z(p.groom.address.street)]}),e.jsxs("div",{className:"secretary-marriage-view-field",children:[e.jsx("label",{children:"Barangay:"}),z(p.groom.address.barangay)]}),e.jsxs("div",{className:"secretary-marriage-view-field",children:[e.jsx("label",{children:"Municipality:"}),z(p.groom.address.municipality)]})]}),e.jsx("div",{className:"secretary-marriage-view-row secretary-marriage-address-view-row",children:e.jsxs("div",{className:"secretary-marriage-view-field",children:[e.jsx("label",{children:"Province:"}),z(p.groom.address.province)]})})]}),e.jsx("h3",{className:"secretary-marriage-view-sub-title",children:"Bride Information"}),e.jsxs("div",{className:"secretary-marriage-view-info-card",children:[e.jsxs("div",{className:"secretary-marriage-view-row",children:[e.jsxs("div",{className:"secretary-marriage-view-field",children:[e.jsx("label",{children:"First Name:"}),z(p.bride.firstName)]}),e.jsxs("div",{className:"secretary-marriage-view-field",children:[e.jsx("label",{children:"Middle Name:"}),z(p.bride.middleName)]}),e.jsxs("div",{className:"secretary-marriage-view-field",children:[e.jsx("label",{children:"Last Name:"}),z(p.bride.lastName)]}),e.jsxs("div",{className:"secretary-marriage-view-field",children:[e.jsx("label",{children:"Date of Birth:"}),z(ie(p.bride.dateOfBirth))]})]}),e.jsxs("div",{className:"secretary-marriage-view-row",children:[e.jsxs("div",{className:"secretary-marriage-view-field",children:[e.jsx("label",{children:"Age:"}),z(p.bride.age)]}),e.jsxs("div",{className:"secretary-marriage-view-field",children:[e.jsx("label",{children:"Date of Baptism:"}),z(ie(p.bride.dateOfBaptism))]}),e.jsxs("div",{className:"secretary-marriage-view-field",children:[e.jsx("label",{children:"Church of Baptism:"}),z(p.bride.churchOfBaptism)]})]}),e.jsx("div",{className:"secretary-marriage-view-row",children:e.jsxs("div",{className:"secretary-marriage-view-field",children:[e.jsx("label",{children:"Place of Birth:"}),z(p.bride.placeOfBirth)]})}),e.jsx("label",{className:"mini-view",children:"Home Address"}),e.jsxs("div",{className:"secretary-marriage-view-row secretary-marriage-address-view-row",children:[e.jsxs("div",{className:"secretary-marriage-view-field",children:[e.jsx("label",{children:"Barangay:"}),z(p.bride.address.barangay)]}),e.jsxs("div",{className:"secretary-marriage-view-field",children:[e.jsx("label",{children:"Street:"}),z(p.bride.address.street)]}),e.jsxs("div",{className:"secretary-marriage-view-field",children:[e.jsx("label",{children:"Municipality:"}),z(p.bride.address.municipality)]})]}),e.jsx("div",{className:"secretary-marriage-view-row secretary-marriage-address-view-row",children:e.jsxs("div",{className:"secretary-marriage-view-field",children:[e.jsx("label",{children:"Province:"}),z(p.bride.address.province)]})})]}),e.jsx("h3",{className:"secretary-marriage-view-sub-title",children:"Witness Information"}),e.jsxs("div",{className:"secretary-marriage-view-info-card",children:[e.jsx("h4",{className:"secretary-marriage-view-witness-title",children:"First Witness"}),e.jsxs("div",{className:"secretary-marriage-view-row",children:[e.jsxs("div",{className:"secretary-marriage-view-field",children:[e.jsx("label",{children:"First Name:"}),z(p.witnesses[0].firstName)]}),e.jsxs("div",{className:"secretary-marriage-view-field",children:[e.jsx("label",{children:"Middle Name:"}),z(p.witnesses[0].middleName)]}),e.jsxs("div",{className:"secretary-marriage-view-field",children:[e.jsx("label",{children:"Last Name:"}),z(p.witnesses[0].lastName)]}),e.jsxs("div",{className:"secretary-marriage-view-field",children:[e.jsx("label",{children:"Date of Birth:"}),z(ie(p.witnesses[0].dateOfBirth))]})]}),e.jsxs("div",{className:"secretary-marriage-view-row",children:[e.jsxs("div",{className:"secretary-marriage-view-field",children:[e.jsx("label",{children:"Age:"}),z(p.witnesses[0].age)]}),e.jsxs("div",{className:"secretary-marriage-view-field",children:[e.jsx("label",{children:"Gender:"}),z(p.witnesses[0].gender)]}),e.jsxs("div",{className:"secretary-marriage-view-field",children:[e.jsx("label",{children:"Contact Number:"}),z(p.witnesses[0].contact)]})]}),e.jsxs("div",{className:"secretary-marriage-view-row secretary-marriage-address-view-row",children:[e.jsxs("div",{className:"secretary-marriage-view-field",children:[e.jsx("label",{children:"Street:"}),z(p.witnesses[0].address.street)]}),e.jsxs("div",{className:"secretary-marriage-view-field",children:[e.jsx("label",{children:"Barangay:"}),z(p.witnesses[0].address.barangay)]}),e.jsxs("div",{className:"secretary-marriage-view-field",children:[e.jsx("label",{children:"Municipality:"}),z(p.witnesses[0].address.municipality)]}),e.jsxs("div",{className:"secretary-marriage-view-field",children:[e.jsx("label",{children:"Province:"}),z(p.witnesses[0].address.province)]})]})]}),e.jsxs("div",{className:"secretary-marriage-view-info-card",children:[e.jsx("h4",{className:"secretary-marriage-view-witness-title",children:"Second Witness"}),e.jsxs("div",{className:"secretary-marriage-view-row",children:[e.jsxs("div",{className:"secretary-marriage-view-field",children:[e.jsx("label",{children:"First Name:"}),z(p.witnesses[1].firstName)]}),e.jsxs("div",{className:"secretary-marriage-view-field",children:[e.jsx("label",{children:"Middle Name:"}),z(p.witnesses[1].middleName)]}),e.jsxs("div",{className:"secretary-marriage-view-field",children:[e.jsx("label",{children:"Last Name:"}),z(p.witnesses[1].lastName)]}),e.jsxs("div",{className:"secretary-marriage-view-field",children:[e.jsx("label",{children:"Date of Birth:"}),z(ie(p.witnesses[1].dateOfBirth))]})]}),e.jsxs("div",{className:"secretary-marriage-view-row",children:[e.jsxs("div",{className:"secretary-marriage-view-field",children:[e.jsx("label",{children:"Age:"}),z(p.witnesses[1].age)]}),e.jsxs("div",{className:"secretary-marriage-view-field",children:[e.jsx("label",{children:"Gender:"}),z(p.witnesses[1].gender)]}),e.jsxs("div",{className:"secretary-marriage-view-field",children:[e.jsx("label",{children:"Contact Number:"}),z(p.witnesses[1].contact)]})]}),e.jsxs("div",{className:"secretary-marriage-view-row secretary-marriage-address-view-row",children:[e.jsxs("div",{className:"secretary-marriage-view-field",children:[e.jsx("label",{children:"Street:"}),z(p.witnesses[1].address.street)]}),e.jsxs("div",{className:"secretary-marriage-view-field",children:[e.jsx("label",{children:"Barangay:"}),z(p.witnesses[1].address.barangay)]}),e.jsxs("div",{className:"secretary-marriage-view-field",children:[e.jsx("label",{children:"Municipality:"}),z(p.witnesses[1].address.municipality)]}),e.jsxs("div",{className:"secretary-marriage-view-field",children:[e.jsx("label",{children:"Province:"}),z(p.witnesses[1].address.province)]})]})]})]}),e.jsxs("div",{className:"secretary-marriage-requirements-view-container",children:[e.jsx("h2",{className:"secretary-marriage-requirements-view-title",children:"Requirements"}),e.jsxs("div",{className:"secretary-marriage-requirements-view-box",children:[e.jsx("h3",{className:"secretary-marriage-view-section-header",children:"Documents Required(All documents must be submitted to the Parish Office)"}),e.jsxs("div",{className:"secretary-marriage-view-checkbox-list",children:[e.jsx("div",{className:"secretary-marriage-requirement-view-item",children:e.jsx("div",{className:"secretary-marriage-view-requirement-name",children:"Marriage License (Issued by the civil registry)"})}),e.jsx("div",{className:"secretary-marriage-requirement-view-item",children:e.jsx("div",{className:"secretary-marriage-view-requirement-name",children:"Certificate of No Marriage (CENOMAR, issued by PSA)"})}),e.jsx("div",{className:"secretary-marriage-requirement-view-item",children:e.jsx("div",{className:"secretary-marriage-view-requirement-name",children:"Publication of Banns (Announcements made in the parish for three consecutive Sundays)"})}),e.jsx("div",{className:"secretary-marriage-requirement-view-item",children:e.jsx("div",{className:"secretary-marriage-view-requirement-name",children:"Permit from Proper Parish (If wedding is held outside couple's parish)"})}),e.jsx("div",{className:"secretary-marriage-requirement-view-item",children:e.jsx("div",{className:"secretary-marriage-view-requirement-name",children:"Pre-Cana Seminar (Marriage Preparation Program certificate)"})}),e.jsx("div",{className:"secretary-marriage-requirement-view-item",children:e.jsx("div",{className:"secretary-marriage-view-requirement-name",children:"Complete List of Sponsors (Ninong & Ninang)"})}),e.jsx("div",{className:"secretary-marriage-requirement-view-item",children:e.jsx("div",{className:"secretary-marriage-view-requirement-name",children:"Canonical Interview/Examination (Required interview with parish priest)"})})]})]})]}),e.jsxs("div",{className:"secretary-marriage-view-info-card",children:[e.jsx("h2",{className:"secretary-marriage-view-sub-title",children:"Schedule Selection"}),e.jsxs("div",{className:"secretary-marriage-view-row",children:[e.jsxs("div",{className:"secretary-marriage-view-field",children:[e.jsx("label",{children:"Date of Holy Matrimony:"}),e.jsx("input",{type:"date",className:"secretary-view-input",value:D,onChange:W=>ne(W.target.value),disabled:a==="Approved"})]}),e.jsxs("div",{className:"secretary-marriage-view-field",children:[e.jsx("label",{children:"Time of Holy Matrimony:"}),e.jsx("input",{type:"time",className:"secretary-view-input",value:_,onChange:W=>U(W.target.value),disabled:a==="Approved"})]})]}),e.jsx("div",{className:"secretary-marriage-view-row",children:e.jsxs("div",{className:"secretary-marriage-view-field",children:[e.jsx("label",{children:"Name of the Priest:"}),e.jsx("input",{type:"text",className:"secretary-view-input",value:re,onChange:W=>V(W.target.value),placeholder:"Enter priest's name",disabled:a==="Approved"})]})})]}),e.jsx("div",{className:"secretary-marriage-action-buttons",children:a!=="Approved"&&e.jsx("button",{className:"secretary-marriage-submit-button",onClick:ye,children:"Approve"})})]})]}):e.jsx("div",{className:"secretary-marriage-view-container",children:e.jsxs("div",{className:"secretary-marriage-view-error",children:[e.jsx("p",{children:"No marriage data found."}),e.jsx("button",{onClick:()=>O(-1),children:"Back"})]})})},TU=()=>{const[a,t]=N.useState("PENDING"),[s,i]=N.useState(null),[r,c]=N.useState(!1),[A,d]=N.useState(!1),[h,u]=N.useState(!1),[v,x]=N.useState(""),y=N.useRef(null),[p,F]=N.useState(!1),[b,S]=N.useState(!0),[f,O]=N.useState(null),[M,J]=N.useState(null),[K,H]=N.useState(null),k=oa(),Y=Jt(),[D,ge]=N.useState(""),[_,X]=N.useState(""),[re,fe]=N.useState(""),Ne="https://parishofdivinemercy.com/backend";N.useEffect(()=>{var te,he;const B=(te=k.state)==null?void 0:te.funeralID,q=(he=k.state)==null?void 0:he.status;if(!B){H("Missing funeral information. Please try again."),S(!1);return}q&&t(q),ue(B),q==="Approved"&&_e(B)},[k]);const ue=async B=>{try{S(!0);const q=`${Ne}/fetch_funeral_details.php?funeralID=${B}`,te=await fetch(q);if(!te.ok)throw new Error(`Server responded with status: ${te.status}`);const he=await te.json();if(he.success){const W=ce(he.data);O(W),t(W.status||a),W.status==="Approved"?_e(B):(ge(""),X(""),fe("")),console.log("Funeral data loaded successfully:",W)}else H(he.message||"Failed to fetch funeral details"),console.error("API error:",he.message)}catch(q){console.error("Error fetching funeral details:",q),H("An error occurred while fetching the data: "+q.message)}finally{S(!1)}},_e=async B=>{try{const q=`${Ne}/fetch_approved_appointment.php?sacramentID=${B}&sacrament_type=Funeral`,te=await fetch(q);if(!te.ok){console.error(`Error fetching approved details: ${te.status}`);return}const he=await te.json();he.success&&he.appointment?(J(he.appointment),ge(he.appointment.date||""),X(he.appointment.time||""),fe(he.appointment.priest||""),console.log("Approved funeral data loaded:",he.appointment)):console.warn("No approved appointment data found")}catch(q){console.error("Error fetching approved details:",q)}},ce=B=>{const{funeral:q,deceased:te,requester:he,address:W,requirements:C}=B;return{date:q.dateOfFuneralMass,time:q.timeOfFuneralMass,priest:q.priestName,status:q.status,funeralID:q.funeralID,clientID:q.clientID||null,deceased:{firstName:te.first_name||"N/A",middleName:te.middle_name||"N/A",lastName:te.last_name||"N/A",gender:te.sex||"N/A",age:te.age||"N/A",dateOfBirth:te.dateOfBirth||"N/A",dateOfDeath:te.dateOfDeath||"N/A",causeOfDeath:te.causeOfDeath||"N/A",wakeLocation:te.wake_location||"N/A",burialLocation:te.burial_location||"N/A"},requester:{firstName:he.first_name||"N/A",middleName:he.middle_name||"N/A",lastName:he.last_name||"N/A",relationship:he.relationship||"N/A",contact:he.contact_number||"N/A",email:he.email||"N/A"},address:{street:W.street||"N/A",barangay:W.barangay||"N/A",municipality:W.municipality||"N/A",province:W.province||"N/A",region:W.region||"N/A"},requirements:{deathCertificate:{submitted:(C==null?void 0:C.death_certificate_status)==="Submitted",fileName:C!=null&&C.death_certificate?C.death_certificate.split("/").pop():"N/A"},parishClearance:{submitted:(C==null?void 0:C.parish_clearance_status)==="Submitted",fileName:C!=null&&C.parish_clearance?C.parish_clearance.split("/").pop():"N/A"},permitToBury:{submitted:(C==null?void 0:C.permit_to_bury_status)==="Submitted",fileName:C!=null&&C.permit_to_bury?C.permit_to_bury.split("/").pop():"N/A"},certificateBaptism:{submitted:(C==null?void 0:C.certificate_baptism_status)==="Submitted",fileName:C!=null&&C.certificate_baptism?C.certificate_baptism.split("/").pop():"N/A"},certificateConfirmation:{submitted:(C==null?void 0:C.certificate_confirmation_status)==="Submitted",fileName:C!=null&&C.certificate_confirmation?C.certificate_confirmation.split("/").pop():"N/A"}},certificate:{dateIssued:new Date().toISOString().split("T")[0],certificateNumber:`FM-${q.funeralID}-${new Date().getFullYear()}`}}},ye=async()=>{if(!f||!f.funeralID){alert("No funeral data available to approve.");return}if(!D){alert("Please select a date for the funeral mass.");return}if(!_){alert("Please select a time for the funeral mass.");return}if(!re){alert("Please enter the name of the priest for the funeral mass.");return}u(!0)},Q=async()=>{u(!1);try{const B={sacramentID:f.funeralID,sacrament_type:"Funeral",date:D,time:_,priest:re};console.log("Saving appointment data:",B);const q=await fetch(`${Ne}/save_approved_appointment.php`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(B)});if(!q.ok)throw new Error(`Server responded with status: ${q.status}`);const te=await q.json();if(!te.success)throw new Error(te.message||"Failed to save appointment details");console.log("Appointment saved successfully:",te);const W=await(await fetch(`${Ne}/update_funeral_status.php`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({funeralID:f.funeralID,status:"Approved",date:D,time:_,priest:re,requesterEmail:f.requester.email,requesterName:`${f.requester.firstName} ${f.requester.lastName}`,deceasedName:`${f.deceased.firstName} ${f.deceased.lastName}`,relationship:f.requester.relationship})})).json();W.success?(t("Approved"),J({date:D,time:_,priest:re}),x("Funeral mass application has been approved successfully!"),d(!0),setTimeout(()=>{d(!1),Y("/secretary-appointment")},1500)):alert("Failed to approve funeral mass application: "+W.message)}catch(B){console.error("Error approving funeral mass application:",B),alert("An error occurred while approving the funeral mass application: "+B.message)}},ne=B=>{if(!B)return"N/A";try{return new Date(B).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})}catch(q){return console.error("Error formatting date:",q),B}},U=async()=>{if(y.current){F(!0);try{const B=y.current.querySelectorAll("img");await Promise.all([...B].map(Se=>Se.complete?Promise.resolve():new Promise(He=>{Se.onload=He,Se.onerror=He})));const q=await $s(y.current,{scale:2,logging:!1,useCORS:!0,allowTaint:!0,backgroundColor:"#ffffff"}),te=q.toDataURL("image/png"),he=210,W=297,C=q.height*he/q.width,Z=new ea("p","mm","a4");Z.addImage(te,"PNG",0,0,he,C);const se=`Funeral_Certificate_${f.deceased.firstName}_${f.deceased.lastName}.pdf`;Z.save(se);try{await fetch(`${Ne}/log_certificate_download.php`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({sacramentID:f.funeralID,sacrament_type:"Funeral",filename:se,downloadedBy:"Secretary"})})}catch(Se){console.error("Error logging certificate download:",Se)}c(!1),alert("Certificate downloaded successfully!")}catch(B){console.error("Error generating PDF:",B),alert("Error generating PDF. Please try again.")}finally{F(!1)}}},V=B=>e.jsx("div",{className:"secretary-funeral-view-value",children:B||"N/A"}),T=B=>window.location.hostname==="localhost"||window.location.hostname==="127.0.0.1"?`/backend/uploads/funeral_requirements/${B}`:`/backend/uploads/funeral_requirements/${B}`,ie=()=>{if(!s)return null;const B=s.split(".").pop().toLowerCase(),q=["jpg","jpeg","png","gif","webp"].includes(B),te=B==="pdf",he=T(s);return e.jsx("div",{className:"secretary-funeral-document-viewer-overlay",children:e.jsxs("div",{className:"secretary-funeral-document-viewer-container",children:[e.jsxs("div",{className:"secretary-funeral-document-viewer-header",children:[e.jsx("h3",{children:s}),e.jsx("button",{className:"secretary-funeral-document-close-btn",onClick:()=>i(null),children:""})]}),e.jsxs("div",{className:"secretary-funeral-document-viewer-content",children:[q&&e.jsx("img",{src:he,alt:s,style:{maxWidth:"100%",maxHeight:"70vh"},onError:W=>{console.error(`Failed to load image: ${he}`),W.target.src="https://via.placeholder.com/500x300?text=Image+Not+Found",W.target.alt="Document not found"}}),te&&e.jsx("iframe",{src:`${he}#toolbar=0`,title:s,width:"100%",height:"600px",style:{border:"none"},onError:W=>{console.error(`Failed to load PDF: ${he}`),W.target.src="about:blank"}}),!q&&!te&&e.jsxs("div",{className:"secretary-funeral-document-placeholder",children:[e.jsx("p",{children:"Document preview not available for this file type."}),e.jsxs("p",{children:["Filename: ",s]}),e.jsx("a",{href:he,target:"_blank",rel:"noopener noreferrer",className:"secretary-funeral-document-download-link",children:"Download to view"})]})]})]})})},ae=()=>{if(!r||!f)return null;const B=M?M.date:f.date,q=M?M.time:f.time,te=M?M.priest:f.priest;return e.jsx("div",{className:"secretary-funeral-document-viewer-overlay",children:e.jsxs("div",{className:"secretary-funeral-certificate-modal-container",children:[e.jsxs("div",{className:"secretary-funeral-document-viewer-header",children:[e.jsx("h3",{children:"Funeral Mass Certificate"}),e.jsx("button",{className:"secretary-funeral-document-close-btn",onClick:()=>c(!1),children:""})]}),e.jsxs("div",{className:"secretary-funeral-certificate-modal-content",children:[e.jsx("p",{children:"Would you like to download this certificate?"}),e.jsxs("div",{ref:y,className:"funeral-certificate-preview",children:[e.jsxs("div",{className:"certificate-header",children:[e.jsxs("div",{className:"certificate-logos",children:[e.jsx("div",{className:"parish-logo-left",children:e.jsx("img",{src:zs,alt:"Parish Logo Left",onError:he=>{he.target.src="https://via.placeholder.com/70x70?text=Church"}})}),e.jsxs("div",{className:"parish-title",children:[e.jsx("div",{className:"diocese-title",children:"DIOCESE OF DAET"}),e.jsx("div",{className:"parish-name",children:"PARISH OF THE DIVINE MERCY"}),e.jsx("div",{className:"parish-address",children:"Alawihao, Daet, Camarines Norte"})]}),e.jsx("div",{className:"parish-logo-right",children:e.jsx("img",{src:Ii,alt:"Parish Logo Right",onError:he=>{he.target.src="https://via.placeholder.com/80x80?text=PDM"}})})]}),e.jsx("h1",{className:"certificate-title",children:"CERTIFICATE OF FUNERAL MASS"})]}),e.jsxs("div",{className:"certificate-details",children:[e.jsxs("div",{className:"certificate-row",children:[e.jsx("div",{className:"certificate-label",children:"NAME OF DECEASED"}),e.jsxs("div",{className:"certificate-value",children:[f.deceased.firstName," ",f.deceased.middleName," ",f.deceased.lastName]})]}),e.jsxs("div",{className:"certificate-row",children:[e.jsx("div",{className:"certificate-label",children:"DATE OF BIRTH"}),e.jsx("div",{className:"certificate-value",children:ne(f.deceased.dateOfBirth)})]}),e.jsxs("div",{className:"certificate-row",children:[e.jsx("div",{className:"certificate-label",children:"DATE OF DEATH"}),e.jsx("div",{className:"certificate-value",children:ne(f.deceased.dateOfDeath)})]}),e.jsxs("div",{className:"certificate-row",children:[e.jsx("div",{className:"certificate-label",children:"AGE"}),e.jsxs("div",{className:"certificate-value",children:[f.deceased.age," years old"]})]}),e.jsxs("div",{className:"certificate-row",children:[e.jsx("div",{className:"certificate-label",children:"CAUSE OF DEATH"}),e.jsx("div",{className:"certificate-value",children:f.deceased.causeOfDeath})]}),e.jsxs("div",{className:"certificate-row",children:[e.jsx("div",{className:"certificate-label",children:"WAKE LOCATION"}),e.jsx("div",{className:"certificate-value",children:f.deceased.wakeLocation})]}),e.jsxs("div",{className:"certificate-row",children:[e.jsx("div",{className:"certificate-label",children:"BURIAL LOCATION"}),e.jsx("div",{className:"certificate-value",children:f.deceased.burialLocation})]}),e.jsxs("div",{className:"certificate-row",children:[e.jsx("div",{className:"certificate-label",children:"DATE OF FUNERAL MASS"}),e.jsx("div",{className:"certificate-value",children:ne(B)})]}),e.jsxs("div",{className:"certificate-row",children:[e.jsx("div",{className:"certificate-label",children:"TIME OF FUNERAL MASS"}),e.jsx("div",{className:"certificate-value",children:q})]}),e.jsxs("div",{className:"certificate-row",children:[e.jsx("div",{className:"certificate-label",children:"OFFICIATING PRIEST"}),e.jsx("div",{className:"certificate-value",children:te})]}),e.jsxs("div",{className:"certificate-row",children:[e.jsx("div",{className:"certificate-label",children:"REQUESTED BY"}),e.jsxs("div",{className:"certificate-value",children:[f.requester.firstName," ",f.requester.middleName," ",f.requester.lastName," (",f.requester.relationship,")"]})]})]}),e.jsxs("div",{className:"certificate-footer",children:[e.jsxs("div",{className:"certificate-reference",children:[e.jsxs("div",{className:"reference-row",children:[e.jsx("span",{className:"reference-label",children:"Register Number"}),e.jsx("span",{className:"reference-value",children:f.certificate.certificateNumber})]}),e.jsxs("div",{className:"reference-row",children:[e.jsx("span",{className:"reference-label",children:"Date Issued"}),e.jsx("span",{className:"reference-value",children:ne(f.certificate.dateIssued)})]})]}),e.jsxs("div",{className:"certificate-priest-signature",children:[e.jsx("div",{className:"signature-line"}),e.jsx("p",{children:te}),e.jsx("p",{children:"Parish Priest"})]}),e.jsx("div",{className:"certificate-parish-seal",children:e.jsx("p",{children:"Parish Seal"})})]})]}),e.jsxs("div",{className:"secretary-funeral-certificate-modal-actions",children:[e.jsx("button",{className:"secretary-funeral-certificate-download-btn",onClick:U,disabled:p,children:p?"Processing...":e.jsxs(e.Fragment,{children:[e.jsx(gs,{})," Download"]})}),e.jsx("button",{className:"secretary-funeral-certificate-cancel-btn",onClick:()=>c(!1),disabled:p,children:"Cancel"})]})]})]})})},P=()=>h?e.jsx("div",{className:"secretary-funeral-document-viewer-overlay",children:e.jsxs("div",{className:"secretary-funeral-confirm-modal-container",children:[e.jsxs("div",{className:"secretary-funeral-confirm-header",children:[e.jsx("h3",{children:"Confirm Approval"}),e.jsx("button",{className:"secretary-funeral-document-close-btn",onClick:()=>u(!1),children:""})]}),e.jsxs("div",{className:"secretary-funeral-confirm-content",children:[e.jsx("div",{className:"secretary-funeral-confirm-icon",children:"?"}),e.jsx("h2",{children:"Are you sure?"}),e.jsx("p",{children:"Are you sure you want to approve this funeral mass appointment?"}),e.jsxs("p",{children:["Date: ",D]}),e.jsxs("p",{children:["Time: ",_]}),e.jsxs("p",{children:["Priest: ",re]}),e.jsx("p",{children:"This will send an email notification to the requester."}),e.jsxs("div",{className:"secretary-funeral-confirm-buttons",children:[e.jsx("button",{className:"secretary-funeral-confirm-yes-button",onClick:Q,children:"Yes, Approve"}),e.jsx("button",{className:"secretary-funeral-confirm-no-button",onClick:()=>u(!1),children:"Cancel"})]})]})]})}):null,z=()=>A?e.jsx("div",{className:"secretary-funeral-document-viewer-overlay",children:e.jsxs("div",{className:"secretary-funeral-success-modal-container",children:[e.jsxs("div",{className:"secretary-funeral-success-header",children:[e.jsx("h3",{children:"Success"}),e.jsx("button",{className:"secretary-funeral-document-close-btn",onClick:()=>{d(!1),Y("/secretary-appointment")},children:""})]}),e.jsxs("div",{className:"secretary-funeral-success-content",children:[e.jsx("div",{className:"secretary-funeral-success-icon",children:""}),e.jsx("h2",{children:"Success!"}),e.jsx("p",{children:v}),e.jsx("p",{children:"An email notification has been sent to the client."}),e.jsx("button",{className:"secretary-funeral-success-button",onClick:()=>{d(!1),Y("/secretary-appointment")},children:"Back to Appointments"})]})]})}):null;return b?e.jsx("div",{className:"secretary-funeral-view-container",children:e.jsx("div",{className:"secretary-funeral-view-loading",children:"Loading funeral details..."})}):K?e.jsx("div",{className:"secretary-funeral-view-container",children:e.jsxs("div",{className:"secretary-funeral-view-error",children:[e.jsx("p",{children:K}),e.jsx("button",{onClick:()=>Y(-1),children:"Back"})]})}):f?e.jsxs("div",{className:"secretary-funeral-view-container",children:[ie(),r&&f&&ae(),P(),z(),e.jsx("div",{className:"secretary-funeral-view-header",children:e.jsx("div",{className:"secretary-funeral-view-left-section",children:e.jsxs("button",{className:"secretary-funeral-view-back-button",onClick:()=>Y(-1),children:[e.jsx(Oa,{className:"secretary-funeral-view-back-icon"})," Back"]})})}),e.jsx("h1",{className:"secretary-funeral-view-title",children:"Funeral Mass Application Details"}),e.jsxs("div",{className:"secretary-funeral-view-data",children:[e.jsxs("div",{className:"secretary-funeral-view-info-card",children:[e.jsx("h3",{className:"secretary-funeral-view-sub-title",children:"Appointment Request Details"}),e.jsxs("div",{className:"secretary-funeral-view-row-date",children:[e.jsxs("div",{className:"secretary-funeral-view-field-date",children:[e.jsx("label",{children:"Date of Appointment Request:"}),V(ne(f.date))]}),e.jsxs("div",{className:"secretary-funeral-view-field-time",children:[e.jsx("label",{children:"Time of Appointment Request:"}),V(f.time)]})]})]}),a==="Approved"&&M&&e.jsxs("div",{className:"secretary-funeral-view-info-card approved-details",children:[e.jsx("h3",{className:"secretary-funeral-view-sub-title",children:"Approved Funeral Mass Details"}),e.jsxs("div",{className:"secretary-funeral-view-row-date",children:[e.jsxs("div",{className:"secretary-funeral-view-field-date",children:[e.jsx("label",{children:"Date of Funeral Mass:"}),V(ne(M.date))]}),e.jsxs("div",{className:"secretary-funeral-view-field-time",children:[e.jsx("label",{children:"Time of Funeral Mass:"}),V(M.time)]})]}),e.jsxs("div",{className:"secretary-funeral-view-field-date",children:[e.jsx("label",{children:"Officiating Priest:"}),V(M.priest)]})]}),e.jsxs("div",{className:"secretary-funeral-view-bypart",children:[e.jsx("h3",{className:"secretary-funeral-view-sub-title",children:"Deceased Information"}),e.jsxs("div",{className:"secretary-funeral-view-info-card",children:[e.jsxs("div",{className:"funeral-view-row",children:[e.jsxs("div",{className:"funeral-view-field",children:[e.jsx("label",{children:"First Name:"}),V(f.deceased.firstName)]}),e.jsxs("div",{className:"funeral-view-field",children:[e.jsx("label",{children:"Middle Name:"}),V(f.deceased.middleName)]}),e.jsxs("div",{className:"funeral-view-field",children:[e.jsx("label",{children:"Last Name:"}),V(f.deceased.lastName)]}),e.jsxs("div",{className:"funeral-view-field",children:[e.jsx("label",{children:"Date of Birth:"}),V(ne(f.deceased.dateOfBirth))]})]}),e.jsxs("div",{className:"funeral-view-row",children:[e.jsxs("div",{className:"funeral-view-field",children:[e.jsx("label",{children:"Age:"}),V(f.deceased.age)]}),e.jsxs("div",{className:"funeral-view-field",children:[e.jsx("label",{children:"Gender:"}),V(f.deceased.gender)]}),e.jsxs("div",{className:"funeral-view-field",children:[e.jsx("label",{children:"Date of Death:"}),V(ne(f.deceased.dateOfDeath))]})]}),e.jsx("div",{className:"funeral-view-row",children:e.jsxs("div",{className:"funeral-view-field",children:[e.jsx("label",{children:"Cause of Death:"}),V(f.deceased.causeOfDeath)]})}),e.jsx("div",{className:"funeral-view-row",children:e.jsxs("div",{className:"funeral-view-field",children:[e.jsx("label",{children:"Wake Location:"}),V(f.deceased.wakeLocation)]})}),e.jsx("div",{className:"funeral-view-row",children:e.jsxs("div",{className:"funeral-view-field",children:[e.jsx("label",{children:"Burial Location:"}),V(f.deceased.burialLocation)]})})]}),e.jsx("h3",{className:"secretary-funeral-view-sub-title",children:"Requester Information"}),e.jsxs("div",{className:"secretary-funeral-view-info-card",children:[e.jsxs("div",{className:"funeral-view-row",children:[e.jsxs("div",{className:"funeral-view-field",children:[e.jsx("label",{children:"First Name:"}),V(f.requester.firstName)]}),e.jsxs("div",{className:"funeral-view-field",children:[e.jsx("label",{children:"Middle Name:"}),V(f.requester.middleName)]}),e.jsxs("div",{className:"funeral-view-field",children:[e.jsx("label",{children:"Last Name:"}),V(f.requester.lastName)]})]}),e.jsxs("div",{className:"funeral-view-row",children:[e.jsxs("div",{className:"funeral-view-field",children:[e.jsx("label",{children:"Relationship to the Deceased:"}),V(f.requester.relationship)]}),e.jsxs("div",{className:"funeral-view-field",children:[e.jsx("label",{children:"Contact Number:"}),V(f.requester.contact)]}),e.jsxs("div",{className:"funeral-view-field",children:[e.jsx("label",{children:"Email Address:"}),V(f.requester.email)]})]})]}),e.jsx("h3",{className:"secretary-funeral-view-sub-title",children:"Address"}),e.jsxs("div",{className:"secretary-funeral-view-info-card",children:[e.jsxs("div",{className:"funeral-view-row secretary-funeral-address-view-row",children:[e.jsxs("div",{className:"funeral-view-field",children:[e.jsx("label",{children:"Street:"}),V(f.address.street)]}),e.jsxs("div",{className:"funeral-view-field",children:[e.jsx("label",{children:"Barangay:"}),V(f.address.barangay)]}),e.jsxs("div",{className:"funeral-view-field",children:[e.jsx("label",{children:"Municipality:"}),V(f.address.municipality)]})]}),e.jsxs("div",{className:"funeral-view-row secretary-funeral-address-view-row",children:[e.jsxs("div",{className:"funeral-view-field",children:[e.jsx("label",{children:"Province:"}),V(f.address.province)]}),e.jsxs("div",{className:"funeral-view-field",children:[e.jsx("label",{children:"Region:"}),V(f.address.region)]})]})]})]}),e.jsxs("div",{className:"secretary-funeral-requirements-view-container",children:[e.jsx("h2",{className:"secretary-funeral-requirements-view-title",children:"Requirements"}),e.jsxs("div",{className:"secretary-funeral-requirements-view-box",children:[e.jsx("h3",{className:"secretary-funeral-view-section-header",children:"Documents Needed"}),e.jsxs("div",{className:"secretary-funeral-view-info-list",children:[e.jsx("div",{className:"secretary-funeral-info-view-item",children:e.jsx("p",{children:"Certificate of Death"})}),e.jsx("div",{className:"secretary-funeral-info-view-item",children:e.jsx("p",{children:"Parish Clearance"})}),e.jsx("div",{className:"secretary-funeral-info-view-item",children:e.jsx("p",{children:"Permit to Bury"})}),e.jsx("div",{className:"secretary-funeral-info-view-item",children:e.jsx("p",{children:"Certificate of Permission(if outside the Parish)"})})]}),e.jsx("h3",{className:"secretary-funeral-view-section-header",children:"Funeral Setup Requirements"}),e.jsxs("div",{className:"secretary-funeral-info-view-list",children:[e.jsx("div",{className:"secretary-funeral-info-view-item",children:e.jsx("p",{children:"Photos/memorial table allowed with limitations (not on the altar)"})}),e.jsx("div",{className:"secretary-funeral-info-view-item",children:e.jsx("p",{children:"Eulogies may be given before/after the Mass or at the cemetery"})}),e.jsx("div",{className:"secretary-funeral-info-view-item",children:e.jsx("p",{children:"Family and guests should wear respectful and modest attire"})}),e.jsx("div",{className:"secretary-funeral-info-view-item",children:e.jsx("p",{children:"No loud music, applause, or improper conduct during the Mass"})})]})]})]}),a!=="Approved"&&e.jsxs("div",{className:"secretary-funeral-view-info-card",children:[e.jsx("h2",{className:"secretary-funeral-view-sub-title",children:"Schedule Selection"}),e.jsxs("div",{className:"secretary-funeral-view-row-date",children:[e.jsxs("div",{className:"secretary-funeral-view-field-date",children:[e.jsx("label",{children:"Select Date for Funeral Mass:"}),e.jsx("input",{type:"date",className:"secretary-view-input",value:D,onChange:B=>ge(B.target.value),required:!0})]}),e.jsxs("div",{className:"secretary-funeral-view-field-time",children:[e.jsx("label",{children:"Select Time for Funeral Mass:"}),e.jsx("input",{type:"time",className:"secretary-view-input",value:_,onChange:B=>X(B.target.value),required:!0})]})]}),e.jsxs("div",{className:"secretary-funeral-view-field-date",children:[e.jsx("label",{children:"Officiating Priest:"}),e.jsx("input",{type:"text",className:"secretary-view-input",value:re,onChange:B=>fe(B.target.value),placeholder:"Enter priest's name",required:!0})]})]}),a!=="Approved"&&e.jsx("div",{className:"secretary-funeral-action-buttons",children:e.jsx("button",{className:"secretary-funeral-submit-button",onClick:ye,children:"Approve"})})]})]}):e.jsx("div",{className:"secretary-funeral-view-container",children:e.jsxs("div",{className:"secretary-funeral-view-error",children:[e.jsx("p",{children:"No funeral data found."}),e.jsx("button",{onClick:()=>Y(-1),children:"Back"})]})})},RU=()=>{const[a,t]=N.useState("PENDING"),[s,i]=N.useState(null),[r,c]=N.useState(!1),[A,d]=N.useState(!1),[h,u]=N.useState(!1),[v,x]=N.useState(""),y=N.useRef(null),[p,F]=N.useState(!1),[b,S]=N.useState(!0),[f,O]=N.useState(null),[M,J]=N.useState(null),K=oa(),H=Jt(),[k,Y]=N.useState(""),[D,ge]=N.useState(""),[_,X]=N.useState(""),re="https://parishofdivinemercy.com/backend";N.useEffect(()=>{var q,te;const z=(q=K.state)==null?void 0:q.confirmationID,B=(te=K.state)==null?void 0:te.status;if(console.log("Component mounted, location state:",K.state),console.log("confirmationID:",z),console.log("statusFromNav:",B),!z){J("Missing confirmation information. Please try again."),S(!1);return}B&&t(B),fe(z,B)},[K]);const fe=async(z,B)=>{try{S(!0),console.log(`Fetching confirmation details for ID: ${z}, statusFromNav: ${B}`);const te=await(await fetch(`${re}/fetch_confirmation_details.php?confirmationID=${z}`)).json();if(console.log("API response data:",te),te.success){const he=ue(te.data);console.log("Transformed confirmation data:",he),O(he);const W=B||he.status||"PENDING";t(W),console.log("Setting status to:",W),Y(""),ge(""),X(""),!await Ne(z)&&W!=="Approved"&&(Y(he.date||""),ge(he.time||""),X(he.priest||""),console.log("Using data from confirmation application:",{date:he.date,time:he.time,priest:he.priest}))}else J(te.message||"Failed to fetch confirmation details")}catch(q){console.error("Error fetching confirmation details:",q),J("An error occurred while fetching the data")}finally{S(!1)}},Ne=async z=>{try{console.log("Fetching approved appointment details for confirmationID:",z);const B=await fetch(`${re}/fetch_approved_appointment.php?sacramentID=${z}&sacrament_type=Confirmation`);if(!B.ok)return console.error("Error response:",B.status),!1;const q=await B.json();return console.log("Approved appointment data response:",q),q.success&&q.appointment?(console.log("Setting appointment values from approved_appointments DB:",{date:q.appointment.date,time:q.appointment.time,priest:q.appointment.priest}),Y(q.appointment.date||""),ge(q.appointment.time||""),X(q.appointment.priest||""),!0):(console.log("No approved appointment schedule found or there was an error"),!1)}catch(B){return console.error("Error fetching approved appointment schedule:",B),!1}},ue=z=>{const{confirmation:B,address:q,father:te,mother:he,requirements:W}=z;console.log("Original API data:",z),console.log("Requirements data:",W);const C={date:B.date,time:B.time,priest:B.priest,status:B.status,confirmationID:B.confirmationID,candidate:{firstName:B.first_name,middleName:B.middle_name,lastName:B.last_name,gender:B.gender,age:B.age,dateOfBirth:B.dateOfBirth,dateOfBaptism:B.dateOfBaptism,churchOfBaptism:B.churchOfBaptism,placeOfBirth:B.placeOfBirth||"N/A"},father:{firstName:(te==null?void 0:te.first_name)||"N/A",middleName:(te==null?void 0:te.middle_name)||"N/A",lastName:(te==null?void 0:te.last_name)||"N/A",placeOfBirth:(te==null?void 0:te.placeOfBirth)||"N/A",dateOfBirth:(te==null?void 0:te.dateOfBirth)||"N/A",contact:(te==null?void 0:te.contact_number)||"N/A"},mother:{firstName:(he==null?void 0:he.first_name)||"N/A",middleName:(he==null?void 0:he.middle_name)||"N/A",lastName:(he==null?void 0:he.last_name)||"N/A",placeOfBirth:(he==null?void 0:he.placeOfBirth)||"N/A",dateOfBirth:(he==null?void 0:he.dateOfBirth)||"N/A",contact:(he==null?void 0:he.contact_number)||"N/A"},address:{street:(q==null?void 0:q.street)||"N/A",barangay:(q==null?void 0:q.barangay)||"N/A",municipality:(q==null?void 0:q.municipality)||"N/A",province:(q==null?void 0:q.province)||"N/A",region:(q==null?void 0:q.region)||"N/A"},sponsor:{name:"To be assigned",address:"N/A"},requirements:{baptismCert:{submitted:(W==null?void 0:W.baptism_cert_status)==="Submitted",fileName:(W==null?void 0:W.baptism_cert)||"N/A",status:(W==null?void 0:W.baptism_cert_status)||"Not Submitted"},birthCert:{submitted:(W==null?void 0:W.birth_cert_status)==="Submitted",fileName:(W==null?void 0:W.birth_cert)||"N/A",status:(W==null?void 0:W.birth_cert_status)||"Not Submitted"},validIds:{submitted:(W==null?void 0:W.valid_ids_status)==="Submitted",fileName:(W==null?void 0:W.valid_ids)||"N/A",status:(W==null?void 0:W.valid_ids_status)||"Not Submitted"}},certificate:{registerNumber:"1",pageNumber:"97",lineNumber:"6",dateIssued:new Date().toISOString().split("T")[0],purposeOf:"Marriage"}};return console.log("Transformed requirements:",C.requirements),C},_e=async()=>{if(!f||!f.confirmationID){alert("No confirmation data available to approve.");return}if(!k){alert("Please select a date for the confirmation.");return}if(!D){alert("Please select a time for the confirmation.");return}if(!_){alert("Please enter the name of the priest for the confirmation.");return}console.log("Submit values:",{selectedDate:k,selectedTime:D,selectedPriest:_}),u(!0)},ce=async()=>{u(!1);try{console.log(`Approving confirmation application with ID: ${f.confirmationID}`);const B=await(await fetch(`${re}/save_approved_appointment.php`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({sacramentID:f.confirmationID,sacrament_type:"Confirmation",date:k,time:D,priest:_})})).json();if(console.log("Appointment save result:",B),!B.success)throw new Error(B.message||"Failed to save appointment details");const q=await fetch(`${re}/update_confirmation_status.php`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({confirmationID:f.confirmationID,status:"Approved",date:k,time:D,priest:_})});let te;const he=q.headers.get("content-type");if(he&&he.indexOf("application/json")!==-1)te=await q.json();else{const W=await q.text();throw console.error("Non-JSON response:",W),new Error("Invalid response from server. Please check server logs.")}if(te.success)t("Approved"),O({...f,date:k,time:D,priest:_,status:"Approved"}),x("Confirmation application has been approved successfully! An email notification has been sent to the client."),d(!0);else{const W=te.message||"Failed to approve confirmation application";x(W),d(!0)}}catch(z){console.error("Error approving confirmation application:",z),x("An error occurred while approving the confirmation application: "+z.message),d(!0)}},ye=z=>{if(!z)return"N/A";try{return new Date(z).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})}catch(B){return console.error("Error formatting date:",B),z}},Q=z=>{if(!z)return{month:"N/A",day:"N/A"};try{const B=new Date(z),q=B.toLocaleDateString("en-US",{month:"long"}),te=B.getDate();return{month:q,day:te}}catch(B){return console.error("Error extracting month and day:",B),{month:"N/A",day:"N/A"}}},ne=async()=>{if(y.current){F(!0);try{const z=y.current.querySelectorAll("img");await Promise.all([...z].map(se=>se.complete?Promise.resolve():new Promise(Se=>{se.onload=Se,se.onerror=Se})));const B=await $s(y.current,{scale:2,logging:!1,useCORS:!0,allowTaint:!0,backgroundColor:"#ffffff"}),q=B.toDataURL("image/png"),te=210,he=297,W=B.height*te/B.width,C=new ea("p","mm","a4");C.addImage(q,"PNG",0,0,te,W);const Z=`Confirmation_Certificate_${f.candidate.firstName}_${f.candidate.lastName}.pdf`;C.save(Z),c(!1),alert("Certificate downloaded successfully!")}catch(z){console.error("Error generating PDF:",z),alert("Error generating PDF. Please try again.")}finally{F(!1)}}},U=z=>e.jsx("div",{className:"secretary-conf-view-value",children:z||"N/A"}),V=z=>window.location.hostname==="localhost"||window.location.hostname==="127.0.0.1"?`/uploads/confirmation_requirements/${z}`:`/uploads/confirmation_requirements/${z}`,T=()=>{if(!s)return null;const z=s.split(".").pop().toLowerCase(),B=["jpg","jpeg","png","gif","webp"].includes(z),q=z==="pdf",te=V(s),he="Document Preview";return e.jsx("div",{className:"secretary-conf-document-viewer-overlay",children:e.jsxs("div",{className:"secretary-conf-document-viewer-container",children:[e.jsxs("div",{className:"secretary-conf-document-viewer-header",children:[e.jsx("h3",{children:he}),e.jsx("button",{className:"secretary-conf-document-close-btn",onClick:()=>i(null),children:""})]}),e.jsxs("div",{className:"secretary-conf-document-viewer-content",children:[B&&e.jsx("img",{src:te,alt:he,style:{maxWidth:"100%",maxHeight:"70vh"},onError:W=>{console.error(`Failed to load image: ${te}`),W.target.src="https://via.placeholder.com/500x300?text=Image+Not+Found",W.target.alt="Document not found"}}),q&&e.jsx("iframe",{src:`${te}#toolbar=0`,title:he,width:"100%",height:"600px",style:{border:"none"},onError:W=>{console.error(`Failed to load PDF: ${te}`),W.target.src="about:blank"}}),!B&&!q&&e.jsxs("div",{className:"secretary-conf-document-placeholder",children:[e.jsx("p",{children:"Document preview not available for this file type."}),e.jsx("a",{href:te,target:"_blank",rel:"noopener noreferrer",className:"secretary-conf-document-download-link",children:"Download to view"})]})]})]})})},ie=()=>{if(!r||!f)return null;const{month:z,day:B}=Q(k||f.date),q=new Date(k||f.date).getFullYear();return e.jsx("div",{className:"secretary-conf-document-viewer-overlay",children:e.jsxs("div",{className:"secretary-conf-certificate-modal-container",children:[e.jsxs("div",{className:"secretary-conf-document-viewer-header",children:[e.jsx("h3",{children:"Confirmation Certificate"}),e.jsx("button",{className:"secretary-conf-document-close-btn",onClick:()=>c(!1),children:""})]}),e.jsxs("div",{className:"secretary-conf-certificate-modal-content",children:[e.jsx("p",{children:"Would you like to download this certificate?"}),e.jsxs("div",{ref:y,className:"confirmation-certificate-preview",children:[e.jsxs("div",{className:"confirmation-certificate-header",children:[e.jsxs("div",{className:"confirmation-certificate-logos",children:[e.jsx("div",{className:"confirmation-parish-logo-left",children:e.jsx("img",{src:zs,alt:"Parish Logo Left",onError:te=>{te.target.src="https://via.placeholder.com/70x70?text=Church"}})}),e.jsxs("div",{className:"parish-title",children:[e.jsx("div",{className:"diocese-title",children:"DIOCESE OF DAET"}),e.jsx("div",{className:"parish-name",children:"PARISH OF THE DIVINE MERCY"}),e.jsx("div",{className:"parish-address",children:"Alawihao, Daet, 4600 Camarines Norte, Philippines"})]}),e.jsx("div",{className:"confirmation-parish-logo-right",children:e.jsx("img",{src:Ii,alt:"Parish Logo Right",onError:te=>{te.target.src="https://via.placeholder.com/80x80?text=PDM"}})})]}),e.jsx("h1",{className:"certificate-title",children:"Certificate of Confirmation"}),e.jsx("p",{className:"certificate-subtitle",children:"This is to certify that"})]}),e.jsxs("div",{className:"confirmation-certificate-details",children:[e.jsxs("div",{className:"cert-field name-field",children:[e.jsxs("div",{className:"cert-value",children:[f.candidate.firstName," ",f.candidate.middleName," ",f.candidate.lastName]}),e.jsx("div",{className:"cert-label",children:"(Name of child)"})]}),e.jsxs("div",{className:"cert-row",children:[e.jsxs("div",{className:"cert-field",children:[e.jsxs("div",{className:"cert-value",children:[f.father.firstName," ",f.father.middleName," ",f.father.lastName]}),e.jsx("div",{className:"cert-label",children:"(Father's Name)"})]}),e.jsx("div",{className:"cert-field",children:e.jsx("div",{className:"cert-text",children:"and"})}),e.jsxs("div",{className:"cert-field",children:[e.jsxs("div",{className:"cert-value",children:[f.mother.firstName," ",f.mother.middleName," ",f.mother.lastName]}),e.jsx("div",{className:"cert-label",children:"(Mother's Name)"})]})]}),e.jsxs("div",{className:"cert-field residence-field",children:[e.jsxs("div",{className:"cert-value",children:[f.address.barangay,", ",f.address.street,", ",f.address.municipality,", ",f.address.province,", ",f.address.region]}),e.jsx("div",{className:"cert-label",children:"(Residence)"})]}),e.jsxs("div",{className:"cert-field birth-place-field",children:[e.jsx("div",{className:"cert-value",children:f.candidate.placeOfBirth}),e.jsx("div",{className:"cert-label",children:"(Place of Birth)"})]}),e.jsxs("div",{className:"cert-field baptism-field",children:[e.jsx("div",{className:"cert-value",children:f.candidate.churchOfBaptism}),e.jsx("div",{className:"cert-label",children:"(Was Baptized at)"})]}),e.jsxs("div",{className:"cert-field confirmation-date-field",children:[e.jsx("div",{className:"cert-prefix",children:"Was Confirmed on the"}),e.jsxs("div",{className:"cert-value",children:[B,"th"]}),e.jsx("div",{className:"cert-prefix",children:"day of"}),e.jsx("div",{className:"cert-value",children:z}),e.jsx("div",{className:"cert-prefix",children:"in the year"}),e.jsx("div",{className:"cert-value",children:q})]}),e.jsx("div",{className:"cert-field rites-field",children:e.jsx("div",{className:"cert-value",children:"According to the Rites of the Roman Catholic Church"})}),e.jsxs("div",{className:"cert-field minister-field",children:[e.jsx("div",{className:"cert-prefix",children:"by the Most Rev."}),e.jsx("div",{className:"cert-value",children:_||f.priest})]}),e.jsxs("div",{className:"cert-field sponsor-field",children:[e.jsx("div",{className:"cert-prefix",children:"the Sponsor is"}),e.jsx("div",{className:"cert-value",children:f.sponsor.name})]}),e.jsxs("div",{className:"cert-field register-field",children:[e.jsx("div",{className:"cert-prefix",children:"as appears on Confirmation Register No."}),e.jsx("div",{className:"cert-value",children:f.certificate.registerNumber}),e.jsx("div",{className:"cert-prefix",children:"Page"}),e.jsx("div",{className:"cert-value",children:f.certificate.pageNumber}),e.jsx("div",{className:"cert-prefix",children:"Line"}),e.jsx("div",{className:"cert-value",children:f.certificate.lineNumber})]}),e.jsxs("div",{className:"cert-field purpose-field",children:[e.jsx("div",{className:"cert-prefix",children:"This certificate was given for the purpose of"}),e.jsx("div",{className:"cert-value",children:f.certificate.purposeOf})]}),e.jsxs("div",{className:"cert-field date-issued-field",children:[e.jsx("div",{className:"cert-prefix",children:"Date Issued:"}),e.jsx("div",{className:"cert-value",children:ye(f.certificate.dateIssued)})]}),e.jsxs("div",{className:"cert-field signature-field",children:[e.jsx("div",{className:"cert-value parish-seal",children:"Parish Seal"}),e.jsx("div",{className:"cert-value signature-line",children:(_||f.priest).toUpperCase().startsWith("REV")||(_||f.priest).toUpperCase().startsWith("FR")?(_||f.priest).toUpperCase():`REV. FR. ${(_||f.priest).toUpperCase()}`}),e.jsx("div",{className:"cert-label",children:"(Parish Priest)"})]})]})]}),e.jsxs("div",{className:"secretary-conf-certificate-modal-actions",children:[e.jsx("button",{className:"secretary-conf-certificate-download-btn",onClick:ne,disabled:p,children:p?"Processing...":e.jsxs(e.Fragment,{children:[e.jsx(gs,{})," Download"]})}),e.jsx("button",{className:"secretary-conf-certificate-cancel-btn",onClick:()=>c(!1),disabled:p,children:"Cancel"})]})]})]})})},ae=()=>{if(!A)return null;const z=v.includes("successfully"),B=z?"success":"error",q=()=>{d(!1),z&&H("/secretary-confirmation")};return e.jsx("div",{className:"secretary-conf-document-viewer-overlay",children:e.jsxs("div",{className:`secretary-conf-${B}-modal-container`,children:[e.jsxs("div",{className:`secretary-conf-${B}-header`,children:[e.jsx("h3",{children:z?"Success":"Error"}),e.jsx("button",{className:"secretary-conf-document-close-btn",onClick:()=>d(!1),children:""})]}),e.jsxs("div",{className:`secretary-conf-${B}-content`,children:[e.jsx("div",{className:`secretary-conf-${B}-icon`,children:z?"":"!"}),e.jsx("p",{children:v}),e.jsx("button",{className:`secretary-conf-${B}-ok-btn`,onClick:q,children:"OK"})]})]})})},P=()=>h?e.jsx("div",{className:"secretary-conf-document-viewer-overlay",children:e.jsxs("div",{className:"secretary-conf-confirm-modal-container",children:[e.jsxs("div",{className:"secretary-conf-confirm-header",children:[e.jsx("h3",{children:"Confirm Approval"}),e.jsx("button",{className:"secretary-conf-document-close-btn",onClick:()=>u(!1),children:""})]}),e.jsxs("div",{className:"secretary-conf-confirm-content",children:[e.jsx("div",{className:"secretary-conf-confirm-icon",children:"?"}),e.jsx("p",{children:"Are you sure you want to approve this confirmation appointment?"}),e.jsxs("p",{children:["Date: ",k]}),e.jsxs("p",{children:["Time: ",D]}),e.jsxs("p",{children:["Priest: ",_]}),e.jsx("p",{children:"This will send an email notification to the client."}),e.jsxs("div",{className:"secretary-conf-confirm-buttons",children:[e.jsx("button",{className:"secretary-conf-confirm-yes-btn",onClick:ce,children:"Yes, Approve"}),e.jsx("button",{className:"secretary-conf-confirm-no-btn",onClick:()=>u(!1),children:"Cancel"})]})]})]})}):null;return b?e.jsx("div",{className:"secretary-confirmation-view-container",children:e.jsx("div",{className:"secretary-confirmation-view-loading",children:"Loading confirmation details..."})}):M?e.jsx("div",{className:"secretary-confirmation-view-container",children:e.jsxs("div",{className:"secretary-confirmation-view-error",children:[e.jsx("p",{children:M}),e.jsx("button",{onClick:()=>H(-1),children:"Back"})]})}):f?e.jsxs("div",{className:"secretary-confirmation-view-container",children:[T(),ie(),ae(),P(),e.jsx("div",{className:"secretary-conf-view-header",children:e.jsx("div",{className:"secretary-conf-view-left-section",children:e.jsxs("button",{className:"secretary-conf-view-back-button",onClick:()=>H(-1),children:[e.jsx(Oa,{className:"secretary-conf-view-back-icon"})," Back"]})})}),e.jsx("h1",{className:"secretary-conf-view-title",children:"Confirmation Application Details"}),e.jsxs("div",{className:"secretary-conf-view-data",children:[e.jsxs("div",{className:"secretary-conf-view-bypart",children:[e.jsx("h3",{className:"secretary-conf-view-sub-title",children:"Personal Information"}),e.jsxs("div",{className:"secretary-conf-view-info-card",children:[e.jsxs("div",{className:"secretary-conf-view-row",children:[e.jsxs("div",{className:"secretary-conf-view-field",children:[e.jsx("label",{children:"First Name:"}),U(f.candidate.firstName)]}),e.jsxs("div",{className:"secretary-conf-view-field",children:[e.jsx("label",{children:"Middle Name:"}),U(f.candidate.middleName)]}),e.jsxs("div",{className:"secretary-conf-view-field",children:[e.jsx("label",{children:"Last Name:"}),U(f.candidate.lastName)]}),e.jsxs("div",{className:"secretary-conf-view-field",children:[e.jsx("label",{children:"Date of Birth:"}),U(ye(f.candidate.dateOfBirth))]})]}),e.jsxs("div",{className:"secretary-conf-view-row",children:[e.jsxs("div",{className:"secretary-conf-view-field",children:[e.jsx("label",{children:"Age:"}),U(f.candidate.age)]}),e.jsxs("div",{className:"secretary-conf-view-field",children:[e.jsx("label",{children:"Gender:"}),U(f.candidate.gender)]}),e.jsxs("div",{className:"secretary-conf-view-field",children:[e.jsx("label",{children:"Date of Baptism:"}),U(ye(f.candidate.dateOfBaptism))]}),e.jsxs("div",{className:"secretary-conf-view-field",children:[e.jsx("label",{children:"Church of Baptism:"}),U(f.candidate.churchOfBaptism)]})]}),e.jsx("div",{className:"secretary-conf-view-row",children:e.jsxs("div",{className:"secretary-conf-view-field",children:[e.jsx("label",{children:"Place of Birth:"}),U(f.candidate.placeOfBirth)]})}),e.jsx("label",{className:"sub-mini-cc",children:"Home Address"}),e.jsxs("div",{className:"secretary-conf-view-row",children:[e.jsxs("div",{className:"secretary-conf-view-field",children:[e.jsx("label",{children:"Street:"}),U(f.address.street)]}),e.jsxs("div",{className:"secretary-conf-view-field",children:[e.jsx("label",{children:"Barangay:"}),U(f.address.barangay)]}),e.jsxs("div",{className:"secretary-conf-view-field",children:[e.jsx("label",{children:"Municipality:"}),U(f.address.municipality)]})]}),e.jsxs("div",{className:"secretary-conf-view-row secretary-conf-address-view-row",children:[e.jsxs("div",{className:"secretary-conf-view-field",children:[e.jsx("label",{children:"Province:"}),U(f.address.province)]}),e.jsxs("div",{className:"secretary-conf-view-field",children:[e.jsx("label",{children:"Region:"}),U(f.address.region)]})]})]}),e.jsx("h3",{className:"secretary-conf-view-sub-title",children:"Father's Information"}),e.jsxs("div",{className:"secretary-conf-view-info-card",children:[e.jsxs("div",{className:"secretary-conf-view-row",children:[e.jsxs("div",{className:"secretary-conf-view-field",children:[e.jsx("label",{children:"Father's First Name:"}),U(f.father.firstName)]}),e.jsxs("div",{className:"secretary-conf-view-field",children:[e.jsx("label",{children:"Father's Middle Name:"}),U(f.father.middleName)]}),e.jsxs("div",{className:"secretary-conf-view-field",children:[e.jsx("label",{children:"Father's Last Name:"}),U(f.father.lastName)]})]}),e.jsxs("div",{className:"secretary-conf-view-row",children:[e.jsxs("div",{className:"secretary-conf-view-field",children:[e.jsx("label",{children:"Father's Date of Birth:"}),U(ye(f.father.dateOfBirth))]}),e.jsxs("div",{className:"secretary-conf-view-field",children:[e.jsx("label",{children:"Father's Place of Birth:"}),U(f.father.placeOfBirth)]}),e.jsxs("div",{className:"secretary-conf-view-field",children:[e.jsx("label",{children:"Father's Contact Number:"}),U(f.father.contact)]})]})]}),e.jsx("h3",{className:"secretary-conf-view-sub-title",children:"Mother's Information"}),e.jsxs("div",{className:"secretary-conf-view-info-card",children:[e.jsxs("div",{className:"secretary-conf-view-row",children:[e.jsxs("div",{className:"secretary-conf-view-field",children:[e.jsx("label",{children:"Mother's First Name:"}),U(f.mother.firstName)]}),e.jsxs("div",{className:"secretary-conf-view-field",children:[e.jsx("label",{children:"Mother's Middle Name:"}),U(f.mother.middleName)]}),e.jsxs("div",{className:"secretary-conf-view-field",children:[e.jsx("label",{children:"Mother's Last Name:"}),U(f.mother.lastName)]})]}),e.jsxs("div",{className:"secretary-conf-view-row",children:[e.jsxs("div",{className:"secretary-conf-view-field",children:[e.jsx("label",{children:"Mother's Date of Birth:"}),U(ye(f.mother.dateOfBirth))]}),e.jsxs("div",{className:"secretary-conf-view-field",children:[e.jsx("label",{children:"Mother's Place of Birth:"}),U(f.mother.placeOfBirth)]}),e.jsxs("div",{className:"secretary-conf-view-field",children:[e.jsx("label",{children:"Mother's Contact Number:"}),U(f.mother.contact)]})]})]})]}),e.jsxs("div",{className:"secretary-conf-requirements-view-container",children:[e.jsx("h2",{className:"secretary-conf-requirements-view-title",children:"Requirements"}),e.jsxs("div",{className:"secretary-conf-requirements-view-box",children:[e.jsx("h3",{className:"secretary-conf-view-section-header",children:"Documents Required"}),e.jsxs("div",{className:"secretary-conf-info-view-list",children:[e.jsx("div",{className:"secretary-conf-info-view-item",children:e.jsx("p",{children:"Baptism Certificate (Proof of Catholic Baptism)"})}),e.jsx("div",{className:"secretary-conf-info-view-item",children:e.jsx("p",{children:"Birth Certificate (PSA or Local Civil Registrar Copy)"})}),e.jsx("div",{className:"secretary-conf-info-view-item",children:e.jsx("p",{children:"Valid IDs of Candidate, Parents, and Sponsor"})}),e.jsx("div",{className:"secretary-conf-info-view-item",children:e.jsx("p",{children:"Certificate of Permission (If outside the Parish)"})})]}),e.jsx("h3",{className:"secretary-conf-view-section-header",children:"Requirements for Candidate"}),e.jsxs("div",{className:"secretary-conf-info-view-list",children:[e.jsx("div",{className:"secretary-conf-info-view-item",children:e.jsx("p",{children:"Must have received the Sacraments of Baptism and Holy Eucharist"})}),e.jsx("div",{className:"secretary-conf-info-view-item",children:e.jsx("p",{children:"Must be at least 12 years old (Age requirement may vary by parish)"})}),e.jsx("div",{className:"secretary-conf-info-view-item",children:e.jsx("p",{children:"Must attend Catechism Classes or Confirmation Seminar"})}),e.jsx("div",{className:"secretary-conf-info-view-item",children:e.jsx("p",{children:"Must receive the Sacrament of Confession before Confirmation"})}),e.jsx("div",{className:"secretary-conf-info-view-item",children:e.jsx("p",{children:"Must attend a Confirmation Retreat (if required by parish)"})})]}),e.jsx("h3",{className:"secretary-conf-view-section-header",children:"Requirements for Sponsor"}),e.jsxs("div",{className:"secretary-conf-info-view-list",children:[e.jsx("div",{className:"secretary-conf-info-view-item",children:e.jsx("p",{children:"Must be a practicing Catholic"})}),e.jsx("div",{className:"secretary-conf-info-view-item",children:e.jsx("p",{children:"Must have received the Sacraments of Baptism, Confirmation, and Holy Eucharist"})}),e.jsx("div",{className:"secretary-conf-info-view-item",children:e.jsx("p",{children:"Must be at least 16 years old"})}),e.jsx("div",{className:"secretary-conf-info-view-item",children:e.jsx("p",{children:"If married, must be married in the Catholic Church"})})]})]})]}),e.jsxs("div",{className:"secretary-conf-view-info-card",children:[e.jsx("h3",{className:"secretary-conf-view-sub-title",children:"Schedule Selection"}),e.jsxs("div",{className:"secretary-conf-view-row-date",children:[e.jsxs("div",{className:"secretary-conf-view-field-date",children:[e.jsx("label",{children:"Date of Confirmation:"}),e.jsx("input",{type:"date",className:"secretary-view-input",value:k,onChange:z=>{console.log("Date changed to:",z.target.value),Y(z.target.value)},disabled:a==="Approved"})]}),e.jsxs("div",{className:"secretary-conf-view-field-time",children:[e.jsx("label",{children:"Time of Confirmation:"}),e.jsx("input",{type:"time",className:"secretary-view-input",value:D,onChange:z=>{console.log("Time changed to:",z.target.value),ge(z.target.value)},disabled:a==="Approved"})]})]}),e.jsxs("div",{className:"secretary-conf-view-field-date",children:[e.jsx("label",{children:"Name of the Priest:"}),a==="Approved"?U(_):e.jsx("input",{type:"text",className:"secretary-view-input",value:_,onChange:z=>{console.log("Priest changed to:",z.target.value),X(z.target.value)},placeholder:"Enter priest's name",disabled:a==="Approved"})]})]}),e.jsxs("div",{className:"secretary-action-buttons",children:[a!=="Approved"&&e.jsx("button",{className:"secretary-submit-button",onClick:_e,children:"Approve"}),a==="Approved"&&e.jsxs("div",{className:"secretary-approved-status",children:[e.jsx("span",{className:"secretary-approved-icon",children:""}),e.jsx("span",{className:"secretary-approved-text",children:"This confirmation has been approved"})]})]})]})]}):e.jsx("div",{className:"secretary-confirmation-view-container",children:e.jsxs("div",{className:"secretary-confirmation-view-error",children:[e.jsx("p",{children:"No confirmation data found."}),e.jsx("button",{onClick:()=>H(-1),children:"Back"})]})})},PU=()=>{const[a,t]=N.useState("PENDING"),[s,i]=N.useState(null),[r,c]=N.useState(!1),[A,d]=N.useState(!1),[h,u]=N.useState(!1),[v,x]=N.useState(""),y=N.useRef(null),[p,F]=N.useState(!1),[b,S]=N.useState(!0),[f,O]=N.useState(null),[M,J]=N.useState(null),K=oa(),H=Jt(),[k,Y]=N.useState(""),[D,ge]=N.useState(""),[_,X]=N.useState(""),re="https://parishofdivinemercy.com/backend";N.useEffect(()=>{var te,he;const B=(te=K.state)==null?void 0:te.communionID,q=(he=K.state)==null?void 0:he.status;if(console.log("Component mounted, location state:",K.state),console.log("communionID:",B),console.log("statusFromNav:",q),!B){J("Missing communion information. Please try again."),S(!1);return}q&&t(q),fe(B,q)},[K]);const fe=async(B,q)=>{try{S(!0),console.log(`Fetching communion details for ID: ${B}, statusFromNav: ${q}`);const te=await fetch(`${re}/fetch_communion_details.php?communionID=${B}`);console.log("Response status:",te.status);const he=await te.json();if(console.log("API response data:",he),he.success){const W=ue(he.data);console.log("Transformed data:",W),O(W);const C=q||W.status||"PENDING";t(C),console.log("Setting status to:",C),Y(""),ge(""),X(""),!await Ne(B)&&C!=="Approved"&&(Y(W.date||""),ge(W.time||""),X(W.priest||""),console.log("Using data from communion application:",{date:W.date,time:W.time,priest:W.priest}))}else console.error("Error from API:",he.message),J(he.message||"Failed to fetch communion details")}catch(te){console.error("Error fetching communion details:",te),J("An error occurred while fetching the data: "+te.message)}finally{S(!1)}},Ne=async B=>{try{console.log("Fetching approved appointment details for communionID:",B);const q=await fetch(`${re}/fetch_approved_appointment.php?sacramentID=${B}&sacrament_type=Communion`);if(!q.ok)return console.error("Error response:",q.status),!1;const te=await q.json();return console.log("Approved appointment data response:",te),te.success&&te.appointment?(console.log("Setting appointment values from approved_appointments DB:",{date:te.appointment.date,time:te.appointment.time,priest:te.appointment.priest}),Y(te.appointment.date||""),ge(te.appointment.time||""),X(te.appointment.priest||""),!0):(console.log("No approved appointment schedule found or there was an error"),!1)}catch(q){return console.error("Error fetching approved appointment schedule:",q),!1}},ue=B=>{const{communion:q,address:te,father:he,mother:W,requirements:C}=B;return console.log("Raw communion data:",q),console.log("Raw address data:",te),console.log("Raw father data:",he),console.log("Raw mother data:",W),console.log("Raw requirements data:",C),{date:q.date||"",time:q.time||"",priest:q.priest||"",communionID:q.communionID,child:{firstName:q.first_name||"",middleName:q.middle_name||"",lastName:q.last_name||"",age:q.age||"",dateOfBirth:q.dateOfBirth||"",gender:q.gender||"",dateOfBaptism:q.dateOfBaptism||"",churchOfBaptism:q.churchOfBaptism||"",placeOfBirth:q.placeOfBirth||"",address:{street:(te==null?void 0:te.street)||"",barangay:(te==null?void 0:te.barangay)||"",municipality:(te==null?void 0:te.municipality)||"",province:(te==null?void 0:te.province)||"",region:(te==null?void 0:te.region)||""}},father:{firstName:(he==null?void 0:he.first_name)||"",middleName:(he==null?void 0:he.middle_name)||"",lastName:(he==null?void 0:he.last_name)||"",dateOfBirth:(he==null?void 0:he.dateOfBirth)||"",placeOfBirth:(he==null?void 0:he.placeOfBirth)||"",contact:(he==null?void 0:he.contact_number)||""},mother:{firstName:(W==null?void 0:W.first_name)||"",middleName:(W==null?void 0:W.middle_name)||"",lastName:(W==null?void 0:W.last_name)||"",dateOfBirth:(W==null?void 0:W.dateOfBirth)||"",placeOfBirth:(W==null?void 0:W.placeOfBirth)||"",contact:(W==null?void 0:W.contact_number)||""},requirements:{baptismCert:{submitted:(C==null?void 0:C.baptism_cert_status)==="Submitted",fileName:(C==null?void 0:C.baptism_cert)||"",status:(C==null?void 0:C.baptism_cert_status)||"Not Submitted"},firstCommunionCert:{submitted:(C==null?void 0:C.first_communion_cert_status)==="Submitted",fileName:(C==null?void 0:C.first_communion_cert)||"",status:(C==null?void 0:C.first_communion_cert_status)||"Not Submitted"},birthCert:{submitted:(C==null?void 0:C.birth_cert_status)==="Submitted",fileName:(C==null?void 0:C.birth_cert)||"",status:(C==null?void 0:C.birth_cert_status)||"Not Submitted"}},certificate:{registerNumber:"24",pageNumber:"103",lineNumber:"8",dateIssued:new Date().toISOString().split("T")[0],purposeOf:"School Records"}}},_e=async()=>{if(!f||!f.communionID){alert("No communion data available to approve.");return}if(!k){alert("Please select a date for the communion.");return}if(!D){alert("Please select a time for the communion.");return}if(!_){alert("Please enter the name of the priest for the communion.");return}console.log("Submit values:",{selectedDate:k,selectedTime:D,selectedPriest:_}),u(!0)},ce=async()=>{u(!1);try{console.log(`Approving communion application with ID: ${f.communionID}`);const B={sacramentID:f.communionID,sacrament_type:"Communion",date:k,time:D,priest:_,clientID:f.clientID};console.log("Saving appointment data:",B);const q=await fetch(`${re}/save_approved_appointment.php`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(B)});if(!q.ok)throw new Error(`Server responded with status: ${q.status}`);const te=await q.json();if(console.log("Appointment save result:",te),!te.success)throw new Error(te.message||"Failed to save appointment details");console.log("Appointment saved successfully:",te);const he={communionID:f.communionID,status:"Approved",date:k,time:D,priest:_,childName:`${f.child.firstName} ${f.child.lastName}`,parentEmail:f.father.email||f.mother.email,parentName:`${f.father.firstName} ${f.father.lastName}`||`${f.mother.firstName} ${f.mother.lastName}`};console.log("Updating communion status with data:",he);const W=await fetch(`${re}/update_communion_status.php`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(he)});let C;const Z=W.headers.get("content-type");if(Z&&Z.indexOf("application/json")!==-1)C=await W.json(),console.log("API response:",C);else{const se=await W.text();throw console.error("Non-JSON response:",se),new Error("Invalid response from server. Please check server logs.")}if(C.success){t("Approved"),O({...f,date:k,time:D,priest:_,status:"Approved"});let se="Communion application has been approved successfully!";C.email_sent!==void 0&&(C.email_sent?se+=" An email notification has been sent to the client.":(se+=" However, the email notification could not be sent.",console.error("Email sending failed:",C.email_message))),x(se),d(!0)}else{const se=C.message||"Failed to approve communion application";x(se),d(!0)}}catch(B){console.error("Error approving communion application:",B),x("An error occurred while approving the communion application: "+B.message),d(!0)}},ye=B=>{if(!B)return"N/A";try{return new Date(B).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})}catch(q){return console.error("Error formatting date:",q),B}},Q=B=>{if(!B)return{month:"N/A",day:"N/A"};try{const q=new Date(B),te=q.toLocaleDateString("en-US",{month:"long"}),he=q.getDate();return{month:te,day:he}}catch(q){return console.error("Error extracting month and day:",q),{month:"N/A",day:"N/A"}}},ne=async()=>{if(y.current){F(!0);try{const B=y.current.querySelectorAll("img");await Promise.all([...B].map(Se=>Se.complete?Promise.resolve():new Promise(He=>{Se.onload=He,Se.onerror=He})));const q=await $s(y.current,{scale:2,logging:!1,useCORS:!0,allowTaint:!0,backgroundColor:"#ffffff"}),te=q.toDataURL("image/png"),he=210,W=297,C=q.height*he/q.width,Z=new ea("p","mm","a4");Z.addImage(te,"PNG",0,0,he,C);const se=`First_Communion_Certificate_${f.child.firstName}_${f.child.lastName}.pdf`;Z.save(se),c(!1),alert("Certificate downloaded successfully!")}catch(B){console.error("Error generating PDF:",B),alert("Error generating PDF. Please try again.")}finally{F(!1)}}},U=B=>e.jsx("div",{className:"secretary-conf-view-value",children:B||"N/A"}),V=B=>B?(console.log(`Getting URL for document: ${B}`),window.location.hostname==="localhost"||window.location.hostname==="127.0.0.1"?`/uploads/communion_requirements/${B}`:`/uploads/communion_requirements/${B}`):"",T=()=>{if(!s)return null;const B=s.split(".").pop().toLowerCase(),q=["jpg","jpeg","png","gif","webp"].includes(B),te=B==="pdf",he=V(s),W="Document Preview";return e.jsx("div",{className:"secretary-conf-document-viewer-overlay",children:e.jsxs("div",{className:"secretary-conf-document-viewer-container",children:[e.jsxs("div",{className:"secretary-conf-document-viewer-header",children:[e.jsx("h3",{children:W}),e.jsx("button",{className:"secretary-conf-document-close-btn",onClick:()=>i(null),children:""})]}),e.jsxs("div",{className:"secretary-conf-document-viewer-content",children:[q&&e.jsx("img",{src:he,alt:W,style:{maxWidth:"100%",maxHeight:"70vh"},onError:C=>{console.error(`Failed to load image: ${he}`),C.target.src="https://via.placeholder.com/500x300?text=Image+Not+Found",C.target.alt="Document not found"}}),te&&e.jsx("iframe",{src:`${he}#toolbar=0`,title:W,width:"100%",height:"600px",style:{border:"none"},onError:C=>{console.error(`Failed to load PDF: ${he}`),C.target.src="about:blank"}}),!q&&!te&&e.jsxs("div",{className:"secretary-conf-document-placeholder",children:[e.jsx("p",{children:"Document preview not available for this file type."}),e.jsx("a",{href:he,target:"_blank",rel:"noopener noreferrer",className:"secretary-conf-document-download-link",children:"Download to view"})]})]})]})})},ie=()=>{if(!r||!f)return null;const{month:B,day:q}=Q(k||f.date),te=new Date(k||f.date).getFullYear();return e.jsx("div",{className:"secretary-conf-document-viewer-overlay",children:e.jsxs("div",{className:"secretary-conf-certificate-modal-container",children:[e.jsxs("div",{className:"secretary-conf-document-viewer-header",children:[e.jsx("h3",{children:"First Holy Communion Certificate"}),e.jsx("button",{className:"secretary-conf-document-close-btn",onClick:()=>c(!1),children:""})]}),e.jsxs("div",{className:"secretary-conf-certificate-modal-content",children:[e.jsx("p",{children:"Would you like to download this certificate?"}),e.jsxs("div",{ref:y,className:"confirmation-certificate-preview",children:[e.jsxs("div",{className:"confirmation-certificate-header",children:[e.jsxs("div",{className:"confirmation-certificate-logos",children:[e.jsx("div",{className:"confirmation-parish-logo-left",children:e.jsx("img",{src:zs,alt:"Parish Logo Left",onError:he=>{he.target.src="https://via.placeholder.com/70x70?text=Church"}})}),e.jsxs("div",{className:"parish-title",children:[e.jsx("div",{className:"diocese-title",children:"DIOCESE OF DAET"}),e.jsx("div",{className:"parish-name",children:"PARISH OF THE DIVINE MERCY"}),e.jsx("div",{className:"parish-address",children:"Alawihao, Daet, 4600 Camarines Norte, Philippines"})]}),e.jsx("div",{className:"confirmation-parish-logo-right",children:e.jsx("img",{src:Ii,alt:"Parish Logo Right",onError:he=>{he.target.src="https://via.placeholder.com/80x80?text=PDM"}})})]}),e.jsx("h1",{className:"certificate-title",children:"Certificate of First Holy Communion"}),e.jsx("p",{className:"certificate-subtitle",children:"This is to certify that"})]}),e.jsxs("div",{className:"confirmation-certificate-details",children:[e.jsxs("div",{className:"cert-field name-field",children:[e.jsxs("div",{className:"cert-value",children:[f.child.firstName," ",f.child.middleName," ",f.child.lastName]}),e.jsx("div",{className:"cert-label",children:"(Name of child)"})]}),e.jsxs("div",{className:"cert-row",children:[e.jsxs("div",{className:"cert-field",children:[e.jsxs("div",{className:"cert-value",children:[f.father.firstName," ",f.father.middleName," ",f.father.lastName]}),e.jsx("div",{className:"cert-label",children:"(Father's Name)"})]}),e.jsx("div",{className:"cert-field",children:e.jsx("div",{className:"cert-text",children:"and"})}),e.jsxs("div",{className:"cert-field",children:[e.jsxs("div",{className:"cert-value",children:[f.mother.firstName," ",f.mother.middleName," ",f.mother.lastName]}),e.jsx("div",{className:"cert-label",children:"(Mother's Name)"})]})]}),e.jsxs("div",{className:"cert-field residence-field",children:[e.jsxs("div",{className:"cert-value",children:[f.child.address.barangay,", ",f.child.address.street,", ",f.child.address.municipality,", ",f.child.address.province,", ",f.child.address.region]}),e.jsx("div",{className:"cert-label",children:"(Residence)"})]}),e.jsxs("div",{className:"cert-field birthplace-field",children:[e.jsx("div",{className:"cert-value",children:typeof f.child.placeOfBirth=="string"?f.child.placeOfBirth:`${f.child.placeOfBirth.municipality}, ${f.child.placeOfBirth.province}, ${f.child.placeOfBirth.region}`}),e.jsx("div",{className:"cert-label",children:"(Place of Birth)"})]}),e.jsxs("div",{className:"cert-field baptism-field",children:[e.jsx("div",{className:"cert-value",children:f.child.churchOfBaptism}),e.jsx("div",{className:"cert-label",children:"(Was Baptized at)"})]}),e.jsxs("div",{className:"cert-field communion-date-field",children:[e.jsx("div",{className:"cert-prefix",children:"Received First Holy Communion on the"}),e.jsxs("div",{className:"cert-value",children:[q,"th"]}),e.jsx("div",{className:"cert-prefix",children:"day of"}),e.jsx("div",{className:"cert-value",children:B}),e.jsx("div",{className:"cert-prefix",children:"in the year"}),e.jsx("div",{className:"cert-value",children:te})]}),e.jsx("div",{className:"cert-field rites-field",children:e.jsx("div",{className:"cert-value",children:"According to the Rites of the Roman Catholic Church"})}),e.jsxs("div",{className:"cert-field minister-field",children:[e.jsx("div",{className:"cert-prefix",children:"by"}),e.jsx("div",{className:"cert-value",children:_||f.priest})]}),e.jsxs("div",{className:"cert-field register-field",children:[e.jsx("div",{className:"cert-prefix",children:"as appears on First Communion Register No."}),e.jsx("div",{className:"cert-value",children:f.certificate.registerNumber}),e.jsx("div",{className:"cert-prefix",children:"Page"}),e.jsx("div",{className:"cert-value",children:f.certificate.pageNumber}),e.jsx("div",{className:"cert-prefix",children:"Line"}),e.jsx("div",{className:"cert-value",children:f.certificate.lineNumber})]}),e.jsxs("div",{className:"cert-field purpose-field",children:[e.jsx("div",{className:"cert-prefix",children:"This certificate was given for the purpose of"}),e.jsx("div",{className:"cert-value",children:f.certificate.purposeOf})]}),e.jsxs("div",{className:"cert-field date-issued-field",children:[e.jsx("div",{className:"cert-prefix",children:"Date Issued:"}),e.jsx("div",{className:"cert-value",children:ye(f.certificate.dateIssued)})]}),e.jsxs("div",{className:"cert-field signature-field",children:[e.jsx("div",{className:"cert-value parish-seal",children:"Parish Seal"}),e.jsx("div",{className:"cert-value signature-line",children:(_||f.priest).toUpperCase().startsWith("REV")||(_||f.priest).toUpperCase().startsWith("FR")?(_||f.priest).toUpperCase():`REV. FR. ${(_||f.priest).toUpperCase()}`}),e.jsx("div",{className:"cert-label",children:"(Parish Priest)"})]})]})]}),e.jsxs("div",{className:"secretary-conf-certificate-modal-actions",children:[e.jsx("button",{className:"secretary-conf-certificate-download-btn",onClick:ne,disabled:p,children:p?"Processing...":e.jsxs(e.Fragment,{children:[e.jsx(gs,{})," Download"]})}),e.jsx("button",{className:"secretary-conf-certificate-cancel-btn",onClick:()=>c(!1),disabled:p,children:"Cancel"})]})]})]})})},ae=()=>{if(!A)return null;const B=v.includes("successfully"),q=B?"success":"error",te=()=>{d(!1),B&&H("/secretary-appointment")};return e.jsx("div",{className:"secretary-conf-document-viewer-overlay",children:e.jsxs("div",{className:`secretary-conf-${q}-modal-container`,children:[e.jsxs("div",{className:`secretary-conf-${q}-header`,children:[e.jsx("h3",{children:B?"Success":"Error"}),e.jsx("button",{className:"secretary-conf-document-close-btn",onClick:te,children:""})]}),e.jsxs("div",{className:`secretary-conf-${q}-content`,children:[e.jsx("div",{className:`secretary-conf-${q}-icon`,children:B?"":"!"}),e.jsx("p",{children:v}),e.jsx("button",{className:`secretary-conf-${q}-ok-btn`,onClick:te,children:"OK"})]})]})})},P=()=>h?e.jsx("div",{className:"secretary-conf-document-viewer-overlay",children:e.jsxs("div",{className:"secretary-conf-confirm-modal-container",children:[e.jsxs("div",{className:"secretary-conf-confirm-header",children:[e.jsx("h3",{children:"Confirm Approval"}),e.jsx("button",{className:"secretary-conf-document-close-btn",onClick:()=>u(!1),children:""})]}),e.jsxs("div",{className:"secretary-conf-confirm-content",children:[e.jsx("div",{className:"secretary-conf-confirm-icon",children:"?"}),e.jsx("p",{children:"Are you sure you want to approve this Holy Communion appointment?"}),e.jsxs("p",{children:["Date: ",k]}),e.jsxs("p",{children:["Time: ",D]}),e.jsxs("p",{children:["Priest: ",_]}),e.jsx("p",{children:"An email notification will be sent to the client."}),e.jsxs("div",{className:"secretary-conf-confirm-buttons",children:[e.jsx("button",{className:"secretary-conf-confirm-yes-btn",onClick:ce,children:"Yes, Approve"}),e.jsx("button",{className:"secretary-conf-confirm-no-btn",onClick:()=>u(!1),children:"Cancel"})]})]})]})}):null,z=()=>{var B;return e.jsxs("div",{style:{display:"none",padding:"10px",background:"#f0f0f0",margin:"10px 0",borderRadius:"4px",fontSize:"12px"},children:[e.jsx("strong",{children:"Debug Info:"}),e.jsx("br",{}),"communionID: ",((B=K.state)==null?void 0:B.communionID)||"Not set",e.jsx("br",{}),"status: ",a,e.jsx("br",{}),"loading: ",b.toString(),e.jsx("br",{}),"error: ",M||"None",e.jsx("br",{}),"data loaded: ",f?"Yes":"No"]})};return b?e.jsxs("div",{className:"secretary-confirmation-view-container",children:[z(),e.jsx("div",{className:"secretary-confirmation-view-loading",children:"Loading communion details..."})]}):M?e.jsxs("div",{className:"secretary-confirmation-view-container",children:[z(),e.jsxs("div",{className:"secretary-confirmation-view-error",children:[e.jsx("p",{children:M}),e.jsx("button",{onClick:()=>H(-1),children:"Back"})]})]}):f?e.jsxs("div",{className:"secretary-confirmation-view-container",children:[z(),T(),ie(),ae(),P(),e.jsx("div",{className:"secretary-conf-view-header",children:e.jsx("div",{className:"secretary-conf-view-left-section",children:e.jsxs("button",{className:"secretary-conf-view-back-button",onClick:()=>H(-1),children:[e.jsx(Oa,{className:"secretary-conf-view-back-icon"})," Back"]})})}),e.jsx("h1",{className:"secretary-conf-view-title",children:"Holy Communion Application Details"}),e.jsxs("div",{className:"secretary-conf-view-data",children:[e.jsx("div",{className:"secretary-conf-view-info-card",children:e.jsxs("div",{className:"secretary-conf-view-row-date",children:[e.jsxs("div",{className:"secretary-conf-view-field-date",children:[e.jsx("label",{children:"Date of Appointment:"}),U(ye(f.date))]}),e.jsxs("div",{className:"secretary-conf-view-field-time",children:[e.jsx("label",{children:"Time of Appointment:"}),U(f.time)]})]})}),e.jsxs("div",{className:"secretary-conf-view-bypart",children:[e.jsx("h3",{className:"secretary-conf-view-sub-title",children:"Child's Information"}),e.jsxs("div",{className:"secretary-conf-view-info-card",children:[e.jsxs("div",{className:"secretary-conf-view-row",children:[e.jsxs("div",{className:"secretary-conf-view-field",children:[e.jsx("label",{children:"First Name:"}),U(f.child.firstName)]}),e.jsxs("div",{className:"secretary-conf-view-field",children:[e.jsx("label",{children:"Middle Name:"}),U(f.child.middleName)]}),e.jsxs("div",{className:"secretary-conf-view-field",children:[e.jsx("label",{children:"Last Name:"}),U(f.child.lastName)]}),e.jsxs("div",{className:"secretary-conf-view-field",children:[e.jsx("label",{children:"Date of Birth:"}),U(ye(f.child.dateOfBirth))]})]}),e.jsxs("div",{className:"secretary-conf-view-row",children:[e.jsxs("div",{className:"secretary-conf-view-field",children:[e.jsx("label",{children:"Age:"}),U(f.child.age)]}),e.jsxs("div",{className:"secretary-conf-view-field",children:[e.jsx("label",{children:"Gender:"}),U(f.child.gender)]}),e.jsxs("div",{className:"secretary-conf-view-field",children:[e.jsx("label",{children:"Date of Baptism:"}),U(ye(f.child.dateOfBaptism))]}),e.jsxs("div",{className:"secretary-conf-view-field",children:[e.jsx("label",{children:"Church of Baptism:"}),U(f.child.churchOfBaptism)]})]}),e.jsx("div",{className:"secretary-conf-view-row",children:e.jsxs("div",{className:"secretary-conf-view-field",children:[e.jsx("label",{children:"Place of Birth:"}),U(f.child.placeOfBirth)]})}),e.jsx("label",{className:"sub-mini-cc",children:"Home Address"}),e.jsxs("div",{className:"secretary-conf-view-row secretary-conf-address-view-row",children:[e.jsxs("div",{className:"secretary-conf-view-field",children:[e.jsx("label",{children:"Street:"}),U(f.child.address.street)]}),e.jsxs("div",{className:"secretary-conf-view-field",children:[e.jsx("label",{children:"Barangay:"}),U(f.child.address.barangay)]}),e.jsxs("div",{className:"secretary-conf-view-field",children:[e.jsx("label",{children:"Municipality:"}),U(f.child.address.municipality)]}),e.jsxs("div",{className:"secretary-conf-view-field",children:[e.jsx("label",{children:"Province:"}),U(f.child.address.province)]}),e.jsxs("div",{className:"secretary-conf-view-field",children:[e.jsx("label",{children:"Region:"}),U(f.child.address.region)]})]})]}),e.jsx("h3",{className:"secretary-conf-view-sub-title",children:"Father's Information"}),e.jsxs("div",{className:"secretary-conf-view-info-card",children:[e.jsxs("div",{className:"secretary-conf-view-row",children:[e.jsxs("div",{className:"secretary-conf-view-field",children:[e.jsx("label",{children:"Father's First Name:"}),U(f.father.firstName)]}),e.jsxs("div",{className:"secretary-conf-view-field",children:[e.jsx("label",{children:"Father's Middle Name:"}),U(f.father.middleName)]}),e.jsxs("div",{className:"secretary-conf-view-field",children:[e.jsx("label",{children:"Father's Last Name:"}),U(f.father.lastName)]})]}),e.jsxs("div",{className:"secretary-conf-view-row",children:[e.jsxs("div",{className:"secretary-conf-view-field",children:[e.jsx("label",{children:"Father's Date of Birth:"}),U(ye(f.father.dateOfBirth))]}),e.jsxs("div",{className:"secretary-conf-view-field",children:[e.jsx("label",{children:"Father's Contact Number:"}),U(f.father.contact)]}),e.jsxs("div",{className:"secretary-conf-view-field",children:[e.jsx("label",{children:"Father's Place of Birth:"}),U(f.father.placeOfBirth)]})]})]}),e.jsx("h3",{className:"secretary-conf-view-sub-title",children:"Mother's Information"}),e.jsxs("div",{className:"secretary-conf-view-info-card",children:[e.jsxs("div",{className:"secretary-conf-view-row",children:[e.jsxs("div",{className:"secretary-conf-view-field",children:[e.jsx("label",{children:"Mother's First Name:"}),U(f.mother.firstName)]}),e.jsxs("div",{className:"secretary-conf-view-field",children:[e.jsx("label",{children:"Mother's Middle Name:"}),U(f.mother.middleName)]}),e.jsxs("div",{className:"secretary-conf-view-field",children:[e.jsx("label",{children:"Mother's Last Name:"}),U(f.mother.lastName)]})]}),e.jsxs("div",{className:"secretary-conf-view-row",children:[e.jsxs("div",{className:"secretary-conf-view-field",children:[e.jsx("label",{children:"Mother's Date of Birth:"}),U(ye(f.mother.dateOfBirth))]}),e.jsxs("div",{className:"secretary-conf-view-field",children:[e.jsx("label",{children:"Mother's Contact Number:"}),U(f.mother.contact)]}),e.jsxs("div",{className:"secretary-conf-view-field",children:[e.jsx("label",{children:"Mother's Place of Birth:"}),U(f.mother.placeOfBirth)]})]})]})]}),e.jsxs("div",{className:"secretary-conf-requirements-view-container",children:[e.jsx("h2",{className:"secretary-conf-requirements-view-title",children:"Requirements"}),e.jsxs("div",{className:"secretary-conf-requirements-view-box",children:[e.jsx("h3",{className:"secretary-conf-view-section-header",children:"Documents Required"}),e.jsxs("div",{className:"secretary-conf-info-view-list",children:[e.jsx("div",{className:"secretary-conf-info-view-item",children:e.jsx("p",{children:"Certificate of Baptism(Proof of Catholic Baptism)"})}),e.jsx("div",{className:"secretary-conf-info-view-item",children:e.jsx("p",{children:"First Communion Certificate(If Applicable, for record purposes)"})}),e.jsx("div",{className:"secretary-conf-info-view-item",children:e.jsx("p",{children:"Birth Certificate(For verification purposes)"})}),e.jsx("div",{className:"secretary-conf-info-view-item",children:e.jsx("p",{children:"Certificate of Permission(If outside the Parish)"})})]}),e.jsx("h3",{className:"secretary-conf-view-section-header",children:"Requirements for Candidate"}),e.jsxs("div",{className:"secretary-conf-info-view-list",children:[e.jsx("div",{className:"secretary-conf-info-view-item",children:e.jsx("p",{children:"Must be a baptized Catholic"})}),e.jsx("div",{className:"secretary-conf-info-view-item",children:e.jsx("p",{children:"Must have reached the age of reason (usually around 7 years old)"})}),e.jsx("div",{className:"secretary-conf-info-view-item",children:e.jsx("p",{children:"Must have received the Sacrament of Reconciliation (Confession) before First Communion"})}),e.jsx("div",{className:"secretary-conf-info-view-item",children:e.jsx("p",{children:"Must attend a First Communion Catechesis or Religious Instruction Program"})}),e.jsx("div",{className:"secretary-conf-info-view-item",children:e.jsx("p",{children:"Must understand the significance of the Holy Eucharist and believe in the real presence of Christ in the sacrament"})}),e.jsx("div",{className:"secretary-conf-info-view-item",children:e.jsx("p",{children:"Must attend a First Communion Retreat (if required by the parish)"})})]}),e.jsx("h3",{className:"secretary-conf-view-section-header",children:"Parish Requirements"}),e.jsxs("div",{className:"secretary-conf-info-view-list",children:[e.jsx("div",{className:"secretary-conf-info-view-item",children:e.jsx("p",{children:"Must be registered in the parish where First Communion will be received"})}),e.jsx("div",{className:"secretary-conf-info-view-item",children:e.jsx("p",{children:"Must attend the required preparation classes and rehearsals"})}),e.jsx("div",{className:"secretary-conf-info-view-item",children:e.jsx("p",{children:"Must participate in a First Communion Retreat (if required by the parish)"})})]}),e.jsx("h3",{className:"secretary-conf-view-section-header",children:"Dress Code (If Specified by Parish)"}),e.jsxs("div",{className:"secretary-conf-info-view-list",children:[e.jsx("div",{className:"secretary-conf-info-view-item",children:e.jsx("p",{children:"Boys: White polo or barong, black pants, and formal shoes"})}),e.jsx("div",{className:"secretary-conf-info-view-item",children:e.jsx("p",{children:"Girls: White dress with sleeves (modest), white veil (optional), and formal shoes"})})]})]})]}),e.jsxs("div",{className:"secretary-conf-view-info-card",children:[e.jsx("h2",{className:"secretary-conf-view-sub-title",children:"Schedule Selection"}),e.jsxs("div",{className:"secretary-conf-view-row",children:[e.jsxs("div",{className:"secretary-conf-view-field",children:[e.jsx("label",{children:"Date of Holy Communion:"}),e.jsx("input",{type:"date",className:"secretary-view-input",value:k,onChange:B=>{console.log("Date changed to:",B.target.value),Y(B.target.value)},disabled:a==="Approved"})]}),e.jsxs("div",{className:"secretary-conf-view-field",children:[e.jsx("label",{children:"Time of Holy Communion:"}),e.jsx("input",{type:"time",className:"secretary-view-input",value:D,onChange:B=>{console.log("Time changed to:",B.target.value),ge(B.target.value)},disabled:a==="Approved"})]})]}),e.jsx("div",{className:"secretary-conf-view-row",children:e.jsxs("div",{className:"secretary-conf-view-field",children:[e.jsx("label",{children:"Name of the Priest:"}),a==="Approved"?U(_):e.jsx("input",{type:"text",className:"secretary-view-input",value:_,onChange:B=>{console.log("Priest changed to:",B.target.value),X(B.target.value)},placeholder:"Enter priest's name",disabled:a==="Approved"})]})})]}),e.jsxs("div",{className:"secretary-action-buttons",children:[a!=="Approved"&&e.jsx("button",{className:"secretary-submit-button",onClick:_e,children:"Approve"}),a==="Approved"&&e.jsxs("div",{className:"secretary-approved-status",children:[e.jsx("span",{className:"secretary-approved-icon",children:""}),e.jsx("span",{className:"secretary-approved-text",children:"This communion has been approved"})]})]})]})]}):e.jsxs("div",{className:"secretary-confirmation-view-container",children:[z(),e.jsxs("div",{className:"secretary-confirmation-view-error",children:[e.jsx("p",{children:"No communion data found."}),e.jsx("button",{onClick:()=>H(-1),children:"Back"})]})]})},HU=()=>{const[a,t]=N.useState(null),[s,i]=N.useState(!1),[r,c]=N.useState(!1),[A,d]=N.useState(!1),[h,u]=N.useState(""),v=N.useRef(null),[x,y]=N.useState(!1),[p,F]=N.useState(!0),[b,S]=N.useState(null),[f,O]=N.useState(null),M=oa(),J=Jt(),[K,H]=N.useState(""),[k,Y]=N.useState(""),[D,ge]=N.useState("");N.useEffect(()=>{var P,z,B;const ae=((P=M.state)==null?void 0:P.blessingID)||((B=(z=M.state)==null?void 0:z.blessingData)==null?void 0:B.id);if(!ae){O("Missing blessing information. Please try again."),F(!1);return}_(ae)},[M]);const _=async ae=>{try{F(!0);const z=await(await fetch(`https://parishofdivinemercy.com/backend/fetch_blessing_details.php?blessingID=${ae}`)).json();if(z.success){const B=re(z.data);S(B),H(""),Y(""),ge(""),B.status==="Approved"?X(ae):(H(B.date||""),Y(B.time||""),ge(B.priest||""))}else O(z.message||"Failed to fetch blessing details")}catch(P){console.error("Error fetching blessing details:",P),O("An error occurred while fetching the data")}finally{F(!1)}},X=async ae=>{try{console.log("Fetching appointment details for blessing ID:",ae);const z=await(await fetch(`https://parishofdivinemercy.com/backend/fetch_approved_appointment.php?sacramentID=${ae}&sacrament_type=blessing`)).json();console.log("Appointment data response:",z),z.success&&z.appointment?(console.log("Setting appointment values from DB:",{date:z.appointment.date,time:z.appointment.time,priest:z.appointment.priest}),H(z.appointment.date||""),Y(z.appointment.time||""),ge(z.appointment.priest||"")):console.log("No approved appointment schedule found or there was an error")}catch(P){console.error("Error fetching approved appointment schedule:",P)}},re=ae=>{const{blessing:P,address:z,type:B,requirements:q}=ae,te={};return Array.isArray(q)&&q.forEach(he=>{const W=he.requirement_type;te[W]={submitted:he.status==="Submitted",fileName:he.file_name||"N/A",filePath:he.file_path||"N/A",status:he.status||"Not Submitted"}}),{date:P.preferredDate||"N/A",time:P.preferredTime||"N/A",priest:P.priestName||"N/A",status:P.status||"Pending",blessingID:P.blessingID,firstName:P.firstName||"N/A",middleName:P.middleName||"N/A",lastName:P.lastName||"N/A",contactNumber:P.contactNumber||"N/A",emailAddress:P.emailAddress||"N/A",placeOfBirth:P.placeOfBirth||"N/A",address:{street:(z==null?void 0:z.street)||"N/A",barangay:(z==null?void 0:z.barangay)||"N/A",municipality:(z==null?void 0:z.municipality)||"N/A",province:(z==null?void 0:z.province)||"N/A",region:(z==null?void 0:z.region)||"N/A"},blessingType:(B==null?void 0:B.blessing_type)||"N/A",purpose:(B==null?void 0:B.purpose)||"N/A",notes:(B==null?void 0:B.note)||"N/A",requirements:te,certificate:{registerNumber:"1",pageNumber:"43",lineNumber:"22",dateIssued:new Date().toISOString().split("T")[0],purposeOf:"Reference"}}},fe=async()=>{if(!b||!b.blessingID){alert("No blessing data available to approve.");return}if(!K){alert("Please select a date for the appointment.");return}if(!k){alert("Please select a time for the appointment.");return}if(!D){alert("Please enter the name of the priest for the blessing.");return}console.log("Submit values:",{appointmentDate:K,appointmentTime:k,selectedPriest:D}),d(!0)},Ne=async()=>{d(!1);try{console.log("Sending appointment data:",{sacramentID:b.blessingID,sacrament_type:"blessing",date:K,time:k,priest:D});const P=await(await fetch("https://parishofdivinemercy.com/backend/save_approved_appointment.php",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({sacramentID:b.blessingID,sacrament_type:"blessing",date:K,time:k,priest:D})})).json();if(console.log("Appointment save result:",P),!P.success)throw new Error(P.message||"Failed to save appointment details");const z=await fetch("https://parishofdivinemercy.com/backend/update_blessing_status.php",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({blessingID:b.blessingID,status:"Approved",date:K,time:k,priest:D})});let B;const q=z.headers.get("content-type");if(q&&q.indexOf("application/json")!==-1)B=await z.json();else{const te=await z.text();throw console.error("Non-JSON response:",te),new Error("Invalid response from server. Please check server logs.")}if(B.success)S({...b,status:"Approved",date:K,time:k,priest:D}),u("Blessing application has been approved successfully! An email notification has been sent to the client."),c(!0);else{const te=B.message||"Failed to approve blessing application";u(te),c(!0)}}catch(ae){console.error("Error approving blessing application:",ae),u("An error occurred while approving the blessing application: "+ae.message),c(!0)}},ue=()=>{i(!0)},_e=ae=>{if(!ae)return"N/A";try{return new Date(ae).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})}catch(P){return console.error("Error formatting date:",P),ae}},ce=async()=>{if(v.current){y(!0);try{const ae=v.current.querySelectorAll("img");await Promise.all([...ae].map(Z=>Z.complete?Promise.resolve():new Promise(se=>{Z.onload=se,Z.onerror=se})));const P=await $s(v.current,{scale:2,logging:!1,useCORS:!0,allowTaint:!0,backgroundColor:"#ffffff"}),z=P.toDataURL("image/png"),B=210,q=297,te=P.height*B/P.width,he=new ea("p","mm","a4");he.addImage(z,"PNG",0,0,B,te);const C=`${b.blessingType.charAt(0).toUpperCase()+b.blessingType.slice(1)}_Blessing_Certificate_${b.firstName}_${b.lastName}.pdf`;he.save(C),i(!1),alert("Certificate downloaded successfully!")}catch(ae){console.error("Error generating PDF:",ae),alert("Error generating PDF. Please try again.")}finally{y(!1)}}},ye=ae=>e.jsx("div",{className:"secretary-blessing-view-value",children:ae||"N/A"}),Q=ae=>window.location.hostname==="localhost"||window.location.hostname==="127.0.0.1"?`/uploads/blessing_requirements/${ae}`:`/uploads/blessing_requirements/${ae}`,ne=()=>{if(!a)return null;const ae=a.split(".").pop().toLowerCase(),P=["jpg","jpeg","png","gif","webp"].includes(ae),z=ae==="pdf",B=Q(a),q="Document Preview";return e.jsx("div",{className:"secretary-blessing-document-viewer-overlay",children:e.jsxs("div",{className:"secretary-blessing-document-viewer-container",children:[e.jsxs("div",{className:"secretary-blessing-document-viewer-header",children:[e.jsx("h3",{children:q}),e.jsx("button",{className:"secretary-blessing-document-close-btn",onClick:()=>t(null),children:""})]}),e.jsxs("div",{className:"secretary-blessing-document-viewer-content",children:[P&&e.jsx("img",{src:B,alt:q,style:{maxWidth:"100%",maxHeight:"70vh"},onError:te=>{console.error(`Failed to load image: ${B}`),te.target.src="https://via.placeholder.com/500x300?text=Image+Not+Found",te.target.alt="Document not found"}}),z&&e.jsx("iframe",{src:`${B}#toolbar=0`,title:q,width:"100%",height:"600px",style:{border:"none"},onError:te=>{console.error(`Failed to load PDF: ${B}`),te.target.src="about:blank"}}),!P&&!z&&e.jsxs("div",{className:"secretary-blessing-document-placeholder",children:[e.jsx("p",{children:"Document preview not available for this file type."}),e.jsx("a",{href:B,target:"_blank",rel:"noopener noreferrer",className:"secretary-blessing-document-download-link",children:"Download to view"})]})]})]})})},U=()=>{if(!s||!b)return null;const ae=b.blessingType.charAt(0).toUpperCase()+b.blessingType.slice(1),P=`${b.firstName||""} ${b.middleName||""} ${b.lastName||""}`.trim(),z=`${b.address.street||""}, ${b.address.barangay||""}, ${b.address.municipality||""}, ${b.address.province||""}`.trim();return e.jsx("div",{className:"secretary-blessing-document-viewer-overlay",children:e.jsxs("div",{className:"secretary-blessing-certificate-modal-container",children:[e.jsxs("div",{className:"secretary-blessing-document-viewer-header",children:[e.jsxs("h3",{children:[ae," Blessing Certificate"]}),e.jsx("button",{className:"secretary-blessing-document-close-btn",onClick:()=>i(!1),children:""})]}),e.jsxs("div",{className:"secretary-blessing-certificate-modal-content",children:[e.jsx("p",{children:"Would you like to download this certificate?"}),e.jsxs("div",{ref:v,className:"blessing-certificate-preview",children:[e.jsxs("div",{className:"blessing-certificate-header",children:[e.jsxs("div",{className:"blessing-certificate-logos",children:[e.jsx("div",{className:"blessing-parish-logo-left",children:e.jsx("img",{src:zs,alt:"Parish Logo Left",onError:B=>{B.target.src="https://via.placeholder.com/70x70?text=Church"}})}),e.jsxs("div",{className:"blessing-parish-title",children:[e.jsx("div",{className:"blessing-diocese-title",children:"DIOCESE OF DAET"}),e.jsx("div",{className:"blessing-parish-name",children:"PARISH OF THE DIVINE MERCY"}),e.jsx("div",{className:"blessing-parish-address",children:"Alawihao, Daet, Camarines Norte"})]}),e.jsx("div",{className:"blessing-parish-logo-right",children:e.jsx("img",{src:Ii,alt:"Parish Logo Right",onError:B=>{B.target.src="https://via.placeholder.com/80x80?text=PDM"}})})]}),e.jsxs("h1",{className:"blessing-certificate-title",children:["CERTIFICATE OF ",ae.toUpperCase()," BLESSING"]})]}),e.jsxs("div",{className:"blessing-certificate-body",children:[e.jsxs("div",{className:"blessing-cert-intro",children:["This is to certify that the ",ae.toLowerCase()," of"]}),e.jsxs("div",{className:"name-field blessing-cert-field",children:[e.jsx("div",{className:"blessing-cert-value",children:P}),e.jsx("div",{className:"blessing-cert-label",children:"Name of Requester"})]}),e.jsxs("div",{className:"location-field",children:[e.jsx("span",{className:"blessing-cert-prefix",children:"located at"}),e.jsx("div",{className:"blessing-cert-value",children:z})]}),e.jsxs("div",{className:"purpose-field",children:[e.jsx("span",{className:"blessing-cert-prefix",children:"for the purpose of"}),e.jsx("div",{className:"blessing-cert-value",children:b.purpose})]}),e.jsxs("div",{className:"blessing-date-field",children:[e.jsx("span",{className:"blessing-cert-prefix",children:"was blessed on"}),e.jsx("div",{className:"blessing-cert-value",children:_e(K)})]}),e.jsxs("div",{className:"blessing-time-field",children:[e.jsx("span",{className:"blessing-cert-prefix",children:"at"}),e.jsx("div",{className:"blessing-cert-value",children:k})]}),e.jsxs("div",{className:"priest-field",children:[e.jsx("span",{className:"blessing-cert-prefix",children:"by"}),e.jsx("div",{className:"blessing-cert-value",children:D}),e.jsx("div",{className:"blessing-cert-label",children:"Officiating Priest"})]}),e.jsxs("div",{className:"blessing-cert-message",children:["May God bless this ",ae.toLowerCase()," and all who ",b.blessingType==="house"?"dwell in it":b.blessingType==="business"?"work in it":"use it","."]})]}),e.jsxs("div",{className:"blessing-cert-footer",children:[e.jsxs("div",{className:"date-issued-field",children:[e.jsx("span",{className:"blessing-cert-prefix",children:"Date Issued:"}),e.jsx("div",{className:"blessing-cert-value",children:_e(b.certificate.dateIssued)})]}),e.jsx("div",{className:"parish-seal",children:"PARISH SEAL"}),e.jsxs("div",{className:"signature-field",children:[e.jsx("div",{className:"signature-line",children:D}),e.jsx("div",{className:"blessing-cert-label",children:"Parish Priest / Officiating Priest"})]}),e.jsxs("div",{className:"register-field",children:[e.jsx("span",{className:"blessing-cert-prefix",children:"Registry No."}),e.jsx("div",{className:"blessing-cert-value",children:b.certificate.registerNumber}),e.jsx("span",{className:"blessing-cert-prefix",children:"Page:"}),e.jsx("div",{className:"blessing-cert-value",children:b.certificate.pageNumber}),e.jsx("span",{className:"blessing-cert-prefix",children:"Line:"}),e.jsx("div",{className:"blessing-cert-value",children:b.certificate.lineNumber})]})]})]}),e.jsxs("div",{className:"secretary-blessing-certificate-modal-actions",children:[e.jsx("button",{className:"secretary-blessing-certificate-download-btn",onClick:ce,disabled:x,children:x?"Processing...":e.jsxs(e.Fragment,{children:[e.jsx(gs,{})," Download"]})}),e.jsx("button",{className:"secretary-blessing-certificate-cancel-btn",onClick:()=>i(!1),disabled:x,children:"Cancel"})]})]})]})})},V=()=>{if(!r)return null;const ae=h.includes("successfully"),P=ae?"success":"error",z=()=>{c(!1),ae&&J("/secretary-blessing")};return e.jsx("div",{className:"secretary-blessing-document-viewer-overlay",children:e.jsxs("div",{className:`secretary-blessing-${P}-modal-container`,children:[e.jsxs("div",{className:`secretary-blessing-${P}-header`,children:[e.jsx("h3",{children:ae?"Success":"Error"}),e.jsx("button",{className:"secretary-blessing-document-close-btn",onClick:()=>c(!1),children:""})]}),e.jsxs("div",{className:`secretary-blessing-${P}-content`,children:[e.jsx("div",{className:`secretary-blessing-${P}-icon`,children:ae?"":"!"}),e.jsx("p",{children:h}),e.jsx("button",{className:`secretary-blessing-${P}-ok-btn`,onClick:z,children:"OK"})]})]})})},T=()=>A?e.jsx("div",{className:"secretary-blessing-document-viewer-overlay",children:e.jsxs("div",{className:"secretary-blessing-confirm-modal-container",children:[e.jsxs("div",{className:"secretary-blessing-confirm-header",children:[e.jsx("h3",{children:"Confirm Approval"}),e.jsx("button",{className:"secretary-blessing-document-close-btn",onClick:()=>d(!1),children:""})]}),e.jsxs("div",{className:"secretary-blessing-confirm-content",children:[e.jsx("div",{className:"secretary-blessing-confirm-icon",children:"?"}),e.jsx("p",{children:"Are you sure you want to approve this blessing appointment?"}),e.jsxs("p",{children:["Date: ",K]}),e.jsxs("p",{children:["Time: ",k]}),e.jsxs("p",{children:["Priest: ",D]}),e.jsx("p",{children:"This will send an email notification to the client."}),e.jsxs("div",{className:"secretary-blessing-confirm-buttons",children:[e.jsx("button",{className:"secretary-blessing-confirm-yes-btn",onClick:Ne,children:"Yes, Approve"}),e.jsx("button",{className:"secretary-blessing-confirm-no-btn",onClick:()=>d(!1),children:"Cancel"})]})]})]})}):null,ie=()=>{if(!b)return null;switch(b.blessingType){case"house":return e.jsxs(e.Fragment,{children:[e.jsx("h3",{className:"secretary-blessing-view-section-header",children:"Documents Required"}),e.jsxs("div",{className:"secretary-blessing-info-view-list",children:[e.jsx("div",{className:"secretary-blessing-info-view-item",children:e.jsx("p",{children:"Valid ID of the Requester"})}),e.jsx("div",{className:"secretary-blessing-info-view-item",children:e.jsx("p",{children:"Proof of Ownership"})}),e.jsx("div",{className:"secretary-blessing-info-view-item",children:e.jsx("p",{children:"Barangay Clearance"})})]}),e.jsx("h3",{className:"secretary-blessing-view-section-header",children:"House Blessing Requirements"}),e.jsxs("div",{className:"secretary-blessing-info-view-list",children:[e.jsx("div",{className:"secretary-blessing-info-view-item",children:e.jsxs("p",{children:["The house must be ",e.jsx("strong",{children:"ready for occupancy"})]})}),e.jsx("div",{className:"secretary-blessing-info-view-item",children:e.jsxs("p",{children:["All ",e.jsx("strong",{children:"family members should be present"})," if possible"]})}),e.jsx("div",{className:"secretary-blessing-info-view-item",children:e.jsx("p",{children:"Prepare basic blessing items"})}),e.jsx("div",{className:"secretary-blessing-info-view-item",children:e.jsxs("p",{children:["Some parishes ask that you ",e.jsx("strong",{children:"belong to the parish community"})," or register in the parish"]})})]})]});case"business":return e.jsxs(e.Fragment,{children:[e.jsx("h3",{className:"secretary-blessing-view-section-header",children:"Documents Required"}),e.jsxs("div",{className:"secretary-blessing-info-view-list",children:[e.jsx("div",{className:"secretary-blessing-info-view-item",children:e.jsx("p",{children:"Valid ID of the Requester"})}),e.jsx("div",{className:"secretary-blessing-info-view-item",children:e.jsx("p",{children:"Business Permit / DTI Registration"})})]}),e.jsx("h3",{className:"secretary-blessing-view-section-header",children:"Business Blessing Requirements"}),e.jsxs("div",{className:"secretary-blessing-info-view-list",children:[e.jsx("div",{className:"secretary-blessing-info-view-item",children:e.jsxs("p",{children:["Business must have the ",e.jsx("strong",{children:"necessary permits"})," (may be checked informally)"]})}),e.jsx("div",{className:"secretary-blessing-info-view-item",children:e.jsx("p",{children:"Owner or authorized representative must be present"})}),e.jsx("div",{className:"secretary-blessing-info-view-item",children:e.jsx("p",{children:"Staff may be included in prayer or ceremony"})})]})]});case"car":return e.jsxs(e.Fragment,{children:[e.jsx("h3",{className:"secretary-blessing-view-section-header",children:"Documents Required"}),e.jsxs("div",{className:"secretary-blessing-info-view-list",children:[e.jsx("div",{className:"secretary-blessing-info-view-item",children:e.jsx("p",{children:"Valid ID of the Requester"})}),e.jsx("div",{className:"secretary-blessing-info-view-item",children:e.jsx("p",{children:"Vehicle OR/CR (Official Receipt / Certificate of Registration)"})})]}),e.jsx("h3",{className:"secretary-blessing-view-section-header",children:"Car Blessing Requirements"}),e.jsxs("div",{className:"secretary-blessing-info-view-list",children:[e.jsx("div",{className:"secretary-blessing-info-view-item",children:e.jsxs("p",{children:["Must bring the ",e.jsx("strong",{children:"actual vehicle"})," to the venue or church"]})}),e.jsx("div",{className:"secretary-blessing-info-view-item",children:e.jsx("p",{children:"The car should be clean and parked properly"})})]})]});default:return null}};return p?e.jsx("div",{className:"secretary-blessing-view-container",children:e.jsx("div",{className:"secretary-blessing-view-loading",children:"Loading blessing details..."})}):f?e.jsx("div",{className:"secretary-blessing-view-container",children:e.jsxs("div",{className:"secretary-blessing-view-error",children:[e.jsx("p",{children:f}),e.jsx("button",{onClick:()=>J(-1),children:"Back"})]})}):b?e.jsxs("div",{className:"secretary-blessing-view-container",children:[ne(),U(),V(),T(),e.jsxs("div",{className:"secretary-blessing-view-header",children:[e.jsx("div",{className:"secretary-blessing-view-left-section",children:e.jsxs("button",{className:"secretary-blessing-view-back-button",onClick:()=>J(-1),children:[e.jsx(Oa,{className:"secretary-blessing-view-back-icon"})," Back"]})}),e.jsx("div",{className:"secretary-blessing-view-right-section",children:b.status==="Approved"&&e.jsxs("button",{className:"secretary-blessing-download-certificate-btn",onClick:ue,children:[e.jsx(gs,{})," Download Certificate"]})})]}),e.jsx("h1",{className:"secretary-blessing-view-title",children:"Blessing Application Details"}),e.jsxs("div",{className:"secretary-blessing-view-data",children:[e.jsx("div",{className:"secretary-blessing-view-info-card",children:e.jsxs("div",{className:"secretary-blessing-view-row-date",children:[e.jsxs("div",{className:"secretary-blessing-view-field-date",children:[e.jsx("label",{children:"Date of Appointment:"}),ye(_e(b.date))]}),e.jsxs("div",{className:"secretary-blessing-view-field-time",children:[e.jsx("label",{children:"Time of Appointment:"}),ye(b.time)]})]})}),e.jsxs("div",{className:"secretary-blessing-view-bypart",children:[e.jsx("h2",{className:"secretary-blessing-view-sub-title",children:"Personal Information"}),e.jsxs("div",{className:"secretary-blessing-view-info-card",children:[e.jsxs("div",{className:"secretary-blessing-view-row",children:[e.jsxs("div",{className:"secretary-blessing-view-field",children:[e.jsx("label",{children:"First Name:"}),ye(b.firstName)]}),e.jsxs("div",{className:"secretary-blessing-view-field",children:[e.jsx("label",{children:"Middle Name:"}),ye(b.middleName)]}),e.jsxs("div",{className:"secretary-blessing-view-field",children:[e.jsx("label",{children:"Last Name:"}),ye(b.lastName)]})]}),e.jsxs("div",{className:"secretary-blessing-view-row",children:[e.jsxs("div",{className:"secretary-blessing-view-field",children:[e.jsx("label",{children:"Contact Number:"}),ye(b.contactNumber)]}),e.jsxs("div",{className:"secretary-blessing-view-field",children:[e.jsx("label",{children:"Email Address:"}),ye(b.emailAddress)]})]})]}),e.jsx("h2",{className:"secretary-blessing-view-sub-title",children:"Blessing Details"}),e.jsxs("div",{className:"secretary-blessing-view-info-card",children:[e.jsx("label",{className:"sub-mini-cc",children:"Location"}),e.jsxs("div",{className:"secretary-blessing-view-row",children:[e.jsxs("div",{className:"secretary-blessing-view-field",children:[e.jsx("label",{children:"Street:"}),ye(b.address.street)]}),e.jsxs("div",{className:"secretary-blessing-view-field",children:[e.jsx("label",{children:"Barangay:"}),ye(b.address.barangay)]}),e.jsxs("div",{className:"secretary-blessing-view-field",children:[e.jsx("label",{children:"Municipality:"}),ye(b.address.municipality)]}),e.jsxs("div",{className:"secretary-blessing-view-field",children:[e.jsx("label",{children:"Province:"}),ye(b.address.province)]})]}),e.jsxs("div",{className:"secretary-blessing-view-row",children:[e.jsxs("div",{className:"secretary-blessing-view-field",children:[e.jsx("label",{children:"Blessing Type:"}),ye(b.blessingType.charAt(0).toUpperCase()+b.blessingType.slice(1)+" Blessing")]}),e.jsxs("div",{className:"secretary-blessing-view-field",children:[e.jsx("label",{children:"Purpose:"}),ye(b.purpose)]})]}),e.jsx("div",{className:"secretary-blessing-view-row",children:e.jsxs("div",{className:"secretary-blessing-view-field",children:[e.jsx("label",{children:"Notes:"}),ye(b.notes||"No additional notes provided.")]})})]})]}),e.jsxs("div",{className:"secretary-blessing-requirements-view-container",children:[e.jsx("h2",{className:"secretary-blessing-requirements-view-title",children:"Requirements"}),e.jsx("div",{className:"secretary-blessing-requirements-view-box",children:ie()})]}),e.jsxs("div",{className:"secretary-blessing-view-info-card",children:[e.jsx("h2",{className:"secretary-blessing-view-sub-title",children:"Schedule Selection"}),e.jsxs("div",{className:"secretary-blessing-view-row",children:[e.jsxs("div",{className:"secretary-blessing-view-field",children:[e.jsx("label",{children:"Date of Blessing:"}),e.jsx("input",{type:"date",className:"secretary-view-input",value:K,onChange:ae=>{console.log("Date changed to:",ae.target.value),H(ae.target.value)},disabled:b.status==="Approved"})]}),e.jsxs("div",{className:"secretary-blessing-view-field",children:[e.jsx("label",{children:"Time of Blessing:"}),e.jsx("input",{type:"time",className:"secretary-view-input",value:k,onChange:ae=>{console.log("Time changed to:",ae.target.value),Y(ae.target.value)},disabled:b.status==="Approved"})]})]}),e.jsx("div",{className:"secretary-blessing-view-row",children:e.jsxs("div",{className:"secretary-blessing-view-field",children:[e.jsx("label",{children:"Name of the Priest:"}),b.status==="Approved"?ye(D):e.jsx("input",{type:"text",className:"secretary-view-input",value:D,onChange:ae=>{console.log("Priest changed to:",ae.target.value),ge(ae.target.value)},placeholder:"Enter priest's name",disabled:b.status==="Approved"})]})})]}),e.jsx("div",{className:"secretary-blessing-action-buttons",children:b.status!=="Approved"&&e.jsx("button",{className:"secretary-blessing-submit-button",onClick:fe,children:"Approve"})})]})]}):e.jsx("div",{className:"secretary-blessing-view-container",children:e.jsxs("div",{className:"secretary-blessing-view-error",children:[e.jsx("h2",{children:"No blessing data available"}),e.jsx("p",{children:"Please go back and select a blessing to view."})]})})},qU=()=>{const[a,t]=N.useState("PENDING"),[s,i]=N.useState(null),[r,c]=N.useState(!1),[A,d]=N.useState(!1),[h,u]=N.useState(""),[v,x]=N.useState(!0),[y,p]=N.useState(null),[F,b]=N.useState(null),S=oa(),f=Jt(),[O,M]=N.useState(""),[J,K]=N.useState(""),[H,k]=N.useState(""),Y="https://parishofdivinemercy.com/backend";N.useEffect(()=>{var U,V;const Q=(U=S.state)==null?void 0:U.anointingID,ne=(V=S.state)==null?void 0:V.status;if(console.log("Component mounted, location state:",S.state),console.log("anointingID:",Q),console.log("statusFromNav:",ne),!Q){b("Missing anointing information. Please try again."),x(!1);return}ne&&t(ne),D(Q,ne)},[S]);const D=async(Q,ne)=>{try{x(!0),console.log(`Fetching anointing details for ID: ${Q}, statusFromNav: ${ne}`);const V=await(await fetch(`${Y}/fetch_anointing_details.php?anointingID=${Q}`)).json();if(console.log("Raw API response:",V),V.success){const T=_(V.data);console.log("Transformed anointing data:",T),p(T);const ie=ne||T.status||"PENDING";t(ie),console.log("Setting status to:",ie),M(""),K(""),k(""),!await ge(Q)&&ie!=="Approved"&&(M(T.date||""),K(T.time||""),k(T.priest||""),console.log("Using data from anointing application:",{date:T.date,time:T.time,priest:T.priest}))}else b(V.message||"Failed to fetch anointing details")}catch(U){console.error("Error fetching anointing details:",U),b("An error occurred while fetching the data")}finally{x(!1)}},ge=async Q=>{try{console.log("Fetching approved appointment details for anointingID:",Q);const ne=await fetch(`${Y}/fetch_approved_appointment.php?sacramentID=${Q}&sacrament_type=Anointing`);if(!ne.ok)return console.error("Error response:",ne.status),!1;const U=await ne.json();return console.log("Approved appointment data response:",U),U.success&&U.appointment?(console.log("Setting appointment values from approved_appointments DB:",{date:U.appointment.date,time:U.appointment.time,priest:U.appointment.priest}),M(U.appointment.date||""),K(U.appointment.time||""),k(U.appointment.priest||""),!0):(console.log("No approved appointment schedule found or there was an error"),!1)}catch(ne){return console.error("Error fetching approved appointment schedule:",ne),!1}},_=Q=>{const{anointing:ne={},contact:U={},locationInfo:V={},additionalInfo:T={},requirements:ie={}}=Q;return console.log("API Response Data:",Q),{date:ne.dateOfAnointing,time:ne.timeOfAnointing,priest:ne.priestName,status:ne.status,anointingID:ne.anointingID,firstName:ne.firstName,middleName:ne.middleName,lastName:ne.lastName,sex:ne.sex,age:ne.age,dateOfBirth:ne.dateOfBirth,placeOfBirth:ne.placeOfBirth,religion:ne.religion,reasonForAnointing:ne.reasonForAnointing,contactFirstName:U.contactFirstName||"",contactMiddleName:U.contactMiddleName||"",contactLastName:U.contactLastName||"",contactRelationship:U.contactRelationship||"",contactPhone:U.contactPhone||"",contactEmail:U.contactEmail||"",locationType:V.locationType||"",locationName:V.locationName||"",roomNumber:V.roomNumber||"",barangay:V.barangay||"",street:V.street||"",municipality:V.municipality||"",province:V.province||"",locationRegion:V.locationRegion||"",isCritical:T.isCritical===1,needsViaticum:T.needsViaticum===1,needsReconciliation:T.needsReconciliation===1,additionalNotes:T.additionalNotes||"",requirements:{medical_cert:{submitted:ie.medical_cert_status==="Submitted",fileName:ie.medical_cert?ie.medical_cert.split("/").pop():"N/A",status:ie.medical_cert_status||"Not Submitted"},valid_ids:{submitted:ie.valid_ids_status==="Submitted",fileName:ie.valid_ids?ie.valid_ids.split("/").pop():"N/A",status:ie.valid_ids_status||"Not Submitted"}}}},X=async()=>{if(!y||!y.anointingID){alert("No anointing data available to approve.");return}if(!O){alert("Please select a date for the anointing.");return}if(!J){alert("Please select a time for the anointing.");return}if(!H){alert("Please enter the name of the priest for the anointing.");return}console.log("Submit values:",{selectedDate:O,selectedTime:J,selectedPriest:H}),d(!0)},re=async()=>{d(!1);try{console.log(`Approving anointing application with ID: ${y.anointingID}`);const ne=await(await fetch(`${Y}/save_approved_appointment.php`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({sacramentID:y.anointingID,sacrament_type:"Anointing",date:O,time:J,priest:H})})).json();if(console.log("Appointment save result:",ne),!ne.success)throw new Error(ne.message||"Failed to save appointment details");const U=await fetch(`${Y}/update_anointing_status.php`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({anointingID:y.anointingID,status:"Approved",date:O,time:J,priest:H})});let V;const T=U.headers.get("content-type");if(T&&T.indexOf("application/json")!==-1)V=await U.json();else{const ie=await U.text();throw console.error("Non-JSON response:",ie),new Error("Invalid response from server. Please check server logs.")}if(V.success)t("Approved"),p({...y,date:O,time:J,priest:H,status:"Approved"}),u("Anointing application has been approved successfully! An email notification has been sent to the client."),c(!0);else{const ie=V.message||"Failed to approve anointing application";u(ie),c(!0)}}catch(Q){console.error("Error approving anointing application:",Q),u("An error occurred while approving the anointing application: "+Q.message),c(!0)}},fe=Q=>{if(!Q)return"N/A";try{return new Date(Q).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})}catch(ne){return console.error("Error formatting date:",ne),Q}},Ne=Q=>e.jsx("div",{className:"secretary-anointing-view-value",children:Q||"N/A"}),ue=Q=>window.location.hostname==="localhost"||window.location.hostname==="127.0.0.1"?`/uploads/anointing_requirements/${Q}`:`/uploads/anointing_requirements/${Q}`,_e=()=>{if(!s)return null;const Q=s.split(".").pop().toLowerCase(),ne=["jpg","jpeg","png","gif","webp"].includes(Q),U=Q==="pdf",V=ue(s),T="Document Preview";return e.jsx("div",{className:"secretary-anointing-document-viewer-overlay",children:e.jsxs("div",{className:"secretary-anointing-document-viewer-container",children:[e.jsxs("div",{className:"secretary-anointing-document-viewer-header",children:[e.jsx("h3",{children:T}),e.jsx("button",{className:"secretary-anointing-document-close-btn",onClick:()=>i(null),children:""})]}),e.jsxs("div",{className:"secretary-anointing-document-viewer-content",children:[ne&&e.jsx("img",{src:V,alt:T,style:{maxWidth:"100%",maxHeight:"70vh"},onError:ie=>{console.error(`Failed to load image: ${V}`),ie.target.src="https://via.placeholder.com/500x300?text=Image+Not+Found",ie.target.alt="Document not found"}}),U&&e.jsx("iframe",{src:`${V}#toolbar=0`,title:T,width:"100%",height:"600px",style:{border:"none"},onError:ie=>{console.error(`Failed to load PDF: ${V}`),ie.target.src="about:blank"}}),!ne&&!U&&e.jsxs("div",{className:"secretary-anointing-document-placeholder",children:[e.jsx("p",{children:"Document preview not available for this file type."}),e.jsx("a",{href:V,target:"_blank",rel:"noopener noreferrer",className:"secretary-anointing-document-download-link",children:"Download to view"})]})]})]})})},ce=()=>{if(!r)return null;const Q=h.includes("successfully"),ne=Q?"success":"error",U=()=>{c(!1),Q&&f("/secretary-anointing-of-the-sick")};return e.jsx("div",{className:"secretary-anointing-document-viewer-overlay",children:e.jsxs("div",{className:`secretary-anointing-${ne}-modal-container`,children:[e.jsxs("div",{className:`secretary-anointing-${ne}-header`,children:[e.jsx("h3",{children:Q?"Success":"Error"}),e.jsx("button",{className:"secretary-anointing-document-close-btn",onClick:U,children:""})]}),e.jsxs("div",{className:`secretary-anointing-${ne}-content`,children:[e.jsx("div",{className:`secretary-anointing-${ne}-icon`,children:Q?"":"!"}),e.jsx("p",{children:h}),e.jsx("button",{className:`secretary-anointing-${ne}-ok-btn`,onClick:U,children:"OK"})]})]})})},ye=()=>A?e.jsx("div",{className:"secretary-anointing-document-viewer-overlay",children:e.jsxs("div",{className:"secretary-anointing-confirm-modal-container",children:[e.jsxs("div",{className:"secretary-anointing-confirm-header",children:[e.jsx("h3",{children:"Confirm Approval"}),e.jsx("button",{className:"secretary-anointing-document-close-btn",onClick:()=>d(!1),children:""})]}),e.jsxs("div",{className:"secretary-anointing-confirm-content",children:[e.jsx("div",{className:"secretary-anointing-confirm-icon",children:"?"}),e.jsx("p",{children:"Are you sure you want to approve this anointing appointment?"}),e.jsxs("p",{children:["Date: ",O]}),e.jsxs("p",{children:["Time: ",J]}),e.jsxs("p",{children:["Priest: ",H]}),e.jsx("p",{children:"This will send an email notification to the client."}),e.jsxs("div",{className:"secretary-anointing-confirm-buttons",children:[e.jsx("button",{className:"secretary-anointing-confirm-yes-btn",onClick:re,children:"Yes, Approve"}),e.jsx("button",{className:"secretary-anointing-confirm-no-btn",onClick:()=>d(!1),children:"Cancel"})]})]})]})}):null;return v?e.jsx("div",{className:"secretary-anointing-view-container",children:e.jsx("div",{className:"secretary-anointing-view-loading",children:"Loading anointing details..."})}):F?e.jsx("div",{className:"secretary-anointing-view-container",children:e.jsxs("div",{className:"secretary-anointing-view-error",children:[e.jsx("p",{children:F}),e.jsx("button",{onClick:()=>f(-1),children:"Back"})]})}):y?e.jsxs("div",{className:"secretary-anointing-view-container",children:[_e(),ce(),ye(),e.jsx("div",{className:"secretary-anointing-view-header",children:e.jsx("div",{className:"secretary-anointing-view-left-section",children:e.jsxs("button",{className:"secretary-anointing-view-back-button",onClick:()=>f(-1),children:[e.jsx(Oa,{className:"secretary-anointing-view-back-icon"})," Back"]})})}),e.jsx("h1",{className:"secretary-anointing-view-title",children:"Anointing of the Sick Application Details"}),e.jsxs("div",{className:"secretary-anointing-view-data",children:[e.jsxs("div",{className:"secretary-anointing-view-row-date",children:[e.jsxs("div",{className:"secretary-anointing-view-field-date",children:[e.jsx("label",{children:"Date of Appointment:"}),Ne(fe(y.date))]}),e.jsxs("div",{className:"secretary-anointing-view-field-time",children:[e.jsx("label",{children:"Time of Appointment:"}),Ne(y.time)]})]}),e.jsxs("div",{className:"secretary-anointing-view-bypart",children:[e.jsx("h3",{className:"secretary-anointing-view-sub-title",children:"Sick Person Information"}),e.jsxs("div",{className:"secretary-anointing-view-info-card",children:[e.jsxs("div",{className:"secretary-anointing-view-row",children:[e.jsxs("div",{className:"secretary-anointing-view-field",children:[e.jsx("label",{children:"First Name of the Sick Person:"}),Ne(y.firstName)]}),e.jsxs("div",{className:"secretary-anointing-view-field",children:[e.jsx("label",{children:"Middle Name:"}),Ne(y.middleName)]}),e.jsxs("div",{className:"secretary-anointing-view-field",children:[e.jsx("label",{children:"Last Name:"}),Ne(y.lastName)]})]}),e.jsxs("div",{className:"secretary-anointing-view-row",children:[e.jsxs("div",{className:"secretary-anointing-view-field",children:[e.jsx("label",{children:"Date of Birth:"}),Ne(fe(y.dateOfBirth))]}),e.jsxs("div",{className:"secretary-anointing-view-field",children:[e.jsx("label",{children:"Sex:"}),Ne(y.sex)]}),e.jsxs("div",{className:"secretary-anointing-view-field",children:[e.jsx("label",{children:"Age:"}),Ne(y.age)]})]}),e.jsxs("div",{className:"secretary-anointing-view-row",children:[e.jsxs("div",{className:"secretary-anointing-view-field",children:[e.jsx("label",{children:"Place of Birth:"}),Ne(y.placeOfBirth)]}),e.jsxs("div",{className:"secretary-anointing-view-field",children:[e.jsx("label",{children:"Religion:"}),Ne(y.religion)]})]}),e.jsx("div",{className:"secretary-anointing-view-row",children:e.jsxs("div",{className:"secretary-anointing-view-field-wide",children:[e.jsx("label",{children:"Reason for Anointing (Medical Condition):"}),Ne(y.reasonForAnointing)]})})]})]}),e.jsxs("div",{className:"secretary-anointing-view-bypart",children:[e.jsx("h3",{className:"secretary-anointing-view-sub-title",children:"Contact Person Information"}),e.jsxs("div",{className:"secretary-anointing-view-info-card",children:[e.jsxs("div",{className:"secretary-anointing-view-row",children:[e.jsxs("div",{className:"secretary-anointing-view-field",children:[e.jsx("label",{children:"Contact Person's First Name:"}),Ne(y.contactFirstName)]}),e.jsxs("div",{className:"secretary-anointing-view-field",children:[e.jsx("label",{children:"Middle Name:"}),Ne(y.contactMiddleName)]}),e.jsxs("div",{className:"secretary-anointing-view-field",children:[e.jsx("label",{children:"Last Name:"}),Ne(y.contactLastName)]})]}),e.jsxs("div",{className:"secretary-anointing-view-row",children:[e.jsxs("div",{className:"secretary-anointing-view-field",children:[e.jsx("label",{children:"Relationship to Sick Person:"}),Ne(y.contactRelationship)]}),e.jsxs("div",{className:"secretary-anointing-view-field",children:[e.jsx("label",{children:"Phone Number:"}),Ne(y.contactPhone)]}),e.jsxs("div",{className:"secretary-anointing-view-field",children:[e.jsx("label",{children:"Email Address:"}),Ne(y.contactEmail)]})]})]})]}),e.jsxs("div",{className:"secretary-anointing-view-bypart",children:[e.jsx("h3",{className:"secretary-anointing-view-sub-title",children:"Location Information"}),e.jsxs("div",{className:"secretary-anointing-view-info-card",children:[e.jsxs("div",{className:"secretary-anointing-view-row",children:[e.jsxs("div",{className:"secretary-anointing-view-field",children:[e.jsx("label",{children:"Location Type:"}),Ne(y.locationType)]}),e.jsxs("div",{className:"secretary-anointing-view-field",children:[e.jsx("label",{children:"Location Name:"}),Ne(y.locationName)]}),e.jsxs("div",{className:"secretary-anointing-view-field",children:[e.jsx("label",{children:"Room/Room Number:"}),Ne(y.roomNumber)]})]}),e.jsxs("div",{className:"secretary-anointing-view-row",children:[e.jsxs("div",{className:"secretary-anointing-view-field",children:[e.jsx("label",{children:"Street:"}),Ne(y.street)]}),e.jsxs("div",{className:"secretary-anointing-view-field",children:[e.jsx("label",{children:"Barangay:"}),Ne(y.barangay)]}),e.jsxs("div",{className:"secretary-anointing-view-field",children:[e.jsx("label",{children:"Municipality:"}),Ne(y.municipality)]})]}),e.jsxs("div",{className:"secretary-anointing-view-row",children:[e.jsxs("div",{className:"secretary-anointing-view-field",children:[e.jsx("label",{children:"Province:"}),Ne(y.province)]}),e.jsxs("div",{className:"secretary-anointing-view-field",children:[e.jsx("label",{children:"Region:"}),Ne(y.locationRegion)]})]})]})]}),e.jsxs("div",{className:"secretary-anointing-view-bypart",children:[e.jsx("h3",{className:"secretary-anointing-view-sub-title",children:"Additional Information"}),e.jsxs("div",{className:"secretary-anointing-view-info-card",children:[e.jsx("div",{className:"secretary-anointing-view-row",children:e.jsxs("div",{className:"secretary-anointing-checkbox-container",children:[e.jsx("span",{className:`secretary-anointing-view-checkbox ${y.isCritical?"secretary-anointing-view-checked":""}`}),e.jsx("label",{children:"Is the person in critical condition?"})]})}),e.jsx("div",{className:"secretary-anointing-view-row",children:e.jsxs("div",{className:"secretary-anointing-checkbox-container",children:[e.jsx("span",{className:`secretary-anointing-view-checkbox ${y.needsViaticum?"secretary-anointing-view-checked":""}`}),e.jsx("label",{children:"Needs Viaticum (Holy Communion)"})]})}),e.jsx("div",{className:"secretary-anointing-view-row",children:e.jsxs("div",{className:"secretary-anointing-checkbox-container",children:[e.jsx("span",{className:`secretary-anointing-view-checkbox ${y.needsReconciliation?"secretary-anointing-view-checked":""}`}),e.jsx("label",{children:"Needs Sacrament of Reconciliation (Confession)"})]})}),e.jsx("div",{className:"secretary-anointing-view-row",children:e.jsxs("div",{className:"secretary-anointing-view-field-wide",children:[e.jsx("label",{children:"Additional Notes or Special Requests:"}),Ne(y.additionalNotes)]})})]})]}),e.jsxs("div",{className:"secretary-anointing-requirements-view-container",children:[e.jsx("h2",{className:"secretary-anointing-requirements-view-title",children:"About Anointing of the Sick"}),e.jsxs("div",{className:"secretary-anointing-requirements-view-box",children:[e.jsx("h3",{className:"secretary-anointing-view-section-header",children:"Documents Required"}),e.jsxs("div",{className:"secretary-anointing-info-view-list",children:[e.jsx("div",{className:"secretary-anointing-info-view-item",children:e.jsx("p",{children:"Medical Certificate or Doctor's note"})}),e.jsx("div",{className:"secretary-anointing-info-view-item",children:e.jsx("p",{children:"Valid IDs of the sick person or the contact person"})}),e.jsx("div",{className:"secretary-anointing-info-view-item",children:e.jsx("p",{children:"Certificate of Permission(if the candidate is not a resident of the parish)"})})]}),e.jsx("h3",{className:"secretary-anointing-view-section-header",children:"About Anointing of the Sick"}),e.jsxs("div",{className:"secretary-anointing-info-view-list",children:[e.jsx("div",{className:"secretary-anointing-info-view-item",children:e.jsx("p",{children:"The Sacrament of Anointing of the Sick provides spiritual strength and comfort to those who are ill or facing serious medical conditions."})}),e.jsx("div",{className:"secretary-anointing-info-view-item",children:e.jsx("p",{children:"Viaticum is the Holy Communion given to a dying person as spiritual food for their journey to eternal life."})}),e.jsx("div",{className:"secretary-anointing-info-view-item",children:e.jsx("p",{children:"This sacrament can be received by any Catholic who is seriously ill, facing surgery, or weakened by old age."})})]}),e.jsx("h3",{className:"secretary-anointing-view-section-header",children:"Important Notes"}),e.jsxs("div",{className:"secretary-anointing-info-view-list",children:[e.jsx("div",{className:"secretary-anointing-info-view-item",children:e.jsx("p",{children:"For emergency cases, please call the parish emergency number directly instead of using this form."})}),e.jsx("div",{className:"secretary-anointing-info-view-item",children:e.jsx("p",{children:"A priest will visit the location provided to administer the sacrament."})}),e.jsx("div",{className:"secretary-anointing-info-view-item",children:e.jsx("p",{children:"Please ensure someone will be present to receive the priest and guide them to the sick person."})}),e.jsx("div",{className:"secretary-anointing-info-view-item",children:e.jsx("p",{children:"You will receive a confirmation email once your request has been processed."})})]})]})]}),e.jsxs("div",{className:"secretary-anointing-view-info-card",children:[e.jsx("h3",{className:"secretary-anointing-view-sub-title",children:"Schedule Selection"}),e.jsxs("div",{className:"secretary-anointing-view-row",children:[e.jsxs("div",{className:"secretary-anointing-view-field",children:[e.jsx("label",{children:"Date of Anointing:"}),e.jsx("input",{type:"date",className:"secretary-view-input",value:O,onChange:Q=>{console.log("Date changed to:",Q.target.value),M(Q.target.value)},disabled:a==="Approved"})]}),e.jsxs("div",{className:"secretary-anointing-view-field",children:[e.jsx("label",{children:"Time of Anointing:"}),e.jsx("input",{type:"time",className:"secretary-view-input",value:J,onChange:Q=>{console.log("Time changed to:",Q.target.value),K(Q.target.value)},disabled:a==="Approved"})]})]}),e.jsx("div",{className:"secretary-anointing-view-row",children:e.jsxs("div",{className:"secretary-anointing-view-field",children:[e.jsx("label",{children:"Name of the Priest:"}),a==="Approved"?Ne(H):e.jsx("input",{type:"text",className:"secretary-view-input",value:H,onChange:Q=>{console.log("Priest changed to:",Q.target.value),k(Q.target.value)},placeholder:"Enter priest's name",disabled:a==="Approved"})]})})]}),e.jsxs("div",{className:"secretary-anointing-action-buttons",children:[a!=="Approved"&&e.jsx("button",{className:"secretary-anointing-submit-button",onClick:X,children:"Approve"}),a==="Approved"&&e.jsxs("div",{className:"secretary-approved-status",children:[e.jsx("span",{className:"secretary-approved-icon",children:""}),e.jsx("span",{className:"secretary-approved-text",children:"This anointing request has been approved"})]})]})]})]}):e.jsx("div",{className:"secretary-anointing-view-container",children:e.jsxs("div",{className:"secretary-anointing-view-error",children:[e.jsx("p",{children:"No anointing data found."}),e.jsx("button",{onClick:()=>f(-1),children:"Back"})]})})},KU=()=>{const a=Jt(),[t,s]=N.useState(new Date(2025,4,17)),[i,r]=N.useState(null),[c,A]=N.useState(!1),[d,h]=N.useState(null),[u,v]=N.useState([]),[x,y]=N.useState([]),[p,F]=N.useState(0),[b,S]=N.useState(0),[f,O]=N.useState(!0),[M,J]=N.useState(null),[K,H]=N.useState(!1),[k,Y]=N.useState(null),D="https://parishofdivinemercy.com/backend",ge=C=>{const Z=C%19,se=Math.floor(C/100),Se=C%100,He=Math.floor(se/4),Qe=se%4,qe=Math.floor((se+8)/25),Ye=Math.floor((se-qe+1)/3),st=(19*Z+se-He-Ye+15)%30,kt=Math.floor(Se/4),Mt=Se%4,ke=(32+2*Qe+2*kt-st-Mt)%7,$e=Math.floor((Z+11*st+22*ke)/451),Ae=Math.floor((st+ke-7*$e+114)/31)-1,Le=(st+ke-7*$e+114)%31+1;return new Date(C,Ae,Le)},_=(C,Z)=>{const se=new Date(C,Z+1,0),Se=new Date(se);for(;Se.getDay()!==1;)Se.setDate(Se.getDate()-1);return Se},X=C=>{const se=new Date(2024,1,10),He=(C-2024)*354,Qe=new Date(se);return Qe.setDate(Qe.getDate()+He),Qe.getMonth()===0&&Qe.getDate()<21?Qe.setDate(21):Qe.getMonth()===1&&Qe.getDate()>20&&Qe.setDate(20),Qe},re=C=>{const se=new Date(2024,3,10),Se=new Date(2024,5,17),Qe=(C-2024)*11,qe=new Date(se);qe.setDate(qe.getDate()-Qe);const Ye=new Date(Se);return Ye.setDate(Ye.getDate()-Qe),{eidAlFitr:qe,eidAlAdha:Ye}},fe=C=>{const Z=[];Z.push({date:new Date(C,0,1),name:"New Year's Day",type:"Regular"}),Z.push({date:new Date(C,3,9),name:"Araw ng Kagitingan",type:"Regular"}),Z.push({date:new Date(C,4,1),name:"Labor Day",type:"Regular"}),Z.push({date:new Date(C,5,12),name:"Independence Day",type:"Regular"}),Z.push({date:new Date(C,10,30),name:"Bonifacio Day",type:"Regular"}),Z.push({date:new Date(C,11,25),name:"Christmas Day",type:"Regular"}),Z.push({date:new Date(C,11,30),name:"Rizal Day",type:"Regular"}),Z.push({date:new Date(C,7,21),name:"Ninoy Aquino Day",type:"Special"}),Z.push({date:new Date(C,10,1),name:"All Saints' Day",type:"Special"}),Z.push({date:new Date(C,10,2),name:"All Souls' Day",type:"Special"}),Z.push({date:new Date(C,11,8),name:"Immaculate Conception",type:"Special"}),Z.push({date:new Date(C,11,24),name:"Christmas Eve",type:"Special"}),Z.push({date:new Date(C,11,31),name:"New Year's Eve",type:"Special"}),Z.push({date:new Date(C,1,25),name:"EDSA Revolution",type:"Special"});const se=_(C,7);Z.push({date:se,name:"National Heroes Day",type:"Regular"});const Se=ge(C),He=new Date(Se);He.setDate(Se.getDate()-3);const Qe=new Date(Se);Qe.setDate(Se.getDate()-2);const qe=new Date(Se);qe.setDate(Se.getDate()-1),Z.push({date:He,name:"Maundy Thursday",type:"Regular"}),Z.push({date:Qe,name:"Good Friday",type:"Regular"}),Z.push({date:qe,name:"Black Saturday",type:"Special"});const Ye=X(C);Z.push({date:Ye,name:"Chinese New Year",type:"Special"});const st=re(C);return Z.push({date:st.eidAlFitr,name:"Eid'l Fitr",type:"Regular"}),Z.push({date:st.eidAlAdha,name:"Eid'l Adha",type:"Regular"}),Z},[Ne,ue]=N.useState([]);N.useEffect(()=>{const C=t.getFullYear();ue(fe(C))},[t]),N.useEffect(()=>{(async()=>{O(!0),J(null);try{const Z=t.getMonth()+1,se=t.getFullYear();try{const Se=await aa.get(`${D}/fetch_total_appointments.php`);Se.data&&Se.data.success&&F(Se.data.total_appointments)}catch(Se){console.error("Error fetching total appointments:",Se)}try{const Se=await aa.get(`${D}/fetch_total_activities.php`);Se.data&&Se.data.success&&S(Se.data.total_activities)}catch(Se){console.error("Error fetching total activities:",Se)}try{const Se=await aa.get(`${D}/fetch_all_appointments.php`);if(Se.data&&Se.data.success){const He=Se.data.appointments.filter(Qe=>{let qe;if(Qe.date){if(qe=new Date(Qe.date),isNaN(qe.getTime())){const Ye=Qe.date.split("/");if(Ye.length===3)qe=new Date(parseInt(Ye[2]),parseInt(Ye[0])-1,parseInt(Ye[1]));else{const st=Qe.date.split("-");st.length===3&&(qe=new Date(parseInt(st[0]),parseInt(st[1])-1,parseInt(st[2])))}}}else return!1;return qe.getMonth()+1===Z&&qe.getFullYear()===se&&Qe.status.toLowerCase()==="approved"}).map(Qe=>{let qe;if(Qe.date){if(qe=new Date(Qe.date),isNaN(qe.getTime())){const Ye=Qe.date.split("/");if(Ye.length===3)qe=new Date(parseInt(Ye[2]),parseInt(Ye[0])-1,parseInt(Ye[1]));else{const st=Qe.date.split("-");st.length===3&&(qe=new Date(parseInt(st[0]),parseInt(st[1])-1,parseInt(st[2])))}}}else qe=new Date;return{...Qe,date:qe}});v(He)}}catch(Se){console.error("Error fetching monthly appointments:",Se),v([])}try{const Se=await aa.get(`${D}/fetch_activities.php?status=Approved`);if(Se.data&&Se.data.success){const He=Se.data.activities.filter(Qe=>{let qe;if(Qe.startDate){if(qe=new Date(Qe.startDate),isNaN(qe.getTime())){const Ye=Qe.startDate.split("/");if(Ye.length===3)qe=new Date(parseInt(Ye[2]),parseInt(Ye[0])-1,parseInt(Ye[1]));else{const st=Qe.startDate.split("-");st.length===3&&(qe=new Date(parseInt(st[0]),parseInt(st[1])-1,parseInt(st[2])))}}}else return!1;return qe.getMonth()+1===Z&&qe.getFullYear()===se}).map(Qe=>{let qe;if(Qe.startDate){if(qe=new Date(Qe.startDate),isNaN(qe.getTime())){const Ye=Qe.startDate.split("/");if(Ye.length===3)qe=new Date(parseInt(Ye[2]),parseInt(Ye[0])-1,parseInt(Ye[1]));else{const st=Qe.startDate.split("-");st.length===3&&(qe=new Date(parseInt(st[0]),parseInt(st[1])-1,parseInt(st[2])))}}}else qe=new Date;return{...Qe,date:qe,time:Qe.startTime||"12:00 PM"}});y(He)}}catch(Se){console.error("Error fetching activities:",Se),y([])}}catch(Z){console.error("Error fetching data:",Z),J("Failed to load data. Please try again later.")}finally{O(!1)}})()},[t,D]);const _e=()=>{s(new Date(t.getFullYear(),t.getMonth()-1,1))},ce=()=>{s(new Date(t.getFullYear(),t.getMonth()+1,1))},ye=C=>Ne.some(Z=>Z.date.getDate()===C.getDate()&&Z.date.getMonth()===C.getMonth()&&Z.date.getFullYear()===C.getFullYear()),Q=C=>Ne.find(Z=>Z.date.getDate()===C.getDate()&&Z.date.getMonth()===C.getMonth()&&Z.date.getFullYear()===C.getFullYear()),ne=C=>u.some(Z=>Z.date.getDate()===C.getDate()&&Z.date.getMonth()===C.getMonth()&&Z.date.getFullYear()===C.getFullYear()),U=C=>x.some(Z=>Z.date.getDate()===C.getDate()&&Z.date.getMonth()===C.getMonth()&&Z.date.getFullYear()===C.getFullYear()),V=C=>C.toLocaleDateString("en-US",{month:"long",year:"numeric"}),T=()=>{const C=t.getFullYear(),Z=t.getMonth(),se=new Date(C,Z,1),He=new Date(C,Z+1,0).getDate(),Qe=se.getDay(),qe=[];for(let Ye=0;Ye<Qe;Ye++)qe.push(null);for(let Ye=1;Ye<=He;Ye++){const st=new Date(C,Z,Ye);qe.push(st)}return qe},ie=C=>{C&&(r(C),ye(C)?(h(Q(C)),A(!0)):(A(!1),h(null)))},ae=C=>C.toLocaleDateString("en-US",{weekday:"long",month:"long",day:"numeric",year:"numeric"}),P=C=>C.toLocaleDateString("en-US",{month:"2-digit",day:"2-digit",year:"numeric"}),z=C=>{switch(C.sacramentType){case"Baptism":a("/secretary-baptism-view",{state:{baptismID:C.id,status:C.status}});break;case"Marriage":a("/secretary-marriage-view",{state:{marriageID:C.id,status:C.status}});break;case"Funeral Mass":a("/secretary-funeral-mass-view",{state:{funeralID:C.id,status:C.status}});break;case"Blessing":a("/secretary-blessing-view",{state:{blessingID:C.id,status:C.status}});break;case"Communion":a("/secretary-communion-view",{state:{communionID:C.id,status:C.status}});break;case"Confirmation":a("/secretary-confirmation-view",{state:{confirmationID:C.id,status:C.status}});break;case"Anointing of the Sick and Viaticum":a("/secretary-anointing-of-the-sick-view",{state:{anointingID:C.id,status:C.status}});break;default:console.log(`Unknown sacrament: ${C.sacramentType}`)}},B=C=>{const Z=x.find(se=>se.activityID===C);Z&&(Y(Z),H(!0))},q=()=>i?u.filter(C=>C.date.getDate()===i.getDate()&&C.date.getMonth()===i.getMonth()&&C.date.getFullYear()===i.getFullYear()):[],te=()=>i?x.filter(C=>C.date.getDate()===i.getDate()&&C.date.getMonth()===i.getMonth()&&C.date.getFullYear()===i.getFullYear()):[],he=C=>{switch(C.toLowerCase()){case"approved":case"confirmed":return e.jsx(dt,{icon:ol,style:{marginRight:"5px",color:"#155724"}});case"pending":return e.jsx(dt,{icon:mo,style:{marginRight:"5px",color:"#856404"}});case"cancelled":case"rejected":return e.jsx(dt,{icon:mo,style:{marginRight:"5px",color:"#721c24"}});case"completed":return e.jsx(dt,{icon:ol,style:{marginRight:"5px",color:"#004085"}});default:return null}},W=C=>{const Z=new Date(2025,4,17);return C.getDate()===Z.getDate()&&C.getMonth()===Z.getMonth()&&C.getFullYear()===Z.getFullYear()};return e.jsxs("div",{className:"dashboard-container-sec",children:[e.jsx("h1",{className:"title-sec",children:"SECRETARY DASHBOARD"}),M&&e.jsxs("div",{className:"error-message-container",children:[e.jsx(dt,{icon:Jx,className:"error-icon"}),e.jsx("span",{children:M})]}),e.jsxs("div",{className:"summary-container-sec",children:[e.jsxs("div",{className:"card-sec appointments-card-sec",children:[e.jsx("div",{className:"card-icon-sec",children:e.jsx(dt,{icon:rn})}),e.jsxs("div",{className:"card-content-sec",children:[e.jsx("h3",{className:"card-title-sec",children:"Total Appointments"}),e.jsx("p",{className:"card-count-sec",children:f?"...":p})]})]}),e.jsxs("div",{className:"card-sec events-card-sec",children:[e.jsx("div",{className:"card-icon-sec",children:e.jsx(dt,{icon:L0})}),e.jsxs("div",{className:"card-content-sec",children:[e.jsx("h3",{className:"card-title-sec",children:"Total Events"}),e.jsx("p",{className:"card-count-sec",children:f?"...":b})]})]})]}),e.jsxs("div",{className:"calendar-section-sec",children:[e.jsxs("div",{className:"calendar-header-sec",children:[e.jsx("button",{className:"nav-btn-sec",onClick:_e,"aria-label":"Previous month",children:e.jsx(dt,{icon:mh})}),e.jsxs("h2",{className:"month-year-sec",children:[e.jsx(dt,{icon:rn,style:{marginRight:"10px"}}),V(t)]}),e.jsx("button",{className:"nav-btn-sec",onClick:ce,"aria-label":"Next month",children:e.jsx(dt,{icon:fh})})]}),f?e.jsx("div",{className:"loading-calendar",children:e.jsx("p",{children:"Loading calendar data..."})}):e.jsxs("div",{className:"calendar-grid-sec",children:[e.jsx("div",{className:"weekday-sec",children:"Sun"}),e.jsx("div",{className:"weekday-sec",children:"Mon"}),e.jsx("div",{className:"weekday-sec",children:"Tue"}),e.jsx("div",{className:"weekday-sec",children:"Wed"}),e.jsx("div",{className:"weekday-sec",children:"Thu"}),e.jsx("div",{className:"weekday-sec",children:"Fri"}),e.jsx("div",{className:"weekday-sec",children:"Sat"}),T().map((C,Z)=>e.jsx("div",{className:`calendar-day-sec 
                  ${C?"":"empty-day-sec"} 
                  ${C&&ne(C)?"has-appointment-sec":""} 
                  ${C&&U(C)?"has-event-sec":""} 
                  ${C&&ye(C)?"holiday-day-sec":""} 
                  ${C&&W(C)?"today-sec":""}
                  ${C&&i&&C.getDate()===i.getDate()&&C.getMonth()===i.getMonth()&&C.getFullYear()===i.getFullYear()?"selected-day-sec":""}`,onClick:()=>ie(C),"aria-label":C?`${C.getDate()}, ${ye(C)?"Holiday":""} ${ne(C)?"Has appointment":""} ${U(C)?"Has event":""}`:"Empty day",children:C&&e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"day-number-sec",children:C.getDate()}),ne(C)&&e.jsx("div",{className:"appointment-dot-sec"}),U(C)&&e.jsx("div",{className:"event-dot-sec"}),ye(C)&&e.jsxs("div",{className:"holiday-indicator-sec",children:[e.jsx("div",{className:"holiday-dot-sec",style:{backgroundColor:Q(C).type==="Regular"?"#e74c3c":"#f39c12"}}),e.jsx("span",{className:"holiday-name-sec",children:Q(C).name})]})]})},Z))]}),e.jsxs("div",{className:"calendar-legend-sec",children:[e.jsxs("div",{className:"legend-item-sec",children:[e.jsx("div",{className:"legend-dot-sec",style:{backgroundColor:"#e74c3c"}}),e.jsx("span",{children:"Regular Holiday"})]}),e.jsxs("div",{className:"legend-item-sec",children:[e.jsx("div",{className:"legend-dot-sec",style:{backgroundColor:"#f39c12"}}),e.jsx("span",{children:"Special Holiday"})]}),e.jsxs("div",{className:"legend-item-sec",children:[e.jsx("div",{className:"legend-dot-sec appointment-legend-sec"}),e.jsx("span",{children:"Appointment Scheduled"})]}),e.jsxs("div",{className:"legend-item-sec",children:[e.jsx("div",{className:"legend-dot-sec event-legend-sec"}),e.jsx("span",{children:"Community Event"})]})]}),c&&d&&e.jsxs("div",{className:"holiday-info-sec",children:[e.jsxs("div",{className:"holiday-info-header-sec",children:[e.jsx(dt,{icon:Pf,className:"holiday-info-icon-sec"}),e.jsx("h3",{children:"Holiday Information"})]}),e.jsxs("div",{className:"holiday-info-content-sec",children:[e.jsxs("p",{children:[e.jsx("strong",{children:"Date:"})," ",ae(d.date)]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Holiday:"})," ",d.name]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Type:"})," ",e.jsxs("span",{className:`holiday-type-sec ${d.type.toLowerCase()}-holiday-sec`,children:[d.type," Holiday"]})]})]})]}),i&&e.jsxs("div",{className:"selected-date-info-sec",children:[e.jsxs("h3",{children:[e.jsx(dt,{icon:rn,style:{marginRight:"10px",color:"#b3701f"}}),ae(i)]}),q().length>0&&e.jsxs("div",{className:"selected-date-appointments-sec",children:[e.jsx("h4",{children:"Appointments:"}),e.jsx("ul",{className:"appointment-list-sec",children:q().map(C=>e.jsxs("li",{className:"appointment-item-sec",children:[e.jsx("div",{className:"appointment-time-sec",children:C.time}),e.jsxs("div",{className:"appointment-details-sec",children:[e.jsxs("span",{className:"appointment-name-sec",children:[C.firstName," ",C.lastName]}),e.jsx("span",{className:"appointment-type-sec",children:C.sacramentType}),e.jsxs("span",{className:`appointment-status-sec ${C.status.toLowerCase()}-sec`,children:[he(C.status),C.status]})]}),e.jsxs("button",{className:"view-btn-sec",onClick:()=>z(C),children:[e.jsx(dt,{icon:Fn})," View"]})]},C.id))})]}),te().length>0&&e.jsxs("div",{className:"selected-date-events-sec",children:[e.jsx("h4",{children:"Events:"}),e.jsx("ul",{className:"event-list-sec",children:te().map(C=>e.jsxs("li",{className:"event-item-sec",children:[e.jsx("div",{className:"event-time-sec",children:C.startTime}),e.jsxs("div",{className:"event-details-sec",children:[e.jsx("span",{className:"event-name-sec",children:C.title}),e.jsx("span",{className:"event-organizer-sec",children:C.proposedBy||C.organizer}),e.jsx("span",{className:"event-location-sec",children:C.location}),e.jsxs("span",{className:`event-status-sec ${C.status.toLowerCase()}-sec`,children:[he(C.status),C.status]})]}),e.jsxs("button",{className:"view-btn-sec event-view-btn-sec",onClick:()=>B(C.activityID),children:[e.jsx(dt,{icon:Fn})," View"]})]},C.activityID))})]}),q().length===0&&te().length===0&&e.jsx("p",{className:"no-appointments-message-sec",children:"No appointments or events scheduled for this date."})]})]}),e.jsxs("div",{className:"tables-container-sec",children:[e.jsxs("div",{className:"table-section-sec appointments-table-section-sec",children:[e.jsxs("h2",{className:"section-title-sec",children:[e.jsx(dt,{icon:Od,className:"section-icon-sec"}),"Appointments for ",V(t)]}),e.jsx("div",{className:"data-table-container",children:e.jsxs("table",{className:"appointment-table-sa",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"ID"}),e.jsx("th",{children:"First Name"}),e.jsx("th",{children:"Last Name"}),e.jsx("th",{children:"Sacrament Type"}),e.jsx("th",{children:"Date"}),e.jsx("th",{children:"Time"}),e.jsx("th",{children:"Status"}),e.jsx("th",{children:"Actions"})]})}),e.jsx("tbody",{children:u.length>0?u.map(C=>{var Z;return e.jsxs("tr",{children:[e.jsx("td",{children:C.id}),e.jsx("td",{children:C.firstName}),e.jsx("td",{children:C.lastName}),e.jsx("td",{children:C.sacramentType}),e.jsx("td",{children:P(C.date)}),e.jsx("td",{children:C.time}),e.jsx("td",{className:`status-${(Z=C.status)==null?void 0:Z.toLowerCase()}`,children:C.status}),e.jsx("td",{className:"actions-cell-sa",children:e.jsx("button",{className:"view-btn-sa",onClick:()=>z(C),title:"View Details",children:"View"})})]},C.id)}):e.jsx("tr",{children:e.jsx("td",{colSpan:"8",style:{textAlign:"center"},children:f?"Loading appointments...":"No approved appointments for this month"})})})]})})]}),e.jsxs("div",{className:"table-section-sec events-table-section-sec",children:[e.jsxs("h2",{className:"section-title-sec",children:[e.jsx(dt,{icon:Yx,className:"section-icon-sec"}),"Community Events for ",V(t)]}),e.jsx("div",{className:"data-table-container",children:e.jsxs("table",{className:"event-table-sae",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"No."}),e.jsx("th",{children:"Title"}),e.jsx("th",{children:"Description"}),e.jsx("th",{children:"Category"}),e.jsx("th",{children:"Start Date"}),e.jsx("th",{children:"Start Time"}),e.jsx("th",{children:"Location"}),e.jsx("th",{children:"Organizer"}),e.jsx("th",{children:"Status"}),e.jsx("th",{children:"Action"})]})}),e.jsx("tbody",{children:x.length>0?x.map((C,Z)=>{var se;return e.jsxs("tr",{children:[e.jsx("td",{children:Z+1}),e.jsx("td",{children:C.title}),e.jsx("td",{children:C.description}),e.jsx("td",{children:C.category}),e.jsx("td",{children:P(C.date)}),e.jsx("td",{children:C.startTime}),e.jsx("td",{children:C.location}),e.jsx("td",{children:C.proposedBy}),e.jsx("td",{className:`status-${(se=C.status)==null?void 0:se.toLowerCase()}`,children:C.status}),e.jsx("td",{children:e.jsx("button",{className:"sae-details",onClick:()=>B(C.activityID),children:"View"})})]},C.activityID)}):e.jsx("tr",{children:e.jsx("td",{colSpan:"10",style:{textAlign:"center"},children:f?"Loading events...":"No approved events for this month"})})})]})})]})]}),K&&k&&e.jsx("div",{className:"modal-backdrop-sae",children:e.jsxs("div",{className:"modal-content-sae",children:[e.jsx("h2",{children:"Event & Activity Details"}),e.jsx("hr",{className:"custom-hr-sum"}),e.jsxs("div",{className:"view-details-sae",children:[e.jsxs("div",{className:"detail-row-sae",children:[e.jsx("div",{className:"detail-label-sae",children:"Title:"}),e.jsx("div",{className:"detail-value-sae",children:k.title})]}),e.jsxs("div",{className:"detail-row-sae",children:[e.jsx("div",{className:"detail-label-sae",children:"Description:"}),e.jsx("div",{className:"detail-value-sae",children:k.description})]}),e.jsxs("div",{className:"detail-row-sae",children:[e.jsx("div",{className:"detail-label-sae",children:"Category:"}),e.jsx("div",{className:"detail-value-sae",children:k.category})]}),e.jsxs("div",{className:"detail-row-sae",children:[e.jsx("div",{className:"detail-label-sae",children:"Start Date:"}),e.jsx("div",{className:"detail-value-sae",children:P(k.date)})]}),e.jsxs("div",{className:"detail-row-sae",children:[e.jsx("div",{className:"detail-label-sae",children:"Start Time:"}),e.jsx("div",{className:"detail-value-sae",children:k.startTime})]}),e.jsxs("div",{className:"detail-row-sae",children:[e.jsx("div",{className:"detail-label-sae",children:"Location:"}),e.jsx("div",{className:"detail-value-sae",children:k.location})]}),e.jsxs("div",{className:"detail-row-sae",children:[e.jsx("div",{className:"detail-label-sae",children:"Organizer:"}),e.jsx("div",{className:"detail-value-sae",children:k.organizer||k.proposedBy})]}),e.jsxs("div",{className:"detail-row-sae",children:[e.jsx("div",{className:"detail-label-sae",children:"Status:"}),e.jsx("div",{className:`detail-value-sae status-${k.status.toLowerCase()}`,children:k.status})]}),k.created_at&&e.jsxs("div",{className:"detail-row-sae",children:[e.jsx("div",{className:"detail-label-sae",children:"Created At:"}),e.jsx("div",{className:"detail-value-sae",children:new Date(k.created_at).toLocaleString()})]}),k.updated_at&&e.jsxs("div",{className:"detail-row-sae",children:[e.jsx("div",{className:"detail-label-sae",children:"Updated At:"}),e.jsx("div",{className:"detail-value-sae",children:new Date(k.updated_at).toLocaleString()})]})]}),e.jsx("div",{className:"modal-actions-sae",children:e.jsx("button",{onClick:()=>H(!1),className:"cancel-btn-sae",children:"Close"})})]})})]})},qm="http://parishofdivinemercy.com/backend",VU=()=>{var V;const[a,t]=N.useState(!1),[s,i]=N.useState(!1),[r,c]=N.useState(null),[A,d]=N.useState(""),[h,u]=N.useState(""),[v,x]=N.useState(!1),[y,p]=N.useState(""),[F,b]=N.useState(!1),[S,f]=N.useState(""),[O,M]=N.useState([]),[J,K]=N.useState(!0),[H,k]=N.useState(1),Y=["Baptism","Marriage","Funeral Mass","Confirmation","Communion","Blessing","Anointing of the Sick and Viaticum"];N.useEffect(()=>{ge()},[]);const D=T=>{const ie=new Date().getFullYear();let ae=0;O.forEach(B=>{if(B.scheduleCode&&B.scheduleCode.startsWith(`SCH-${ie}-`)){const q=B.scheduleCode.split("-");if(q.length===3){const te=parseInt(q[2],10);!isNaN(te)&&te>ae&&(ae=te)}}});const P=Math.max(ae+1,T),z=String(P).padStart(4,"0");return`SCH-${ie}-${z}`},ge=async()=>{K(!0);try{console.log("Fetching schedules from:",`${qm}/secretary_schedule.php`);const ie=await(await fetch(`${qm}/secretary_schedule.php`)).text();console.log("Raw response from schedules fetch:",ie);let ae;try{ae=JSON.parse(ie)}catch(P){console.error("Error parsing JSON response:",P),fe("Server returned invalid data. Check console for details."),K(!1);return}if(ae.success){const P=ae.schedules.map((q,te)=>({...q,date:q.date||"",time:q.time||"",scheduleCode:q.scheduleCode||_(te+1,ae.schedules)}));M(P);let z=0;const B=new Date().getFullYear();P.forEach(q=>{if(q.scheduleCode&&q.scheduleCode.startsWith(`SCH-${B}-`)){const te=q.scheduleCode.split("-");if(te.length===3){const he=parseInt(te[2],10);!isNaN(he)&&he>z&&(z=he)}}}),k(z+1),console.log("Fetched schedules:",P),console.log("Next schedule number will be:",z+1)}else console.error("Failed to fetch schedules:",ae),fe(ae.error||ae.message||"Failed to fetch schedules. Please try again.")}catch(T){console.error("Error fetching schedules:",T),fe("Error connecting to the server. Please try again later.")}finally{K(!1)}},_=(T,ie)=>{const ae=new Date().getFullYear();let P=T,z=`SCH-${ae}-${String(P).padStart(4,"0")}`,B=ie.some(q=>q.scheduleCode===z);for(;B;)P++,z=`SCH-${ae}-${String(P).padStart(4,"0")}`,B=ie.some(q=>q.scheduleCode===z);return z},X=(T=null)=>{T?(i(!0),c(T)):(i(!1),c({scheduleCode:D(H)})),t(!a)},re=T=>{p(T),x(!0),setTimeout(()=>{x(!1)},3e3)},fe=T=>{f(T),b(!0),setTimeout(()=>{b(!1)},4e3)},Ne=T=>{d(T.target.value)},ue=T=>{u(T.target.value)},_e=T=>{try{if(!T)return"";let ie,ae;if(T.includes(":"))[ie,ae]=T.split(":");else if(T.includes("T"))[ie,ae]=T.split("T")[1].split(":");else return T.toLowerCase();const P=new Date;P.setHours(parseInt(ie)),P.setMinutes(parseInt(ae));const z=P.toLocaleString("en-US",{hour:"2-digit",minute:"2-digit",hour12:!0}).toLowerCase(),B=`${String(parseInt(ie)).padStart(2,"0")}:${String(parseInt(ae)).padStart(2,"0")}`;return`${z} ${B}`}catch{return T.toLowerCase()}},ce=O.filter(T=>{var C;const ie=h===""||T.sacramentType===h;if(!A.trim())return ie;const ae=A.toLowerCase().trim(),P=A.toLowerCase(),z=((C=T.sacramentType)==null?void 0:C.toLowerCase().trim())||"",B=T.date?new Date(T.date).toISOString().split("T")[0]:"",q=_e(T.time),te=ae.replace(/\s+/g," "),he=P!==ae;let W;return he&&ae?W=z.startsWith(te)||B.startsWith(te)||q.startsWith(te):W=z.includes(te)||B.includes(te)||q.includes(te),ie&&W}),ye=async T=>{T.preventDefault();const ie=new FormData(T.target),ae=ie.get("date"),P=ie.get("time");if(!ae||!P){fe("Date and time are required");return}const z={sacramentType:ie.get("sacramentType"),date:ae,time:P,scheduleCode:ie.get("scheduleCode")||D(H)};console.log("Submitting schedule data:",z);try{let B;s?(console.log("Updating schedule with ID:",r.id),B=await fetch(`${qm}/secretary_schedule.php`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({...z,id:r.id})})):(console.log("Adding new schedule"),B=await fetch(`${qm}/secretary_schedule.php`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(z)}));const q=await B.text();console.log("Raw response:",q);let te;try{te=JSON.parse(q)}catch(he){console.error("Error parsing JSON response:",he),fe("Server returned invalid data. Check console for details.");return}te.success?(s||k(he=>he+1),ge(),X(),re(s?"Schedule updated successfully!":"Schedule added successfully!")):(console.error("Failed to save schedule:",te),te.error==="date_time_conflict"?fe("A schedule with this date and time already exists. Please choose a different time."):fe(te.error||te.message||"Failed to save schedule. Please try again."))}catch(B){console.error("Error saving schedule:",B),fe("Error connecting to the server. Please try again later.")}},Q=T=>{try{return new Date(T).toISOString().split("T")[0]}catch{return T}},ne=T=>{try{let ie,ae;if(T.includes(":"))[ie,ae]=T.split(":");else if(T.includes("T"))[ie,ae]=T.split("T")[1].split(":");else return T;const P=new Date;return P.setHours(parseInt(ie)),P.setMinutes(parseInt(ae)),P.toLocaleString("en-US",{hour:"2-digit",minute:"2-digit",hour12:!0})}catch(ie){return console.error("Error formatting time:",ie),T}},U=()=>h?`Search date or time of ${h}`:"Search by sacrament type, date, or time";return e.jsxs("div",{className:"schedule-container-ssc",children:[e.jsx("div",{className:"title-container-ssc",children:e.jsx("h1",{className:"title-ssc",children:"SCHEDULE MANAGEMENT"})}),e.jsxs("div",{className:"schedule-actions-ssc",children:[e.jsxs("div",{className:"search-bar-ssc-ssc",children:[e.jsx("input",{type:"text",placeholder:U(),value:A,onChange:Ne}),e.jsx(dt,{icon:vs,className:"search-icon-ssc"})]}),e.jsxs("div",{className:"filter-add-container-ssc",children:[e.jsxs("select",{className:"filter-select-ssc",value:h,onChange:ue,children:[e.jsx("option",{value:"",children:"All Sacrament Types"}),Y.map((T,ie)=>e.jsx("option",{value:T,children:T},ie))]}),e.jsxs("button",{className:"add-btn-ssc",onClick:()=>X(),children:[e.jsx(dt,{icon:yA})," ADD"]})]})]}),e.jsxs("table",{className:"schedule-table-ssc",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Schedule Code"}),e.jsx("th",{children:"Sacrament Type"}),e.jsx("th",{children:"Date"}),e.jsx("th",{children:"Time"}),e.jsx("th",{children:"Action"})]})}),e.jsx("tbody",{children:J?e.jsx("tr",{children:e.jsx("td",{colSpan:"5",className:"loading-ssc",children:"Loading schedules..."})}):ce.length>0?ce.map((T,ie)=>e.jsxs("tr",{children:[e.jsx("td",{children:T.scheduleCode}),e.jsx("td",{children:T.sacramentType}),e.jsx("td",{children:Q(T.date)}),e.jsx("td",{children:ne(T.time)}),e.jsx("td",{children:e.jsx("button",{className:"ssc-details",onClick:()=>X(T),children:"Edit"})})]},T.id)):e.jsx("tr",{children:e.jsx("td",{colSpan:"5",className:"no-results-ssc",children:"No schedules found"})})})]}),a&&e.jsx("div",{className:"schedule-modal-overlay-ssc",children:e.jsxs("div",{className:"schedule-modal-ssc",children:[e.jsx("div",{className:"schedule-modal-header-ssc",children:e.jsx("h2",{children:s?"Edit Schedule":"Add New Schedule"})}),e.jsx("div",{children:e.jsx("hr",{className:"custom-hr-ssc"})}),e.jsxs("form",{onSubmit:ye,className:"schedule-form-ssc",children:[e.jsx("div",{className:"form-row-ssc",children:e.jsxs("div",{className:"form-group-ssc",children:[e.jsx("label",{children:"Schedule Code"}),e.jsx("input",{type:"text",name:"scheduleCode",defaultValue:(r==null?void 0:r.scheduleCode)||"",readOnly:!0})]})}),e.jsx("div",{className:"form-row-ssc",children:e.jsxs("div",{className:"form-group-ssc",children:[e.jsx("label",{children:"Sacrament Type"}),e.jsxs("select",{name:"sacramentType",required:!0,defaultValue:(r==null?void 0:r.sacramentType)||"",children:[e.jsx("option",{value:"",children:"Select Sacrament Type"}),Y.map((T,ie)=>e.jsx("option",{value:T,children:T},ie))]})]})}),e.jsxs("div",{className:"form-row-ssc",children:[e.jsxs("div",{className:"form-group-ssc",children:[e.jsx("label",{children:"Date"}),e.jsx("input",{type:"date",name:"date",required:!0,defaultValue:r!=null&&r.date?r.date.split("T")[0]:""})]}),e.jsxs("div",{className:"form-group-ssc",children:[e.jsx("label",{children:"Time"}),e.jsx("input",{type:"time",name:"time",required:!0,defaultValue:r!=null&&r.time?(V=r.time.split("T")[1])==null?void 0:V.substring(0,5):(r==null?void 0:r.time)||""})]})]}),e.jsxs("div",{className:"form-actions-ssc",children:[e.jsx("button",{type:"submit",className:"submit-btn-ssc",children:s?"Update":"Save"}),e.jsx("button",{type:"button",className:"cancel-btn-ssc",onClick:()=>X(),children:"Cancel"})]})]})]})}),v&&e.jsx("div",{className:"notification-modal success-modal",children:e.jsxs("div",{className:"notification-content success",children:[e.jsx(dt,{icon:ol,className:"notification-icon"}),e.jsx("p",{children:y})]})}),F&&e.jsx("div",{className:"notification-modal error-modal",children:e.jsxs("div",{className:"notification-content error",children:[e.jsx(dt,{icon:E0,className:"notification-icon"}),e.jsx("p",{children:S})]})})]})},zU=()=>{const a=Jt(),[t,s]=N.useState([]),[i,r]=N.useState(!0),[c,A]=N.useState(""),[d,h]=N.useState(""),[u,v]=N.useState(""),[x,y]=N.useState(!1),p=["Baptism","Marriage","Funeral Mass","Confirmation","Communion","Blessing","Anointing of the Sick and Viaticum"],F=["Pending","Approved"];N.useEffect(()=>{b()},[]);const b=async()=>{try{r(!0);const re=await(await fetch("https://parishofdivinemercy.com/backend/fetch_all_appointments.php")).json();re.success?s(re.appointments||[]):console.error("Error fetching appointments:",re.message)}catch(X){console.error("Error fetching appointments:",X)}finally{r(!1)}},S=X=>X.trim().replace(/\s+/g," "),f=(X,re)=>{if(!X||!re)return!1;const fe=re.toLowerCase().replace(/\s/g,""),Ne=X;if(Ne.toLowerCase().includes(fe))return!0;const[ue,_e]=Ne.split(":"),ce=parseInt(ue,10),ye=ce===0?12:ce>12?ce-12:ce,Q=ce>=12?"pm":"am",ne=`${ye}:${_e}${Q}`,U=`${ye}:${_e} ${Q}`;return ne.includes(fe)||U.includes(fe)||Ne.includes(fe)},O=(X,re)=>{if(!X||!re)return!1;const fe=re.replace(/\s/g,""),Ne=[X,X.replace(/\//g,"-"),X.replace(/-/g,"/")];if(X.includes("/")){const[ue,_e,ce]=X.split("/");Ne.push(`${ce}-${ue.padStart(2,"0")}-${_e.padStart(2,"0")}`),Ne.push(`${ce}-${ue.padStart(2,"0")}`),Ne.push(ce)}else if(X.includes("-")){const[ue,_e,ce]=X.split("-");Ne.push(`${_e}/${ce}/${ue}`),Ne.push(`${ue}-${_e}`),Ne.push(ue)}return Ne.some(ue=>ue.toLowerCase().includes(fe.toLowerCase()))},M=X=>{if(!X)return"";if(X.match(/^\d{4}-\d{2}-\d{2}$/))return X;if(X.includes("/")){const[re,fe,Ne]=X.split("/");return`${Ne}-${re.padStart(2,"0")}-${fe.padStart(2,"0")}`}if(X.includes("/")&&X.split("/")[2].length===4){const re=X.split("/");if(re[0].length<=2&&re[1].length<=2){const[fe,Ne,ue]=re;return`${ue}-${Ne.padStart(2,"0")}-${fe.padStart(2,"0")}`}}return X},J=X=>{const re=X.target.value;if(A(re),re.trim()!==""&&d===""){const fe=p.find(Ne=>Ne.toLowerCase()===re.toLowerCase());if(fe)h(fe);else if(re.length>=4){const Ne=p.find(ue=>ue.toLowerCase().startsWith(re.toLowerCase()));re.toLowerCase().startsWith("comm")?h("Communion"):re.toLowerCase().startsWith("conf")?h("Confirmation"):Ne&&h(Ne)}}if(re.trim()!==""&&u===""){const fe=F.find(Ne=>Ne.toLowerCase()===re.toLowerCase());if(fe)v(fe);else if(re.length>=3){const Ne=F.find(ue=>ue.toLowerCase().startsWith(re.toLowerCase()));Ne&&v(Ne)}}re.trim()===""&&(h(""),v(""))},K=()=>{y(!x)},H=X=>{switch(y(!1),X){case"Baptism":a("/baptism");break;case"Marriage":a("/marriage");break;case"Funeral Mass":a("/funeral-mass");break;case"Blessing":a("/blessing");break;case"Communion":a("/communion");break;case"Confirmation":a("/confirmation");break;case"Anointing of the Sick and Viaticum":a("/anointing-of-the-sick");break;default:console.log(`Unknown sacrament: ${X}`)}},k=X=>{switch(X.sacramentType){case"Baptism":a("/secretary-baptism-view",{state:{baptismID:X.id,status:X.status}});break;case"Marriage":a("/secretary-marriage-view",{state:{marriageID:X.id,status:X.status}});break;case"Funeral Mass":a("/secretary-funeral-mass-view",{state:{funeralID:X.id,status:X.status}});break;case"Blessing":a("/secretary-blessing-view",{state:{blessingID:X.id,status:X.status}});break;case"Communion":a("/secretary-communion-view",{state:{communionID:X.id,status:X.status}});break;case"Confirmation":a("/secretary-confirmation-view",{state:{confirmationID:X.id,status:X.status}});break;case"Anointing of the Sick and Viaticum":a("/secretary-anointing-of-the-sick-view",{state:{anointingID:X.id,status:X.status}});break;default:console.log(`Unknown sacrament: ${X.sacramentType}`)}},Y=X=>{h(X.target.value)},D=X=>{v(X.target.value)},ge=Xn.useMemo(()=>{const X=t.filter(fe=>{const Ne=d===""||fe.sacramentType===d,ue=u===""||fe.status===u;if(c.trim()==="")return Ne&&ue;const _e=S(c),ce=p.some(U=>U.toLowerCase()===_e.toLowerCase()||_e.length>=4&&U.toLowerCase().startsWith(_e.toLowerCase())||_e.toLowerCase().startsWith("comm")&&U==="Communion"||_e.toLowerCase().startsWith("conf")&&U==="Confirmation"),ye=F.some(U=>U.toLowerCase()===_e.toLowerCase()||_e.length>=3&&U.toLowerCase().startsWith(_e.toLowerCase()));let Q=!1,ne="";if(ce&&d!==""||ye&&u!=="")Q=Ne&&ue,ne=Q?`Included: Matches active filters - Sacrament: "${d}", Status: "${u}"`:`Excluded: Does not match active filters - Sacrament: "${fe.sacramentType}", Status: "${fe.status}"`;else{const U=fe.firstName||"",V=fe.lastName||"",T=S(`${U} ${V}`),ie=S(`${V} ${U}`),ae=U.toLowerCase().includes(_e.toLowerCase()),P=V.toLowerCase().includes(_e.toLowerCase()),z=T.toLowerCase().includes(_e.toLowerCase()),B=ie.toLowerCase().includes(_e.toLowerCase()),q=fe.sacramentType.toLowerCase().includes(_e.toLowerCase()),te=fe.status&&fe.status.toLowerCase().includes(_e.toLowerCase()),he=fe.id&&fe.id.toString().includes(_e),W=O(fe.date,_e),C=f(fe.time,_e),Z=O(fe.createdAt,_e),se=ae||P||z||B||q||te||he||W||C||Z;if(Q=Ne&&ue&&se,!Q)Ne?ue?se||(ne=`Excluded: Search mismatch - Search term: "${_e}" not found in any field`):ne=`Excluded: Status filter mismatch - Filter: "${u}", Appointment: "${fe.status}"`:ne=`Excluded: Sacrament filter mismatch - Filter: "${d}", Appointment: "${fe.sacramentType}"`;else{let Se=[];ae&&Se.push(`firstName: "${U}"`),P&&Se.push(`lastName: "${V}"`),z&&!ae&&!P&&Se.push(`fullName: "${T}"`),B&&!z&&Se.push(`reverseFullName: "${ie}"`),q&&Se.push(`sacramentType: "${fe.sacramentType}"`),te&&Se.push(`status: "${fe.status}"`),he&&Se.push(`id: "${fe.id}"`),W&&Se.push(`date: "${fe.date}"`),C&&Se.push(`time: "${fe.time}"`),Z&&Se.push(`createdAt: "${fe.createdAt}"`),ne=`Included: Matches ${Se.join(", ")} with search term: "${_e}", sacrament filter: "${d}", status filter: "${u}"`}}return console.log(`ID: ${fe.id} | ${ne}`),Q}),re=X.filter((fe,Ne,ue)=>Ne===ue.findIndex(_e=>_e.id===fe.id));return console.log("=== RAW DATA DEBUG ==="),console.log("Total raw appointments received:",t.length),console.log("Sample appointments:",t.slice(0,3)),console.log("Sacrament types in data:",[...new Set(t.map(fe=>fe.sacramentType))]),console.log("======================"),console.log("=== SECRETARY APPOINTMENT SEARCH SUMMARY ==="),console.log(`Search Term: "${c}"`),console.log(`Normalized Search Term: "${S(c)}"`),console.log(`Sacrament Filter: "${d}"`),console.log(`Status Filter: "${u}"`),console.log(`Total Appointments: ${t.length}`),console.log(`Filtered Results (with duplicates): ${X.length}`),console.log(`Unique Filtered Results: ${re.length}`),console.log("Filtered Appointment IDs:",re.map(fe=>fe.id)),console.log("==============================================="),re},[t,c,d,u,p,F]),_=()=>{const X=[];return d&&X.push(d),u&&X.push(u),X.length>0?`Search within ${X.join(" and ")} appointments`:"Search by name, date (yyyy-mm-dd), time, sacrament type, or status"};return e.jsxs("div",{className:"appointment-container-sa",children:[e.jsx("h1",{className:"title-sa-sa",children:"APPOINTMENT MANAGEMENT"}),e.jsxs("div",{className:"appointment-actions-sa-sa",children:[e.jsxs("div",{className:"search-bar-sa-sa-1",children:[e.jsx("input",{type:"text",placeholder:_(),value:c,onChange:J}),e.jsx(dt,{icon:vs,className:"search-icon-sa-sa"})]}),e.jsxs("div",{className:"filter-actions-container-sa-sa",children:[e.jsxs("select",{className:"filter-select-sa-sa",value:d,onChange:Y,children:[e.jsx("option",{value:"",children:"All Sacrament Types"}),p.map((X,re)=>e.jsx("option",{value:X,children:X},re))]}),e.jsxs("select",{className:"filter-select-sa-sa-1",value:u,onChange:D,children:[e.jsx("option",{value:"",children:"All Status"}),F.map((X,re)=>e.jsx("option",{value:X,children:X},re))]}),e.jsxs("button",{className:"add-btn-sa-sa",onClick:K,children:[e.jsx(dt,{icon:yA})," ADD"]})]})]}),e.jsx("div",{className:"table-container-sa",children:e.jsxs("table",{className:"appointment-table-sa",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"ID"}),e.jsx("th",{children:"First Name"}),e.jsx("th",{children:"Last Name"}),e.jsx("th",{children:"Sacrament Type"}),e.jsx("th",{children:"Date"}),e.jsx("th",{children:"Time"}),e.jsx("th",{children:"Status"}),e.jsx("th",{children:"Created At"}),e.jsx("th",{children:"Actions"})]})}),e.jsx("tbody",{children:i?e.jsx("tr",{children:e.jsx("td",{colSpan:"9",style:{textAlign:"center"},children:"Loading appointments..."})}):ge.length>0?ge.map((X,re)=>{var fe;return e.jsxs("tr",{children:[e.jsx("td",{children:X.id}),e.jsx("td",{children:X.firstName}),e.jsx("td",{children:X.lastName}),e.jsx("td",{children:X.sacramentType}),e.jsx("td",{children:M(X.date)}),e.jsx("td",{children:X.time}),e.jsx("td",{className:`status-${(fe=X.status)==null?void 0:fe.toLowerCase()}`,children:X.status}),e.jsx("td",{children:M(X.createdAt)}),e.jsx("td",{className:"actions-cell-sa",children:e.jsx("button",{className:"view-btn-sa",onClick:()=>k(X),title:"View Details",children:"View"})})]},X.id)}):e.jsx("tr",{children:e.jsx("td",{colSpan:"9",style:{textAlign:"center"},children:c||d||u?"No appointments found matching your search criteria":"No appointments found"})})})]})}),x&&e.jsx("div",{className:"sacrament-modal-overlay-sa",children:e.jsxs("div",{className:"sacrament-modal-sa",children:[e.jsxs("div",{className:"sacrament-modal-header-sa",children:[e.jsx("h2",{children:"Select Sacrament"}),e.jsx("button",{className:"close-modal-btn-sa",onClick:K,children:e.jsx(dt,{icon:vo})})]}),e.jsx("hr",{className:"custom-hr-sa"}),e.jsx("div",{className:"sacrament-options-sa",children:e.jsx("div",{className:"sacrament-options-grid-sa",children:p.map((X,re)=>e.jsx("button",{className:"sacrament-option-btn-sa",onClick:()=>H(X),children:X},re))})})]})})]})},$U=()=>{Jt();const[a,t]=N.useState([]),[s,i]=N.useState(!0),[r,c]=N.useState(!1),[A,d]=N.useState(null),[h,u]=N.useState(""),[v,x]=N.useState(""),[y,p]=N.useState({text:"",type:""}),[F,b]=N.useState(!1);N.useEffect(()=>{S()},[]);const S=async()=>{try{i(!0);const H=await aa.get("https://parishofdivinemercy.com/backend/fetch_activities.php");H.data.success?t(H.data.activities):p({text:"Failed to fetch activities",type:"error"})}catch(H){console.error("Error fetching activities:",H),p({text:"An error occurred while fetching activities",type:"error"})}finally{i(!1)}},f=H=>{d(H),c(!0)},O=async()=>{var H,k;if(!A||!A.activityID){p({text:"Activity data is missing",type:"error"});return}try{b(!0),p({text:"",type:""});const Y={activityID:A.activityID,status:"Approved"},D=await aa.put("https://parishofdivinemercy.com/backend/fetch_activities.php",Y);if(D.data.success){const ge={...A,status:"Approved"};d(ge),t(_=>_.map(X=>X.activityID===ge.activityID?ge:X)),p({text:"Activity approved successfully",type:"success"})}else p({text:D.data.message||"Failed to approve activity",type:"error"})}catch(Y){console.error("Error approving activity:",Y),p({text:((k=(H=Y.response)==null?void 0:H.data)==null?void 0:k.message)||"An error occurred while approving the activity",type:"error"})}finally{b(!1)}},M=H=>{x(H.target.value)},J=H=>{if(!H)return"";try{return new Date(H).toISOString().split("T")[0]}catch(k){return console.error("Error formatting date:",k),H}},K=a.filter(H=>{var T,ie,ae,P,z,B,q,te;const k=h?H.status===h:!0;if(!v.trim())return k;const Y=v.toLowerCase().trim(),D=v.toLowerCase(),ge=((T=H.title)==null?void 0:T.toLowerCase().trim())||"",_=((ie=H.description)==null?void 0:ie.toLowerCase().trim())||"",X=((ae=H.category)==null?void 0:ae.toLowerCase().trim())||"",re=((P=H.organizer)==null?void 0:P.toLowerCase().trim())||"",fe=((z=H.proposedBy)==null?void 0:z.toLowerCase().trim())||"",Ne=((B=H.location)==null?void 0:B.toLowerCase().trim())||"",ue=((q=H.status)==null?void 0:q.toLowerCase().trim())||"",_e=((te=H.startTime)==null?void 0:te.toLowerCase().trim())||"",ce=J(H.startDate),ye=H.created_at?J(H.created_at):"",Q=H.updated_at?J(H.updated_at):"",ne=Y.replace(/\s+/g," "),U=D!==Y;let V;return U&&Y?V=ge.startsWith(ne)||_.startsWith(ne)||X.startsWith(ne)||re.startsWith(ne)||fe.startsWith(ne)||Ne.startsWith(ne)||ue.startsWith(ne)||_e.startsWith(ne)||ce.startsWith(ne)||ye.startsWith(ne)||Q.startsWith(ne):V=ge.includes(ne)||_.includes(ne)||X.includes(ne)||re.includes(ne)||fe.includes(ne)||Ne.includes(ne)||ue.includes(ne)||_e.includes(ne)||ce.includes(ne)||ye.includes(ne)||Q.includes(ne),k&&V});return e.jsxs("div",{className:"event-container-sae",children:[e.jsx("h1",{className:"title-sae",children:"EVENTS & ACTIVITIES"}),y.text&&e.jsx("div",{className:`message ${y.type}`,children:y.text}),e.jsxs("div",{className:"event-actions-sae",children:[e.jsxs("div",{className:"search-bar-sae",children:[e.jsx("input",{type:"text",placeholder:"Search",value:v,onChange:M}),e.jsx(dt,{icon:vs,className:"search-icon-sae"})]}),e.jsx("div",{className:"filter-container-sae",children:e.jsxs("select",{className:"filter-select-sae",value:h,onChange:H=>u(H.target.value),children:[e.jsx("option",{value:"",children:"All Status"}),e.jsx("option",{value:"Approved",children:"Approved"}),e.jsx("option",{value:"Pending",children:"Pending"})]})})]}),e.jsx("div",{className:"event-table-sae-container",children:s?e.jsx("div",{className:"loading-container-sb",children:"Loading activities..."}):e.jsxs("table",{className:"event-table-sae",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"No."}),e.jsx("th",{children:"Title"}),e.jsx("th",{children:"Description"}),e.jsx("th",{children:"Category"}),e.jsx("th",{children:"Start Date"}),e.jsx("th",{children:"Start Time"}),e.jsx("th",{children:"Location"}),e.jsx("th",{children:"Organizer"}),e.jsx("th",{children:"Proposed By"}),e.jsx("th",{children:"Status"}),e.jsx("th",{children:"Action"})]})}),e.jsx("tbody",{children:K.length===0?e.jsx("tr",{children:e.jsxs("td",{colSpan:"11",className:"no-data-sb",children:["No activities found ",v&&"for the current search"]})}):K.map((H,k)=>e.jsxs("tr",{children:[e.jsx("td",{children:k+1}),e.jsx("td",{children:H.title}),e.jsx("td",{children:H.description}),e.jsx("td",{children:H.category}),e.jsx("td",{children:J(H.startDate)}),e.jsx("td",{children:H.startTime}),e.jsx("td",{children:H.location}),e.jsx("td",{children:H.organizer}),e.jsx("td",{children:H.proposedBy}),e.jsx("td",{className:`status-${H.status.toLowerCase()}`,children:H.status}),e.jsx("td",{children:e.jsx("button",{className:"sae-details",onClick:()=>f(H),children:"View"})})]},H.activityID))})]})}),r&&A&&e.jsx("div",{className:"modal-backdrop-sae",children:e.jsxs("div",{className:"modal-content-sae",children:[e.jsx("h2",{children:"Event & Activity Details"}),e.jsx("hr",{className:"custom-hr-sum"}),e.jsxs("div",{className:"view-details-sae",children:[e.jsxs("div",{className:"detail-row-sae",children:[e.jsx("div",{className:"detail-label-sae",children:"Title:"}),e.jsx("div",{className:"detail-value-sae",children:A.title})]}),e.jsxs("div",{className:"detail-row-sae",children:[e.jsx("div",{className:"detail-label-sae",children:"Description:"}),e.jsx("div",{className:"detail-value-sae",children:A.description})]}),e.jsxs("div",{className:"detail-row-sae",children:[e.jsx("div",{className:"detail-label-sae",children:"Category:"}),e.jsx("div",{className:"detail-value-sae",children:A.category})]}),e.jsxs("div",{className:"detail-row-sae",children:[e.jsx("div",{className:"detail-label-sae",children:"Start Date:"}),e.jsx("div",{className:"detail-value-sae",children:J(A.startDate)})]}),e.jsxs("div",{className:"detail-row-sae",children:[e.jsx("div",{className:"detail-label-sae",children:"Start Time:"}),e.jsx("div",{className:"detail-value-sae",children:A.startTime})]}),e.jsxs("div",{className:"detail-row-sae",children:[e.jsx("div",{className:"detail-label-sae",children:"Location:"}),e.jsx("div",{className:"detail-value-sae",children:A.location})]}),e.jsxs("div",{className:"detail-row-sae",children:[e.jsx("div",{className:"detail-label-sae",children:"Organizer:"}),e.jsx("div",{className:"detail-value-sae",children:A.organizer})]}),e.jsxs("div",{className:"detail-row-sae",children:[e.jsx("div",{className:"detail-label-sae",children:"Proposed By:"}),e.jsx("div",{className:"detail-value-sae",children:A.proposedBy})]}),e.jsxs("div",{className:"detail-row-sae",children:[e.jsx("div",{className:"detail-label-sae",children:"Status:"}),e.jsx("div",{className:`detail-value-sae status-${A.status.toLowerCase()}`,children:A.status})]}),e.jsxs("div",{className:"detail-row-sae",children:[e.jsx("div",{className:"detail-label-sae",children:"Created At:"}),e.jsx("div",{className:"detail-value-sae",children:A.created_at?J(A.created_at):""})]}),e.jsxs("div",{className:"detail-row-sae",children:[e.jsx("div",{className:"detail-label-sae",children:"Updated At:"}),e.jsx("div",{className:"detail-value-sae",children:A.updated_at?J(A.updated_at):""})]})]}),e.jsxs("div",{className:"modal-actions-sae",children:[A.status==="Pending"&&e.jsx("button",{onClick:O,className:"approve-btn-sae",disabled:F,children:F?"Approving...":"Approve"}),e.jsx("button",{onClick:()=>c(!1),className:"cancel-btn-sae",children:"Close"})]})]})})]})},GU=()=>{const[a,t]=N.useState(!1),[s,i]=N.useState(!1),[r,c]=N.useState(null),[A,d]=N.useState(""),[h,u]=N.useState(""),[v,x]=N.useState(""),[y,p]=N.useState({totalAmount:0,amountPaid:0}),[F,b]=N.useState([{id:1001,firstName:"Maria",lastName:"Santos",sacramentType:"Baptism",totalAmount:2500,amountPaid:1500,balance:1e3,status:"partial",createdAt:"2025-04-20T08:30:00",receiptNumber:"RCP-2025-0001"},{id:1002,firstName:"Juan",lastName:"Cruz",sacramentType:"Wedding",totalAmount:1e4,amountPaid:1e4,balance:0,status:"paid",createdAt:"2025-04-22T14:45:00",receiptNumber:"RCP-2025-0002"}]),S=F.reduce((re,fe)=>re+fe.amountPaid,0),f=(re=null)=>{re?(i(!0),c(re),p({totalAmount:re.totalAmount,amountPaid:re.amountPaid})):(i(!1),c(null),p({totalAmount:0,amountPaid:0})),t(!a)},O=re=>{const{name:fe,value:Ne}=re.target;p({...y,[fe]:parseFloat(Ne)||0})},M=()=>y.amountPaid>y.totalAmount?(y.amountPaid-y.totalAmount).toFixed(2):"0.00",J=re=>{d(re.target.value)},K=re=>{u(re.target.value)},H=re=>{x(re.target.value)},k=F.filter(re=>{const fe=`${re.firstName} ${re.lastName}`.toLowerCase(),Ne=A===""||fe.includes(A.toLowerCase())||re.receiptNumber.toLowerCase().includes(A.toLowerCase()),ue=h===""||re.sacramentType===h,_e=v===""||re.status===v;return Ne&&ue&&_e}),Y=re=>{re.preventDefault();const fe=new FormData(re.target),Ne=parseFloat(fe.get("totalAmount")),ue=parseFloat(fe.get("amountPaid")),_e=Ne-ue;let ce="unpaid";ue>=Ne?ce="paid":ue>0&&(ce="partial");let ye=fe.get("receiptNumber");if(!s){const U=new Date().getFullYear(),V=F.length+1;ye=`RCP-${U}-${String(V).padStart(4,"0")}`}const Q={id:s?r.id:Date.now(),firstName:fe.get("firstName"),lastName:fe.get("lastName"),sacramentType:fe.get("sacramentType"),totalAmount:Ne,amountPaid:ue,balance:_e,status:ce,createdAt:s?r.createdAt:new Date().toISOString(),receiptNumber:ye};if(s){const ne=F.map(U=>U.id===r.id?Q:U);b(ne)}else b([...F,Q]);f()},D=re=>new Date(re).toLocaleString("en-US",{month:"2-digit",day:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit",hour12:!0}),ge=re=>new Intl.NumberFormat("en-PH",{style:"currency",currency:"PHP"}).format(re),_=re=>{switch(re){case"paid":return"status-paid-spm";case"partial":return"status-partial-spm";case"unpaid":return"status-unpaid-spm";default:return""}},X=()=>{if(!r)return;const re=window.open("","_blank"),fe=`
      <html>
        <head>
          <title>Receipt - ${r.receiptNumber}</title>
          <style>
            body { font-family: Arial, sans-serif; margin: 20px; }
            .receipt { width: 100%; max-width: 500px; margin: 0 auto; padding: 20px; border: 1px solid #ccc; }
            .receipt-header { text-align: center; margin-bottom: 20px; }
            .receipt-title { font-size: 24px; font-weight: bold; }
            .receipt-number { font-size: 18px; margin: 10px 0; }
            .receipt-date { margin-bottom: 20px; }
            .customer-info { margin-bottom: 20px; }
            .payment-details { margin-bottom: 20px; }
            .payment-row { display: flex; justify-content: space-between; margin-bottom: 5px; }
            .total-row { font-weight: bold; border-top: 1px solid #ccc; padding-top: 5px; }
            .footer { text-align: center; margin-top: 40px; font-size: 12px; }
          </style>
        </head>
        <body>
          <div class="receipt">
            <div class="receipt-header">
              <div class="receipt-title">OFFICIAL RECEIPT</div>
              <div class="receipt-number">Receipt No: ${r.receiptNumber}</div>
              <div class="receipt-date">Date: ${D(r.createdAt)}</div>
            </div>
            
            <div class="customer-info">
              <div><strong>Name:</strong> ${r.firstName} ${r.lastName}</div>
              <div><strong>Service:</strong> ${r.sacramentType}</div>
            </div>
            
            <div class="payment-details">
              <div class="payment-row">
                <div>Total Amount:</div>
                <div>${ge(r.totalAmount)}</div>
              </div>
              <div class="payment-row">
                <div>Amount Paid:</div>
                <div>${ge(r.amountPaid)}</div>
              </div>
              <div class="payment-row">
                <div>Balance:</div>
                <div>${ge(r.balance)}</div>
              </div>
              <div class="payment-row total-row">
                <div>Status:</div>
                <div>${r.status.charAt(0).toUpperCase()+r.status.slice(1)}</div>
              </div>
            </div>
            
            <div class="footer">
              <p>Thank you for your payment!</p>
            </div>
          </div>
        </body>
      </html>
    `;re.document.open(),re.document.write(fe),re.document.close(),re.onload=function(){re.print()}};return e.jsxs("div",{className:"payment-container-spm",children:[e.jsxs("div",{className:"title-container-spm",children:[e.jsx("h1",{className:"title-spm",children:"PAYMENT MANAGEMENT"}),e.jsxs("div",{className:"total-income-container-spm",children:[e.jsx("span",{className:"total-income-label-spm",children:"Total Income:"}),e.jsx("span",{className:"total-income-value-spm",children:ge(S)})]})]}),e.jsxs("div",{className:"payment-actions-spm",children:[e.jsxs("div",{className:"search-bar-spm",children:[e.jsx("input",{type:"text",placeholder:"Search by name or receipt number",value:A,onChange:J}),e.jsx(dt,{icon:vs,className:"search-icon-spm"})]}),e.jsxs("div",{className:"filter-add-container-spm",children:[e.jsxs("select",{className:"filter-select-spm",value:h,onChange:K,children:[e.jsx("option",{value:"",children:"All Sacraments"}),e.jsx("option",{value:"Baptism",children:"Baptism"}),e.jsx("option",{value:"First Communion",children:"First Communion"}),e.jsx("option",{value:"Confirmation",children:"Confirmation"}),e.jsx("option",{value:"Wedding",children:"Wedding"}),e.jsx("option",{value:"Funeral",children:"Funeral"}),e.jsx("option",{value:"Mass Intention",children:"Mass Intention"})]}),e.jsxs("select",{className:"filter-select-spm",value:v,onChange:H,children:[e.jsx("option",{value:"",children:"All Status"}),e.jsx("option",{value:"paid",children:"Paid"}),e.jsx("option",{value:"partial",children:"Partial"}),e.jsx("option",{value:"unpaid",children:"Unpaid"})]}),e.jsxs("button",{className:"add-btn-spm",onClick:()=>f(),children:[e.jsx(dt,{icon:yA})," ADD"]})]})]}),e.jsxs("table",{className:"payment-table-spm",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Receipt #"}),e.jsx("th",{children:"Name"}),e.jsx("th",{children:"Sacrament"}),e.jsx("th",{children:"Total Amount"}),e.jsx("th",{children:"Amount Paid"}),e.jsx("th",{children:"Balance"}),e.jsx("th",{children:"Status"}),e.jsx("th",{children:"Created At"}),e.jsx("th",{children:"Action"})]})}),e.jsx("tbody",{children:k.length>0?k.map(re=>e.jsxs("tr",{children:[e.jsx("td",{children:re.receiptNumber}),e.jsx("td",{children:`${re.firstName} ${re.lastName}`}),e.jsx("td",{children:re.sacramentType}),e.jsx("td",{children:ge(re.totalAmount)}),e.jsx("td",{children:ge(re.amountPaid)}),e.jsx("td",{children:ge(re.balance)}),e.jsx("td",{children:e.jsx("span",{className:`status-badge-spm ${_(re.status)}`,children:re.status.charAt(0).toUpperCase()+re.status.slice(1)})}),e.jsx("td",{children:D(re.createdAt)}),e.jsx("td",{children:e.jsx("button",{className:"spm-details",onClick:()=>f(re),children:"Edit"})})]},re.id)):e.jsx("tr",{children:e.jsx("td",{colSpan:"9",className:"no-results-spm",children:"No payments found"})})})]}),a&&e.jsx("div",{className:"payment-modal-overlay-spm",children:e.jsxs("div",{className:"payment-modal-spm",children:[e.jsxs("div",{className:"payment-modal-header-spm",children:[e.jsx("h2",{children:s?"Edit Payment":"Add New Payment"}),e.jsx("button",{className:"close-modal-btn-spm",onClick:()=>f(),children:e.jsx(dt,{icon:vo})})]}),e.jsx("div",{children:e.jsx("hr",{className:"custom-hr-spm"})}),e.jsxs("form",{onSubmit:Y,className:"payment-form-spm",children:[s&&e.jsxs("div",{className:"form-row-spm",children:[e.jsxs("div",{className:"form-group-spm",children:[e.jsx("label",{children:"Receipt Number"}),e.jsx("input",{type:"text",name:"receiptNumber",defaultValue:(r==null?void 0:r.receiptNumber)||"",readOnly:!0})]}),e.jsxs("div",{className:"form-group-spm",children:[e.jsx("label",{children:"Created At"}),e.jsx("input",{type:"text",defaultValue:r?D(r.createdAt):"",readOnly:!0})]})]}),e.jsxs("div",{className:"form-row-spm",children:[e.jsxs("div",{className:"form-group-spm",children:[e.jsx("label",{children:"First Name"}),e.jsx("input",{type:"text",name:"firstName",required:!0,defaultValue:(r==null?void 0:r.firstName)||""})]}),e.jsxs("div",{className:"form-group-spm",children:[e.jsx("label",{children:"Last Name"}),e.jsx("input",{type:"text",name:"lastName",required:!0,defaultValue:(r==null?void 0:r.lastName)||""})]})]}),e.jsx("div",{className:"form-row-spm",children:e.jsxs("div",{className:"form-group-spm",children:[e.jsx("label",{children:"Sacrament Type"}),e.jsxs("select",{name:"sacramentType",required:!0,defaultValue:(r==null?void 0:r.sacramentType)||"",children:[e.jsx("option",{value:"",children:"Select Sacrament"}),e.jsx("option",{value:"Baptism",children:"Baptism"}),e.jsx("option",{value:"First Communion",children:"First Communion"}),e.jsx("option",{value:"Confirmation",children:"Confirmation"}),e.jsx("option",{value:"Wedding",children:"Wedding"}),e.jsx("option",{value:"Funeral",children:"Funeral"}),e.jsx("option",{value:"Mass Intention",children:"Mass Intention"})]})]})}),e.jsxs("div",{className:"form-row-spm",children:[e.jsxs("div",{className:"form-group-spm",children:[e.jsx("label",{children:"Total Amount ()"}),e.jsx("input",{type:"number",name:"totalAmount",required:!0,step:"0.01",min:"0",defaultValue:(r==null?void 0:r.totalAmount)||"",onChange:O})]}),e.jsxs("div",{className:"form-group-spm",children:[e.jsx("label",{children:"Amount Paid ()"}),e.jsx("input",{type:"number",name:"amountPaid",required:!0,step:"0.01",min:"0",defaultValue:(r==null?void 0:r.amountPaid)||"",onChange:O})]}),s&&e.jsxs("div",{className:"form-group-spm",children:[e.jsx("label",{children:"Balance ()"}),e.jsx("input",{type:"number",defaultValue:(r==null?void 0:r.balance)||"",readOnly:!0})]})]}),s&&e.jsx("div",{className:"form-row-spm",children:e.jsxs("div",{className:"form-group-spm",children:[e.jsx("label",{children:"Status"}),e.jsx("input",{type:"text",defaultValue:(r==null?void 0:r.status.charAt(0).toUpperCase())+(r==null?void 0:r.status.slice(1))||"",readOnly:!0})]})}),e.jsx("div",{className:"form-row-spm",children:e.jsxs("div",{className:"form-group-spm",children:[e.jsx("label",{children:"Change Amount ()"}),e.jsx("input",{type:"number",name:"changeAmount",step:"0.01",min:"0",readOnly:!0,value:M()})]})}),e.jsxs("div",{className:"form-actions-spm",children:[e.jsx("button",{type:"submit",className:"submit-btn-spm",children:s?"Update":"Save"}),e.jsx("button",{type:"button",className:"cancel-btn-spm",onClick:()=>f(),children:"Cancel"}),s&&e.jsxs("button",{type:"button",className:"print-btn-spm",onClick:X,children:[e.jsx(dt,{icon:A4})," Print Receipt"]})]})]})]})})]})};function U2(a,t,s,i,r){i=i||{};var c=1.15,A=r.internal.scaleFactor,d=r.internal.getFontSize()/A,h=r.getLineHeightFactor?r.getLineHeightFactor():c,u=d*h,v=/\r\n|\r|\n/g,x="",y=1;if((i.valign==="middle"||i.valign==="bottom"||i.halign==="center"||i.halign==="right")&&(x=typeof a=="string"?a.split(v):a,y=x.length||1),s+=d*(2-c),i.valign==="middle"?s-=y/2*u:i.valign==="bottom"&&(s-=y*u),i.halign==="center"||i.halign==="right"){var p=d;if(i.halign==="center"&&(p*=.5),x&&y>=1){for(var F=0;F<x.length;F++)r.text(x[F],t-r.getStringUnitWidth(x[F])*p,s),s+=u;return r}t-=r.getStringUnitWidth(a)*p}return i.halign==="justify"?r.text(a,t,s,{maxWidth:i.maxWidth||100,align:"justify"}):r.text(a,t,s),r}var Cj={},Dd=function(){function a(t){this.jsPDFDocument=t,this.userStyles={textColor:t.getTextColor?this.jsPDFDocument.getTextColor():0,fontSize:t.internal.getFontSize(),fontStyle:t.internal.getFont().fontStyle,font:t.internal.getFont().fontName,lineWidth:t.getLineWidth?this.jsPDFDocument.getLineWidth():0,lineColor:t.getDrawColor?this.jsPDFDocument.getDrawColor():0}}return a.setDefaults=function(t,s){s===void 0&&(s=null),s?s.__autoTableDocumentDefaults=t:Cj=t},a.unifyColor=function(t){return Array.isArray(t)?t:typeof t=="number"?[t,t,t]:typeof t=="string"?[t]:null},a.prototype.applyStyles=function(t,s){var i,r,c;s===void 0&&(s=!1),t.fontStyle&&this.jsPDFDocument.setFontStyle&&this.jsPDFDocument.setFontStyle(t.fontStyle);var A=this.jsPDFDocument.internal.getFont(),d=A.fontStyle,h=A.fontName;if(t.font&&(h=t.font),t.fontStyle){d=t.fontStyle;var u=this.getFontList()[h];u&&u.indexOf(d)===-1&&this.jsPDFDocument.setFontStyle&&(this.jsPDFDocument.setFontStyle(u[0]),d=u[0])}if(this.jsPDFDocument.setFont(h,d),t.fontSize&&this.jsPDFDocument.setFontSize(t.fontSize),!s){var v=a.unifyColor(t.fillColor);v&&(i=this.jsPDFDocument).setFillColor.apply(i,v),v=a.unifyColor(t.textColor),v&&(r=this.jsPDFDocument).setTextColor.apply(r,v),v=a.unifyColor(t.lineColor),v&&(c=this.jsPDFDocument).setDrawColor.apply(c,v),typeof t.lineWidth=="number"&&this.jsPDFDocument.setLineWidth(t.lineWidth)}},a.prototype.splitTextToSize=function(t,s,i){return this.jsPDFDocument.splitTextToSize(t,s,i)},a.prototype.rect=function(t,s,i,r,c){return this.jsPDFDocument.rect(t,s,i,r,c)},a.prototype.getLastAutoTable=function(){return this.jsPDFDocument.lastAutoTable||null},a.prototype.getTextWidth=function(t){return this.jsPDFDocument.getTextWidth(t)},a.prototype.getDocument=function(){return this.jsPDFDocument},a.prototype.setPage=function(t){this.jsPDFDocument.setPage(t)},a.prototype.addPage=function(){return this.jsPDFDocument.addPage()},a.prototype.getFontList=function(){return this.jsPDFDocument.getFontList()},a.prototype.getGlobalOptions=function(){return Cj||{}},a.prototype.getDocumentOptions=function(){return this.jsPDFDocument.__autoTableDocumentDefaults||{}},a.prototype.pageSize=function(){var t=this.jsPDFDocument.internal.pageSize;return t.width==null&&(t={width:t.getWidth(),height:t.getHeight()}),t},a.prototype.scaleFactor=function(){return this.jsPDFDocument.internal.scaleFactor},a.prototype.getLineHeightFactor=function(){var t=this.jsPDFDocument;return t.getLineHeightFactor?t.getLineHeightFactor():1.15},a.prototype.getLineHeight=function(t){return t/this.scaleFactor()*this.getLineHeightFactor()},a.prototype.pageNumber=function(){var t=this.jsPDFDocument.internal.getCurrentPageInfo();return t?t.pageNumber:this.jsPDFDocument.internal.getNumberOfPages()},a}(),Dx=function(a,t){return Dx=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,i){s.__proto__=i}||function(s,i){for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(s[r]=i[r])},Dx(a,t)};function O2(a,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");Dx(a,t);function s(){this.constructor=a}a.prototype=t===null?Object.create(t):(s.prototype=t.prototype,new s)}var k2=function(a){O2(t,a);function t(s){var i=a.call(this)||this;return i._element=s,i}return t}(Array);function WU(a){return{font:"helvetica",fontStyle:"normal",overflow:"linebreak",fillColor:!1,textColor:20,halign:"left",valign:"top",fontSize:10,cellPadding:5/a,lineColor:200,lineWidth:0,cellWidth:"auto",minCellHeight:0,minCellWidth:0}}function YU(a){var t={striped:{table:{fillColor:255,textColor:80,fontStyle:"normal"},head:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},body:{},foot:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},alternateRow:{fillColor:245}},grid:{table:{fillColor:255,textColor:80,fontStyle:"normal",lineWidth:.1},head:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},body:{},foot:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},alternateRow:{}},plain:{head:{fontStyle:"bold"},foot:{fontStyle:"bold"}}};return t[a]}function Ff(a,t,s){s.applyStyles(t,!0);var i=Array.isArray(a)?a:[a],r=i.map(function(c){return s.getTextWidth(c)}).reduce(function(c,A){return Math.max(c,A)},0);return r}function I2(a,t,s,i){var r=t.settings.tableLineWidth,c=t.settings.tableLineColor;a.applyStyles({lineWidth:r,lineColor:c});var A=Q2(r,!1);A&&a.rect(s.x,s.y,t.getWidth(a.pageSize().width),i.y-s.y,A)}function Q2(a,t){var s=a>0,i=t||t===0;return s&&i?"DF":s?"S":i?"F":null}function cp(a,t){var s,i,r,c;if(a=a||t,Array.isArray(a)){if(a.length>=4)return{top:a[0],right:a[1],bottom:a[2],left:a[3]};if(a.length===3)return{top:a[0],right:a[1],bottom:a[2],left:a[1]};if(a.length===2)return{top:a[0],right:a[1],bottom:a[0],left:a[1]};a.length===1?a=a[0]:a=t}return typeof a=="object"?(typeof a.vertical=="number"&&(a.top=a.vertical,a.bottom=a.vertical),typeof a.horizontal=="number"&&(a.right=a.horizontal,a.left=a.horizontal),{left:(s=a.left)!==null&&s!==void 0?s:t,top:(i=a.top)!==null&&i!==void 0?i:t,right:(r=a.right)!==null&&r!==void 0?r:t,bottom:(c=a.bottom)!==null&&c!==void 0?c:t}):(typeof a!="number"&&(a=t),{top:a,right:a,bottom:a,left:a})}function T2(a,t){var s=cp(t.settings.margin,0);return a.pageSize().width-(s.left+s.right)}function XU(a,t,s,i,r){var c={},A=1.3333333333333333,d=pv(t,function(M){return r.getComputedStyle(M).backgroundColor});d!=null&&(c.fillColor=d);var h=pv(t,function(M){return r.getComputedStyle(M).color});h!=null&&(c.textColor=h);var u=ZU(i,s);u&&(c.cellPadding=u);var v="borderTopColor",x=A*s,y=i.borderTopWidth;if(i.borderBottomWidth===y&&i.borderRightWidth===y&&i.borderLeftWidth===y){var p=(parseFloat(y)||0)/x;p&&(c.lineWidth=p)}else c.lineWidth={top:(parseFloat(i.borderTopWidth)||0)/x,right:(parseFloat(i.borderRightWidth)||0)/x,bottom:(parseFloat(i.borderBottomWidth)||0)/x,left:(parseFloat(i.borderLeftWidth)||0)/x},c.lineWidth.top||(c.lineWidth.right?v="borderRightColor":c.lineWidth.bottom?v="borderBottomColor":c.lineWidth.left&&(v="borderLeftColor"));var F=pv(t,function(M){return r.getComputedStyle(M)[v]});F!=null&&(c.lineColor=F);var b=["left","right","center","justify"];b.indexOf(i.textAlign)!==-1&&(c.halign=i.textAlign),b=["middle","bottom","top"],b.indexOf(i.verticalAlign)!==-1&&(c.valign=i.verticalAlign);var S=parseInt(i.fontSize||"");isNaN(S)||(c.fontSize=S/A);var f=JU(i);f&&(c.fontStyle=f);var O=(i.fontFamily||"").toLowerCase();return a.indexOf(O)!==-1&&(c.font=O),c}function JU(a){var t="";return(a.fontWeight==="bold"||a.fontWeight==="bolder"||parseInt(a.fontWeight)>=700)&&(t="bold"),(a.fontStyle==="italic"||a.fontStyle==="oblique")&&(t+="italic"),t}function pv(a,t){var s=R2(a,t);if(!s)return null;var i=s.match(/^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d*\.?\d*))?\)$/);if(!i||!Array.isArray(i))return null;var r=[parseInt(i[1]),parseInt(i[2]),parseInt(i[3])],c=parseInt(i[4]);return c===0||isNaN(r[0])||isNaN(r[1])||isNaN(r[2])?null:r}function R2(a,t){var s=t(a);return s==="rgba(0, 0, 0, 0)"||s==="transparent"||s==="initial"||s==="inherit"?a.parentElement==null?null:R2(a.parentElement,t):s}function ZU(a,t){var s=[a.paddingTop,a.paddingRight,a.paddingBottom,a.paddingLeft],i=96/(72/t),r=(parseInt(a.lineHeight)-parseInt(a.fontSize))/t/2,c=s.map(function(d){return parseInt(d||"0")/i}),A=cp(c,0);return r>A.top&&(A.top=r),r>A.bottom&&(A.bottom=r),A}function P2(a,t,s,i,r){var c,A;i===void 0&&(i=!1),r===void 0&&(r=!1);var d;typeof t=="string"?d=s.document.querySelector(t):d=t;var h=Object.keys(a.getFontList()),u=a.scaleFactor(),v=[],x=[],y=[];if(!d)return console.error("Html table could not be found with input: ",t),{head:v,body:x,foot:y};for(var p=0;p<d.rows.length;p++){var F=d.rows[p],b=(A=(c=F==null?void 0:F.parentElement)===null||c===void 0?void 0:c.tagName)===null||A===void 0?void 0:A.toLowerCase(),S=eO(h,u,s,F,i,r);S&&(b==="thead"?v.push(S):b==="tfoot"?y.push(S):x.push(S))}return{head:v,body:x,foot:y}}function eO(a,t,s,i,r,c){for(var A=new k2(i),d=0;d<i.cells.length;d++){var h=i.cells[d],u=s.getComputedStyle(h);if(r||u.display!=="none"){var v=void 0;c&&(v=XU(a,h,t,u,s)),A.push({rowSpan:h.rowSpan,colSpan:h.colSpan,styles:v,_element:h,content:tO(h)})}}var x=s.getComputedStyle(i);if(A.length>0&&(r||x.display!=="none"))return A}function tO(a){var t=a.cloneNode(!0);return t.innerHTML=t.innerHTML.replace(/\n/g,"").replace(/ +/g," "),t.innerHTML=t.innerHTML.split(/<br.*?>/).map(function(s){return s.trim()}).join(`
`),t.innerText||t.textContent||""}function aO(a,t,s){for(var i=0,r=[a,t,s];i<r.length;i++){var c=r[i];c&&typeof c!="object"&&console.error("The options parameter should be of type object, is: "+typeof c),c.startY&&typeof c.startY!="number"&&(console.error("Invalid value for startY option",c.startY),delete c.startY)}}function zl(a,t,s,i,r){if(a==null)throw new TypeError("Cannot convert undefined or null to object");for(var c=Object(a),A=1;A<arguments.length;A++){var d=arguments[A];if(d!=null)for(var h in d)Object.prototype.hasOwnProperty.call(d,h)&&(c[h]=d[h])}return c}function iO(a,t){var s=new Dd(a),i=s.getDocumentOptions(),r=s.getGlobalOptions();aO(r,i,t);var c=zl({},r,i,t),A;typeof window<"u"&&(A=window);var d=sO(r,i,t),h=nO(r,i,t),u=rO(s,c),v=cO(s,c,A);return{id:t.tableId,content:v,hooks:h,styles:d,settings:u}}function sO(a,t,s){for(var i={styles:{},headStyles:{},bodyStyles:{},footStyles:{},alternateRowStyles:{},columnStyles:{}},r=function(h){if(h==="columnStyles"){var u=a[h],v=t[h],x=s[h];i.columnStyles=zl({},u,v,x)}else{var y=[a,t,s],p=y.map(function(F){return F[h]||{}});i[h]=zl({},p[0],p[1],p[2])}},c=0,A=Object.keys(i);c<A.length;c++){var d=A[c];r(d)}return i}function nO(a,t,s){for(var i=[a,t,s],r={didParseCell:[],willDrawCell:[],didDrawCell:[],willDrawPage:[],didDrawPage:[]},c=0,A=i;c<A.length;c++){var d=A[c];d.didParseCell&&r.didParseCell.push(d.didParseCell),d.willDrawCell&&r.willDrawCell.push(d.willDrawCell),d.didDrawCell&&r.didDrawCell.push(d.didDrawCell),d.willDrawPage&&r.willDrawPage.push(d.willDrawPage),d.didDrawPage&&r.didDrawPage.push(d.didDrawPage)}return r}function rO(a,t){var s,i,r,c,A,d,h,u,v,x,y,p,F=cp(t.margin,40/a.scaleFactor()),b=(s=lO(a,t.startY))!==null&&s!==void 0?s:F.top,S;t.showFoot===!0?S="everyPage":t.showFoot===!1?S="never":S=(i=t.showFoot)!==null&&i!==void 0?i:"everyPage";var f;t.showHead===!0?f="everyPage":t.showHead===!1?f="never":f=(r=t.showHead)!==null&&r!==void 0?r:"everyPage";var O=(c=t.useCss)!==null&&c!==void 0?c:!1,M=t.theme||(O?"plain":"striped"),J=!!t.horizontalPageBreak,K=(A=t.horizontalPageBreakRepeat)!==null&&A!==void 0?A:null;return{includeHiddenHtml:(d=t.includeHiddenHtml)!==null&&d!==void 0?d:!1,useCss:O,theme:M,startY:b,margin:F,pageBreak:(h=t.pageBreak)!==null&&h!==void 0?h:"auto",rowPageBreak:(u=t.rowPageBreak)!==null&&u!==void 0?u:"auto",tableWidth:(v=t.tableWidth)!==null&&v!==void 0?v:"auto",showHead:f,showFoot:S,tableLineWidth:(x=t.tableLineWidth)!==null&&x!==void 0?x:0,tableLineColor:(y=t.tableLineColor)!==null&&y!==void 0?y:200,horizontalPageBreak:J,horizontalPageBreakRepeat:K,horizontalPageBreakBehaviour:(p=t.horizontalPageBreakBehaviour)!==null&&p!==void 0?p:"afterAllRows"}}function lO(a,t){var s=a.getLastAutoTable(),i=a.scaleFactor(),r=a.pageNumber(),c=!1;if(s&&s.startPageNumber){var A=s.startPageNumber+s.pageNumber-1;c=A===r}return typeof t=="number"?t:(t==null||t===!1)&&c&&(s==null?void 0:s.finalY)!=null?s.finalY+20/i:null}function cO(a,t,s){var i=t.head||[],r=t.body||[],c=t.foot||[];if(t.html){var A=t.includeHiddenHtml;if(s){var d=P2(a,t.html,s,A,t.useCss)||{};i=d.head||i,r=d.body||i,c=d.foot||i}else console.error("Cannot parse html in non browser environment")}var h=t.columns||oO(i,r,c);return{columns:h,head:i,body:r,foot:c}}function oO(a,t,s){var i=a[0]||t[0]||s[0]||[],r=[];return Object.keys(i).filter(function(c){return c!=="_element"}).forEach(function(c){var A=1,d;Array.isArray(i)?d=i[parseInt(c)]:d=i[c],typeof d=="object"&&!Array.isArray(d)&&(A=(d==null?void 0:d.colSpan)||1);for(var h=0;h<A;h++){var u=void 0;Array.isArray(i)?u=r.length:u=c+(h>0?"_".concat(h):"");var v={dataKey:u};r.push(v)}}),r}var Ex=function(){function a(t,s,i){this.table=s,this.pageNumber=s.pageNumber,this.settings=s.settings,this.cursor=i,this.doc=t.getDocument()}return a}(),AO=function(a){O2(t,a);function t(s,i,r,c,A,d){var h=a.call(this,s,i,d)||this;return h.cell=r,h.row=c,h.column=A,h.section=c.section,h}return t}(Ex),dO=function(){function a(t,s){this.pageNumber=1,this.id=t.id,this.settings=t.settings,this.styles=t.styles,this.hooks=t.hooks,this.columns=s.columns,this.head=s.head,this.body=s.body,this.foot=s.foot}return a.prototype.getHeadHeight=function(t){return this.head.reduce(function(s,i){return s+i.getMaxCellHeight(t)},0)},a.prototype.getFootHeight=function(t){return this.foot.reduce(function(s,i){return s+i.getMaxCellHeight(t)},0)},a.prototype.allRows=function(){return this.head.concat(this.body).concat(this.foot)},a.prototype.callCellHooks=function(t,s,i,r,c,A){for(var d=0,h=s;d<h.length;d++){var u=h[d],v=new AO(t,this,i,r,c,A),x=u(v)===!1;if(i.text=Array.isArray(i.text)?i.text:[i.text],x)return!1}return!0},a.prototype.callEndPageHooks=function(t,s){t.applyStyles(t.userStyles);for(var i=0,r=this.hooks.didDrawPage;i<r.length;i++){var c=r[i];c(new Ex(t,this,s))}},a.prototype.callWillDrawPageHooks=function(t,s){for(var i=0,r=this.hooks.willDrawPage;i<r.length;i++){var c=r[i];c(new Ex(t,this,s))}},a.prototype.getWidth=function(t){if(typeof this.settings.tableWidth=="number")return this.settings.tableWidth;if(this.settings.tableWidth==="wrap"){var s=this.columns.reduce(function(r,c){return r+c.wrappedWidth},0);return s}else{var i=this.settings.margin;return t-i.left-i.right}},a}(),H2=function(){function a(t,s,i,r,c){c===void 0&&(c=!1),this.height=0,this.raw=t,t instanceof k2&&(this.raw=t._element,this.element=t._element),this.index=s,this.section=i,this.cells=r,this.spansMultiplePages=c}return a.prototype.getMaxCellHeight=function(t){var s=this;return t.reduce(function(i,r){var c;return Math.max(i,((c=s.cells[r.index])===null||c===void 0?void 0:c.height)||0)},0)},a.prototype.hasRowSpan=function(t){var s=this;return t.filter(function(i){var r=s.cells[i.index];return r?r.rowSpan>1:!1}).length>0},a.prototype.canEntireRowFit=function(t,s){return this.getMaxCellHeight(s)<=t},a.prototype.getMinimumRowHeight=function(t,s){var i=this;return t.reduce(function(r,c){var A=i.cells[c.index];if(!A)return 0;var d=s.getLineHeight(A.styles.fontSize),h=A.padding("vertical"),u=h+d;return u>r?u:r},0)},a}(),q2=function(){function a(t,s,i){var r;this.contentHeight=0,this.contentWidth=0,this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.height=0,this.x=0,this.y=0,this.styles=s,this.section=i,this.raw=t;var c=t;t!=null&&typeof t=="object"&&!Array.isArray(t)?(this.rowSpan=t.rowSpan||1,this.colSpan=t.colSpan||1,c=(r=t.content)!==null&&r!==void 0?r:t,t._element&&(this.raw=t._element)):(this.rowSpan=1,this.colSpan=1);var A=c!=null?""+c:"",d=/\r\n|\r|\n/g;this.text=A.split(d)}return a.prototype.getTextPos=function(){var t;if(this.styles.valign==="top")t=this.y+this.padding("top");else if(this.styles.valign==="bottom")t=this.y+this.height-this.padding("bottom");else{var s=this.height-this.padding("vertical");t=this.y+s/2+this.padding("top")}var i;if(this.styles.halign==="right")i=this.x+this.width-this.padding("right");else if(this.styles.halign==="center"){var r=this.width-this.padding("horizontal");i=this.x+r/2+this.padding("left")}else i=this.x+this.padding("left");return{x:i,y:t}},a.prototype.getContentHeight=function(t,s){s===void 0&&(s=1.15);var i=Array.isArray(this.text)?this.text.length:1,r=this.styles.fontSize/t*s,c=i*r+this.padding("vertical");return Math.max(c,this.styles.minCellHeight)},a.prototype.padding=function(t){var s=cp(this.styles.cellPadding,0);return t==="vertical"?s.top+s.bottom:t==="horizontal"?s.left+s.right:s[t]},a}(),uO=function(){function a(t,s,i){this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.dataKey=t,this.raw=s,this.index=i}return a.prototype.getMaxCustomCellWidth=function(t){for(var s=0,i=0,r=t.allRows();i<r.length;i++){var c=r[i],A=c.cells[this.index];A&&typeof A.styles.cellWidth=="number"&&(s=Math.max(s,A.styles.cellWidth))}return s},a}();function hO(a,t){mO(a,t);var s=[],i=0;t.columns.forEach(function(c){var A=c.getMaxCustomCellWidth(t);A?c.width=A:(c.width=c.wrappedWidth,s.push(c)),i+=c.width});var r=t.getWidth(a.pageSize().width)-i;r&&(r=Lx(s,r,function(c){return Math.max(c.minReadableWidth,c.minWidth)})),r&&(r=Lx(s,r,function(c){return c.minWidth})),r=Math.abs(r),!t.settings.horizontalPageBreak&&r>.1/a.scaleFactor()&&(r=r<1?r:Math.round(r),console.warn("Of the table content, ".concat(r," units width could not fit page"))),pO(t),gO(t,a),fO(t)}function mO(a,t){var s=a.scaleFactor(),i=t.settings.horizontalPageBreak,r=T2(a,t);t.allRows().forEach(function(c){for(var A=0,d=t.columns;A<d.length;A++){var h=d[A],u=c.cells[h.index];if(u){var v=t.hooks.didParseCell;t.callCellHooks(a,v,u,c,h,null);var x=u.padding("horizontal");u.contentWidth=Ff(u.text,u.styles,a)+x;var y=Ff(u.text.join(" ").split(/[^\S\u00A0]+/),u.styles,a);if(u.minReadableWidth=y+u.padding("horizontal"),typeof u.styles.cellWidth=="number")u.minWidth=u.styles.cellWidth,u.wrappedWidth=u.styles.cellWidth;else if(u.styles.cellWidth==="wrap"||i===!0)u.contentWidth>r?(u.minWidth=r,u.wrappedWidth=r):(u.minWidth=u.contentWidth,u.wrappedWidth=u.contentWidth);else{var p=10/s;u.minWidth=u.styles.minCellWidth||p,u.wrappedWidth=u.contentWidth,u.minWidth>u.wrappedWidth&&(u.wrappedWidth=u.minWidth)}}}}),t.allRows().forEach(function(c){for(var A=0,d=t.columns;A<d.length;A++){var h=d[A],u=c.cells[h.index];if(u&&u.colSpan===1)h.wrappedWidth=Math.max(h.wrappedWidth,u.wrappedWidth),h.minWidth=Math.max(h.minWidth,u.minWidth),h.minReadableWidth=Math.max(h.minReadableWidth,u.minReadableWidth);else{var v=t.styles.columnStyles[h.dataKey]||t.styles.columnStyles[h.index]||{},x=v.cellWidth||v.minCellWidth;x&&typeof x=="number"&&(h.minWidth=x,h.wrappedWidth=x)}u&&(u.colSpan>1&&!h.minWidth&&(h.minWidth=u.minWidth),u.colSpan>1&&!h.wrappedWidth&&(h.wrappedWidth=u.minWidth))}})}function Lx(a,t,s){for(var i=t,r=a.reduce(function(p,F){return p+F.wrappedWidth},0),c=0;c<a.length;c++){var A=a[c],d=A.wrappedWidth/r,h=i*d,u=A.width+h,v=s(A),x=u<v?v:u;t-=x-A.width,A.width=x}if(t=Math.round(t*1e10)/1e10,t){var y=a.filter(function(p){return t<0?p.width>s(p):!0});y.length&&(t=Lx(y,t,s))}return t}function fO(a){for(var t={},s=1,i=a.allRows(),r=0;r<i.length;r++)for(var c=i[r],A=0,d=a.columns;A<d.length;A++){var h=d[A],u=t[h.index];if(s>1)s--,delete c.cells[h.index];else if(u)u.cell.height+=c.height,s=u.cell.colSpan,delete c.cells[h.index],u.left--,u.left<=1&&delete t[h.index];else{var v=c.cells[h.index];if(!v)continue;if(v.height=c.height,v.rowSpan>1){var x=i.length-r,y=v.rowSpan>x?x:v.rowSpan;t[h.index]={cell:v,left:y,row:c}}}}}function pO(a){for(var t=a.allRows(),s=0;s<t.length;s++)for(var i=t[s],r=null,c=0,A=0,d=0;d<a.columns.length;d++){var h=a.columns[d];if(A-=1,A>1&&a.columns[d+1])c+=h.width,delete i.cells[h.index];else if(r){var u=r;delete i.cells[h.index],r=null,u.width=h.width+c}else{var u=i.cells[h.index];if(!u)continue;if(A=u.colSpan,c=0,u.colSpan>1){r=u,c+=h.width;continue}u.width=h.width+c}}}function gO(a,t){for(var s={count:0,height:0},i=0,r=a.allRows();i<r.length;i++){for(var c=r[i],A=0,d=a.columns;A<d.length;A++){var h=d[A],u=c.cells[h.index];if(u){t.applyStyles(u.styles,!0);var v=u.width-u.padding("horizontal");if(u.styles.overflow==="linebreak")u.text=t.splitTextToSize(u.text,v+1/t.scaleFactor(),{fontSize:u.styles.fontSize});else if(u.styles.overflow==="ellipsize")u.text=Sj(u.text,v,u.styles,t,"...");else if(u.styles.overflow==="hidden")u.text=Sj(u.text,v,u.styles,t,"");else if(typeof u.styles.overflow=="function"){var x=u.styles.overflow(u.text,v);typeof x=="string"?u.text=[x]:u.text=x}u.contentHeight=u.getContentHeight(t.scaleFactor(),t.getLineHeightFactor());var y=u.contentHeight/u.rowSpan;u.rowSpan>1&&s.count*s.height<y*u.rowSpan?s={height:y,count:u.rowSpan}:s&&s.count>0&&s.height>y&&(y=s.height),y>c.height&&(c.height=y)}}s.count--}}function Sj(a,t,s,i,r){return a.map(function(c){return vO(c,t,s,i,r)})}function vO(a,t,s,i,r){var c=1e4*i.scaleFactor();if(t=Math.ceil(t*c)/c,t>=Ff(a,s,i))return a;for(;t<Ff(a+r,s,i)&&!(a.length<=1);)a=a.substring(0,a.length-1);return a.trim()+r}function xO(a,t){var s=new Dd(a),i=yO(t,s.scaleFactor()),r=new dO(t,i);return hO(s,r),s.applyStyles(s.userStyles),r}function yO(a,t){var s=a.content,i=wO(s.columns);if(s.head.length===0){var r=_j(i,"head");r&&s.head.push(r)}if(s.foot.length===0){var r=_j(i,"foot");r&&s.foot.push(r)}var c=a.settings.theme,A=a.styles;return{columns:i,head:gv("head",s.head,i,A,c,t),body:gv("body",s.body,i,A,c,t),foot:gv("foot",s.foot,i,A,c,t)}}function gv(a,t,s,i,r,c){var A={},d=t.map(function(h,u){for(var v=0,x={},y=0,p=0,F=0,b=s;F<b.length;F++){var S=b[F];if(A[S.index]==null||A[S.index].left===0)if(p===0){var f=void 0;Array.isArray(h)?f=h[S.index-y-v]:f=h[S.dataKey];var O={};typeof f=="object"&&!Array.isArray(f)&&(O=(f==null?void 0:f.styles)||{});var M=NO(a,S,u,r,i,c,O),J=new q2(f,M,a);x[S.dataKey]=J,x[S.index]=J,p=J.colSpan-1,A[S.index]={left:J.rowSpan-1,times:p}}else p--,y++;else A[S.index].left--,p=A[S.index].times,v++}return new H2(h,u,a,x)});return d}function _j(a,t){var s={};return a.forEach(function(i){if(i.raw!=null){var r=bO(t,i.raw);r!=null&&(s[i.dataKey]=r)}}),Object.keys(s).length>0?s:null}function bO(a,t){if(a==="head"){if(typeof t=="object")return t.header||null;if(typeof t=="string"||typeof t=="number")return t}else if(a==="foot"&&typeof t=="object")return t.footer;return null}function wO(a){return a.map(function(t,s){var i,r;return typeof t=="object"?r=(i=t.dataKey)!==null&&i!==void 0?i:s:r=s,new uO(r,t,s)})}function NO(a,t,s,i,r,c,A){var d=YU(i),h;a==="head"?h=r.headStyles:a==="body"?h=r.bodyStyles:a==="foot"&&(h=r.footStyles);var u=zl({},d.table,d[a],r.styles,h),v=r.columnStyles[t.dataKey]||r.columnStyles[t.index]||{},x=a==="body"?v:{},y=a==="body"&&s%2===0?zl({},d.alternateRow,r.alternateRowStyles):{},p=WU(c),F=zl({},p,u,y,x);return zl(F,A)}function jO(a,t,s){var i;s===void 0&&(s={});var r=T2(a,t),c=new Map,A=[],d=[],h=[];Array.isArray(t.settings.horizontalPageBreakRepeat)?h=t.settings.horizontalPageBreakRepeat:(typeof t.settings.horizontalPageBreakRepeat=="string"||typeof t.settings.horizontalPageBreakRepeat=="number")&&(h=[t.settings.horizontalPageBreakRepeat]),h.forEach(function(y){var p=t.columns.find(function(F){return F.dataKey===y||F.index===y});p&&!c.has(p.index)&&(c.set(p.index,!0),A.push(p.index),d.push(t.columns[p.index]),r-=p.wrappedWidth)});for(var u=!0,v=(i=s==null?void 0:s.start)!==null&&i!==void 0?i:0;v<t.columns.length;){if(c.has(v)){v++;continue}var x=t.columns[v].wrappedWidth;if(u||r>=x)u=!1,A.push(v),d.push(t.columns[v]),r-=x;else break;v++}return{colIndexes:A,columns:d,lastIndex:v-1}}function BO(a,t){for(var s=[],i=0;i<t.columns.length;i++){var r=jO(a,t,{start:i});r.columns.length&&(s.push(r),i=r.lastIndex)}return s}function CO(a,t){var s=t.settings,i=s.startY,r=s.margin,c={x:r.left,y:i},A=t.getHeadHeight(t.columns)+t.getFootHeight(t.columns),d=i+r.bottom+A;if(s.pageBreak==="avoid"){var h=t.body,u=h.reduce(function(y,p){return y+p.height},0);d+=u}var v=new Dd(a);(s.pageBreak==="always"||s.startY!=null&&d>v.pageSize().height)&&(V2(v),c.y=r.top),t.callWillDrawPageHooks(v,c);var x=zl({},c);t.startPageNumber=v.pageNumber(),s.horizontalPageBreak?SO(v,t,x,c):(v.applyStyles(v.userStyles),(s.showHead==="firstPage"||s.showHead==="everyPage")&&t.head.forEach(function(y){return Jl(v,t,y,c,t.columns)}),v.applyStyles(v.userStyles),t.body.forEach(function(y,p){var F=p===t.body.length-1;Df(v,t,y,F,x,c,t.columns)}),v.applyStyles(v.userStyles),(s.showFoot==="lastPage"||s.showFoot==="everyPage")&&t.foot.forEach(function(y){return Jl(v,t,y,c,t.columns)})),I2(v,t,x,c),t.callEndPageHooks(v,c),t.finalY=c.y,a.lastAutoTable=t,v.applyStyles(v.userStyles)}function SO(a,t,s,i){var r=BO(a,t),c=t.settings;if(c.horizontalPageBreakBehaviour==="afterAllRows")r.forEach(function(u,v){a.applyStyles(a.userStyles),v>0?eh(a,t,s,i,u.columns,!0):Fj(a,t,i,u.columns),_O(a,t,s,i,u.columns),vv(a,t,i,u.columns)});else for(var A=-1,d=r[0],h=function(){var u=A;if(d){a.applyStyles(a.userStyles);var v=d.columns;A>=0?eh(a,t,s,i,v,!0):Fj(a,t,i,v),u=Dj(a,t,A+1,i,v),vv(a,t,i,v)}var x=u-A;r.slice(1).forEach(function(y){a.applyStyles(a.userStyles),eh(a,t,s,i,y.columns,!0),Dj(a,t,A+1,i,y.columns,x),vv(a,t,i,y.columns)}),A=u};A<t.body.length-1;)h()}function Fj(a,t,s,i){var r=t.settings;a.applyStyles(a.userStyles),(r.showHead==="firstPage"||r.showHead==="everyPage")&&t.head.forEach(function(c){return Jl(a,t,c,s,i)})}function _O(a,t,s,i,r){a.applyStyles(a.userStyles),t.body.forEach(function(c,A){var d=A===t.body.length-1;Df(a,t,c,d,s,i,r)})}function Dj(a,t,s,i,r,c){a.applyStyles(a.userStyles),c=c??t.body.length;var A=Math.min(s+c,t.body.length),d=-1;return t.body.slice(s,A).forEach(function(h,u){var v=s+u===t.body.length-1,x=K2(a,t,v,i);h.canEntireRowFit(x,r)&&(Jl(a,t,h,i,r),d=s+u)}),d}function vv(a,t,s,i){var r=t.settings;a.applyStyles(a.userStyles),(r.showFoot==="lastPage"||r.showFoot==="everyPage")&&t.foot.forEach(function(c){return Jl(a,t,c,s,i)})}function FO(a,t,s){var i=s.getLineHeight(a.styles.fontSize),r=a.padding("vertical"),c=Math.floor((t-r)/i);return Math.max(0,c)}function DO(a,t,s,i){var r={};a.spansMultiplePages=!0,a.height=0;for(var c=0,A=0,d=s.columns;A<d.length;A++){var h=d[A],u=a.cells[h.index];if(u){Array.isArray(u.text)||(u.text=[u.text]);var v=new q2(u.raw,u.styles,u.section);v=zl(v,u),v.text=[];var x=FO(u,t,i);u.text.length>x&&(v.text=u.text.splice(x,u.text.length));var y=i.scaleFactor(),p=i.getLineHeightFactor();u.contentHeight=u.getContentHeight(y,p),u.contentHeight>=t&&(u.contentHeight=t,v.styles.minCellHeight-=t),u.contentHeight>a.height&&(a.height=u.contentHeight),v.contentHeight=v.getContentHeight(y,p),v.contentHeight>c&&(c=v.contentHeight),r[h.index]=v}}var F=new H2(a.raw,-1,a.section,r,!0);F.height=c;for(var b=0,S=s.columns;b<S.length;b++){var h=S[b],v=F.cells[h.index];v&&(v.height=F.height);var u=a.cells[h.index];u&&(u.height=a.height)}return F}function EO(a,t,s,i){var r=a.pageSize().height,c=i.settings.margin,A=c.top+c.bottom,d=r-A;t.section==="body"&&(d-=i.getHeadHeight(i.columns)+i.getFootHeight(i.columns));var h=t.getMinimumRowHeight(i.columns,a),u=h<s;if(h>d)return console.error("Will not be able to print row ".concat(t.index," correctly since it's minimum height is larger than page height")),!0;if(!u)return!1;var v=t.hasRowSpan(i.columns),x=t.getMaxCellHeight(i.columns)>d;return x?(v&&console.error("The content of row ".concat(t.index," will not be drawn correctly since drawing rows with a height larger than the page height and has cells with rowspans is not supported.")),!0):!(v||i.settings.rowPageBreak==="avoid")}function Df(a,t,s,i,r,c,A){var d=K2(a,t,i,c);if(s.canEntireRowFit(d,A))Jl(a,t,s,c,A);else if(EO(a,s,d,t)){var h=DO(s,d,t,a);Jl(a,t,s,c,A),eh(a,t,r,c,A),Df(a,t,h,i,r,c,A)}else eh(a,t,r,c,A),Df(a,t,s,i,r,c,A)}function Jl(a,t,s,i,r){i.x=t.settings.margin.left;for(var c=0,A=r;c<A.length;c++){var d=A[c],h=s.cells[d.index];if(!h){i.x+=d.width;continue}a.applyStyles(h.styles),h.x=i.x,h.y=i.y;var u=t.callCellHooks(a,t.hooks.willDrawCell,h,s,d,i);if(u===!1){i.x+=d.width;continue}LO(a,h,i);var v=h.getTextPos();U2(h.text,v.x,v.y,{halign:h.styles.halign,valign:h.styles.valign,maxWidth:Math.ceil(h.width-h.padding("left")-h.padding("right"))},a.getDocument()),t.callCellHooks(a,t.hooks.didDrawCell,h,s,d,i),i.x+=d.width}i.y+=s.height}function LO(a,t,s){var i=t.styles;if(a.getDocument().setFillColor(a.getDocument().getFillColor()),typeof i.lineWidth=="number"){var r=Q2(i.lineWidth,i.fillColor);r&&a.rect(t.x,s.y,t.width,t.height,r)}else typeof i.lineWidth=="object"&&(i.fillColor&&a.rect(t.x,s.y,t.width,t.height,"F"),MO(a,t,s,i.lineWidth))}function MO(a,t,s,i){var r,c,A,d;i.top&&(r=s.x,c=s.y,A=s.x+t.width,d=s.y,i.right&&(A+=.5*i.right),i.left&&(r-=.5*i.left),h(i.top,r,c,A,d)),i.bottom&&(r=s.x,c=s.y+t.height,A=s.x+t.width,d=s.y+t.height,i.right&&(A+=.5*i.right),i.left&&(r-=.5*i.left),h(i.bottom,r,c,A,d)),i.left&&(r=s.x,c=s.y,A=s.x,d=s.y+t.height,i.top&&(c-=.5*i.top),i.bottom&&(d+=.5*i.bottom),h(i.left,r,c,A,d)),i.right&&(r=s.x+t.width,c=s.y,A=s.x+t.width,d=s.y+t.height,i.top&&(c-=.5*i.top),i.bottom&&(d+=.5*i.bottom),h(i.right,r,c,A,d));function h(u,v,x,y,p){a.getDocument().setLineWidth(u),a.getDocument().line(v,x,y,p,"S")}}function K2(a,t,s,i){var r=t.settings.margin.bottom,c=t.settings.showFoot;return(c==="everyPage"||c==="lastPage"&&s)&&(r+=t.getFootHeight(t.columns)),a.pageSize().height-i.y-r}function eh(a,t,s,i,r,c){r===void 0&&(r=[]),c===void 0&&(c=!1),a.applyStyles(a.userStyles),t.settings.showFoot==="everyPage"&&!c&&t.foot.forEach(function(d){return Jl(a,t,d,i,r)}),t.callEndPageHooks(a,i);var A=t.settings.margin;I2(a,t,s,i),V2(a),t.pageNumber++,i.x=A.left,i.y=A.top,s.y=A.top,t.callWillDrawPageHooks(a,i),t.settings.showHead==="everyPage"&&(t.head.forEach(function(d){return Jl(a,t,d,i,r)}),a.applyStyles(a.userStyles))}function V2(a){var t=a.pageNumber();a.setPage(t+1);var s=a.pageNumber();return s===t?(a.addPage(),!0):!1}function UO(a){a.API.autoTable=function(){for(var t=[],s=0;s<arguments.length;s++)t[s]=arguments[s];var i=t[0],r=iO(this,i),c=xO(this,r);return CO(this,c),this},a.API.lastAutoTable=!1,a.API.autoTableText=function(t,s,i,r){U2(t,s,i,r,this)},a.API.autoTableSetDefaults=function(t){return Dd.setDefaults(t,this),this},a.autoTableSetDefaults=function(t,s){Dd.setDefaults(t,s)},a.API.autoTableHtmlToJson=function(t,s){var i;if(s===void 0&&(s=!1),typeof window>"u")return console.error("Cannot run autoTableHtmlToJson in non browser environment"),null;var r=new Dd(this),c=P2(r,t,window,s,!1),A=c.head,d=c.body,h=((i=A[0])===null||i===void 0?void 0:i.map(function(u){return u.content}))||[];return{columns:h,rows:d,data:d}}}var xv;try{if(typeof window<"u"&&window){var Ej=window,Lj=Ej.jsPDF||((xv=Ej.jspdf)===null||xv===void 0?void 0:xv.jsPDF);Lj&&UO(Lj)}}catch(a){console.error("Could not apply autoTable plugin",a)}const OO=()=>{const[a,t]=N.useState(!1),[s,i]=N.useState(!1),[r,c]=N.useState(null),[A,d]=N.useState(""),[h,u]=N.useState(""),[v,x]=N.useState(""),[y,p]=N.useState(""),[F,b]=N.useState(!0),[S,f]=N.useState({text:"",type:""}),[O,M]=N.useState([]),[J,K]=N.useState([]),[H,k]=N.useState(0),[Y,D]=N.useState({amount:0,quantity:1});N.useEffect(()=>{ge()},[h,v,y]);const ge=async()=>{try{b(!0);let U=new URLSearchParams;if(h&&U.append("category",h),v){const ie=["January","February","March","April","May","June","July","August","September","October","November","December"].indexOf(v)+1;U.append("month",ie)}y&&U.append("year",y);const V=await aa.get(`https://parishofdivinemercy.com/backend/report.php?${U.toString()}`);V.data.success?(K(V.data.reports),k(V.data.totalExpenses),V.data.availableYears&&M(V.data.availableYears)):f({text:"Failed to fetch expense reports",type:"error"})}catch(U){console.error("Error fetching expense reports:",U),f({text:"An error occurred while fetching expense data",type:"error"})}finally{b(!1)}},_=(U=null)=>{U?(i(!0),c(U),D({amount:U.amount,quantity:U.quantity})):(i(!1),c(null),D({amount:0,quantity:1})),t(!a)},X=U=>{const{name:V,value:T}=U.target;D({...Y,[V]:parseFloat(T)||0})},re=()=>(Y.amount*Y.quantity).toFixed(2),fe=U=>{d(U.target.value)},Ne=U=>{u(U.target.value)},ue=U=>U==null||U===""?"":new Intl.NumberFormat("en-US").format(U),_e=U=>{const V=U.replace(/,/g,"");return!isNaN(V)&&V!==""?V:U},ce=J.filter(U=>{var He,Qe,qe,Ye,st,kt;if(!A.trim())return!0;const V=A.toLowerCase().trim(),T=A.toLowerCase(),ie=((He=U.expenseName)==null?void 0:He.toLowerCase().trim())||"",ae=((Qe=U.category)==null?void 0:Qe.toLowerCase().trim())||"",P=((qe=U.description)==null?void 0:qe.toLowerCase().trim())||"",z=((Ye=U.amount)==null?void 0:Ye.toString())||"",B=ue(U.amount),q=((st=U.quantity)==null?void 0:st.toString())||"",te=ue(U.quantity),he=((kt=U.totalCost)==null?void 0:kt.toString())||"",W=ue(U.totalCost),C=U.dateOfExpense?new Date(U.dateOfExpense).toISOString().split("T")[0]:"",Z=V.replace(/\s+/g," "),se=_e(Z);return T!==V&&V?ie.startsWith(Z)||ae.startsWith(Z)||P.startsWith(Z)||z.startsWith(se)||B.startsWith(Z)||q.startsWith(se)||te.startsWith(Z)||he.startsWith(se)||W.startsWith(Z)||C.startsWith(Z):ie.includes(Z)||ae.includes(Z)||P.includes(Z)||z.includes(se)||B.includes(Z)||q.includes(se)||te.includes(Z)||he.includes(se)||W.includes(Z)||C.includes(Z)}),ye=async U=>{var T,ie;U.preventDefault();const V=new FormData(U.target);try{const ae=parseFloat(V.get("amount")),P=parseInt(V.get("quantity")),z=V.get("expenseName"),B=V.get("category"),q=V.get("description");let te;s?te=r.dateOfExpense:te=new Date().toISOString().slice(0,10);const he={expenseName:z,category:B,amount:ae,quantity:P,dateOfExpense:te,description:q};if(s){he.reportID=r.reportID;const W=await aa.put("https://parishofdivinemercy.com/backend/report.php",he);W.data.success?f({text:"Expense updated successfully",type:"success"}):f({text:W.data.message||"Failed to update expense",type:"error"})}else{const W=await aa.post("https://parishofdivinemercy.com/backend/report.php",he);W.data.success?f({text:"Expense added successfully",type:"success"}):f({text:W.data.message||"Failed to add expense",type:"error"})}_(),ge()}catch(ae){console.error("Error saving expense:",ae),f({text:((ie=(T=ae.response)==null?void 0:T.data)==null?void 0:ie.message)||"An error occurred while saving the expense",type:"error"})}},Q=U=>{try{if(U.match(/^\d{4}-\d{2}-\d{2}$/))return U;const V=U.split(" ")[0];return new Date(V).toISOString().split("T")[0]}catch{return U}},ne=U=>new Intl.NumberFormat("en-PH",{style:"currency",currency:"PHP"}).format(U);return e.jsxs("div",{className:"report-container-sr",children:[e.jsx("div",{className:"title-container-sr",children:e.jsx("h1",{className:"title-sr",children:"EXPENSE REPORTS"})}),S.text&&e.jsx("div",{className:`message ${S.type}`,children:S.text}),e.jsxs("div",{className:"report-actions-sr",children:[e.jsxs("div",{className:"search-bar-sr",children:[e.jsx("input",{type:"text",placeholder:"Search expenses by name, category, amount, quantity, total cost, or date",value:A,onChange:fe}),e.jsx(dt,{icon:vs,className:"search-icon-sr"})]}),e.jsxs("div",{className:"filter-add-container-sr",children:[e.jsxs("select",{className:"filter-select-sr",value:h,onChange:Ne,children:[e.jsx("option",{value:"",children:"All Categories"}),e.jsx("option",{value:"Administrative",children:"Administrative"}),e.jsx("option",{value:"Utilities",children:"Utilities"}),e.jsx("option",{value:"Maintenance",children:"Maintenance"}),e.jsx("option",{value:"Events",children:"Events"}),e.jsx("option",{value:"Charity",children:"Charity"}),e.jsx("option",{value:"Other",children:"Other"})]}),e.jsxs("button",{className:"add-btn-sr",onClick:()=>_(),children:[e.jsx(dt,{icon:yA})," ADD"]})]})]}),F?e.jsx("div",{className:"loading-indicator",children:"Loading expense data..."}):e.jsxs("table",{className:"report-table-sr",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Expense Name"}),e.jsx("th",{children:"Category"}),e.jsx("th",{children:"Amount ()"}),e.jsx("th",{children:"Quantity"}),e.jsx("th",{children:"Total Cost"}),e.jsx("th",{children:"Date of Expense"}),e.jsx("th",{children:"Action"})]})}),e.jsx("tbody",{children:ce.length>0?ce.map(U=>e.jsxs("tr",{children:[e.jsx("td",{children:U.expenseName}),e.jsx("td",{children:U.category}),e.jsx("td",{children:ne(U.amount)}),e.jsx("td",{children:U.quantity}),e.jsx("td",{children:ne(U.totalCost)}),e.jsx("td",{children:Q(U.dateOfExpense)}),e.jsx("td",{children:e.jsx("button",{className:"sr-details",onClick:()=>_(U),children:"Edit"})})]},U.reportID)):e.jsx("tr",{children:e.jsx("td",{colSpan:"7",className:"no-results-sr",children:"No expenses found"})})})]}),e.jsx("div",{className:"finance-summary-sr",children:e.jsxs("div",{className:"summary-card-sr expense-card-sr",children:[e.jsx("h3",{children:"Total Expenses"}),e.jsx("p",{children:ne(H)})]})}),a&&e.jsx("div",{className:"report-modal-overlay-sr",children:e.jsxs("div",{className:"report-modal-sr",children:[e.jsx("div",{className:"report-modal-header-sr",children:e.jsx("h2",{children:s?"Edit Expense":"Add New Expense"})}),e.jsx("div",{children:e.jsx("hr",{className:"custom-hr-sr"})}),e.jsxs("form",{onSubmit:ye,className:"report-form-sr",children:[e.jsxs("div",{className:"form-row-sr",children:[e.jsxs("div",{className:"form-group-sr",children:[e.jsx("label",{children:"Expense Name"}),e.jsx("input",{type:"text",name:"expenseName",required:!0,defaultValue:(r==null?void 0:r.expenseName)||""})]}),e.jsxs("div",{className:"form-group-sr",children:[e.jsx("label",{children:"Category"}),e.jsxs("select",{name:"category",required:!0,defaultValue:(r==null?void 0:r.category)||"",children:[e.jsx("option",{value:"",children:"Select Category"}),e.jsx("option",{value:"Administrative",children:"Administrative"}),e.jsx("option",{value:"Utilities",children:"Utilities"}),e.jsx("option",{value:"Maintenance",children:"Maintenance"}),e.jsx("option",{value:"Events",children:"Events"}),e.jsx("option",{value:"Charity",children:"Charity"}),e.jsx("option",{value:"Other",children:"Other"})]})]})]}),e.jsxs("div",{className:"form-row-sr",children:[e.jsxs("div",{className:"form-group-sr",children:[e.jsx("label",{children:"Amount ()"}),e.jsx("input",{type:"number",name:"amount",required:!0,step:"0.01",min:"0",defaultValue:(r==null?void 0:r.amount)||"",onChange:X})]}),e.jsxs("div",{className:"form-group-sr",children:[e.jsx("label",{children:"Quantity"}),e.jsx("input",{type:"number",name:"quantity",required:!0,min:"1",defaultValue:(r==null?void 0:r.quantity)||1,onChange:X})]})]}),e.jsxs("div",{className:"form-row-sr",children:[e.jsxs("div",{className:"form-group-sr",children:[e.jsx("label",{children:"Total Cost ()"}),e.jsx("input",{type:"number",name:"totalCost",readOnly:!0,value:re()})]}),e.jsxs("div",{className:"form-group-sr",children:[e.jsx("label",{children:"Date of Expense"}),s?e.jsx("input",{type:"text",readOnly:!0,value:Q((r==null?void 0:r.dateOfExpense)||"")}):e.jsx("input",{type:"text",name:"expenseDate",readOnly:!0,value:new Date().toISOString().slice(0,10)})]})]}),e.jsx("div",{className:"form-row-sr",children:e.jsxs("div",{className:"form-group-sr",children:[e.jsx("label",{children:"Description"}),e.jsx("textarea",{name:"description",rows:"3",defaultValue:(r==null?void 0:r.description)||""})]})}),e.jsxs("div",{className:"form-actions-sr",children:[e.jsx("button",{type:"submit",className:"submit-btn-sr",children:s?"Update":"Save"}),e.jsx("button",{type:"button",className:"cancel-btn-sr",onClick:()=>_(),children:"Cancel"})]})]})]})})]})},yv="http://parishofdivinemercy.com/backend",kO=()=>{const[a,t]=N.useState(!1),[s,i]=N.useState(null),[r,c]=N.useState(!1),[A,d]=N.useState(null),[h,u]=N.useState(!0),v=N.useRef(null),[x,y]=N.useState([]),[p,F]=N.useState(!0),[b,S]=N.useState(null),[f,O]=N.useState(""),[M,J]=N.useState(""),[K,H]=N.useState(null),[k,Y]=N.useState(null),[D,ge]=N.useState(!1),[_,X]=N.useState([]),[re,fe]=N.useState(!0),[Ne,ue]=N.useState(null),[_e,ce]=N.useState({barangay:[],municipality:[],province:[]}),[ye,Q]=N.useState({barangay:"",municipality:"",province:""}),ne=ke=>ke?ke.startsWith("data:image")?ke:`data:image/jpeg;base64,${ke}`:null,U=async()=>{try{const ke=await aa.get("http://parishofdivinemercy.com/backend/get_location.php");ke.data.success&&X(ke.data.locations)}catch(ke){console.error("Error fetching locations:",ke)}finally{fe(!1)}},V=(ke,$e=null,Ae=null)=>{if($e&&$e.trim()!==""){const Me=_.filter(Ze=>Ze.municipality===$e),Ie=[...new Set(Me.map(Ze=>Ze.barangay))].sort();if(ke&&ke.trim()){const Ze=ke.toLowerCase();return Ie.filter(nt=>nt.toLowerCase().includes(Ze))}return Ie}if(Ae&&Ae.trim()!==""){const Me=_.filter(Ze=>Ze.province===Ae),Ie=[...new Set(Me.map(Ze=>Ze.barangay))].sort();if(ke&&ke.trim()){const Ze=ke.toLowerCase();return Ie.filter(nt=>nt.toLowerCase().includes(Ze))}return Ie}const Le=ke?ke.toLowerCase():"",de=[...new Set(_.map(Me=>Me.barangay))].sort();return!ke||ke.trim()===""?de.slice(0,10):de.filter(Me=>Me.toLowerCase().includes(Le)).slice(0,10)},T=(ke,$e=null,Ae=null)=>{if(Ae&&Ae.trim()!==""){const Me=_.filter(Ze=>Ze.barangay===Ae),Ie=[...new Set(Me.map(Ze=>Ze.municipality))].sort();if(ke&&ke.trim()){const Ze=ke.toLowerCase();return Ie.filter(nt=>nt.toLowerCase().includes(Ze))}return Ie}if($e&&$e.trim()!==""){const Me=_.filter(Ze=>Ze.province===$e),Ie=[...new Set(Me.map(Ze=>Ze.municipality))].sort();if(ke&&ke.trim()){const Ze=ke.toLowerCase();return Ie.filter(nt=>nt.toLowerCase().includes(Ze))}return Ie}const Le=ke?ke.toLowerCase():"",de=[...new Set(_.map(Me=>Me.municipality))].sort();return!ke||ke.trim()===""?de.slice(0,10):de.filter(Me=>Me.toLowerCase().includes(Le)).slice(0,10)},ie=(ke,$e=null,Ae=null)=>{if($e&&$e.trim()!==""){const Me=_.filter(Ze=>Ze.municipality===$e),Ie=[...new Set(Me.map(Ze=>Ze.province))].sort();if(ke&&ke.trim()){const Ze=ke.toLowerCase();return Ie.filter(nt=>nt.toLowerCase().includes(Ze))}return Ie}if(Ae&&Ae.trim()!==""){const Me=_.filter(Ze=>Ze.barangay===Ae),Ie=[...new Set(Me.map(Ze=>Ze.province))].sort();if(ke&&ke.trim()){const Ze=ke.toLowerCase();return Ie.filter(nt=>nt.toLowerCase().includes(Ze))}return Ie}const Le=ke?ke.toLowerCase():"",de=[...new Set(_.map(Me=>Me.province))].sort();return!ke||ke.trim()===""?de.slice(0,10):de.filter(Me=>Me.toLowerCase().includes(Le)).slice(0,10)},ae=(ke,$e)=>{let Ae={};if($e==="barangay"){const Le=_.filter(Ie=>Ie.barangay===ke),de=[...new Set(Le.map(Ie=>Ie.municipality))],Me=[...new Set(Le.map(Ie=>Ie.province))];de.length===1&&(Ae.municipality=de[0]),Me.length===1&&(Ae.province=Me[0])}else if($e==="municipality"){const Le=_.filter(Me=>Me.municipality===ke),de=[...new Set(Le.map(Me=>Me.province))];de.length===1&&(Ae.province=de[0])}return Ae},P=ke=>{const $e=ke.target.value;Q(Ae=>({...Ae,barangay:$e})),Ne==="barangay"&&ce(Ae=>({...Ae,barangay:V($e,ye.municipality,ye.province)}))},z=ke=>{const $e=ke.target.value;Q(Ae=>({...Ae,municipality:$e})),Ne==="municipality"&&ce(Ae=>({...Ae,municipality:T($e,ye.province,ye.barangay)}))},B=ke=>{const $e=ke.target.value;Q(Ae=>({...Ae,province:$e})),Ne==="province"&&ce(Ae=>({...Ae,province:ie($e,ye.municipality,ye.barangay)}))},q=ke=>{Q(Ae=>({...Ae,barangay:ke})),ue(null);const $e=ae(ke,"barangay");Object.keys($e).length>0&&Q(Ae=>({...Ae,...$e}))},te=ke=>{Q(Ae=>({...Ae,municipality:ke})),ue(null);const $e=ae(ke,"municipality");Object.keys($e).length>0&&Q(Ae=>({...Ae,...$e}))},he=ke=>{Q($e=>({...$e,province:ke})),ue(null)},W=ke=>{switch(ue(ke),ke){case"barangay":ce($e=>({...$e,barangay:V(ye.barangay||"",ye.municipality,ye.province)}));break;case"municipality":ce($e=>({...$e,municipality:T(ye.municipality||"",ye.province,ye.barangay)}));break;case"province":ce($e=>({...$e,province:ie(ye.province||"",ye.municipality,ye.barangay)}));break}},C=async()=>{try{F(!0);let ke=`${yv}/user_management.php`;M&&(ke+=`?position=${encodeURIComponent(M)}`);const $e=await fetch(ke);if(!$e.ok)throw new Error(`HTTP error! Status: ${$e.status}`);const Ae=await $e.json();if(Ae.success){const Le=Ae.users.map(de=>({...de,profile:de.profile?ne(de.profile):null}));y(Le)}else throw new Error(Ae.message||"Failed to fetch users")}catch(ke){S(ke.message),console.error("Error fetching users:",ke)}finally{F(!1)}};N.useEffect(()=>{C()},[M]),N.useEffect(()=>{U()},[]),N.useEffect(()=>{const ke=$e=>{var Ae;if(Ne){const Le=$e.target.tagName==="INPUT"||$e.target.tagName==="SELECT",de=$e.target.classList.contains("location-dropdown-item"),Me=(Ae=document.querySelector(`input[name="${Ne}"]`))==null?void 0:Ae.closest(".location-dropdown-container"),Ie=Me&&Me.contains($e.target);(Le&&!Ie||!Ie&&!de)&&ue(null)}};return document.addEventListener("mousedown",ke),()=>{document.removeEventListener("mousedown",ke)}},[Ne]);const Z=(ke=null)=>{H(null),Y(null),ge(!1),ke?(c(!0),d(ke),u(!0),Q({barangay:ke.barangay||"",municipality:ke.municipality||"",province:ke.province||""}),ke.profile?i(ne(ke.profile)):i(null)):(c(!1),d(null),i(null),u(!0),Q({barangay:"",municipality:"",province:""})),t(!a),ue(null)},se=ke=>{const $e=ke.target.files[0];if($e){if($e.size>5*1024*1024){H("Image size should not exceed 5MB");return}const Ae=new FileReader;Ae.onloadend=()=>{i(Ae.result)},Ae.readAsDataURL($e)}},Se=()=>{v.current.click()},He=ke=>{u(!0)},Qe=ke=>{const $e=ke.get("password"),Ae=ke.get("confirmPassword");if(!r||$e&&$e.length>0){if($e!==Ae)return"Passwords do not match.";if($e.length<6)return"Password should be at least 6 characters long."}const Le=ke.get("email");if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(Le))return"Please enter a valid email address.";const Me=ke.get("contactNumber");return/^[0-9+\-\s()]+$/.test(Me)?null:"Please enter a valid contact number."},qe=async ke=>{ke.preventDefault(),H(null),Y(null),ge(!0);const $e=new FormData(ke.target);$e.set("barangay",ye.barangay),$e.set("municipality",ye.municipality),$e.set("province",ye.province);const Ae=Qe($e);if(Ae){H(Ae),ge(!1);return}const Le={firstName:$e.get("firstName"),middleName:$e.get("middleName")||"",lastName:$e.get("lastName"),profile:s,gender:$e.get("gender"),dateOfBirth:$e.get("dateOfBirth"),contactNumber:$e.get("contactNumber"),nationality:$e.get("nationality"),religion:$e.get("religion"),email:$e.get("email"),street:$e.get("street"),barangay:ye.barangay,municipality:ye.municipality,province:ye.province,position:$e.get("position"),membershipStatus:$e.get("membershipStatus"),joinedDate:$e.get("joinedDate"),password:$e.get("password")};try{let de;r?(Le.userID=A.userID,Le.password||delete Le.password,de=await fetch(`${yv}/user_management.php`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(Le)})):de=await fetch(`${yv}/user_management.php`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(Le)});const Me=await de.json();Me.success?(C(),Y(r?"User updated successfully!":"User added successfully!"),setTimeout(()=>{Z()},2e3)):Me.error==="email_exists"?H("An account with this email already exists."):Me.error==="invalid_email"?H("Invalid email format."):Me.error==="invalid_contact"?H("Invalid contact number format."):Me.error==="invalid_password"?H("Password must be at least 6 characters long."):Me.error==="invalid_image"?H("Invalid image file. Please try another image."):H(Me.message||"Operation failed. Please try again.")}catch(de){console.error("Error:",de),H("An error occurred. Please try again.")}finally{ge(!1)}},Ye=ke=>{J(ke.target.value)},st=ke=>{O(ke.target.value)},kt=x.filter(ke=>{var it,De,Be,pe,we;if(!f.trim())return!0;const $e=f.toLowerCase().trim(),Ae=f.toLowerCase(),Le=((it=ke.firstName)==null?void 0:it.toLowerCase().trim())||"",de=((De=ke.middleName)==null?void 0:De.toLowerCase().trim())||"",Me=((Be=ke.lastName)==null?void 0:Be.toLowerCase().trim())||"",Ie=`${Le} ${de} ${Me}`.replace(/\s+/g," ").trim(),Ze=`${Le} ${Me}`.replace(/\s+/g," ").trim(),nt=`${ke.firstName} ${ke.lastName}`.toLowerCase().trim(),ot=((pe=ke.contactNumber)==null?void 0:pe.toLowerCase().trim())||"",jt=((we=ke.position)==null?void 0:we.toLowerCase().trim())||"",ft=ke.joinedDate?new Date(ke.joinedDate).toISOString().split("T")[0]:"",It=$e.replace(/\s+/g," ");return Ae!==$e&&$e?Le.startsWith(It)||de.startsWith(It)||Me.startsWith(It)||Ie.startsWith(It)||Ze.startsWith(It)||nt.startsWith(It)||ot.startsWith(It)||jt.startsWith(It)||ft.startsWith(It):Le.includes(It)||de.includes(It)||Me.includes(It)||Ie.includes(It)||Ze.includes(It)||nt.includes(It)||ot.includes(It)||jt.includes(It)||ft.includes(It)}),Mt=ke=>{try{return new Date(ke).toISOString().split("T")[0]}catch{return ke}};return e.jsxs("div",{className:"user-container-sum",children:[e.jsx("h1",{className:"title-sum",children:"USER MANAGEMENT"}),e.jsxs("div",{className:"user-actions-sum",children:[e.jsxs("div",{className:"search-bar-sum",children:[e.jsx("input",{type:"text",placeholder:"Search by name, contact number, organizer, or joined date",value:f,onChange:st}),e.jsx(dt,{icon:vs,className:"search-icon-sum"})]}),e.jsxs("div",{className:"filter-add-container-sum",children:[e.jsxs("select",{className:"filter-select-sum",value:M,onChange:Ye,children:[e.jsx("option",{value:"",children:"All Positions"}),e.jsx("option",{value:"Youth Ministry",children:"Youth Ministry"}),e.jsx("option",{value:"Music Ministry",children:"Music Ministry"}),e.jsx("option",{value:"Outreach Ministry",children:"Outreach Ministry"})]}),e.jsxs("button",{className:"add-btn-sum",onClick:()=>Z(),children:[e.jsx(dt,{icon:yA})," ADD"]})]})]}),p?e.jsx("p",{children:"Loading users..."}):b?e.jsxs("p",{children:["Error: ",b]}):e.jsxs("table",{className:"user-table-sum",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"No."}),e.jsx("th",{children:"Profile"}),e.jsx("th",{children:"Name"}),e.jsx("th",{children:"Contact Number"}),e.jsx("th",{children:"Organizer"}),e.jsx("th",{children:"Joined Date"}),e.jsx("th",{children:"Action"})]})}),e.jsxs("tbody",{children:[kt.map((ke,$e)=>e.jsxs("tr",{children:[e.jsx("td",{children:$e+1}),e.jsx("td",{children:e.jsx("div",{className:"profile-placeholder-sum",children:ke.profile?e.jsx("img",{src:ne(ke.profile),alt:"Profile"}):e.jsx("span",{children:ke.firstName.charAt(0)})})}),e.jsx("td",{children:`${ke.firstName} ${ke.lastName}`}),e.jsx("td",{children:ke.contactNumber}),e.jsx("td",{children:ke.position}),e.jsx("td",{children:Mt(ke.joinedDate)}),e.jsx("td",{children:e.jsx("button",{className:"sum-details",onClick:()=>Z(ke),children:"Edit"})})]},ke.userID)),kt.length===0&&e.jsx("tr",{children:e.jsx("td",{colSpan:"7",style:{textAlign:"center"},children:"No users found"})})]})]}),a&&e.jsx("div",{className:"user-modal-overlay-sum",children:e.jsxs("div",{className:"user-modal-sum",children:[e.jsx("div",{className:"user-modal-header-sum",children:e.jsx("h2",{children:r?"Edit User":"Add New User"})}),e.jsx("div",{children:e.jsx("hr",{className:"custom-hr-sum"})}),K&&e.jsxs("div",{className:"form-message-sum error-message-sum",children:[e.jsx(dt,{icon:E0}),e.jsx("p",{children:K})]}),k&&e.jsxs("div",{className:"form-message-sum success-message-sum",children:[e.jsx(dt,{icon:ol}),e.jsx("p",{children:k})]}),e.jsxs("form",{onSubmit:qe,className:"user-form-sum",children:[e.jsxs("div",{className:"profile-upload-sum",children:[e.jsx("div",{className:"profile-image-container-sum",onClick:Se,children:s?e.jsx("img",{src:s,alt:"Profile Preview",className:"profile-preview-sum"}):e.jsxs("div",{className:"upload-placeholder-sum",children:[e.jsx(dt,{icon:n4}),e.jsx("span",{children:"Upload Photo"})]})}),e.jsx("input",{type:"file",accept:"image/*",ref:v,onChange:se,style:{display:"none"}})]}),e.jsxs("div",{className:"form-row-sum",children:[e.jsxs("div",{className:"form-group-sum",children:[e.jsx("label",{children:"First Name"}),e.jsx("input",{type:"text",name:"firstName",required:!0,defaultValue:(A==null?void 0:A.firstName)||""})]}),e.jsxs("div",{className:"form-group-sum",children:[e.jsx("label",{children:"Middle Name"}),e.jsx("input",{type:"text",name:"middleName",defaultValue:(A==null?void 0:A.middleName)||""})]}),e.jsxs("div",{className:"form-group-sum",children:[e.jsx("label",{children:"Last Name"}),e.jsx("input",{type:"text",name:"lastName",required:!0,defaultValue:(A==null?void 0:A.lastName)||""})]})]}),e.jsxs("div",{className:"form-row-sum",children:[e.jsxs("div",{className:"form-group-sum",children:[e.jsx("label",{children:"Gender"}),e.jsxs("select",{name:"gender",required:!0,defaultValue:(A==null?void 0:A.gender)||"",children:[e.jsx("option",{value:"",children:"Select Gender"}),e.jsx("option",{value:"male",children:"Male"}),e.jsx("option",{value:"female",children:"Female"}),e.jsx("option",{value:"other",children:"Other"})]})]}),e.jsxs("div",{className:"form-group-sum",children:[e.jsx("label",{children:"Date of Birth"}),e.jsx("input",{type:"date",name:"dateOfBirth",required:!0,defaultValue:(A==null?void 0:A.dateOfBirth)||""})]}),e.jsxs("div",{className:"form-group-sum",children:[e.jsx("label",{children:"Contact Number"}),e.jsx("input",{type:"tel",name:"contactNumber",required:!0,defaultValue:(A==null?void 0:A.contactNumber)||""})]})]}),e.jsxs("div",{className:"form-row-sum",children:[e.jsxs("div",{className:"form-group-sum",children:[e.jsx("label",{children:"Nationality"}),e.jsx("input",{type:"text",name:"nationality",required:!0,defaultValue:(A==null?void 0:A.nationality)||""})]}),e.jsxs("div",{className:"form-group-sum",children:[e.jsx("label",{children:"Religion"}),e.jsx("input",{type:"text",name:"religion",required:!0,defaultValue:(A==null?void 0:A.religion)||""})]}),e.jsxs("div",{className:"form-group-sum",children:[e.jsx("label",{children:"Email Address"}),e.jsx("input",{type:"email",name:"email",required:!0,defaultValue:(A==null?void 0:A.email)||""})]})]}),e.jsxs("div",{className:"form-row-sum",children:[e.jsxs("div",{className:"form-group-sum",children:[e.jsx("label",{children:"Organizer"}),e.jsxs("select",{name:"position",required:!0,defaultValue:(A==null?void 0:A.position)||"",onChange:He,children:[e.jsx("option",{value:"",children:"Select Position"}),e.jsx("option",{value:"Youth Ministry",children:"Youth Ministry"}),e.jsx("option",{value:"Music Ministry",children:"Music Ministry"}),e.jsx("option",{value:"Outreach Ministry",children:"Outreach Ministry"})]})]}),e.jsxs("div",{className:"form-group-sum",children:[e.jsx("label",{children:"Membership Status"}),e.jsxs("select",{name:"membershipStatus",required:!0,defaultValue:(A==null?void 0:A.membershipStatus)||"",children:[e.jsx("option",{value:"",children:"Select Status"}),e.jsx("option",{value:"active",children:"Active"}),e.jsx("option",{value:"inactive",children:"Inactive"}),e.jsx("option",{value:"pending",children:"Pending"})]})]}),e.jsxs("div",{className:"form-group-sum",children:[e.jsx("label",{children:"Street"}),e.jsx("input",{type:"text",name:"street",required:!0,defaultValue:(A==null?void 0:A.street)||""})]})]}),e.jsxs("div",{className:"form-row-sum",children:[e.jsxs("div",{className:"form-group-sum-loc location-dropdown-container",children:[e.jsx("label",{children:"Barangay"}),e.jsx("input",{type:"text",name:"barangay",required:!0,value:ye.barangay,onChange:P,onFocus:()=>W("barangay"),placeholder:"Type to search",autoComplete:"off"}),Ne==="barangay"&&_e.barangay.length>0&&e.jsx("div",{className:"location-dropdown",children:_e.barangay.map((ke,$e)=>e.jsx("div",{onClick:()=>q(ke),className:"location-dropdown-item",children:ke},$e))})]}),e.jsxs("div",{className:"form-group-sum-loc location-dropdown-container",children:[e.jsx("label",{children:"Municipality"}),e.jsx("input",{type:"text",name:"municipality",required:!0,value:ye.municipality,onChange:z,onFocus:()=>W("municipality"),placeholder:"Type to search",autoComplete:"off"}),Ne==="municipality"&&_e.municipality.length>0&&e.jsx("div",{className:"location-dropdown",children:_e.municipality.map((ke,$e)=>e.jsx("div",{onClick:()=>te(ke),className:"location-dropdown-item",children:ke},$e))})]}),e.jsxs("div",{className:"form-group-sum-loc location-dropdown-container",children:[e.jsx("label",{children:"Province"}),e.jsx("input",{type:"text",name:"province",required:!0,value:ye.province,onChange:B,onFocus:()=>W("province"),placeholder:"Type to search",autoComplete:"off"}),Ne==="province"&&_e.province.length>0&&e.jsx("div",{className:"location-dropdown",children:_e.province.map((ke,$e)=>e.jsx("div",{onClick:()=>he(ke),className:"location-dropdown-item",children:ke},$e))})]})]}),e.jsxs("div",{className:"form-row-sum",children:[e.jsxs("div",{className:"form-group-sum",children:[e.jsx("label",{children:"Joined Date"}),e.jsx("input",{type:"date",name:"joinedDate",required:!0,defaultValue:(A==null?void 0:A.joinedDate)||""})]}),e.jsxs("div",{className:"form-group-sum",children:[e.jsx("label",{children:"Password"}),e.jsx("input",{type:"password",name:"password",required:!r,defaultValue:"",placeholder:r?"Leave blank to keep current":""})]}),e.jsxs("div",{className:"form-group-sum",children:[e.jsx("label",{children:"Confirm Password"}),e.jsx("input",{type:"password",name:"confirmPassword",required:!r,defaultValue:"",placeholder:r?"Leave blank to keep current":""})]})]}),e.jsxs("div",{className:"form-actions-sum",children:[e.jsx("button",{type:"submit",className:"submit-btn-sum",disabled:D,children:D?"Processing...":r?"Update":"Save"}),e.jsx("button",{type:"button",className:"cancel-btn-sum",onClick:()=>Z(),disabled:D,children:"Cancel"})]})]})]})})]})},IO=()=>{const a=Jt(),[t,s]=N.useState([]),[i,r]=N.useState(!0),[c,A]=N.useState(null),[d,h]=N.useState("");N.useEffect(()=>{u()},[]);const u=async()=>{try{r(!0);const S=await(await fetch("https://parishofdivinemercy.com/backend/fetch_approved_baptisms.php")).json();S.success?s(S.appointments):A(S.message||"Failed to fetch baptism appointments")}catch(b){console.error("Error fetching baptism appointments:",b),A("An error occurred while fetching data")}finally{r(!1)}},v=(b,S)=>{a("/secretary-baptism-view",{state:{baptismID:b,status:S}})},x=()=>{const b=["No.","First Name","Last Name","Date","Time","Created At"],S=t.map(J=>[J.id,J.firstName,J.lastName,J.date,J.time,J.createdAt]),f="data:text/csv;charset=utf-8,"+[b.join(","),...S.map(J=>J.join(","))].join(`
`),O=encodeURI(f),M=document.createElement("a");M.setAttribute("href",O),M.setAttribute("download","baptism_appointments.csv"),document.body.appendChild(M),M.click(),document.body.removeChild(M)},y=b=>{h(b.target.value)},p=t.filter(b=>{var H,k,Y,D,ge,_;const S=d.toLowerCase().trim(),f=d.toLowerCase(),O=`${b.firstName} ${b.lastName}`.toLowerCase(),M=new Date(b.date).toISOString().split("T")[0],J=new Date(b.createdAt).toISOString().split("T")[0];return f!==S&&S?((H=b.firstName)==null?void 0:H.toLowerCase().startsWith(S))||((k=b.lastName)==null?void 0:k.toLowerCase().startsWith(S))||O.startsWith(S)||M.startsWith(S)||J.startsWith(S)||((Y=b.status)==null?void 0:Y.toLowerCase().startsWith(S)):((D=b.firstName)==null?void 0:D.toLowerCase().includes(S))||((ge=b.lastName)==null?void 0:ge.toLowerCase().includes(S))||O.includes(S)||M.includes(S)||J.includes(S)||((_=b.status)==null?void 0:_.toLowerCase().includes(S))}),F=t.length===0&&!i&&!c?[]:p;return e.jsxs("div",{className:"baptism-container-sb",children:[e.jsx("h1",{className:"title-sb-sb",children:"BAPTISM"}),e.jsxs("div",{className:"baptism-actions-sb-sb",children:[e.jsxs("div",{className:"search-bar-sb-sb",children:[e.jsx("input",{type:"text",placeholder:"Search",value:d,onChange:y}),e.jsx(dt,{icon:vs,className:"search-icon-sb-sb"})]}),e.jsxs("button",{className:"download-button-sb",onClick:x,children:[e.jsx(dt,{icon:xA,style:{marginRight:"8px"}}),"Download"]})]}),i?e.jsx("div",{className:"loading-container-sb",children:"Loading baptism appointments..."}):c?e.jsx("div",{className:"error-container-sb",children:c}):e.jsxs("table",{className:"baptism-table-sb",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"No."}),e.jsx("th",{children:"First Name"}),e.jsx("th",{children:"Last Name"}),e.jsx("th",{children:"Date"}),e.jsx("th",{children:"Time"}),e.jsx("th",{children:"Created At"}),e.jsx("th",{children:"Action"})]})}),e.jsx("tbody",{children:F.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:"8",className:"no-data-sb",children:"No baptism appointments found"})}):F.map(b=>e.jsxs("tr",{children:[e.jsx("td",{children:b.id}),e.jsx("td",{children:b.firstName}),e.jsx("td",{children:b.lastName}),e.jsx("td",{children:new Date(b.date).toISOString().split("T")[0]}),e.jsx("td",{children:b.time}),e.jsx("td",{children:new Date(b.createdAt).toISOString().split("T")[0]}),e.jsx("td",{children:e.jsx("button",{className:"sb-details",onClick:()=>v(b.id,b.status),children:"View"})})]},b.id))})]})]})},QO=()=>{const a=Jt(),[t,s]=N.useState([]),[i,r]=N.useState(!0),[c,A]=N.useState(null),[d,h]=N.useState("");N.useEffect(()=>{u()},[]);const u=async()=>{try{r(!0);const S=await(await fetch("https://parishofdivinemercy.com/backend/fetch_approved_marriages.php")).json();S.success?s(S.appointments):A(S.message||"Failed to fetch marriage appointments")}catch(b){console.error("Error fetching marriage appointments:",b),A("An error occurred while fetching data")}finally{r(!1)}},v=(b,S)=>{a("/secretary-marriage-view",{state:{marriageID:b,status:S}})},x=()=>{const b=["No.","Groom Name","Bride Name","Date","Time","Created At"],S=t.map(J=>[J.id,J.groomName,J.brideName,J.date,J.time,J.createdAt]),f="data:text/csv;charset=utf-8,"+[b.join(","),...S.map(J=>J.join(","))].join(`
`),O=encodeURI(f),M=document.createElement("a");M.setAttribute("href",O),M.setAttribute("download","marriage_appointments.csv"),document.body.appendChild(M),M.click(),document.body.removeChild(M)},y=b=>{h(b.target.value)},p=t.filter(b=>{var H,k,Y,D,ge,_;const S=d.toLowerCase().trim(),f=d.toLowerCase(),O=`${b.groomName} ${b.brideName}`.toLowerCase(),M=new Date(b.date).toISOString().split("T")[0],J=new Date(b.createdAt).toISOString().split("T")[0];return f!==S&&S?((H=b.groomName)==null?void 0:H.toLowerCase().startsWith(S))||((k=b.brideName)==null?void 0:k.toLowerCase().startsWith(S))||O.startsWith(S)||M.startsWith(S)||J.startsWith(S)||((Y=b.status)==null?void 0:Y.toLowerCase().startsWith(S)):((D=b.groomName)==null?void 0:D.toLowerCase().includes(S))||((ge=b.brideName)==null?void 0:ge.toLowerCase().includes(S))||O.includes(S)||M.includes(S)||J.includes(S)||((_=b.status)==null?void 0:_.toLowerCase().includes(S))}),F=t.length===0&&!i&&!c?[]:p;return e.jsxs("div",{className:"marriage-container-sm",children:[e.jsx("h1",{className:"title-sm",children:"MARRIAGE"}),e.jsxs("div",{className:"marriage-actions-sm",children:[e.jsxs("div",{className:"search-bar-sm",children:[e.jsx("input",{type:"text",placeholder:"Search",value:d,onChange:y}),e.jsx(dt,{icon:vs,className:"search-icon-sm"})]}),e.jsxs("button",{className:"download-button-sb",onClick:x,children:[e.jsx(dt,{icon:xA,style:{marginRight:"8px"}}),"Download"]})]}),i?e.jsx("div",{className:"loading-container-sm",children:"Loading marriage appointments..."}):c?e.jsx("div",{className:"error-container-sm",children:c}):e.jsxs("table",{className:"marriage-table-sm",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"No."}),e.jsx("th",{children:"Groom"}),e.jsx("th",{children:"Bride"}),e.jsx("th",{children:"Date"}),e.jsx("th",{children:"Time"}),e.jsx("th",{children:"Created At"}),e.jsx("th",{children:"Action"})]})}),e.jsx("tbody",{children:F.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:"8",className:"no-data-sm",children:"No marriage appointments found"})}):F.map(b=>e.jsxs("tr",{children:[e.jsx("td",{children:b.id}),e.jsx("td",{children:b.groomName}),e.jsx("td",{children:b.brideName}),e.jsx("td",{children:new Date(b.date).toISOString().split("T")[0]}),e.jsx("td",{children:b.time}),e.jsx("td",{children:new Date(b.createdAt).toISOString().split("T")[0]}),e.jsx("td",{children:e.jsx("button",{className:"sm-details",onClick:()=>v(b.id,b.status),children:"View"})})]},b.id))})]})]})},TO=()=>{const a=Jt(),t=oa(),[s,i]=N.useState([]),[r,c]=N.useState(!0),[A,d]=N.useState(null),[h,u]=N.useState(""),[v,x]=N.useState(0);N.useEffect(()=>{var f;y(),(f=t.state)!=null&&f.refresh&&y()},[t,v]);const y=async()=>{try{c(!0);const O=await(await fetch("https://parishofdivinemercy.com/backend/fetch_approved_funerals.php")).json();O.success?(console.log("Funeral mass data:",O.appointments),i(O.appointments||[])):d(O.message||"Failed to fetch funeral mass data")}catch(f){console.error("Error fetching funeral mass data:",f),d("An error occurred while fetching data")}finally{c(!1)}},p=f=>{a("/secretary-funeral-mass-view",{state:{funeralID:f,status:"Approved"}})},F=()=>{if(s.length===0){alert("No data to download");return}const f=["No.","Deceased First Name","Deceased Last Name","Date","Time","Created At"],O=s.map(H=>[H.id,H.firstName,H.lastName,H.date,H.time,H.createdAt]),M="data:text/csv;charset=utf-8,"+[f.join(","),...O.map(H=>H.join(","))].join(`
`),J=encodeURI(M),K=document.createElement("a");K.setAttribute("href",J),K.setAttribute("download","funeral_mass_requests.csv"),document.body.appendChild(K),K.click(),document.body.removeChild(K)},b=f=>{u(f.target.value)},S=s.filter(f=>{var Y,D,ge,_,X,re;const O=h.toLowerCase().trim(),M=h.toLowerCase(),J=`${f.firstName} ${f.lastName}`.toLowerCase(),K=new Date(f.date).toISOString().split("T")[0],H=new Date(f.createdAt).toISOString().split("T")[0];return M!==O&&O?((Y=f.firstName)==null?void 0:Y.toLowerCase().startsWith(O))||((D=f.lastName)==null?void 0:D.toLowerCase().startsWith(O))||J.startsWith(O)||K.startsWith(O)||H.startsWith(O)||((ge=f.status)==null?void 0:ge.toLowerCase().startsWith(O)):((_=f.firstName)==null?void 0:_.toLowerCase().includes(O))||((X=f.lastName)==null?void 0:X.toLowerCase().includes(O))||J.includes(O)||K.includes(O)||H.includes(O)||((re=f.status)==null?void 0:re.toLowerCase().includes(O))});return r?e.jsx("div",{className:"loading-message",children:"Loading funeral mass requests..."}):A?e.jsxs("div",{className:"error-message",children:["Error: ",A]}):e.jsxs("div",{className:"funeralmass-container-sfm",children:[e.jsx("h1",{className:"title-sfm",children:"FUNERAL MASS"}),e.jsxs("div",{className:"funeralmass-actions-sfm",children:[e.jsxs("div",{className:"search-bar-sfm",children:[e.jsx("input",{type:"text",placeholder:"Search",value:h,onChange:b}),e.jsx(dt,{icon:vs,className:"search-icon-sfm"})]}),e.jsxs("button",{className:"download-button-sb",onClick:F,children:[e.jsx(dt,{icon:xA,style:{marginRight:"8px"}}),"Download"]})]}),r?e.jsx("div",{className:"loading-container-sb",children:"Loading funeral mass requests..."}):A?e.jsx("div",{className:"error-container-sb",children:A}):e.jsx("div",{className:"table-wrapper-sfm",children:e.jsxs("table",{className:"funeralmass-table-sfm",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"No."}),e.jsx("th",{children:"Deceased Name"}),e.jsx("th",{children:"Date"}),e.jsx("th",{children:"Time"}),e.jsx("th",{children:"Created At"}),e.jsx("th",{children:"Action"})]})}),e.jsx("tbody",{children:S.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:"7",className:"no-data-sb",children:"No funeral mass requests found"})}):S.map(f=>e.jsxs("tr",{children:[e.jsx("td",{children:f.id}),e.jsx("td",{children:`${f.firstName} ${f.lastName}`}),e.jsx("td",{children:new Date(f.date).toISOString().split("T")[0]}),e.jsx("td",{children:f.time}),e.jsx("td",{children:new Date(f.createdAt).toISOString().split("T")[0]}),e.jsx("td",{children:e.jsx("button",{className:"sfm-details",onClick:()=>p(f.id),children:"View"})})]},f.id))})]})})]})},RO=()=>{const a=Jt(),[t,s]=N.useState([]),[i,r]=N.useState(!0),[c,A]=N.useState(null),[d,h]=N.useState(""),[u,v]=N.useState("");N.useEffect(()=>{x()},[]);const x=async()=>{try{r(!0);const f=await(await fetch("https://parishofdivinemercy.com/backend/fetch_approved_blessings.php")).json();f.success?s(f.appointments):A(f.message||"Failed to fetch blessing appointments")}catch(S){console.error("Error fetching blessing appointments:",S),A("An error occurred while fetching data")}finally{r(!1)}},y=S=>{v(S.target.value)},p=t.filter(S=>{var ge,_,X,re,fe,Ne;const f=d===""||S.blessingType===d;if(u==="")return f;const O=u.toLowerCase().trim(),M=u.toLowerCase(),J=`${S.firstName} ${S.lastName}`.toLowerCase(),K=`${S.blessingType.charAt(0).toUpperCase()+S.blessingType.slice(1)} Blessing`.toLowerCase(),H=new Date(S.date).toISOString().split("T")[0],k=new Date(S.createdAt).toISOString().split("T")[0],Y=M!==O;let D;return Y&&O?D=((ge=S.firstName)==null?void 0:ge.toLowerCase().startsWith(O))||((_=S.lastName)==null?void 0:_.toLowerCase().startsWith(O))||J.startsWith(O)||K.startsWith(O)||H.startsWith(O)||k.startsWith(O)||((X=S.status)==null?void 0:X.toLowerCase().startsWith(O)):D=((re=S.firstName)==null?void 0:re.toLowerCase().includes(O))||((fe=S.lastName)==null?void 0:fe.toLowerCase().includes(O))||J.includes(O)||K.includes(O)||H.includes(O)||k.includes(O)||((Ne=S.status)==null?void 0:Ne.toLowerCase().includes(O)),f&&D}),F=S=>{a("/secretary-blessing-view",{state:{blessingID:S.id,status:S.status}})},b=()=>{const S=["No.","First Name","Last Name","Blessing Type","Date","Time","Created At"],f=t.map(K=>[K.id,K.firstName,K.lastName,K.blessingType.charAt(0).toUpperCase()+K.blessingType.slice(1)+" Blessing",K.date,K.time,K.createdAt]),O="data:text/csv;charset=utf-8,"+[S.join(","),...f.map(K=>K.join(","))].join(`
`),M=encodeURI(O),J=document.createElement("a");J.setAttribute("href",M),J.setAttribute("download","blessing_appointments.csv"),document.body.appendChild(J),J.click(),document.body.removeChild(J)};return e.jsxs("div",{className:"blessing-container-sb",children:[e.jsx("h1",{className:"title-sb",children:"BLESSING"}),e.jsxs("div",{className:"blessing-actions-sb-bless",children:[e.jsxs("div",{className:"search-bar-sb-bless",children:[e.jsx("input",{type:"text",placeholder:"Search",value:u,onChange:y}),e.jsx(dt,{icon:vs,className:"search-icon-sb-bless"})]}),e.jsxs("div",{className:"filter-container-sb-bless",children:[e.jsxs("select",{className:"filter-select-sb-bless",value:d,onChange:S=>h(S.target.value),children:[e.jsx("option",{value:"",children:"Blessing Types"}),e.jsx("option",{value:"house",children:"House Blessing"}),e.jsx("option",{value:"business",children:"Business Blessing"}),e.jsx("option",{value:"car",children:"Car Blessing"})]}),e.jsxs("button",{className:"download-button-sb",onClick:b,children:[e.jsx(dt,{icon:xA,style:{marginRight:"8px"}}),"Download"]})]})]}),i?e.jsx("div",{className:"loading-container-sb",children:"Loading blessing appointments..."}):c?e.jsx("div",{className:"error-container-sb",children:c}):e.jsxs("table",{className:"blessing-table-sb",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"No."}),e.jsx("th",{children:"First Name"}),e.jsx("th",{children:"Last Name"}),e.jsx("th",{children:"Blessing Type"}),e.jsx("th",{children:"Date"}),e.jsx("th",{children:"Time"}),e.jsx("th",{children:"Created At"}),e.jsx("th",{children:"Action"})]})}),e.jsx("tbody",{children:p.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:"9",className:"no-data-sb",children:"No blessing appointments found"})}):p.map(S=>e.jsxs("tr",{children:[e.jsx("td",{children:S.id}),e.jsx("td",{children:S.firstName}),e.jsx("td",{children:S.lastName}),e.jsxs("td",{children:[S.blessingType.charAt(0).toUpperCase()+S.blessingType.slice(1)," Blessing"]}),e.jsx("td",{children:new Date(S.date).toISOString().split("T")[0]}),e.jsx("td",{children:S.time}),e.jsx("td",{children:new Date(S.createdAt).toISOString().split("T")[0]}),e.jsx("td",{children:e.jsx("button",{className:"sb-details",onClick:()=>F(S),children:"View"})})]},S.id))})]})]})},PO=()=>{const a=Jt(),[t,s]=N.useState([]),[i,r]=N.useState(!0),[c,A]=N.useState(null),[d,h]=N.useState("");N.useEffect(()=>{u()},[]);const u=async()=>{try{r(!0);const b=await(await fetch("https://parishofdivinemercy.com/backend/fetch_approved_confirmations.php")).json();b.success?s(b.appointments):A(b.message||"Failed to fetch confirmation appointments")}catch(F){console.error("Error fetching confirmation appointments:",F),A("An error occurred while fetching data")}finally{r(!1)}},v=(F,b)=>{a("/secretary-confirmation-view",{state:{confirmationID:F,status:b}})},x=F=>{h(F.target.value)},y=t.filter(F=>{var K,H,k,Y,D,ge;const b=d.toLowerCase().trim(),S=d.toLowerCase(),f=`${F.firstName} ${F.lastName}`.toLowerCase(),O=new Date(F.date).toISOString().split("T")[0],M=new Date(F.createdAt).toISOString().split("T")[0];return S!==b&&b?((K=F.firstName)==null?void 0:K.toLowerCase().startsWith(b))||((H=F.lastName)==null?void 0:H.toLowerCase().startsWith(b))||f.startsWith(b)||O.startsWith(b)||M.startsWith(b)||((k=F.status)==null?void 0:k.toLowerCase().startsWith(b)):((Y=F.firstName)==null?void 0:Y.toLowerCase().includes(b))||((D=F.lastName)==null?void 0:D.toLowerCase().includes(b))||f.includes(b)||O.includes(b)||M.includes(b)||((ge=F.status)==null?void 0:ge.toLowerCase().includes(b))}),p=()=>{const F=["No.","First Name","Last Name","Date","Time","Created At"],b=t.map(M=>[M.id,M.firstName,M.lastName,M.date,M.time,M.createdAt]),S="data:text/csv;charset=utf-8,"+[F.join(","),...b.map(M=>M.join(","))].join(`
`),f=encodeURI(S),O=document.createElement("a");O.setAttribute("href",f),O.setAttribute("download","confirmation_appointments.csv"),document.body.appendChild(O),O.click(),document.body.removeChild(O)};return e.jsxs("div",{className:"confirmation-container-sc",children:[e.jsx("h1",{className:"title-sc-sc",children:"CONFIRMATION"}),e.jsxs("div",{className:"confirmation-actions-sc-sc",children:[e.jsxs("div",{className:"search-bar-sc-sc",children:[e.jsx("input",{type:"text",placeholder:"Search",value:d,onChange:x}),e.jsx(dt,{icon:vs,className:"search-icon-sc-sc"})]}),e.jsxs("button",{className:"download-button-sb",onClick:p,children:[e.jsx(dt,{icon:xA,style:{marginRight:"8px"}}),"Download"]})]}),i?e.jsx("div",{className:"loading-container-sc",children:"Loading confirmation appointments..."}):c?e.jsx("div",{className:"error-container-sc",children:c}):e.jsxs("table",{className:"confirmation-table-sc",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"No."}),e.jsx("th",{children:"First Name"}),e.jsx("th",{children:"Last Name"}),e.jsx("th",{children:"Date"}),e.jsx("th",{children:"Time"}),e.jsx("th",{children:"Created At"}),e.jsx("th",{children:"Action"})]})}),e.jsx("tbody",{children:y.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:"8",className:"no-data-sc",children:"No confirmation appointments found"})}):y.map(F=>e.jsxs("tr",{children:[e.jsx("td",{children:F.id}),e.jsx("td",{children:F.firstName}),e.jsx("td",{children:F.lastName}),e.jsx("td",{children:new Date(F.date).toISOString().split("T")[0]}),e.jsx("td",{children:F.time}),e.jsx("td",{children:new Date(F.createdAt).toISOString().split("T")[0]}),e.jsx("td",{children:e.jsx("button",{className:"sc-details",onClick:()=>v(F.id,F.status),children:"View"})})]},F.id))})]})]})},HO=()=>{const a=Jt(),[t,s]=N.useState([]),[i,r]=N.useState(!0),[c,A]=N.useState(null),[d,h]=N.useState("");N.useEffect(()=>{u()},[]);const u=async()=>{try{r(!0),console.log("Fetching approved communion data...");const b=await aa.get("https://parishofdivinemercy.com/backend/fetch_approved_communions.php");if(console.log("API response:",b.data),b.data.success){const S=b.data.data.map(f=>({communionID:f.communionID,firstName:f.first_name,lastName:f.last_name,date:f.date,time:f.time,created_at:f.created_at,status:"Approved"}));console.log("Formatted data:",S),s(S)}else console.error("API returned error:",b.data.message),A(b.data.message||"Failed to fetch communion data")}catch(b){console.error("Error fetching communion data:",b),b.response?(console.error("Server response:",b.response.data),A(`Server error (${b.response.status}): ${b.response.data.message||"Unknown server error"}`)):b.request?A("No response received from server. Please check your internet connection and try again."):A(`Error: ${b.message}`)}finally{r(!1)}},v=(b,S)=>{a("/secretary-communion-view",{state:{communionID:b,status:S}})},x=b=>{h(b.target.value)},y=t.filter(b=>{var ge,_,X;if(d.trim()==="")return!0;const S=d.toLowerCase().trim(),f=d.toLowerCase(),O=((ge=b.firstName)==null?void 0:ge.toLowerCase().trim())||"",M=((_=b.lastName)==null?void 0:_.toLowerCase().trim())||"",J=`${O} ${M}`.replace(/\s+/g," "),K=((X=b.status)==null?void 0:X.toLowerCase().trim())||"",H=new Date(b.date).toISOString().split("T")[0],k=new Date(b.created_at).toISOString().split("T")[0],Y=S.replace(/\s+/g," ");return f!==S&&S?O.startsWith(Y)||M.startsWith(Y)||J.startsWith(Y)||H.startsWith(Y)||k.startsWith(Y)||K.startsWith(Y):O.includes(Y)||M.includes(Y)||J.includes(Y)||H.includes(Y)||k.includes(Y)||K.includes(Y)}),p=b=>{if(!b)return"N/A";try{return new Date(b).toISOString().split("T")[0]}catch(S){return console.error("Error formatting date:",S),b}},F=()=>{if(t.length===0){alert("No data available to download");return}const b=["ID","First Name","Last Name","Date","Time","Created At"],S=t.map(J=>[J.communionID,J.firstName,J.lastName,J.date,J.time,J.created_at]),f="data:text/csv;charset=utf-8,"+[b.join(","),...S.map(J=>J.join(","))].join(`
`),O=encodeURI(f),M=document.createElement("a");M.setAttribute("href",O),M.setAttribute("download","approved_communions.csv"),document.body.appendChild(M),M.click(),document.body.removeChild(M)};return e.jsxs("div",{className:"communion-container-sc",children:[e.jsx("h1",{className:"title-sc",children:"COMMUNION"}),e.jsxs("div",{className:"communion-actions-sc",children:[e.jsxs("div",{className:"search-bar-sc",children:[e.jsx("input",{type:"text",placeholder:"Search",value:d,onChange:x}),e.jsx(dt,{icon:vs,className:"search-icon-sc"})]}),e.jsxs("button",{className:"download-button-sb",onClick:F,children:[e.jsx(dt,{icon:xA,style:{marginRight:"8px"}}),"Download"]})]}),i?e.jsx("div",{className:"loading-container-sb",children:"Loading communion data..."}):c?e.jsx("div",{className:"error-container-sb",children:c}):e.jsxs("table",{className:"communion-table-sc",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"No."}),e.jsx("th",{children:"First Name"}),e.jsx("th",{children:"Last Name"}),e.jsx("th",{children:"Date"}),e.jsx("th",{children:"Time"}),e.jsx("th",{children:"Created At"}),e.jsx("th",{children:"Action"})]})}),e.jsx("tbody",{children:y.length===0?e.jsx("tr",{children:e.jsxs("td",{colSpan:"7",className:"no-data-sb",children:["No approved communion applications found. ",d&&"Try a different search term."]})}):y.map((b,S)=>e.jsxs("tr",{children:[e.jsx("td",{children:S+1}),e.jsx("td",{children:b.firstName}),e.jsx("td",{children:b.lastName}),e.jsx("td",{children:p(b.date)}),e.jsx("td",{children:b.time}),e.jsx("td",{children:p(b.created_at)}),e.jsx("td",{children:e.jsx("button",{className:"sc-details",onClick:()=>v(b.communionID,b.status),children:"View"})})]},b.communionID))})]})]})},qO=()=>{const[a,t]=N.useState("PENDING"),[s,i]=N.useState(null),[r,c]=N.useState(!1),[A,d]=N.useState(!1),[h,u]=N.useState(!1),[v,x]=N.useState(""),y=N.useRef(null),[p,F]=N.useState(!1),[b,S]=N.useState(!0),[f,O]=N.useState(null),[M,J]=N.useState(null),K=oa(),H=Jt(),[k,Y]=N.useState(""),[D,ge]=N.useState(""),[_,X]=N.useState("");N.useEffect(()=>{var B,q;const P=(B=K.state)==null?void 0:B.baptismID,z=(q=K.state)==null?void 0:q.status;if(!P){J("Missing baptism information. Please try again."),S(!1);return}z&&t(z),re(P)},[K]),N.useEffect(()=>{console.log("Current priest values:",{selectedPriest:k,baptismDataPriest:f==null?void 0:f.priest})},[k,f]);const re=async P=>{try{S(!0);const B=await(await fetch(`https://parishofdivinemercy.com/backend/fetch_baptism_details.php?baptismID=${P}`)).json();if(B.success){const q=Ne(B.data);O(q),t(q.status||a),q.status==="Approved"?fe(P):(ge(q.date||""),X(q.time||""),Y(q.priest||""))}else J(B.message||"Failed to fetch baptism details")}catch(z){console.error("Error fetching baptism details:",z),J("An error occurred while fetching the data")}finally{S(!1)}},fe=async P=>{try{const B=await(await fetch(`https://parishofdivinemercy.com/backend/fetch_approved_appointment.php?sacramentID=${P}&sacrament_type=Baptism`)).json();B.success&&B.appointment?(ge(B.appointment.date||""),X(B.appointment.time||""),Y(B.appointment.priest||"")):console.log("No approved appointment schedule found or there was an error")}catch(z){console.error("Error fetching approved appointment schedule:",z)}},Ne=P=>{const{baptism:z,parents:B,marital:q,address:te,godFathers:he,godMothers:W,requirements:C,client:Z}=P;return{date:z.dateOfBaptism,time:z.timeOfBaptism,priest:z.priestName,status:z.status,baptismID:z.baptismID,clientID:(Z==null?void 0:Z.clientID)||null,child:{firstName:z.firstName,middleName:z.middleName,lastName:z.lastName,gender:z.sex,age:z.age,dateOfBirth:z.dateOfBirth,placeOfBirth:z.placeOfBirth,region:z.region||""},father:{firstName:(B==null?void 0:B.fatherFirstName)||"N/A",middleName:(B==null?void 0:B.fatherMiddleName)||"N/A",lastName:(B==null?void 0:B.fatherLastName)||"N/A",placeOfBirth:(B==null?void 0:B.fatherPlaceOfBirth)||"N/A",dateOfBirth:(B==null?void 0:B.fatherDateOfBirth)||"N/A",education:(B==null?void 0:B.fatherEducation)||"N/A",occupation:(B==null?void 0:B.fatherOccupation)||"N/A",contact:(B==null?void 0:B.fatherContact)||"N/A"},mother:{firstName:(B==null?void 0:B.motherFirstName)||"N/A",middleName:(B==null?void 0:B.motherMiddleName)||"N/A",lastName:(B==null?void 0:B.motherLastName)||"N/A",placeOfBirth:(B==null?void 0:B.motherPlaceOfBirth)||"N/A",dateOfBirth:(B==null?void 0:B.motherDateOfBirth)||"N/A",education:(B==null?void 0:B.motherEducation)||"N/A",occupation:(B==null?void 0:B.motherOccupation)||"N/A",contact:(B==null?void 0:B.motherContact)||"N/A"},maritalStatus:{type:(q==null?void 0:q.maritalStatus)||"N/A",yearsMarried:(q==null?void 0:q.yearsMarried)||"N/A"},address:{street:(te==null?void 0:te.street)||"N/A",barangay:(te==null?void 0:te.barangay)||"N/A",municipality:(te==null?void 0:te.municipality)||"N/A",province:(te==null?void 0:te.province)||"N/A",region:(te==null?void 0:te.region)||"N/A"},godParents:[...he.map(se=>({name:se,sacraments:"Baptism, Confirmation",address:"N/A"})),...W.map(se=>({name:se,sacraments:"Baptism, Confirmation",address:"N/A"}))],requirements:{birthCert:{submitted:(C==null?void 0:C.birth_cert_status)==="Submitted",fileName:C!=null&&C.birth_cert?C.birth_cert.split("/").pop():"N/A",status:(C==null?void 0:C.birth_cert_status)||"Not Submitted"},marriageCert:{submitted:(C==null?void 0:C.marriage_cert_status)==="Submitted",fileName:C!=null&&C.marriage_cert?C.marriage_cert.split("/").pop():"N/A",status:(C==null?void 0:C.marriage_cert_status)||"Not Submitted"},validIds:{submitted:(C==null?void 0:C.valid_ids_status)==="Submitted",fileName:C!=null&&C.valid_ids?C.valid_ids.split("/").pop():"N/A",status:(C==null?void 0:C.valid_ids_status)||"Not Submitted"}},certificate:{bookNumber:"1",pageNumber:"43",lineNumber:"22",dateIssued:new Date().toISOString().split("T")[0],purposeOf:"Reference"}}},ue=async()=>{if(!f||!f.baptismID){alert("No baptism data available to approve.");return}if(!D){alert("Please select a date for the appointment.");return}if(!_){alert("Please select a time for the appointment.");return}if(!k){alert("Please enter the name of the priest for the baptism.");return}u(!0)},_e=async()=>{u(!1);try{const z=await(await fetch("https://parishofdivinemercy.com/backend/save_approved_appointment.php",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({sacramentID:f.baptismID,sacrament_type:"Baptism",date:D,time:_,priest:k})})).json();if(!z.success)throw new Error(z.message||"Failed to save appointment details");const B=await fetch("https://parishofdivinemercy.com/backend/update_baptism_status.php",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({baptismID:f.baptismID,status:"Approved",date:D,time:_,priest:k})});let q;const te=B.headers.get("content-type");if(te&&te.indexOf("application/json")!==-1)q=await B.json();else{const he=await B.text();throw console.error("Non-JSON response:",he),new Error("Invalid response from server. Please check server logs.")}if(q.success){try{const W=await(await fetch("https://parishofdivinemercy.com/backend/approved_baptism_email.php",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({baptismID:f.baptismID})})).json();W.success?console.log("Email sent successfully:",W.message):console.warn("Email sending failed:",W.message)}catch(he){console.error("Error sending email:",he)}t("Approved"),x("Baptism application has been approved successfully! An email notification has been sent to the client."),d(!0),O({...f,date:D,time:_,priest:k})}else{const he=q.message||"Failed to approve baptism application";x(he),d(!0)}}catch(P){console.error("Error approving baptism application:",P),x("An error occurred while approving the baptism application: "+P.message),d(!0)}},ce=()=>{c(!0)},ye=P=>{if(!P)return"N/A";try{return new Date(P).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})}catch(z){return console.error("Error formatting date:",z),P}},Q=async()=>{if(y.current){F(!0);try{const P=y.current.querySelectorAll("img");await Promise.all([...P].map(Z=>Z.complete?Promise.resolve():new Promise(se=>{Z.onload=se,Z.onerror=se})));const z=await $s(y.current,{scale:2,logging:!1,useCORS:!0,allowTaint:!0,backgroundColor:"#ffffff"}),B=z.toDataURL("image/png"),q=210,te=297,he=z.height*q/z.width,W=new ea("p","mm","a4");W.addImage(B,"PNG",0,0,q,he);const C=`Baptism_Certificate_${f.child.firstName}_${f.child.lastName}.pdf`;W.save(C),c(!1),alert("Certificate downloaded successfully!")}catch(P){console.error("Error generating PDF:",P),alert("Error generating PDF. Please try again.")}finally{F(!1)}}},ne=P=>e.jsx("div",{className:"secretary-view-value",children:P||"N/A"}),U=P=>window.location.hostname==="localhost"||window.location.hostname==="127.0.0.1"?`/backend/uploads/baptism_requirements/${P}`:`/backend/uploads/baptism_requirements/${P}`,V=()=>{if(!s)return null;const P=s.split(".").pop().toLowerCase(),z=["jpg","jpeg","png","gif","webp"].includes(P),B=P==="pdf",q=U(s),te="Document Preview";return e.jsx("div",{className:"secretary-document-viewer-overlay",children:e.jsxs("div",{className:"secretary-document-viewer-container",children:[e.jsx("div",{className:"secretary-document-viewer-header",children:e.jsx("h3",{children:te})}),e.jsxs("div",{className:"secretary-document-viewer-content",children:[z&&e.jsx("img",{src:q,alt:te,style:{maxWidth:"100%",maxHeight:"70vh"},onError:he=>{console.error(`Failed to load image: ${q}`),he.target.src="https://via.placeholder.com/500x300?text=Image+Not+Found",he.target.alt="Document not found"}}),B&&e.jsx("iframe",{src:`${q}#toolbar=0`,title:te,width:"100%",height:"600px",style:{border:"none"},onError:he=>{console.error(`Failed to load PDF: ${q}`),he.target.src="about:blank"}}),!z&&!B&&e.jsxs("div",{className:"secretary-document-placeholder",children:[e.jsx("p",{children:"Document preview not available for this file type."}),e.jsx("a",{href:q,target:"_blank",rel:"noopener noreferrer",className:"secretary-document-download-link",children:"Download to view"})]})]})]})})},T=()=>{var P,z;return!r||!f?null:e.jsx("div",{className:"secretary-document-viewer-overlay",children:e.jsxs("div",{className:"secretary-certificate-modal-container",children:[e.jsxs("div",{className:"secretary-document-viewer-header",children:[e.jsx("h3",{children:"Baptism Certificate"}),e.jsx("button",{className:"secretary-document-close-btn",onClick:()=>c(!1),children:""})]}),e.jsxs("div",{className:"secretary-certificate-modal-content",children:[e.jsx("p",{children:"Would you like to download this certificate?"}),e.jsxs("div",{ref:y,className:"baptism-certificate-preview",children:[e.jsx("div",{className:"certificate-header-bap",children:e.jsxs("div",{className:"certificate-logos",children:[e.jsx("div",{className:"parish-logo-left",children:e.jsx("img",{src:zs,alt:"Parish Logo Left",onError:B=>{B.target.src="https://via.placeholder.com/70x70?text=Church"}})}),e.jsxs("div",{className:"parish-title",children:[e.jsx("div",{className:"diocese-title",children:"DIOCESE OF DAET"}),e.jsx("div",{className:"parish-name",children:"PARISH OF THE DIVINE MERCY"}),e.jsx("div",{className:"parish-address",children:"Alawihao, Daet, Camarines Norte"})]}),e.jsx("div",{className:"parish-logo-right",children:e.jsx("img",{src:Ii,alt:"Parish Logo Right",onError:B=>{B.target.src="https://via.placeholder.com/80x80?text=PDM"}})})]})}),e.jsx("h1",{className:"certificate-title",children:"CERTIFICATE OF BAPTISM"}),e.jsxs("div",{className:"certificate-details",children:[e.jsxs("div",{className:"certificate-row",children:[e.jsx("div",{className:"certificate-label",children:"NAME"}),e.jsxs("div",{className:"certificate-value",children:[f.child.firstName," ",f.child.middleName," ",f.child.lastName]})]}),e.jsxs("div",{className:"certificate-row",children:[e.jsx("div",{className:"certificate-label",children:"DATE OF BIRTH"}),e.jsx("div",{className:"certificate-value",children:ye(f.child.dateOfBirth)})]}),e.jsxs("div",{className:"certificate-row",children:[e.jsx("div",{className:"certificate-label",children:"PLACE OF BIRTH"}),e.jsx("div",{className:"certificate-value",children:f.child.placeOfBirth})]}),e.jsxs("div",{className:"certificate-row",children:[e.jsx("div",{className:"certificate-label",children:"LEGITIMACY"}),e.jsx("div",{className:"certificate-value",children:f.maritalStatus.type==="Married"?"Legitimate":"Natural"})]}),e.jsxs("div",{className:"certificate-row",children:[e.jsx("div",{className:"certificate-label",children:"FATHER"}),e.jsxs("div",{className:"certificate-value",children:[f.father.firstName," ",f.father.middleName," ",f.father.lastName]})]}),e.jsxs("div",{className:"certificate-row",children:[e.jsx("div",{className:"certificate-label",children:"PLACE OF BIRTH"}),e.jsx("div",{className:"certificate-value",children:f.father.placeOfBirth})]}),e.jsxs("div",{className:"certificate-row",children:[e.jsx("div",{className:"certificate-label",children:"MOTHER"}),e.jsxs("div",{className:"certificate-value",children:[f.mother.firstName," ",f.mother.middleName," ",f.mother.lastName]})]}),e.jsxs("div",{className:"certificate-row",children:[e.jsx("div",{className:"certificate-label",children:"PLACE OF BIRTH"}),e.jsx("div",{className:"certificate-value",children:f.mother.placeOfBirth})]}),e.jsxs("div",{className:"certificate-row",children:[e.jsx("div",{className:"certificate-label",children:"DATE OF BAPTISM"}),e.jsx("div",{className:"certificate-value",children:ye(D||f.date)})]}),e.jsxs("div",{className:"certificate-row",children:[e.jsx("div",{className:"certificate-label",children:"RESIDENCE"}),e.jsxs("div",{className:"certificate-value",children:[f.address.street,", ",f.address.barangay,", ",f.address.municipality,", ",f.address.province]})]}),e.jsxs("div",{className:"certificate-row",children:[e.jsx("div",{className:"certificate-label",children:"MINISTER"}),e.jsx("div",{className:"certificate-value",children:k||f.priest||"N/A"})]}),f.godParents.length>0&&e.jsx(e.Fragment,{children:e.jsxs("div",{className:"certificate-row",children:[e.jsx("div",{className:"certificate-label",children:"GODFATHER"}),e.jsx("div",{className:"certificate-value",children:((P=f.godParents[0])==null?void 0:P.name)||"N/A"})]})}),f.godParents.length>1&&e.jsx(e.Fragment,{children:e.jsxs("div",{className:"certificate-row",children:[e.jsx("div",{className:"certificate-label",children:"GODMOTHER"}),e.jsx("div",{className:"certificate-value",children:((z=f.godParents[1])==null?void 0:z.name)||"N/A"})]})})]}),e.jsx("div",{className:"certificate-footer",children:e.jsxs("div",{className:"certificate-reference",children:[e.jsxs("div",{className:"reference-row",children:[e.jsx("span",{className:"reference-label",children:"Book Number"}),e.jsx("span",{className:"reference-value",children:f.certificate.bookNumber})]}),e.jsxs("div",{className:"reference-row",children:[e.jsx("span",{className:"reference-label",children:"Page and Line Number"}),e.jsxs("span",{className:"reference-value",children:[f.certificate.pageNumber,"/",f.certificate.lineNumber]})]}),e.jsxs("div",{className:"reference-row",children:[e.jsx("span",{className:"reference-label",children:"Date Issued"}),e.jsx("span",{className:"reference-value",children:ye(f.certificate.dateIssued)})]}),e.jsxs("div",{className:"reference-row",children:[e.jsx("span",{className:"reference-label",children:"For the purpose of"}),e.jsx("span",{className:"reference-value",children:f.certificate.purposeOf})]})]})})]}),e.jsx("div",{className:"secretary-certificate-modal-actions",children:e.jsx("button",{className:"secretary-certificate-download-btn",onClick:Q,disabled:p,children:p?"Processing...":e.jsxs(e.Fragment,{children:[e.jsx(gs,{})," Download"]})})})]})]})})},ie=()=>{if(!A)return null;const P=v.includes("successfully"),z=P?"success":"error",B=()=>{d(!1),P&&H("/secretary-baptism")};return e.jsx("div",{className:"secretary-document-viewer-overlay",children:e.jsxs("div",{className:`secretary-${z}-modal-container`,children:[e.jsxs("div",{className:`secretary-${z}-header`,children:[e.jsx("h3",{children:P?"Success":"Error"}),e.jsx("button",{className:"secretary-document-close-btn",onClick:()=>d(!1),children:""})]}),e.jsxs("div",{className:`secretary-${z}-content`,children:[e.jsx("div",{className:`secretary-${z}-icon`,children:P?"":"!"}),e.jsx("p",{children:v}),e.jsx("button",{className:`secretary-${z}-ok-btn`,onClick:B,children:"OK"})]})]})})},ae=()=>h?e.jsx("div",{className:"secretary-document-viewer-overlay",children:e.jsxs("div",{className:"secretary-confirm-modal-container",children:[e.jsxs("div",{className:"secretary-confirm-header",children:[e.jsx("h3",{children:"Confirm Approval"}),e.jsx("button",{className:"secretary-document-close-btn",onClick:()=>u(!1),children:""})]}),e.jsxs("div",{className:"secretary-confirm-content",children:[e.jsx("div",{className:"secretary-confirm-icon",children:"?"}),e.jsx("p",{children:"Are you sure you want to approve this baptism appointment?"}),e.jsxs("p",{children:["Date: ",D]}),e.jsxs("p",{children:["Time: ",_]}),e.jsxs("p",{children:["Priest: ",k]}),e.jsxs("div",{className:"secretary-confirm-buttons",children:[e.jsx("button",{className:"secretary-confirm-yes-btn",onClick:_e,children:"Yes, Approve"}),e.jsx("button",{className:"secretary-confirm-no-btn",onClick:()=>u(!1),children:"Cancel"})]})]})]})}):null;return b?e.jsx("div",{className:"secretary-baptism-view-container",children:e.jsx("div",{className:"secretary-baptism-view-loading",children:"Loading baptism details..."})}):M?e.jsx("div",{className:"secretary-baptism-view-container",children:e.jsxs("div",{className:"secretary-baptism-view-error",children:[e.jsx("p",{children:M}),e.jsx("button",{onClick:()=>H(-1),children:"Back"})]})}):f?e.jsxs("div",{className:"secretary-baptism-view-container",children:[V(),T(),ie(),ae(),e.jsxs("div",{className:"secretary-baptism-view-header",children:[e.jsx("div",{className:"secretary-view-left-section",children:e.jsxs("button",{className:"secretary-view-back-button",onClick:()=>H(-1),children:[e.jsx(Oa,{className:"secretary-view-back-icon"})," Back"]})}),e.jsx("div",{className:"secretary-view-right-section",children:a==="Approved"&&e.jsxs("button",{className:"secretary-download-certificate-btn",onClick:ce,children:[e.jsx(gs,{})," Download Certificate"]})})]}),e.jsx("h1",{className:"secretary-view-title",children:"Baptism Application Details"}),e.jsxs("div",{className:"secretary-baptismal-view-data",children:[e.jsxs("div",{className:"secretary-anointing-view-info-card",children:[e.jsx("h3",{className:"secretary-funeral-view-sub-title",children:"Appointment Request Details"}),e.jsxs("div",{className:"secretary-baptismal-view-row-date",children:[e.jsxs("div",{className:"secretary-baptismal-view-field-date",children:[e.jsx("label",{children:"Date of Appointment:"}),ne(ye(f.date))]}),e.jsxs("div",{className:"secretary-baptismal-view-field-time",children:[e.jsx("label",{children:"Time of Appointment:"}),ne(f.time)]})]})]}),e.jsxs("div",{className:"secretary-view-bypart",children:[e.jsx("h3",{className:"secretary-view-sub-title",children:"Baptism Information"}),e.jsxs("div",{className:"secretary-baptismal-view-info-card",children:[e.jsxs("div",{className:"secretary-baptismal-view-row",children:[e.jsxs("div",{className:"secretary-baptismal-view-field",children:[e.jsx("label",{children:"First Name of the Baptized:"}),ne(f.child.firstName)]}),e.jsxs("div",{className:"secretary-baptismal-view-field",children:[e.jsx("label",{children:"Middle Name of the Baptized:"}),ne(f.child.middleName)]}),e.jsxs("div",{className:"secretary-baptismal-view-field",children:[e.jsx("label",{children:"Last Name of the Baptized:"}),ne(f.child.lastName)]})]}),e.jsxs("div",{className:"secretary-baptismal-view-row",children:[e.jsxs("div",{className:"secretary-baptismal-view-field",children:[e.jsx("label",{children:"Date of Birth:"}),ne(ye(f.child.dateOfBirth))]}),e.jsxs("div",{className:"secretary-baptismal-view-field",children:[e.jsx("label",{children:"Age:"}),ne(f.child.age)]}),e.jsxs("div",{className:"secretary-baptismal-view-field",children:[e.jsx("label",{children:"Gender:"}),ne(f.child.gender)]})]}),e.jsxs("div",{className:"secretary-baptismal-view-row",children:[e.jsxs("div",{className:"secretary-baptismal-view-field",children:[e.jsx("label",{children:"Place of Birth:"}),ne(f.child.placeOfBirth)]}),e.jsxs("div",{className:"secretary-baptismal-view-field",children:[e.jsx("label",{children:"Region of Birth:"}),ne(f.child.region)]})]})]}),e.jsx("h3",{className:"secretary-view-sub-title",children:"Father Information"}),e.jsxs("div",{className:"secretary-baptismal-view-info-card",children:[e.jsxs("div",{className:"secretary-baptismal-view-row",children:[e.jsxs("div",{className:"secretary-baptismal-view-field",children:[e.jsx("label",{children:"Father's First Name:"}),ne(f.father.firstName)]}),e.jsxs("div",{className:"secretary-baptismal-view-field",children:[e.jsx("label",{children:"Father's Middle Name:"}),ne(f.father.middleName)]}),e.jsxs("div",{className:"secretary-baptismal-view-field",children:[e.jsx("label",{children:"Father's Last Name:"}),ne(f.father.lastName)]})]}),e.jsxs("div",{className:"secretary-baptismal-view-row",children:[e.jsxs("div",{className:"secretary-baptismal-view-field",children:[e.jsx("label",{children:"Father's Date of Birth:"}),ne(ye(f.father.dateOfBirth))]}),e.jsxs("div",{className:"secretary-baptismal-view-field",children:[e.jsx("label",{children:"Father's Contact Number:"}),ne(f.father.contact)]}),e.jsxs("div",{className:"secretary-baptismal-view-field",children:[e.jsx("label",{children:"Father's Place of Birth:"}),ne(f.father.placeOfBirth)]})]})]}),e.jsx("h3",{className:"secretary-view-sub-title",children:"Mother Information"}),e.jsxs("div",{className:"secretary-baptismal-view-info-card",children:[e.jsxs("div",{className:"secretary-baptismal-view-row",children:[e.jsxs("div",{className:"secretary-baptismal-view-field",children:[e.jsx("label",{children:"Mother's First Name:"}),ne(f.mother.firstName)]}),e.jsxs("div",{className:"secretary-baptismal-view-field",children:[e.jsx("label",{children:"Mother's Middle Name:"}),ne(f.mother.middleName)]}),e.jsxs("div",{className:"secretary-baptismal-view-field",children:[e.jsx("label",{children:"Mother's Last Name:"}),ne(f.mother.lastName)]})]}),e.jsxs("div",{className:"secretary-baptismal-view-row",children:[e.jsxs("div",{className:"secretary-baptismal-view-field",children:[e.jsx("label",{children:"Mother's Date of Birth:"}),ne(ye(f.mother.dateOfBirth))]}),e.jsxs("div",{className:"secretary-baptismal-view-field",children:[e.jsx("label",{children:"Mother's Contact Number:"}),ne(f.mother.contact)]}),e.jsxs("div",{className:"secretary-baptismal-view-field",children:[e.jsx("label",{children:"Mother's Place of Birth:"}),ne(f.mother.placeOfBirth)]})]})]}),e.jsx("h3",{className:"secretary-view-sub-title",children:"Parents Marital Status"}),e.jsxs("div",{className:"secretary-baptismal-view-info-card",children:[e.jsxs("div",{className:"secretary-baptismal-view-row-pms",children:[e.jsxs("div",{className:"secretary-marital-view-status",children:[e.jsx("label",{className:"secretary-view-section-label",children:"Parents' marital status:"}),e.jsxs("div",{className:"secretary-marital-view-options",children:[e.jsxs("div",{className:`secretary-view-pms-label ${f.maritalStatus.type==="Married"?"secretary-view-selected-status":""}`,children:[e.jsx("span",{className:`secretary-view-checkbox ${f.maritalStatus.type==="Married"?"secretary-view-checked":""}`}),e.jsx("label",{children:"Married"})]}),e.jsxs("div",{className:`secretary-view-pms-label ${f.maritalStatus.type==="Civil"?"secretary-view-selected-status":""}`,children:[e.jsx("span",{className:`secretary-view-checkbox ${f.maritalStatus.type==="Civil"?"secretary-view-checked":""}`}),e.jsx("label",{children:"Civil"})]}),e.jsxs("div",{className:`secretary-view-pms-label ${f.maritalStatus.type==="Living Together"?"secretary-view-selected-status":""}`,children:[e.jsx("span",{className:`secretary-view-checkbox ${f.maritalStatus.type==="Living Together"?"secretary-view-checked":""}`}),e.jsx("label",{children:"Living Together"})]})]})]}),e.jsxs("div",{className:"secretary-years-view-married",children:[e.jsx("label",{children:"Number of Years Married: "}),e.jsx("span",{className:"secretary-view-years",children:f.maritalStatus.yearsMarried})]})]}),e.jsxs("div",{className:"secretary-baptismal-view-row secretary-address-view-row",children:[e.jsxs("div",{className:"secretary-baptismal-view-field",children:[e.jsx("label",{children:"Street:"}),ne(f.address.street)]}),e.jsxs("div",{className:"secretary-baptismal-view-field",children:[e.jsx("label",{children:"Barangay:"}),ne(f.address.barangay)]}),e.jsxs("div",{className:"secretary-baptismal-view-field",children:[e.jsx("label",{children:"Municipality:"}),ne(f.address.municipality)]})]}),e.jsxs("div",{className:"secretary-baptismal-view-row secretary-address-view-row",children:[e.jsxs("div",{className:"secretary-baptismal-view-field",children:[e.jsx("label",{children:"Province:"}),ne(f.address.province)]}),e.jsxs("div",{className:"secretary-baptismal-view-field",children:[e.jsx("label",{children:"Region:"}),ne(f.address.region)]})]})]}),e.jsxs("div",{className:"secretary-view-bypart",children:[e.jsx("h3",{className:"secretary-view-sub-title",children:"Godparents Information"}),e.jsx("div",{className:"secretary-baptismal-view-info-card",children:f.godParents.map((P,z)=>e.jsxs("div",{className:"secretary-godparent-item",children:[e.jsx("h4",{className:"secretary-baptismal-view-godparent-header",children:z===0?"Godfather (Ninong)":"Godmother (Ninang)"}),e.jsx("div",{className:"secretary-baptismal-view-row",children:e.jsxs("div",{className:"secretary-baptismal-view-field",children:[e.jsx("label",{children:z===0?"Godfather's Name:":"Godmother's Name:"}),ne(P.name)]})}),z<f.godParents.length-1&&e.jsx("hr",{className:"secretary-baptismal-view-godparent-divider"})]},z))})]})]}),e.jsxs("div",{className:"secretary-requirements-view-container",children:[e.jsx("h2",{className:"secretary-requirements-view-title",children:"Requirements"}),e.jsxs("div",{className:"secretary-requirements-view-box",children:[e.jsx("h3",{className:"secretary-view-section-header",children:"Documents Required"}),e.jsxs("div",{className:"secretary-info-view-list",children:[e.jsx("div",{className:"secretary-info-view-item",children:e.jsx("p",{children:"Birth Certificate of the Child (PSA or local civil registrar copy)"})}),e.jsx("div",{className:"secretary-info-view-item",children:e.jsx("p",{children:"Parents' Marriage Certificate (If married in the Church)"})}),e.jsx("div",{className:"secretary-info-view-item",children:e.jsx("p",{children:"Valid IDs of Parents and Godparents"})}),e.jsx("div",{className:"secretary-info-view-item",children:e.jsx("p",{children:"Certificate of Permission(If outside the Parish)"})})]}),e.jsx("h3",{className:"secretary-view-section-header",children:"Requirements for Parent"}),e.jsxs("div",{className:"secretary-info-view-list",children:[e.jsx("div",{className:"secretary-info-view-item",children:e.jsx("p",{children:"At least one parent must be Catholic"})}),e.jsx("div",{className:"secretary-info-view-item",children:e.jsx("p",{children:"Parents should be willing to raise the child in the Catholic faith"})}),e.jsx("div",{className:"secretary-info-view-item",children:e.jsx("p",{children:"Must attend Pre-Baptismal Seminar (Required in most parishes)"})})]}),e.jsx("h3",{className:"secretary-view-section-header",children:"Requirements for Godparents"}),e.jsxs("div",{className:"secretary-info-view-list",children:[e.jsx("div",{className:"secretary-info-view-item",children:e.jsx("p",{children:"Must be a practicing Catholic"})}),e.jsx("div",{className:"secretary-info-view-item",children:e.jsx("p",{children:"Must have received the Sacraments of Baptism, Confirmation, and Holy Eucharist"})}),e.jsx("div",{className:"secretary-info-view-item",children:e.jsx("p",{children:"Must be at least 16 years old"})}),e.jsx("div",{className:"secretary-info-view-item",children:e.jsx("p",{children:"If married, must be married in the Catholic Church"})}),e.jsx("div",{className:"secretary-info-view-item",children:e.jsx("p",{children:"Confirmation Certificate (Some parishes require this for proof of faith practice)"})}),e.jsx("div",{className:"secretary-info-view-item",children:e.jsx("p",{children:"Certificate of Permission (if outside the Parish)"})})]})]})]}),e.jsxs("div",{className:"secretary-baptismal-view-info-card",children:[e.jsx("h3",{className:"secretary-view-sub-title",children:"Schedule Selection"}),e.jsxs("div",{className:"secretary-baptismal-view-row-date",children:[e.jsxs("div",{className:"secretary-baptismal-view-field-date",children:[e.jsx("label",{children:"Date of Baptism:"}),e.jsx("input",{type:"date",className:"secretary-view-input",value:D,onChange:P=>ge(P.target.value),disabled:a==="Approved"})]}),e.jsxs("div",{className:"secretary-baptismal-view-field-time",children:[e.jsx("label",{children:"Time of Baptism:"}),e.jsx("input",{type:"time",className:"secretary-view-input",value:_,onChange:P=>X(P.target.value),disabled:a==="Approved"})]})]}),e.jsxs("div",{className:"secretary-baptismal-view-field-date",children:[e.jsx("label",{children:"Name of the Priest:"}),a==="Approved"?ne(k||f.priest||"N/A"):e.jsx("input",{type:"text",className:"secretary-view-input",value:k,onChange:P=>Y(P.target.value),placeholder:"Enter the name of the priest",disabled:a==="Approved"})]})]}),e.jsx("div",{className:"secretary-action-buttons",children:a!=="Approved"&&e.jsx("button",{className:"secretary-bap-submit-button",onClick:ue,children:"Approve"})})]})]}):e.jsx("div",{className:"secretary-baptism-view-container",children:e.jsxs("div",{className:"secretary-baptism-view-error",children:[e.jsx("p",{children:"No baptism data found."}),e.jsx("button",{onClick:()=>H(-1),children:"Back"})]})})},KO=()=>{const[a,t]=N.useState("PENDING"),[s,i]=N.useState(null),[r,c]=N.useState(!1),[A,d]=N.useState(!1),[h,u]=N.useState(!1),[v,x]=N.useState(""),y=N.useRef(null),[p,F]=N.useState(!1),[b,S]=N.useState(!0),[f,O]=N.useState(null),[M,J]=N.useState(null),K=oa(),H=Jt(),[k,Y]=N.useState(""),[D,ge]=N.useState(""),[_,X]=N.useState(""),re="https://parishofdivinemercy.com/backend";N.useEffect(()=>{var te,he;const B=(te=K.state)==null?void 0:te.confirmationID,q=(he=K.state)==null?void 0:he.status;if(console.log("Component mounted, location state:",K.state),console.log("confirmationID:",B),console.log("statusFromNav:",q),!B){J("Missing confirmation information. Please try again."),S(!1);return}q&&t(q),fe(B,q)},[K]);const fe=async(B,q)=>{try{S(!0),console.log(`Fetching confirmation details for ID: ${B}, statusFromNav: ${q}`);const he=await(await fetch(`${re}/fetch_confirmation_details.php?confirmationID=${B}`)).json();if(console.log("API response data:",he),he.success){const W=ue(he.data);console.log("Transformed confirmation data:",W),O(W);const C=q||W.status||"PENDING";t(C),console.log("Setting status to:",C),Y(""),ge(""),X(""),!await Ne(B)&&C!=="Approved"&&(Y(W.date||""),ge(W.time||""),X(W.priest||""),console.log("Using data from confirmation application:",{date:W.date,time:W.time,priest:W.priest}))}else J(he.message||"Failed to fetch confirmation details")}catch(te){console.error("Error fetching confirmation details:",te),J("An error occurred while fetching the data")}finally{S(!1)}},Ne=async B=>{try{console.log("Fetching approved appointment details for confirmationID:",B);const q=await fetch(`${re}/fetch_approved_appointment.php?sacramentID=${B}&sacrament_type=Confirmation`);if(!q.ok)return console.error("Error response:",q.status),!1;const te=await q.json();return console.log("Approved appointment data response:",te),te.success&&te.appointment?(console.log("Setting appointment values from approved_appointments DB:",{date:te.appointment.date,time:te.appointment.time,priest:te.appointment.priest}),Y(te.appointment.date||""),ge(te.appointment.time||""),X(te.appointment.priest||""),!0):(console.log("No approved appointment schedule found or there was an error"),!1)}catch(q){return console.error("Error fetching approved appointment schedule:",q),!1}},ue=B=>{const{confirmation:q,address:te,father:he,mother:W,requirements:C}=B;console.log("Original API data:",B),console.log("Requirements data:",C);const Z={date:q.date,time:q.time,priest:q.priest,status:q.status,confirmationID:q.confirmationID,candidate:{firstName:q.first_name,middleName:q.middle_name,lastName:q.last_name,gender:q.gender,age:q.age,dateOfBirth:q.dateOfBirth,dateOfBaptism:q.dateOfBaptism,churchOfBaptism:q.churchOfBaptism,placeOfBirth:q.placeOfBirth||"N/A"},father:{firstName:(he==null?void 0:he.first_name)||"N/A",middleName:(he==null?void 0:he.middle_name)||"N/A",lastName:(he==null?void 0:he.last_name)||"N/A",placeOfBirth:(he==null?void 0:he.placeOfBirth)||"N/A",dateOfBirth:(he==null?void 0:he.dateOfBirth)||"N/A",contact:(he==null?void 0:he.contact_number)||"N/A"},mother:{firstName:(W==null?void 0:W.first_name)||"N/A",middleName:(W==null?void 0:W.middle_name)||"N/A",lastName:(W==null?void 0:W.last_name)||"N/A",placeOfBirth:(W==null?void 0:W.placeOfBirth)||"N/A",dateOfBirth:(W==null?void 0:W.dateOfBirth)||"N/A",contact:(W==null?void 0:W.contact_number)||"N/A"},address:{street:(te==null?void 0:te.street)||"N/A",barangay:(te==null?void 0:te.barangay)||"N/A",municipality:(te==null?void 0:te.municipality)||"N/A",province:(te==null?void 0:te.province)||"N/A",region:(te==null?void 0:te.region)||"N/A"},sponsor:{name:"To be assigned",address:"N/A"},requirements:{baptismCert:{submitted:(C==null?void 0:C.baptism_cert_status)==="Submitted",fileName:(C==null?void 0:C.baptism_cert)||"N/A",status:(C==null?void 0:C.baptism_cert_status)||"Not Submitted"},birthCert:{submitted:(C==null?void 0:C.birth_cert_status)==="Submitted",fileName:(C==null?void 0:C.birth_cert)||"N/A",status:(C==null?void 0:C.birth_cert_status)||"Not Submitted"},validIds:{submitted:(C==null?void 0:C.valid_ids_status)==="Submitted",fileName:(C==null?void 0:C.valid_ids)||"N/A",status:(C==null?void 0:C.valid_ids_status)||"Not Submitted"}},certificate:{registerNumber:"1",pageNumber:"97",lineNumber:"6",dateIssued:new Date().toISOString().split("T")[0],purposeOf:"Marriage"}};return console.log("Transformed requirements:",Z.requirements),Z},_e=async()=>{if(!f||!f.confirmationID){alert("No confirmation data available to approve.");return}if(!k){alert("Please select a date for the confirmation.");return}if(!D){alert("Please select a time for the confirmation.");return}if(!_){alert("Please enter the name of the priest for the confirmation.");return}console.log("Submit values:",{selectedDate:k,selectedTime:D,selectedPriest:_}),u(!0)},ce=async()=>{u(!1);try{console.log(`Approving confirmation application with ID: ${f.confirmationID}`);const q=await(await fetch(`${re}/save_approved_appointment.php`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({sacramentID:f.confirmationID,sacrament_type:"Confirmation",date:k,time:D,priest:_})})).json();if(console.log("Appointment save result:",q),!q.success)throw new Error(q.message||"Failed to save appointment details");const te=await fetch(`${re}/update_confirmation_status.php`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({confirmationID:f.confirmationID,status:"Approved",date:k,time:D,priest:_})});let he;const W=te.headers.get("content-type");if(W&&W.indexOf("application/json")!==-1)he=await te.json();else{const C=await te.text();throw console.error("Non-JSON response:",C),new Error("Invalid response from server. Please check server logs.")}if(he.success){try{const Z=await(await fetch(`${re}/approved_confirmation_email.php`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({confirmationID:f.confirmationID,date:k,time:D,priest:_})})).json();Z.success?console.log("Email sent successfully:",Z.message):console.warn("Email sending failed:",Z.message)}catch(C){console.error("Error sending email:",C)}t("Approved"),O({...f,date:k,time:D,priest:_,status:"Approved"}),x("Confirmation application has been approved successfully! An email notification has been sent to the client."),d(!0)}else{const C=he.message||"Failed to approve confirmation application";x(C),d(!0)}}catch(B){console.error("Error approving confirmation application:",B),x("An error occurred while approving the confirmation application: "+B.message),d(!0)}},ye=()=>{c(!0)},Q=B=>{if(!B)return"N/A";try{return new Date(B).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})}catch(q){return console.error("Error formatting date:",q),B}},ne=B=>{if(!B)return{month:"N/A",day:"N/A"};try{const q=new Date(B),te=q.toLocaleDateString("en-US",{month:"long"}),he=q.getDate();return{month:te,day:he}}catch(q){return console.error("Error extracting month and day:",q),{month:"N/A",day:"N/A"}}},U=async()=>{if(y.current){F(!0);try{const B=y.current.querySelectorAll("img");await Promise.all([...B].map(Se=>Se.complete?Promise.resolve():new Promise(He=>{Se.onload=He,Se.onerror=He})));const q=await $s(y.current,{scale:2,logging:!1,useCORS:!0,allowTaint:!0,backgroundColor:"#ffffff"}),te=q.toDataURL("image/png"),he=210,W=297,C=q.height*he/q.width,Z=new ea("p","mm","a4");Z.addImage(te,"PNG",0,0,he,C);const se=`Confirmation_Certificate_${f.candidate.firstName}_${f.candidate.lastName}.pdf`;Z.save(se),c(!1),alert("Certificate downloaded successfully!")}catch(B){console.error("Error generating PDF:",B),alert("Error generating PDF. Please try again.")}finally{F(!1)}}},V=B=>e.jsx("div",{className:"secretary-conf-view-value",children:B||"N/A"}),T=B=>window.location.hostname==="localhost"||window.location.hostname==="127.0.0.1"?`/uploads/confirmation_requirements/${B}`:`/uploads/confirmation_requirements/${B}`,ie=()=>{if(!s)return null;const B=s.split(".").pop().toLowerCase(),q=["jpg","jpeg","png","gif","webp"].includes(B),te=B==="pdf",he=T(s),W="Document Preview";return e.jsx("div",{className:"secretary-conf-document-viewer-overlay",children:e.jsxs("div",{className:"secretary-conf-document-viewer-container",children:[e.jsxs("div",{className:"secretary-conf-document-viewer-header",children:[e.jsx("h3",{children:W}),e.jsx("button",{className:"secretary-conf-document-close-btn",onClick:()=>i(null),children:""})]}),e.jsxs("div",{className:"secretary-conf-document-viewer-content",children:[q&&e.jsx("img",{src:he,alt:W,style:{maxWidth:"100%",maxHeight:"70vh"},onError:C=>{console.error(`Failed to load image: ${he}`),C.target.src="https://via.placeholder.com/500x300?text=Image+Not+Found",C.target.alt="Document not found"}}),te&&e.jsx("iframe",{src:`${he}#toolbar=0`,title:W,width:"100%",height:"600px",style:{border:"none"},onError:C=>{console.error(`Failed to load PDF: ${he}`),C.target.src="about:blank"}}),!q&&!te&&e.jsxs("div",{className:"secretary-conf-document-placeholder",children:[e.jsx("p",{children:"Document preview not available for this file type."}),e.jsx("a",{href:he,target:"_blank",rel:"noopener noreferrer",className:"secretary-conf-document-download-link",children:"Download to view"})]})]})]})})},ae=()=>{if(!r||!f)return null;const{month:B,day:q}=ne(k||f.date),te=new Date(k||f.date).getFullYear();return e.jsx("div",{className:"secretary-conf-document-viewer-overlay",children:e.jsxs("div",{className:"secretary-conf-certificate-modal-container",children:[e.jsxs("div",{className:"secretary-conf-document-viewer-header",children:[e.jsx("h3",{children:"Confirmation Certificate"}),e.jsx("button",{className:"secretary-conf-document-close-btn",onClick:()=>c(!1),children:""})]}),e.jsxs("div",{className:"secretary-conf-certificate-modal-content",children:[e.jsx("p",{children:"Would you like to download this certificate?"}),e.jsxs("div",{ref:y,className:"confirmation-certificate-preview",children:[e.jsxs("div",{className:"confirmation-certificate-header",children:[e.jsxs("div",{className:"confirmation-certificate-logos",children:[e.jsx("div",{className:"confirmation-parish-logo-left",children:e.jsx("img",{src:zs,alt:"Parish Logo Left",onError:he=>{he.target.src="https://via.placeholder.com/70x70?text=Church"}})}),e.jsxs("div",{className:"parish-title",children:[e.jsx("div",{className:"diocese-title",children:"DIOCESE OF DAET"}),e.jsx("div",{className:"parish-name",children:"PARISH OF THE DIVINE MERCY"}),e.jsx("div",{className:"parish-address",children:"Alawihao, Daet, 4600 Camarines Norte, Philippines"})]}),e.jsx("div",{className:"confirmation-parish-logo-right",children:e.jsx("img",{src:Ii,alt:"Parish Logo Right",onError:he=>{he.target.src="https://via.placeholder.com/80x80?text=PDM"}})})]}),e.jsx("h1",{className:"certificate-title",children:"Certificate of Confirmation"}),e.jsx("p",{className:"certificate-subtitle",children:"This is to certify that"})]}),e.jsxs("div",{className:"confirmation-certificate-details",children:[e.jsxs("div",{className:"cert-field name-field",children:[e.jsxs("div",{className:"cert-value",children:[f.candidate.firstName," ",f.candidate.middleName," ",f.candidate.lastName]}),e.jsx("div",{className:"cert-label",children:"(Name of child)"})]}),e.jsxs("div",{className:"cert-row",children:[e.jsxs("div",{className:"cert-field",children:[e.jsxs("div",{className:"cert-value",children:[f.father.firstName," ",f.father.middleName," ",f.father.lastName]}),e.jsx("div",{className:"cert-label",children:"(Father's Name)"})]}),e.jsx("div",{className:"cert-field",children:e.jsx("div",{className:"cert-text",children:"and"})}),e.jsxs("div",{className:"cert-field",children:[e.jsxs("div",{className:"cert-value",children:[f.mother.firstName," ",f.mother.middleName," ",f.mother.lastName]}),e.jsx("div",{className:"cert-label",children:"(Mother's Name)"})]})]}),e.jsxs("div",{className:"cert-field residence-field",children:[e.jsxs("div",{className:"cert-value",children:[f.address.barangay,", ",f.address.street,", ",f.address.municipality,", ",f.address.province,", ",f.address.region]}),e.jsx("div",{className:"cert-label",children:"(Residence)"})]}),e.jsxs("div",{className:"cert-field birth-place-field",children:[e.jsx("div",{className:"cert-value",children:f.candidate.placeOfBirth}),e.jsx("div",{className:"cert-label",children:"(Place of Birth)"})]}),e.jsxs("div",{className:"cert-field baptism-field",children:[e.jsx("div",{className:"cert-value",children:f.candidate.churchOfBaptism}),e.jsx("div",{className:"cert-label",children:"(Was Baptized at)"})]}),e.jsxs("div",{className:"cert-field confirmation-date-field",children:[e.jsx("div",{className:"cert-prefix",children:"Was Confirmed on the"}),e.jsxs("div",{className:"cert-value",children:[q,"th"]}),e.jsx("div",{className:"cert-prefix",children:"day of"}),e.jsx("div",{className:"cert-value",children:B}),e.jsx("div",{className:"cert-prefix",children:"in the year"}),e.jsx("div",{className:"cert-value",children:te})]}),e.jsx("div",{className:"cert-field rites-field",children:e.jsx("div",{className:"cert-value",children:"According to the Rites of the Roman Catholic Church"})}),e.jsxs("div",{className:"cert-field minister-field",children:[e.jsx("div",{className:"cert-prefix",children:"by the Most Rev."}),e.jsx("div",{className:"cert-value",children:_||f.priest})]}),e.jsxs("div",{className:"cert-field sponsor-field",children:[e.jsx("div",{className:"cert-prefix",children:"the Sponsor is"}),e.jsx("div",{className:"cert-value",children:f.sponsor.name})]}),e.jsxs("div",{className:"cert-field register-field",children:[e.jsx("div",{className:"cert-prefix",children:"as appears on Confirmation Register No."}),e.jsx("div",{className:"cert-value",children:f.certificate.registerNumber}),e.jsx("div",{className:"cert-prefix",children:"Page"}),e.jsx("div",{className:"cert-value",children:f.certificate.pageNumber}),e.jsx("div",{className:"cert-prefix",children:"Line"}),e.jsx("div",{className:"cert-value",children:f.certificate.lineNumber})]}),e.jsxs("div",{className:"cert-field purpose-field",children:[e.jsx("div",{className:"cert-prefix",children:"This certificate was given for the purpose of"}),e.jsx("div",{className:"cert-value",children:f.certificate.purposeOf})]}),e.jsxs("div",{className:"cert-field date-issued-field",children:[e.jsx("div",{className:"cert-prefix",children:"Date Issued:"}),e.jsx("div",{className:"cert-value",children:Q(f.certificate.dateIssued)})]}),e.jsxs("div",{className:"cert-field signature-field",children:[e.jsx("div",{className:"cert-value parish-seal",children:"Parish Seal"}),e.jsx("div",{className:"cert-value signature-line",children:(_||f.priest).toUpperCase().startsWith("REV")||(_||f.priest).toUpperCase().startsWith("FR")?(_||f.priest).toUpperCase():`REV. FR. ${(_||f.priest).toUpperCase()}`}),e.jsx("div",{className:"cert-label",children:"(Parish Priest)"})]})]})]}),e.jsx("div",{className:"secretary-conf-certificate-modal-actions",children:e.jsx("button",{className:"secretary-conf-certificate-download-btn",onClick:U,disabled:p,children:p?"Processing...":e.jsxs(e.Fragment,{children:[e.jsx(gs,{})," Download"]})})})]})]})})},P=()=>{if(!A)return null;const B=v.includes("successfully"),q=B?"success":"error",te=()=>{d(!1),B&&H("/secretary-confirmation")};return e.jsx("div",{className:"secretary-document-viewer-overlay",children:e.jsxs("div",{className:`secretary-${q}-modal-container`,children:[e.jsxs("div",{className:`secretary-${q}-header`,children:[e.jsx("h3",{children:B?"Success":"Error"}),e.jsx("button",{className:"secretary-document-close-btn",onClick:()=>d(!1),children:""})]}),e.jsxs("div",{className:`secretary-${q}-content`,children:[e.jsx("div",{className:`secretary-${q}-icon`,children:B?"":"!"}),e.jsx("p",{children:v}),e.jsx("button",{className:`secretary-${q}-ok-btn`,onClick:te,children:"OK"})]})]})})},z=()=>h?e.jsx("div",{className:"secretary-document-viewer-overlay",children:e.jsxs("div",{className:"secretary-confirm-modal-container",children:[e.jsxs("div",{className:"secretary-confirm-header",children:[e.jsx("h3",{children:"Confirm Approval"}),e.jsx("button",{className:"secretary-document-close-btn",onClick:()=>u(!1),children:""})]}),e.jsxs("div",{className:"secretary-confirm-content",children:[e.jsx("div",{className:"secretary-confirm-icon",children:"?"}),e.jsx("p",{children:"Are you sure you want to approve this confirmation appointment?"}),e.jsxs("p",{children:["Date: ",k]}),e.jsxs("p",{children:["Time: ",D]}),e.jsxs("p",{children:["Priest: ",_]}),e.jsx("p",{children:"This will send an email notification to the client."}),e.jsxs("div",{className:"secretary-confirm-buttons",children:[e.jsx("button",{className:"secretary-confirm-yes-btn",onClick:ce,children:"Yes, Approve"}),e.jsx("button",{className:"secretary-confirm-no-btn",onClick:()=>u(!1),children:"Cancel"})]})]})]})}):null;return b?e.jsx("div",{className:"secretary-confirmation-view-container",children:e.jsx("div",{className:"secretary-confirmation-view-loading",children:"Loading confirmation details..."})}):M?e.jsx("div",{className:"secretary-confirmation-view-container",children:e.jsxs("div",{className:"secretary-confirmation-view-error",children:[e.jsx("p",{children:M}),e.jsx("button",{onClick:()=>H(-1),children:"Back"})]})}):f?e.jsxs("div",{className:"secretary-confirmation-view-container",children:[ie(),ae(),P(),z(),e.jsxs("div",{className:"secretary-conf-view-header",children:[e.jsx("div",{className:"secretary-conf-view-left-section",children:e.jsxs("button",{className:"secretary-conf-view-back-button",onClick:()=>H(-1),children:[e.jsx(Oa,{className:"secretary-conf-view-back-icon"})," Back"]})}),e.jsx("div",{className:"secretary-conf-view-right-section",children:a==="Approved"&&e.jsxs("button",{className:"secretary-conf-download-certificate-btn",onClick:ye,children:[e.jsx(gs,{})," Download Certificate"]})})]}),e.jsx("h1",{className:"secretary-conf-view-title",children:"Confirmation Application Details"}),e.jsxs("div",{className:"secretary-conf-view-data",children:[e.jsxs("div",{className:"secretary-conf-view-bypart",children:[e.jsx("h3",{className:"secretary-conf-view-sub-title",children:"Personal Information"}),e.jsxs("div",{className:"secretary-conf-view-info-card",children:[e.jsxs("div",{className:"secretary-conf-view-row",children:[e.jsxs("div",{className:"secretary-conf-view-field",children:[e.jsx("label",{children:"First Name:"}),V(f.candidate.firstName)]}),e.jsxs("div",{className:"secretary-conf-view-field",children:[e.jsx("label",{children:"Middle Name:"}),V(f.candidate.middleName)]}),e.jsxs("div",{className:"secretary-conf-view-field",children:[e.jsx("label",{children:"Last Name:"}),V(f.candidate.lastName)]}),e.jsxs("div",{className:"secretary-conf-view-field",children:[e.jsx("label",{children:"Date of Birth:"}),V(Q(f.candidate.dateOfBirth))]})]}),e.jsxs("div",{className:"secretary-conf-view-row",children:[e.jsxs("div",{className:"secretary-conf-view-field",children:[e.jsx("label",{children:"Age:"}),V(f.candidate.age)]}),e.jsxs("div",{className:"secretary-conf-view-field",children:[e.jsx("label",{children:"Gender:"}),V(f.candidate.gender)]}),e.jsxs("div",{className:"secretary-conf-view-field",children:[e.jsx("label",{children:"Date of Baptism:"}),V(Q(f.candidate.dateOfBaptism))]}),e.jsxs("div",{className:"secretary-conf-view-field",children:[e.jsx("label",{children:"Church of Baptism:"}),V(f.candidate.churchOfBaptism)]})]}),e.jsx("div",{className:"secretary-conf-view-row",children:e.jsxs("div",{className:"secretary-conf-view-field",children:[e.jsx("label",{children:"Place of Birth:"}),V(f.candidate.placeOfBirth)]})}),e.jsx("label",{className:"sub-mini-cc",children:"Home Address"}),e.jsxs("div",{className:"secretary-conf-view-row",children:[e.jsxs("div",{className:"secretary-conf-view-field",children:[e.jsx("label",{children:"Street:"}),V(f.address.street)]}),e.jsxs("div",{className:"secretary-conf-view-field",children:[e.jsx("label",{children:"Barangay:"}),V(f.address.barangay)]}),e.jsxs("div",{className:"secretary-conf-view-field",children:[e.jsx("label",{children:"Municipality:"}),V(f.address.municipality)]})]}),e.jsxs("div",{className:"secretary-conf-view-row secretary-conf-address-view-row",children:[e.jsxs("div",{className:"secretary-conf-view-field",children:[e.jsx("label",{children:"Province:"}),V(f.address.province)]}),e.jsxs("div",{className:"secretary-conf-view-field",children:[e.jsx("label",{children:"Region:"}),V(f.address.region)]})]})]}),e.jsx("h3",{className:"secretary-conf-view-sub-title",children:"Father's Information"}),e.jsxs("div",{className:"secretary-conf-view-info-card",children:[e.jsxs("div",{className:"secretary-conf-view-row",children:[e.jsxs("div",{className:"secretary-conf-view-field",children:[e.jsx("label",{children:"Father's First Name:"}),V(f.father.firstName)]}),e.jsxs("div",{className:"secretary-conf-view-field",children:[e.jsx("label",{children:"Father's Middle Name:"}),V(f.father.middleName)]}),e.jsxs("div",{className:"secretary-conf-view-field",children:[e.jsx("label",{children:"Father's Last Name:"}),V(f.father.lastName)]})]}),e.jsxs("div",{className:"secretary-conf-view-row",children:[e.jsxs("div",{className:"secretary-conf-view-field",children:[e.jsx("label",{children:"Father's Date of Birth:"}),V(Q(f.father.dateOfBirth))]}),e.jsxs("div",{className:"secretary-conf-view-field",children:[e.jsx("label",{children:"Father's Place of Birth:"}),V(f.father.placeOfBirth)]}),e.jsxs("div",{className:"secretary-conf-view-field",children:[e.jsx("label",{children:"Father's Contact Number:"}),V(f.father.contact)]})]})]}),e.jsx("h3",{className:"secretary-conf-view-sub-title",children:"Mother's Information"}),e.jsxs("div",{className:"secretary-conf-view-info-card",children:[e.jsxs("div",{className:"secretary-conf-view-row",children:[e.jsxs("div",{className:"secretary-conf-view-field",children:[e.jsx("label",{children:"Mother's First Name:"}),V(f.mother.firstName)]}),e.jsxs("div",{className:"secretary-conf-view-field",children:[e.jsx("label",{children:"Mother's Middle Name:"}),V(f.mother.middleName)]}),e.jsxs("div",{className:"secretary-conf-view-field",children:[e.jsx("label",{children:"Mother's Last Name:"}),V(f.mother.lastName)]})]}),e.jsxs("div",{className:"secretary-conf-view-row",children:[e.jsxs("div",{className:"secretary-conf-view-field",children:[e.jsx("label",{children:"Mother's Date of Birth:"}),V(Q(f.mother.dateOfBirth))]}),e.jsxs("div",{className:"secretary-conf-view-field",children:[e.jsx("label",{children:"Mother's Place of Birth:"}),V(f.mother.placeOfBirth)]}),e.jsxs("div",{className:"secretary-conf-view-field",children:[e.jsx("label",{children:"Mother's Contact Number:"}),V(f.mother.contact)]})]})]})]}),e.jsxs("div",{className:"secretary-conf-requirements-view-container",children:[e.jsx("h2",{className:"secretary-conf-requirements-view-title",children:"Requirements"}),e.jsxs("div",{className:"secretary-conf-requirements-view-box",children:[e.jsx("h3",{className:"secretary-conf-view-section-header",children:"Documents Required"}),e.jsxs("div",{className:"secretary-conf-info-view-list",children:[e.jsx("div",{className:"secretary-conf-info-view-item",children:e.jsx("p",{children:"Baptism Certificate (Proof of Catholic Baptism)"})}),e.jsx("div",{className:"secretary-conf-info-view-item",children:e.jsx("p",{children:"Birth Certificate (PSA or Local Civil Registrar Copy)"})}),e.jsx("div",{className:"secretary-conf-info-view-item",children:e.jsx("p",{children:"Valid IDs of Candidate, Parents, and Sponsor"})}),e.jsx("div",{className:"secretary-conf-info-view-item",children:e.jsx("p",{children:"Certificate of Permission (If outside the Parish)"})})]}),e.jsx("h3",{className:"secretary-conf-view-section-header",children:"Requirements for Candidate"}),e.jsxs("div",{className:"secretary-conf-info-view-list",children:[e.jsx("div",{className:"secretary-conf-info-view-item",children:e.jsx("p",{children:"Must have received the Sacraments of Baptism and Holy Eucharist"})}),e.jsx("div",{className:"secretary-conf-info-view-item",children:e.jsx("p",{children:"Must be at least 12 years old (Age requirement may vary by parish)"})}),e.jsx("div",{className:"secretary-conf-info-view-item",children:e.jsx("p",{children:"Must attend Catechism Classes or Confirmation Seminar"})}),e.jsx("div",{className:"secretary-conf-info-view-item",children:e.jsx("p",{children:"Must receive the Sacrament of Confession before Confirmation"})}),e.jsx("div",{className:"secretary-conf-info-view-item",children:e.jsx("p",{children:"Must attend a Confirmation Retreat (if required by parish)"})})]}),e.jsx("h3",{className:"secretary-conf-view-section-header",children:"Requirements for Sponsor"}),e.jsxs("div",{className:"secretary-conf-info-view-list",children:[e.jsx("div",{className:"secretary-conf-info-view-item",children:e.jsx("p",{children:"Must be a practicing Catholic"})}),e.jsx("div",{className:"secretary-conf-info-view-item",children:e.jsx("p",{children:"Must have received the Sacraments of Baptism, Confirmation, and Holy Eucharist"})}),e.jsx("div",{className:"secretary-conf-info-view-item",children:e.jsx("p",{children:"Must be at least 16 years old"})}),e.jsx("div",{className:"secretary-conf-info-view-item",children:e.jsx("p",{children:"If married, must be married in the Catholic Church"})})]})]})]}),e.jsxs("div",{className:"secretary-conf-view-info-card",children:[e.jsx("h3",{className:"secretary-conf-view-sub-title",children:"Schedule Selection"}),e.jsxs("div",{className:"secretary-conf-view-row-date",children:[e.jsxs("div",{className:"secretary-conf-view-field-date",children:[e.jsx("label",{children:"Date of Confirmation:"}),e.jsx("input",{type:"date",className:"secretary-view-input",value:k,onChange:B=>{console.log("Date changed to:",B.target.value),Y(B.target.value)},disabled:a==="Approved"})]}),e.jsxs("div",{className:"secretary-conf-view-field-time",children:[e.jsx("label",{children:"Time of Confirmation:"}),e.jsx("input",{type:"time",className:"secretary-view-input",value:D,onChange:B=>{console.log("Time changed to:",B.target.value),ge(B.target.value)},disabled:a==="Approved"})]})]}),e.jsxs("div",{className:"secretary-conf-view-field-date",children:[e.jsx("label",{children:"Name of the Priest:"}),a==="Approved"?V(_):e.jsx("input",{type:"text",className:"secretary-view-input",value:_,onChange:B=>{console.log("Priest changed to:",B.target.value),X(B.target.value)},placeholder:"Enter priest's name",disabled:a==="Approved"})]})]}),e.jsxs("div",{className:"secretary-action-buttons",children:[a!=="Approved"&&e.jsx("button",{className:"secretary-submit-button",onClick:_e,children:"Approve"}),a==="Approved"&&e.jsxs("div",{className:"secretary-approved-status",children:[e.jsx("span",{className:"secretary-approved-icon",children:""}),e.jsx("span",{className:"secretary-approved-text",children:"This confirmation has been approved"})]})]})]})]}):e.jsx("div",{className:"secretary-confirmation-view-container",children:e.jsxs("div",{className:"secretary-confirmation-view-error",children:[e.jsx("p",{children:"No confirmation data found."}),e.jsx("button",{onClick:()=>H(-1),children:"Back"})]})})},VO=()=>{const[a,t]=N.useState("PENDING"),[s,i]=N.useState(null),[r,c]=N.useState(!1),[A,d]=N.useState(1),h=N.useRef(null),[u,v]=N.useState(!1),[x,y]=N.useState(!0),[p,F]=N.useState(null),[b,S]=N.useState(null),f=oa(),O=Jt(),[M,J]=N.useState(!1),[K,H]=N.useState(""),[k,Y]=N.useState(!1),[D,ge]=N.useState(""),[_,X]=N.useState(""),[re,fe]=N.useState(""),Ne="https://parishofdivinemercy.com/backend";N.useEffect(()=>{var se,Se;const C=(se=f.state)==null?void 0:se.marriageID,Z=(Se=f.state)==null?void 0:Se.status;if(!C){S("Missing marriage information. Please try again."),y(!1);return}Z&&t(Z),ue(C)},[f]);const ue=async C=>{try{y(!0);const Z=`${Ne}/fetch_marriage_details.php?marriageID=${C}`,se=await fetch(Z);if(!se.ok)throw new Error(`Server responded with status: ${se.status}`);const Se=await se.json();if(Se.success){const He=ce(Se.data);F(He),t(He.status||a),ge(He.date||""),X(He.time||""),fe(He.priest||""),He.status==="Approved"&&_e(C),console.log("Marriage data loaded successfully:",He)}else S(Se.message||"Failed to fetch marriage details"),console.error("API error:",Se.message)}catch(Z){console.error("Error fetching marriage details:",Z),S("An error occurred while fetching the data: "+Z.message)}finally{y(!1)}},_e=async C=>{try{const Z=`${Ne}/fetch_approved_appointment.php?sacramentID=${C}&sacrament_type=Marriage`,se=await fetch(Z);if(!se.ok)throw new Error(`Server responded with status: ${se.status}`);const Se=await se.json();Se.success&&Se.appointment?(ge(Se.appointment.date||""),X(Se.appointment.time||""),fe(Se.appointment.priest||""),console.log("Approved appointment details loaded:",Se.appointment)):console.log("No approved appointment schedule found or there was an error")}catch(Z){console.error("Error fetching approved appointment schedule:",Z)}},ce=C=>{if(!C||!C.marriage)throw console.error("Invalid data structure received from API",C),new Error("Invalid data structure received from API");const{marriage:Z,groomAddress:se,brideAddress:Se,firstWitness:He,secondWitness:Qe,requirements:qe}=C,Ye=qe||{};return{date:Z.date||"",time:Z.time||"",priest:Z.priest||"",status:Z.status||"PENDING",marriageID:Z.marriageID,clientID:Z.clientID||null,groom:{firstName:Z.groom_first_name||"",middleName:Z.groom_middle_name||"",lastName:Z.groom_last_name||"",age:Z.groom_age||"",dateOfBirth:Z.groom_dateOfBirth||"",placeOfBirth:Z.groom_placeOfBirth||"",dateOfBaptism:Z.groom_dateOfBaptism||"",churchOfBaptism:Z.groom_churchOfBaptism||"",email:Z.groom_email||"",address:{street:(se==null?void 0:se.street)||"",barangay:(se==null?void 0:se.barangay)||"",municipality:(se==null?void 0:se.municipality)||"",province:(se==null?void 0:se.province)||""}},bride:{firstName:Z.bride_first_name||"",middleName:Z.bride_middle_name||"",lastName:Z.bride_last_name||"",age:Z.bride_age||"",dateOfBirth:Z.bride_dateOfBirth||"",placeOfBirth:Z.bride_placeOfBirth||"",dateOfBaptism:Z.bride_dateOfBaptism||"",churchOfBaptism:Z.bride_churchOfBaptism||"",email:Z.bride_email||"",address:{street:(Se==null?void 0:Se.street)||"",barangay:(Se==null?void 0:Se.barangay)||"",municipality:(Se==null?void 0:Se.municipality)||"",province:(Se==null?void 0:Se.province)||""}},witnesses:[{firstName:(He==null?void 0:He.first_name)||"",middleName:(He==null?void 0:He.middle_name)||"",lastName:(He==null?void 0:He.last_name)||"",gender:(He==null?void 0:He.gender)||"",age:(He==null?void 0:He.age)||"",dateOfBirth:(He==null?void 0:He.dateOfBirth)||"",contact:(He==null?void 0:He.contact_number)||"",address:{street:(He==null?void 0:He.street)||"",barangay:(He==null?void 0:He.barangay)||"",municipality:(He==null?void 0:He.municipality)||"",province:(He==null?void 0:He.province)||""}},{firstName:(Qe==null?void 0:Qe.first_name)||"",middleName:(Qe==null?void 0:Qe.middle_name)||"",lastName:(Qe==null?void 0:Qe.last_name)||"",gender:(Qe==null?void 0:Qe.gender)||"",age:(Qe==null?void 0:Qe.age)||"",dateOfBirth:(Qe==null?void 0:Qe.dateOfBirth)||"",contact:(Qe==null?void 0:Qe.contact_number)||"",address:{street:(Qe==null?void 0:Qe.street)||"",barangay:(Qe==null?void 0:Qe.barangay)||"",municipality:(Qe==null?void 0:Qe.municipality)||"",province:(Qe==null?void 0:Qe.province)||""}}],requirements:{baptismalCert:{submitted:Ye.baptism_cert_status==="Submitted",fileName:Ye.baptism_cert?Ye.baptism_cert.split("/").pop():"N/A"},confirmationCert:{submitted:Ye.confirmation_cert_status==="Submitted",fileName:Ye.confirmation_cert?Ye.confirmation_cert.split("/").pop():"N/A"},birthCert:{submitted:Ye.birth_cert_status==="Submitted",fileName:Ye.birth_cert?Ye.birth_cert.split("/").pop():"N/A"},marriageLicense:{submitted:Ye.marriage_license_status==="Submitted",fileName:Ye.marriage_license?Ye.marriage_license.split("/").pop():"N/A"},cenomar:{submitted:Ye.cenomar_status==="Submitted",fileName:Ye.cenomar?Ye.cenomar.split("/").pop():"N/A"},publicationBanns:{submitted:Ye.publication_banns_status==="Submitted",fileName:Ye.publication_banns?Ye.publication_banns.split("/").pop():"N/A"},permitFromParish:{submitted:Ye.parish_permit_status==="Submitted",fileName:Ye.parish_permit?Ye.parish_permit.split("/").pop():"N/A"},preCana:{submitted:Ye.pre_cana_status==="Submitted",fileName:Ye.pre_cana?Ye.pre_cana.split("/").pop():"N/A"},sponsorsList:{submitted:Ye.sponsors_list_status==="Submitted",fileName:Ye.sponsors_list?Ye.sponsors_list.split("/").pop():"N/A"},canonicalInterview:{submitted:Ye.canonical_interview_status==="Submitted",fileName:Ye.canonical_interview?Ye.canonical_interview.split("/").pop():"N/A"}},certificate:{registerNumber:"2025-0123",pageNumber:"45",lineNumber:"12",dateIssued:new Date().toISOString().split("T")[0],registry:{province:"Camarines Norte",city:"Daet",registryNo:"2025-M-0123"},solemnizer:{name:Z.priest||"Fr. Jos Chito M. Estrella",position:"Parish Priest",address:"Parish of the Divine Mercy, Alawihao, Daet, Camarines Norte"}}}},ye=async()=>{if(!p||!p.marriageID){alert("No marriage data available to approve.");return}if(!D){alert("Please select a date for the appointment.");return}if(!_){alert("Please select a time for the appointment.");return}if(!re){alert("Please enter the name of the priest for the ceremony.");return}Y(!0)},Q=async()=>{var C,Z,se,Se,He,Qe;Y(!1);try{const qe={sacramentID:p.marriageID,sacrament_type:"Marriage",date:D,time:_,priest:re,clientID:p.clientID};console.log("Saving appointment data:",qe);const Ye=await fetch(`${Ne}/save_approved_appointment.php`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(qe)});if(!Ye.ok)throw new Error(`Server responded with status: ${Ye.status}`);const st=await Ye.json();if(!st.success)throw new Error(st.message||"Failed to save appointment details");console.log("Appointment saved successfully:",st);const kt={marriageID:p.marriageID,status:"Approved",date:D,time:_,priest:re,groomEmail:(C=p.groom)==null?void 0:C.email,brideEmail:(Z=p.bride)==null?void 0:Z.email,groomName:`${(se=p.groom)==null?void 0:se.firstName} ${(Se=p.groom)==null?void 0:Se.lastName}`,brideName:`${(He=p.bride)==null?void 0:He.firstName} ${(Qe=p.bride)==null?void 0:Qe.lastName}`,clientID:p.clientID};console.log("Updating marriage status with data:",kt);const Mt=await fetch(`${Ne}/update_marriage_status.php`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(kt)});if(!Mt.ok)throw new Error(`Server responded with status: ${Mt.status}`);const ke=await Mt.json();if(console.log("Status update response:",ke),ke.success){try{const Ae=await(await fetch(`${Ne}/approved_marriage_email.php`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({marriageID:p.marriageID,date:D,time:_,priest:re})})).json();Ae.success?console.log("Email sent successfully:",Ae.message):console.warn("Email sending failed:",Ae.message)}catch($e){console.error("Error sending email:",$e)}t("Approved"),H(ke.message||"Marriage application has been approved successfully! An email notification has been sent to the client."),J(!0),F({...p,date:D,time:_,priest:re,status:"Approved"})}else{const $e=ke.message||"Failed to approve marriage application";H($e),J(!0)}}catch(qe){console.error("Error approving marriage application:",qe),H("An error occurred while approving the marriage application: "+qe.message),J(!0)}},ne=C=>{ge(C)},U=C=>{X(C)},V=C=>{fe(C)},T=()=>{c(!0),d(1)},ie=C=>{d(C)},ae=C=>{if(!C)return"N/A";try{return new Date(C).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})}catch(Z){return console.error("Error formatting date:",Z),C}},P=C=>{if(!C)return{month:"N/A",day:"N/A"};try{const Z=new Date(C),se=Z.toLocaleDateString("en-US",{month:"long"}),Se=Z.getDate();return{month:se,day:Se}}catch(Z){return console.error("Error extracting month and day:",Z),{month:"N/A",day:"N/A"}}},z=async()=>{if(h.current){v(!0);try{const C=h.current.querySelectorAll("img");await Promise.all([...C].map(Ye=>Ye.complete?Promise.resolve():new Promise(st=>{Ye.onload=st,Ye.onerror=st})));const Z=new ea("p","mm","a4");d(1),await new Promise(Ye=>setTimeout(Ye,500));let se=await $s(h.current,{scale:2,logging:!1,useCORS:!0,allowTaint:!0,backgroundColor:"#ffffff"}),Se=se.toDataURL("image/png");const He=210,Qe=se.height*He/se.width;Z.addImage(Se,"PNG",0,0,He,Qe),d(2),await new Promise(Ye=>setTimeout(Ye,500)),se=await $s(h.current,{scale:2,logging:!1,useCORS:!0,allowTaint:!0,backgroundColor:"#ffffff"}),Se=se.toDataURL("image/png"),Z.addPage(),Z.addImage(Se,"PNG",0,0,He,Qe);const qe=`Marriage_Certificate_${p.groom.lastName}_${p.bride.lastName}.pdf`;Z.save(qe);try{await fetch(`${Ne}/log_certificate_download.php`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({sacramentID:p.marriageID,sacrament_type:"Marriage",filename:qe,downloadedBy:"Secretary"})})}catch(Ye){console.error("Error logging certificate download:",Ye)}c(!1),alert("Certificate downloaded successfully!")}catch(C){console.error("Error generating PDF:",C),alert("Error generating PDF. Please try again.")}finally{v(!1)}}},B=C=>e.jsx("div",{className:"secretary-marriage-view-value",children:C||"N/A"}),q=C=>window.location.hostname==="localhost"||window.location.hostname==="127.0.0.1"?`/uploads/marriage_requirements/${C}`:`/uploads/marriage_requirements/${C}`,te=()=>{if(!s)return null;const C=s.split(".").pop().toLowerCase(),Z=["jpg","jpeg","png","gif","webp"].includes(C),se=C==="pdf",Se=q(s);return e.jsx("div",{className:"secretary-marriage-document-viewer-overlay",children:e.jsxs("div",{className:"secretary-marriage-document-viewer-container",children:[e.jsxs("div",{className:"secretary-marriage-document-viewer-header",children:[e.jsx("h3",{children:s}),e.jsx("button",{className:"secretary-marriage-document-close-btn",onClick:()=>i(null),children:""})]}),e.jsxs("div",{className:"secretary-marriage-document-viewer-content",children:[Z&&e.jsx("img",{src:Se,alt:s,style:{maxWidth:"100%",maxHeight:"70vh"},onError:He=>{console.error(`Failed to load image: ${Se}`),He.target.src="https://via.placeholder.com/500x300?text=Image+Not+Found",He.target.alt="Document not found"}}),se&&e.jsx("iframe",{src:`${Se}#toolbar=0`,title:s,width:"100%",height:"600px",style:{border:"none"},onError:He=>{console.error(`Failed to load PDF: ${Se}`),He.target.src="about:blank"}}),!Z&&!se&&e.jsxs("div",{className:"secretary-marriage-document-placeholder",children:[e.jsx("p",{children:"Document preview not available for this file type."}),e.jsxs("p",{children:["Filename: ",s]}),e.jsx("a",{href:Se,target:"_blank",rel:"noopener noreferrer",className:"secretary-marriage-document-download-link",children:"Download to view"})]})]})]})})},he=()=>k?e.jsx("div",{className:"secretary-document-viewer-overlay",children:e.jsxs("div",{className:"secretary-confirm-modal-container",children:[e.jsxs("div",{className:"secretary-confirm-header",children:[e.jsx("h3",{children:"Confirm Approval"}),e.jsx("button",{className:"secretary-document-close-btn",onClick:()=>Y(!1),children:""})]}),e.jsxs("div",{className:"secretary-confirm-content",children:[e.jsx("div",{className:"secretary-confirm-icon",children:"?"}),e.jsx("p",{children:"Are you sure you want to approve this marriage appointment?"}),e.jsxs("p",{children:["Date: ",D]}),e.jsxs("p",{children:["Time: ",_]}),e.jsxs("p",{children:["Priest: ",re]}),e.jsxs("div",{className:"secretary-confirm-buttons",children:[e.jsx("button",{className:"secretary-confirm-yes-btn",onClick:Q,children:"Yes, Approve"}),e.jsx("button",{className:"secretary-confirm-no-btn",onClick:()=>Y(!1),children:"Cancel"})]})]})]})}):null,W=()=>{if(!M)return null;const C=!K.includes("error")&&!K.includes("failed");return e.jsx("div",{className:"secretary-document-viewer-overlay",children:e.jsxs("div",{className:"secretary-document-modal-container",children:[e.jsx("div",{className:"secretary-document-header",children:e.jsx("h3",{children:C?"Success!":"Error"})}),e.jsxs("div",{className:"secretary-document-content",children:[e.jsx("div",{className:C?"secretary-success-icon":"secretary-error-icon",children:C?"":"!"}),e.jsx("p",{children:K}),e.jsx("button",{className:"secretary-confirm-yes-btn",onClick:()=>{J(!1),C&&O("/secretary-marriage")},children:C?"Back to Marriage List":"Close"})]})]})})};return x?e.jsx("div",{className:"secretary-marriage-view-container",children:e.jsx("div",{className:"secretary-marriage-view-loading",children:"Loading marriage details..."})}):b?e.jsx("div",{className:"secretary-marriage-view-container",children:e.jsxs("div",{className:"secretary-marriage-view-error",children:[e.jsx("p",{children:b}),e.jsx("button",{onClick:()=>O(-1),children:"Back"})]})}):p?e.jsxs("div",{className:"secretary-marriage-view-container",children:[te(),r&&p&&(()=>{const{month:C,day:Z}=P(D||p.date),se=new Date(D||p.date).getFullYear();return e.jsx("div",{className:"secretary-marriage-document-viewer-overlay",children:e.jsxs("div",{className:"secretary-marriage-certificate-modal-container",children:[e.jsxs("div",{className:"secretary-marriage-document-viewer-header",children:[e.jsx("h3",{children:"Marriage Certificate"}),e.jsx("button",{className:"secretary-marriage-document-close-btn",onClick:()=>c(!1),children:""})]}),e.jsxs("div",{className:"secretary-marriage-certificate-modal-content",children:[e.jsxs("div",{className:"secretary-marriage-certificate-page-tabs",children:[e.jsx("button",{className:`secretary-marriage-certificate-page-tab ${A===1?"active":""}`,onClick:()=>ie(1),children:"Page 1"}),e.jsx("button",{className:`secretary-marriage-certificate-page-tab ${A===2?"active":""}`,onClick:()=>ie(2),children:"Page 2"})]}),e.jsx("div",{ref:h,className:"marriage-certificate-preview",children:A===1?e.jsxs("div",{className:"marriage-certificate-page-1",children:[e.jsxs("div",{className:"marriage-certificate-header",children:[e.jsxs("div",{className:"marriage-certificate-logos",children:[e.jsx("div",{className:"marriage-parish-logo-left",children:e.jsx("img",{src:zs,alt:"Parish Logo Left",onError:Se=>{console.error("Failed to load church image"),Se.target.src="https://via.placeholder.com/70x70?text=Church"}})}),e.jsxs("div",{className:"marriage-certificate-title-section",children:[e.jsx("div",{className:"republic-title",children:"REPUBLIC OF THE PHILIPPINES"}),e.jsx("div",{className:"office-title",children:"OFFICE OF THE CIVIL REGISTRAR GENERAL"}),e.jsx("div",{className:"certificate-title",children:"CERTIFICATE OF MARRIAGE"}),e.jsxs("div",{className:"certificate-id",children:["Marriage ID: ",p.marriageID]})]}),e.jsx("div",{className:"marriage-parish-logo-right",children:e.jsx("img",{src:Ii,alt:"Parish Logo Right",onError:Se=>{console.error("Failed to load PDM logo"),Se.target.src="https://via.placeholder.com/80x80?text=PDM"}})})]}),e.jsx("div",{className:"marriage-certificate-registry-info",children:e.jsxs("div",{className:"registry-fields",children:[e.jsxs("div",{className:"registry-field",children:[e.jsx("span",{className:"registry-label",children:"Registry No.: "}),e.jsx("span",{className:"registry-value",children:p.certificate.registry.registryNo})]}),e.jsxs("div",{className:"registry-field",children:[e.jsx("span",{className:"registry-label",children:"Province: "}),e.jsx("span",{className:"registry-value",children:p.certificate.registry.province})]}),e.jsxs("div",{className:"registry-field",children:[e.jsx("span",{className:"registry-label",children:"City/Municipality: "}),e.jsx("span",{className:"registry-value",children:p.certificate.registry.city})]})]})})]}),e.jsxs("div",{className:"marriage-certificate-main-content",children:[e.jsxs("div",{className:"marriage-certificate-section husband-wife-section",children:[e.jsxs("div",{className:"husband-section",children:[e.jsx("div",{className:"section-title",children:"HUSBAND"}),e.jsxs("div",{className:"person-fields",children:[e.jsxs("div",{className:"person-field",children:[e.jsx("span",{className:"field-label",children:"1. Name of Contracting Party"}),e.jsxs("div",{className:"name-parts",children:[e.jsxs("div",{className:"name-part",children:[e.jsx("span",{className:"name-value",children:p.groom.firstName}),e.jsx("span",{className:"name-label",children:"(First)"})]}),e.jsxs("div",{className:"name-part",children:[e.jsx("span",{className:"name-value",children:p.groom.middleName}),e.jsx("span",{className:"name-label",children:"(Middle)"})]}),e.jsxs("div",{className:"name-part",children:[e.jsx("span",{className:"name-value",children:p.groom.lastName}),e.jsx("span",{className:"name-label",children:"(Last)"})]})]})]}),e.jsxs("div",{className:"person-field",children:[e.jsx("span",{className:"field-label",children:"2. Date of Birth"}),e.jsxs("div",{className:"date-parts",children:[e.jsxs("div",{className:"date-part",children:[e.jsx("span",{className:"date-value",children:new Date(p.groom.dateOfBirth).getDate()||"-"}),e.jsx("span",{className:"date-label",children:"(Day)"})]}),e.jsxs("div",{className:"date-part",children:[e.jsx("span",{className:"date-value",children:new Date(p.groom.dateOfBirth).getMonth()+1||"-"}),e.jsx("span",{className:"date-label",children:"(Month)"})]}),e.jsxs("div",{className:"date-part",children:[e.jsx("span",{className:"date-value",children:new Date(p.groom.dateOfBirth).getFullYear()||"-"}),e.jsx("span",{className:"date-label",children:"(Year)"})]})]})]}),e.jsxs("div",{className:"person-field",children:[e.jsx("span",{className:"field-label",children:"3. Place of Birth"}),e.jsx("span",{className:"field-value",children:p.groom.placeOfBirth})]}),e.jsxs("div",{className:"person-field",children:[e.jsx("span",{className:"field-label",children:"4. Citizenship"}),e.jsx("span",{className:"field-value",children:"Filipino"})]}),e.jsxs("div",{className:"person-field",children:[e.jsx("span",{className:"field-label",children:"5. Residence"}),e.jsx("span",{className:"field-value",children:`${p.groom.address.street}, ${p.groom.address.municipality}, ${p.groom.address.province}`})]}),e.jsxs("div",{className:"person-field",children:[e.jsx("span",{className:"field-label",children:"6. Religion/Religious Sect"}),e.jsx("span",{className:"field-value",children:"Roman Catholic"})]}),e.jsxs("div",{className:"person-field",children:[e.jsx("span",{className:"field-label",children:"7. Civil Status"}),e.jsx("span",{className:"field-value",children:"Single"})]}),e.jsxs("div",{className:"person-field",children:[e.jsx("span",{className:"field-label",children:"8. Name of Father"}),e.jsxs("div",{className:"name-parts",children:[e.jsxs("div",{className:"name-part",children:[e.jsx("span",{className:"name-value"}),e.jsx("span",{className:"name-label",children:"(First)"})]}),e.jsxs("div",{className:"name-part",children:[e.jsx("span",{className:"name-value"}),e.jsx("span",{className:"name-label",children:"(Middle)"})]}),e.jsxs("div",{className:"name-part",children:[e.jsx("span",{className:"name-value"}),e.jsx("span",{className:"name-label",children:"(Last)"})]})]})]}),e.jsxs("div",{className:"person-field",children:[e.jsx("span",{className:"field-label",children:"9. Citizenship"}),e.jsx("span",{className:"field-value",children:"Filipino"})]}),e.jsxs("div",{className:"person-field",children:[e.jsx("span",{className:"field-label",children:"10. Mother's Maiden Name"}),e.jsxs("div",{className:"name-parts",children:[e.jsxs("div",{className:"name-part",children:[e.jsx("span",{className:"name-value"}),e.jsx("span",{className:"name-label",children:"(First)"})]}),e.jsxs("div",{className:"name-part",children:[e.jsx("span",{className:"name-value"}),e.jsx("span",{className:"name-label",children:"(Middle)"})]}),e.jsxs("div",{className:"name-part",children:[e.jsx("span",{className:"name-value"}),e.jsx("span",{className:"name-label",children:"(Last)"})]})]})]}),e.jsxs("div",{className:"person-field",children:[e.jsx("span",{className:"field-label",children:"11. Citizenship"}),e.jsx("span",{className:"field-value",children:"Filipino"})]})]})]}),e.jsxs("div",{className:"wife-section",children:[e.jsx("div",{className:"section-title",children:"WIFE"}),e.jsxs("div",{className:"person-fields",children:[e.jsxs("div",{className:"person-field",children:[e.jsx("span",{className:"field-label",children:"1. Name of Contracting Party"}),e.jsxs("div",{className:"name-parts",children:[e.jsxs("div",{className:"name-part",children:[e.jsx("span",{className:"name-value",children:p.bride.firstName}),e.jsx("span",{className:"name-label",children:"(First)"})]}),e.jsxs("div",{className:"name-part",children:[e.jsx("span",{className:"name-value",children:p.bride.middleName}),e.jsx("span",{className:"name-label",children:"(Middle)"})]}),e.jsxs("div",{className:"name-part",children:[e.jsx("span",{className:"name-value",children:p.bride.lastName}),e.jsx("span",{className:"name-label",children:"(Last)"})]})]})]}),e.jsxs("div",{className:"person-field",children:[e.jsx("span",{className:"field-label",children:"2. Date of Birth"}),e.jsxs("div",{className:"date-parts",children:[e.jsxs("div",{className:"date-part",children:[e.jsx("span",{className:"date-value",children:new Date(p.bride.dateOfBirth).getDate()||"-"}),e.jsx("span",{className:"date-label",children:"(Day)"})]}),e.jsxs("div",{className:"date-part",children:[e.jsx("span",{className:"date-value",children:new Date(p.bride.dateOfBirth).getMonth()+1||"-"}),e.jsx("span",{className:"date-label",children:"(Month)"})]}),e.jsxs("div",{className:"date-part",children:[e.jsx("span",{className:"date-value",children:new Date(p.bride.dateOfBirth).getFullYear()||"-"}),e.jsx("span",{className:"date-label",children:"(Year)"})]})]})]}),e.jsxs("div",{className:"person-field",children:[e.jsx("span",{className:"field-label",children:"3. Place of Birth"}),e.jsx("span",{className:"field-value",children:p.bride.placeOfBirth})]}),e.jsxs("div",{className:"person-field",children:[e.jsx("span",{className:"field-label",children:"4. Citizenship"}),e.jsx("span",{className:"field-value",children:"Filipino"})]}),e.jsxs("div",{className:"person-field",children:[e.jsx("span",{className:"field-label",children:"5. Residence"}),e.jsx("span",{className:"field-value",children:`${p.bride.address.street}, ${p.bride.address.municipality}, ${p.bride.address.province}`})]}),e.jsxs("div",{className:"person-field",children:[e.jsx("span",{className:"field-label",children:"6. Religion/Religious Sect"}),e.jsx("span",{className:"field-value",children:"Roman Catholic"})]}),e.jsxs("div",{className:"person-field",children:[e.jsx("span",{className:"field-label",children:"7. Civil Status"}),e.jsx("span",{className:"field-value",children:"Single"})]}),e.jsxs("div",{className:"person-field",children:[e.jsx("span",{className:"field-label",children:"8. Name of Father"}),e.jsxs("div",{className:"name-parts",children:[e.jsxs("div",{className:"name-part",children:[e.jsx("span",{className:"name-value"}),e.jsx("span",{className:"name-label",children:"(First)"})]}),e.jsxs("div",{className:"name-part",children:[e.jsx("span",{className:"name-value"}),e.jsx("span",{className:"name-label",children:"(Middle)"})]}),e.jsxs("div",{className:"name-part",children:[e.jsx("span",{className:"name-value"}),e.jsx("span",{className:"name-label",children:"(Last)"})]})]})]}),e.jsxs("div",{className:"person-field",children:[e.jsx("span",{className:"field-label",children:"9. Citizenship"}),e.jsx("span",{className:"field-value",children:"Filipino"})]}),e.jsxs("div",{className:"person-field",children:[e.jsx("span",{className:"field-label",children:"10. Mother's Maiden Name"}),e.jsxs("div",{className:"name-parts",children:[e.jsxs("div",{className:"name-part",children:[e.jsx("span",{className:"name-value"}),e.jsx("span",{className:"name-label",children:"(First)"})]}),e.jsxs("div",{className:"name-part",children:[e.jsx("span",{className:"name-value"}),e.jsx("span",{className:"name-label",children:"(Middle)"})]}),e.jsxs("div",{className:"name-part",children:[e.jsx("span",{className:"name-value"}),e.jsx("span",{className:"name-label",children:"(Last)"})]})]})]}),e.jsxs("div",{className:"person-field",children:[e.jsx("span",{className:"field-label",children:"11. Citizenship"}),e.jsx("span",{className:"field-value",children:"Filipino"})]})]})]})]}),e.jsxs("div",{className:"marriage-certificate-section marriage-details-section",children:[e.jsxs("div",{className:"marriage-field",children:[e.jsx("span",{className:"field-label",children:"12. Place of Marriage"}),e.jsx("span",{className:"field-value",children:"Parish of the Divine Mercy, Alawihao, Daet, Camarines Norte"})]}),e.jsxs("div",{className:"marriage-field",children:[e.jsx("span",{className:"field-label",children:"13. Date of Marriage"}),e.jsxs("div",{className:"date-parts",children:[e.jsxs("div",{className:"date-part",children:[e.jsx("span",{className:"date-value",children:Z}),e.jsx("span",{className:"date-label",children:"(Day)"})]}),e.jsxs("div",{className:"date-part",children:[e.jsx("span",{className:"date-value",children:C}),e.jsx("span",{className:"date-label",children:"(Month)"})]}),e.jsxs("div",{className:"date-part",children:[e.jsx("span",{className:"date-value",children:se}),e.jsx("span",{className:"date-label",children:"(Year)"})]})]})]})]})]})]},"page-1"):e.jsxs("div",{className:"marriage-certificate-page-2",children:[e.jsx("div",{className:"marriage-certificate-header",children:e.jsxs("div",{className:"marriage-certificate-title-section",children:[e.jsx("div",{className:"certificate-page-title",children:"CERTIFICATE OF MARRIAGE"}),e.jsxs("div",{className:"certificate-id",children:["Marriage ID: ",p.marriageID]})]})}),e.jsx("div",{className:"marriage-certificate-main-content",children:e.jsxs("div",{className:"marriage-certificate-section certification-section",children:[e.jsx("div",{className:"certification-header",children:e.jsx("h3",{children:"I CERTIFY THAT THE ABOVE-NAMED PARTIES"})}),e.jsxs("div",{className:"certification-statement",children:[e.jsxs("p",{children:["This is to certify that ",e.jsxs("strong",{children:[p.groom.firstName," ",p.groom.middleName," ",p.groom.lastName]})," and ",e.jsxs("strong",{children:[p.bride.firstName," ",p.bride.middleName," ",p.bride.lastName]}),", both of legal age, were united in the Holy Sacrament of Matrimony on the ",e.jsxs("strong",{children:[Z,"th"]})," day of ",e.jsx("strong",{children:C})," in the year ",e.jsx("strong",{children:se}),", at the Parish of the Divine Mercy, Alawihao, Daet, Camarines Norte, Philippines, according to the rites of the Roman Catholic Church."]}),e.jsxs("p",{children:["The marriage was solemnized by ",e.jsx("strong",{children:re||p.certificate.solemnizer.name}),", ",p.certificate.solemnizer.position,", in the presence of witnesses ",e.jsxs("strong",{children:[p.witnesses[0].firstName," ",p.witnesses[0].middleName," ",p.witnesses[0].lastName]})," and ",e.jsxs("strong",{children:[p.witnesses[1].firstName," ",p.witnesses[1].middleName," ",p.witnesses[1].lastName]}),"."]})]}),e.jsxs("div",{className:"certification-signatures",children:[e.jsxs("div",{className:"signature-section",children:[e.jsxs("div",{className:"signature-placeholder",children:[e.jsx("p",{children:"Signature of Husband"}),e.jsx("div",{className:"signature-line"}),e.jsxs("p",{children:[p.groom.firstName," ",p.groom.middleName," ",p.groom.lastName]})]}),e.jsxs("div",{className:"signature-placeholder",children:[e.jsx("p",{children:"Signature of Wife"}),e.jsx("div",{className:"signature-line"}),e.jsxs("p",{children:[p.bride.firstName," ",p.bride.middleName," ",p.bride.lastName]})]})]}),e.jsxs("div",{className:"witness-signatures",children:[e.jsxs("div",{className:"signature-placeholder",children:[e.jsx("p",{children:"Witness"}),e.jsx("div",{className:"signature-line"}),e.jsxs("p",{children:[p.witnesses[0].firstName," ",p.witnesses[0].middleName," ",p.witnesses[0].lastName]})]}),e.jsxs("div",{className:"signature-placeholder",children:[e.jsx("p",{children:"Witness"}),e.jsx("div",{className:"signature-line"}),e.jsxs("p",{children:[p.witnesses[1].firstName," ",p.witnesses[1].middleName," ",p.witnesses[1].lastName]})]})]}),e.jsx("div",{className:"solemnizer-signature",children:e.jsxs("div",{className:"signature-placeholder",children:[e.jsx("p",{children:"Solemnizing Officer"}),e.jsx("div",{className:"signature-line"}),e.jsx("p",{children:re||p.certificate.solemnizer.name}),e.jsx("p",{children:p.certificate.solemnizer.position})]})})]}),e.jsxs("div",{className:"certification-footer",children:[e.jsxs("div",{className:"registry-details",children:[e.jsxs("p",{children:[e.jsx("strong",{children:"Registry No:"})," ",p.certificate.registry.registryNo]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Date Issued:"})," ",ae(p.certificate.dateIssued)]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Marriage ID:"})," ",p.marriageID]})]}),e.jsx("div",{className:"parish-seal",children:e.jsx("p",{children:"Parish Seal"})})]})]})})]},"page-2")}),e.jsx("div",{className:"secretary-marriage-certificate-modal-actions",children:e.jsx("button",{className:"secretary-marriage-certificate-download-btn",onClick:z,disabled:u,children:u?"Processing...":e.jsxs(e.Fragment,{children:[e.jsx(gs,{})," Download"]})})})]})]})})})(),he(),W(),e.jsxs("div",{className:"secretary-marriage-view-header",children:[e.jsx("div",{className:"secretary-marriage-view-left-section",children:e.jsxs("button",{className:"secretary-marriage-view-back-button",onClick:()=>O(-1),children:[e.jsx(Oa,{className:"secretary-marriage-view-back-icon"})," Back"]})}),e.jsx("div",{className:"secretary-marriage-view-right-section",children:a==="Approved"&&e.jsxs("button",{className:"secretary-marriage-download-certificate-btn",onClick:T,children:[e.jsx(gs,{})," Download Certificate"]})})]}),e.jsx("h1",{className:"secretary-marriage-view-title",children:"Holy Matrimony Application Details"}),e.jsxs("div",{className:"secretary-marriage-view-data",children:[e.jsxs("div",{className:"secretary-anointing-view-info-card",children:[e.jsx("h3",{className:"secretary-funeral-view-sub-title",children:"Appointment Request Details"}),e.jsxs("div",{className:"secretary-marriage-view-row-date",children:[e.jsxs("div",{className:"secretary-marriage-view-field-date",children:[e.jsx("label",{children:"Date of Appointment:"}),B(ae(p.date))]}),e.jsxs("div",{className:"secretary-marriage-view-field-time",children:[e.jsx("label",{children:"Time of Appointment:"}),B(p.time)]})]})]}),e.jsxs("div",{className:"secretary-marriage-view-bypart",children:[e.jsx("h3",{className:"secretary-marriage-view-sub-title",children:"Groom Information"}),e.jsxs("div",{className:"secretary-marriage-view-info-card",children:[e.jsxs("div",{className:"secretary-marriage-view-row",children:[e.jsxs("div",{className:"secretary-marriage-view-field",children:[e.jsx("label",{children:"First Name:"}),B(p.groom.firstName)]}),e.jsxs("div",{className:"secretary-marriage-view-field",children:[e.jsx("label",{children:"Middle Name:"}),B(p.groom.middleName)]}),e.jsxs("div",{className:"secretary-marriage-view-field",children:[e.jsx("label",{children:"Last Name:"}),B(p.groom.lastName)]}),e.jsxs("div",{className:"secretary-marriage-view-field",children:[e.jsx("label",{children:"Age:"}),B(p.groom.age)]})]}),e.jsxs("div",{className:"secretary-marriage-view-row",children:[e.jsxs("div",{className:"secretary-marriage-view-field",children:[e.jsx("label",{children:"Date of Birth:"}),B(ae(p.groom.dateOfBirth))]}),e.jsxs("div",{className:"client-marriage-view-field",children:[e.jsx("label",{children:"Date of Baptism:"}),e.jsx("div",{className:"client-marriage-view-value",children:p.groom.dateOfBaptism})]}),e.jsxs("div",{className:"client-marriage-view-field-dob",children:[e.jsx("label",{children:"Church of Baptism:"}),e.jsx("div",{className:"client-marriage-view-value",children:p.groom.churchOfBaptism})]})]}),e.jsx("label",{className:"mini-view",children:"Place of Birth"}),e.jsx("div",{className:"secretary-marriage-view-row",children:e.jsxs("div",{className:"secretary-marriage-view-field",children:[e.jsx("label",{children:"Place of Birth:"}),e.jsx("div",{className:"secretary-marriage-view-value",children:p.groom.placeOfBirth})]})}),e.jsx("label",{className:"mini-view",children:"Home Address"}),e.jsxs("div",{className:"secretary-marriage-view-row secretary-marriage-address-view-row",children:[e.jsxs("div",{className:"secretary-marriage-view-field",children:[e.jsx("label",{children:"Street:"}),B(p.groom.address.street)]}),e.jsxs("div",{className:"secretary-marriage-view-field",children:[e.jsx("label",{children:"Barangay:"}),B(p.groom.address.barangay)]}),e.jsxs("div",{className:"secretary-marriage-view-field",children:[e.jsx("label",{children:"Municipality:"}),B(p.groom.address.municipality)]}),e.jsxs("div",{className:"secretary-marriage-view-field",children:[e.jsx("label",{children:"Province:"}),B(p.groom.address.province)]})]})]}),e.jsx("h3",{className:"secretary-marriage-view-sub-title",children:"Bride Information"}),e.jsxs("div",{className:"secretary-marriage-view-info-card",children:[e.jsxs("div",{className:"secretary-marriage-view-row",children:[e.jsxs("div",{className:"secretary-marriage-view-field",children:[e.jsx("label",{children:"First Name:"}),B(p.bride.firstName)]}),e.jsxs("div",{className:"secretary-marriage-view-field",children:[e.jsx("label",{children:"Middle Name:"}),B(p.bride.middleName)]}),e.jsxs("div",{className:"secretary-marriage-view-field",children:[e.jsx("label",{children:"Last Name:"}),B(p.bride.lastName)]}),e.jsxs("div",{className:"secretary-marriage-view-field",children:[e.jsx("label",{children:"Date of Birth:"}),B(ae(p.bride.dateOfBirth))]})]}),e.jsxs("div",{className:"secretary-marriage-view-row",children:[e.jsxs("div",{className:"secretary-marriage-view-field",children:[e.jsx("label",{children:"Age:"}),B(p.bride.age)]}),e.jsxs("div",{className:"secretary-marriage-view-field",children:[e.jsx("label",{children:"Date of Baptism:"}),B(ae(p.bride.dateOfBaptism))]}),e.jsxs("div",{className:"secretary-marriage-view-field",children:[e.jsx("label",{children:"Church of Baptism:"}),B(p.bride.churchOfBaptism)]})]}),e.jsx("div",{className:"secretary-marriage-view-row",children:e.jsxs("div",{className:"secretary-marriage-view-field",children:[e.jsx("label",{children:"Place of Birth:"}),B(p.bride.placeOfBirth)]})}),e.jsx("label",{className:"mini-view",children:"Home Address"}),e.jsxs("div",{className:"secretary-marriage-view-row secretary-marriage-address-view-row",children:[e.jsxs("div",{className:"secretary-marriage-view-field",children:[e.jsx("label",{children:"Barangay:"}),B(p.bride.address.barangay)]}),e.jsxs("div",{className:"secretary-marriage-view-field",children:[e.jsx("label",{children:"Street:"}),B(p.bride.address.street)]}),e.jsxs("div",{className:"secretary-marriage-view-field",children:[e.jsx("label",{children:"Municipality:"}),B(p.bride.address.municipality)]}),e.jsxs("div",{className:"secretary-marriage-view-field",children:[e.jsx("label",{children:"Province:"}),B(p.bride.address.province)]})]})]}),e.jsx("h3",{className:"secretary-marriage-view-sub-title",children:"Witness Information"}),e.jsxs("div",{className:"secretary-marriage-view-info-card",children:[e.jsx("h4",{className:"secretary-marriage-view-witness-title",children:"First Witness"}),e.jsxs("div",{className:"secretary-marriage-view-row",children:[e.jsxs("div",{className:"secretary-marriage-view-field",children:[e.jsx("label",{children:"First Name:"}),B(p.witnesses[0].firstName)]}),e.jsxs("div",{className:"secretary-marriage-view-field",children:[e.jsx("label",{children:"Middle Name:"}),B(p.witnesses[0].middleName)]}),e.jsxs("div",{className:"secretary-marriage-view-field",children:[e.jsx("label",{children:"Last Name:"}),B(p.witnesses[0].lastName)]}),e.jsxs("div",{className:"secretary-marriage-view-field",children:[e.jsx("label",{children:"Date of Birth:"}),B(ae(p.witnesses[0].dateOfBirth))]})]}),e.jsxs("div",{className:"secretary-marriage-view-row",children:[e.jsxs("div",{className:"secretary-marriage-view-field",children:[e.jsx("label",{children:"Age:"}),B(p.witnesses[0].age)]}),e.jsxs("div",{className:"secretary-marriage-view-field",children:[e.jsx("label",{children:"Gender:"}),B(p.witnesses[0].gender)]}),e.jsxs("div",{className:"secretary-marriage-view-field",children:[e.jsx("label",{children:"Contact Number:"}),B(p.witnesses[0].contact)]})]}),e.jsxs("div",{className:"secretary-marriage-view-row secretary-marriage-address-view-row",children:[e.jsxs("div",{className:"secretary-marriage-view-field",children:[e.jsx("label",{children:"Street:"}),B(p.witnesses[0].address.street)]}),e.jsxs("div",{className:"secretary-marriage-view-field",children:[e.jsx("label",{children:"Barangay:"}),B(p.witnesses[0].address.barangay)]}),e.jsxs("div",{className:"secretary-marriage-view-field",children:[e.jsx("label",{children:"Municipality:"}),B(p.witnesses[0].address.municipality)]}),e.jsxs("div",{className:"secretary-marriage-view-field",children:[e.jsx("label",{children:"Province:"}),B(p.witnesses[0].address.province)]})]})]}),e.jsxs("div",{className:"secretary-marriage-view-info-card",children:[e.jsx("h4",{className:"secretary-marriage-view-witness-title",children:"Second Witness"}),e.jsxs("div",{className:"secretary-marriage-view-row",children:[e.jsxs("div",{className:"secretary-marriage-view-field",children:[e.jsx("label",{children:"First Name:"}),B(p.witnesses[1].firstName)]}),e.jsxs("div",{className:"secretary-marriage-view-field",children:[e.jsx("label",{children:"Middle Name:"}),B(p.witnesses[1].middleName)]}),e.jsxs("div",{className:"secretary-marriage-view-field",children:[e.jsx("label",{children:"Last Name:"}),B(p.witnesses[1].lastName)]}),e.jsxs("div",{className:"secretary-marriage-view-field",children:[e.jsx("label",{children:"Date of Birth:"}),B(ae(p.witnesses[1].dateOfBirth))]})]}),e.jsxs("div",{className:"secretary-marriage-view-row",children:[e.jsxs("div",{className:"secretary-marriage-view-field",children:[e.jsx("label",{children:"Age:"}),B(p.witnesses[1].age)]}),e.jsxs("div",{className:"secretary-marriage-view-field",children:[e.jsx("label",{children:"Gender:"}),B(p.witnesses[1].gender)]}),e.jsxs("div",{className:"secretary-marriage-view-field",children:[e.jsx("label",{children:"Contact Number:"}),B(p.witnesses[1].contact)]})]}),e.jsxs("div",{className:"secretary-marriage-view-row secretary-marriage-address-view-row",children:[e.jsxs("div",{className:"secretary-marriage-view-field",children:[e.jsx("label",{children:"Street:"}),B(p.witnesses[1].address.street)]}),e.jsxs("div",{className:"secretary-marriage-view-field",children:[e.jsx("label",{children:"Barangay:"}),B(p.witnesses[1].address.barangay)]}),e.jsxs("div",{className:"secretary-marriage-view-field",children:[e.jsx("label",{children:"Municipality:"}),B(p.witnesses[1].address.municipality)]}),e.jsxs("div",{className:"secretary-marriage-view-field",children:[e.jsx("label",{children:"Province:"}),B(p.witnesses[1].address.province)]})]})]})]}),e.jsxs("div",{className:"secretary-marriage-requirements-view-container",children:[e.jsx("h2",{className:"secretary-marriage-requirements-view-title",children:"Requirements"}),e.jsxs("div",{className:"secretary-marriage-requirements-view-box",children:[e.jsx("h3",{className:"secretary-marriage-view-section-header",children:"Documents Required(All documents must be submitted to the Parish Office)"}),e.jsxs("div",{className:"secretary-marriage-view-checkbox-list",children:[e.jsx("div",{className:"secretary-marriage-requirement-view-item",children:e.jsx("div",{className:"secretary-marriage-view-requirement-name",children:"Marriage License (Issued by the civil registry)"})}),e.jsx("div",{className:"secretary-marriage-requirement-view-item",children:e.jsx("div",{className:"secretary-marriage-view-requirement-name",children:"Certificate of No Marriage (CENOMAR, issued by PSA)"})}),e.jsx("div",{className:"secretary-marriage-requirement-view-item",children:e.jsx("div",{className:"secretary-marriage-view-requirement-name",children:"Publication of Banns (Announcements made in the parish for three consecutive Sundays)"})}),e.jsx("div",{className:"secretary-marriage-requirement-view-item",children:e.jsx("div",{className:"secretary-marriage-view-requirement-name",children:"Permit from Proper Parish (If wedding is held outside couple's parish)"})}),e.jsx("div",{className:"secretary-marriage-requirement-view-item",children:e.jsx("div",{className:"secretary-marriage-view-requirement-name",children:"Pre-Cana Seminar (Marriage Preparation Program certificate)"})}),e.jsx("div",{className:"secretary-marriage-requirement-view-item",children:e.jsx("div",{className:"secretary-marriage-view-requirement-name",children:"Complete List of Sponsors (Ninong & Ninang)"})}),e.jsx("div",{className:"secretary-marriage-requirement-view-item",children:e.jsx("div",{className:"secretary-marriage-view-requirement-name",children:"Canonical Interview/Examination (Required interview with parish priest)"})})]})]})]}),e.jsxs("div",{className:"secretary-marriage-view-info-card",children:[e.jsx("h2",{className:"secretary-marriage-view-sub-title",children:"Schedule Selection"}),e.jsxs("div",{className:"secretary-marriage-view-row",children:[e.jsxs("div",{className:"secretary-marriage-view-field",children:[e.jsx("label",{children:"Date of Holy Matrimony:"}),e.jsx("input",{type:"date",className:"secretary-view-input",value:D,onChange:C=>ne(C.target.value),disabled:a==="Approved"})]}),e.jsxs("div",{className:"secretary-marriage-view-field",children:[e.jsx("label",{children:"Time of Holy Matrimony:"}),e.jsx("input",{type:"time",className:"secretary-view-input",value:_,onChange:C=>U(C.target.value),disabled:a==="Approved"})]})]}),e.jsx("div",{className:"secretary-marriage-view-row",children:e.jsxs("div",{className:"secretary-marriage-view-field",children:[e.jsx("label",{children:"Name of the Priest:"}),e.jsx("input",{type:"text",className:"secretary-view-input",value:re,onChange:C=>V(C.target.value),placeholder:"Enter priest's name",disabled:a==="Approved"})]})})]}),e.jsx("div",{className:"secretary-marriage-action-buttons",children:a!=="Approved"&&e.jsx("button",{className:"secretary-marriage-submit-button",onClick:ye,children:"Approve"})})]})]}):e.jsx("div",{className:"secretary-marriage-view-container",children:e.jsxs("div",{className:"secretary-marriage-view-error",children:[e.jsx("p",{children:"No marriage data found."}),e.jsx("button",{onClick:()=>O(-1),children:"Back"})]})})},zO=()=>{const[a,t]=N.useState("PENDING"),[s,i]=N.useState(null),[r,c]=N.useState(!1),[A,d]=N.useState(!1),[h,u]=N.useState(!1),[v,x]=N.useState(""),y=N.useRef(null),[p,F]=N.useState(!1),[b,S]=N.useState(!0),[f,O]=N.useState(null),[M,J]=N.useState(null),K=oa(),H=Jt(),[k,Y]=N.useState(""),[D,ge]=N.useState(""),[_,X]=N.useState(""),re="https://parishofdivinemercy.com/backend";N.useEffect(()=>{var he,W;const q=(he=K.state)==null?void 0:he.communionID,te=(W=K.state)==null?void 0:W.status;if(console.log("Component mounted, location state:",K.state),console.log("communionID:",q),console.log("statusFromNav:",te),!q){J("Missing communion information. Please try again."),S(!1);return}te&&t(te),fe(q,te)},[K]);const fe=async(q,te)=>{try{S(!0),console.log(`Fetching communion details for ID: ${q}, statusFromNav: ${te}`);const he=await fetch(`${re}/fetch_communion_details.php?communionID=${q}`);console.log("Response status:",he.status);const W=await he.json();if(console.log("API response data:",W),W.success){const C=ue(W.data);console.log("Transformed data:",C),O(C);const Z=te||C.status||"PENDING";t(Z),console.log("Setting status to:",Z),Y(""),ge(""),X(""),!await Ne(q)&&Z!=="Approved"&&(Y(C.date||""),ge(C.time||""),X(C.priest||""),console.log("Using data from communion application:",{date:C.date,time:C.time,priest:C.priest}))}else console.error("Error from API:",W.message),J(W.message||"Failed to fetch communion details")}catch(he){console.error("Error fetching communion details:",he),J("An error occurred while fetching the data: "+he.message)}finally{S(!1)}},Ne=async q=>{try{console.log("Fetching approved appointment details for communionID:",q);const te=await fetch(`${re}/fetch_approved_appointment.php?sacramentID=${q}&sacrament_type=Communion`);if(!te.ok)return console.error("Error response:",te.status),!1;const he=await te.json();return console.log("Approved appointment data response:",he),he.success&&he.appointment?(console.log("Setting appointment values from approved_appointments DB:",{date:he.appointment.date,time:he.appointment.time,priest:he.appointment.priest}),Y(he.appointment.date||""),ge(he.appointment.time||""),X(he.appointment.priest||""),!0):(console.log("No approved appointment schedule found or there was an error"),!1)}catch(te){return console.error("Error fetching approved appointment schedule:",te),!1}},ue=q=>{const{communion:te,address:he,father:W,mother:C,requirements:Z}=q;return console.log("Raw communion data:",te),console.log("Raw address data:",he),console.log("Raw father data:",W),console.log("Raw mother data:",C),console.log("Raw requirements data:",Z),{date:te.date||"",time:te.time||"",priest:te.priest||"",communionID:te.communionID,child:{firstName:te.first_name||"",middleName:te.middle_name||"",lastName:te.last_name||"",age:te.age||"",dateOfBirth:te.dateOfBirth||"",gender:te.gender||"",dateOfBaptism:te.dateOfBaptism||"",churchOfBaptism:te.churchOfBaptism||"",placeOfBirth:te.placeOfBirth||"",address:{street:(he==null?void 0:he.street)||"",barangay:(he==null?void 0:he.barangay)||"",municipality:(he==null?void 0:he.municipality)||"",province:(he==null?void 0:he.province)||"",region:(he==null?void 0:he.region)||""}},father:{firstName:(W==null?void 0:W.first_name)||"",middleName:(W==null?void 0:W.middle_name)||"",lastName:(W==null?void 0:W.last_name)||"",dateOfBirth:(W==null?void 0:W.dateOfBirth)||"",placeOfBirth:(W==null?void 0:W.placeOfBirth)||"",contact:(W==null?void 0:W.contact_number)||""},mother:{firstName:(C==null?void 0:C.first_name)||"",middleName:(C==null?void 0:C.middle_name)||"",lastName:(C==null?void 0:C.last_name)||"",dateOfBirth:(C==null?void 0:C.dateOfBirth)||"",placeOfBirth:(C==null?void 0:C.placeOfBirth)||"",contact:(C==null?void 0:C.contact_number)||""},requirements:{baptismCert:{submitted:(Z==null?void 0:Z.baptism_cert_status)==="Submitted",fileName:(Z==null?void 0:Z.baptism_cert)||"",status:(Z==null?void 0:Z.baptism_cert_status)||"Not Submitted"},firstCommunionCert:{submitted:(Z==null?void 0:Z.first_communion_cert_status)==="Submitted",fileName:(Z==null?void 0:Z.first_communion_cert)||"",status:(Z==null?void 0:Z.first_communion_cert_status)||"Not Submitted"},birthCert:{submitted:(Z==null?void 0:Z.birth_cert_status)==="Submitted",fileName:(Z==null?void 0:Z.birth_cert)||"",status:(Z==null?void 0:Z.birth_cert_status)||"Not Submitted"}},certificate:{registerNumber:"24",pageNumber:"103",lineNumber:"8",dateIssued:new Date().toISOString().split("T")[0],purposeOf:"School Records"}}},_e=async()=>{if(!f||!f.communionID){alert("No communion data available to approve.");return}if(!k){alert("Please select a date for the communion.");return}if(!D){alert("Please select a time for the communion.");return}if(!_){alert("Please enter the name of the priest for the communion.");return}console.log("Submit values:",{selectedDate:k,selectedTime:D,selectedPriest:_}),u(!0)},ce=async()=>{u(!1);try{console.log(`Approving communion application with ID: ${f.communionID}`);const q={sacramentID:f.communionID,sacrament_type:"Communion",date:k,time:D,priest:_,clientID:f.clientID};console.log("Saving appointment data:",q);const te=await fetch(`${re}/save_approved_appointment.php`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(q)});if(!te.ok)throw new Error(`Server responded with status: ${te.status}`);const he=await te.json();if(console.log("Appointment save result:",he),!he.success)throw new Error(he.message||"Failed to save appointment details");console.log("Appointment saved successfully:",he);const W={communionID:f.communionID,status:"Approved",date:k,time:D,priest:_,childName:`${f.child.firstName} ${f.child.lastName}`,parentEmail:f.father.email||f.mother.email,parentName:`${f.father.firstName} ${f.father.lastName}`||`${f.mother.firstName} ${f.mother.lastName}`};console.log("Updating communion status with data:",W);const C=await fetch(`${re}/update_communion_status.php`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(W)});let Z;const se=C.headers.get("content-type");if(se&&se.indexOf("application/json")!==-1)Z=await C.json(),console.log("API response:",Z);else{const Se=await C.text();throw console.error("Non-JSON response:",Se),new Error("Invalid response from server. Please check server logs.")}if(Z.success){try{const Qe=await(await fetch(`${re}/approved_communion_email.php`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({communionID:f.communionID,date:k,time:D,priest:_})})).json();Qe.success?console.log("Email sent successfully:",Qe.message):console.warn("Email sending failed:",Qe.message)}catch(He){console.error("Error sending email:",He)}t("Approved"),O({...f,date:k,time:D,priest:_,status:"Approved"}),x("Communion application has been approved successfully! An email notification has been sent to the client."),d(!0)}else{const Se=Z.message||"Failed to approve communion application";x(Se),d(!0)}}catch(q){console.error("Error approving communion application:",q),x("An error occurred while approving the communion application: "+q.message),d(!0)}},ye=()=>{c(!0)},Q=q=>{if(!q)return"N/A";try{return new Date(q).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})}catch(te){return console.error("Error formatting date:",te),q}},ne=q=>{if(!q)return{month:"N/A",day:"N/A"};try{const te=new Date(q),he=te.toLocaleDateString("en-US",{month:"long"}),W=te.getDate();return{month:he,day:W}}catch(te){return console.error("Error extracting month and day:",te),{month:"N/A",day:"N/A"}}},U=async()=>{if(y.current){F(!0);try{const q=y.current.querySelectorAll("img");await Promise.all([...q].map(He=>He.complete?Promise.resolve():new Promise(Qe=>{He.onload=Qe,He.onerror=Qe})));const te=await $s(y.current,{scale:2,logging:!1,useCORS:!0,allowTaint:!0,backgroundColor:"#ffffff"}),he=te.toDataURL("image/png"),W=210,C=297,Z=te.height*W/te.width,se=new ea("p","mm","a4");se.addImage(he,"PNG",0,0,W,Z);const Se=`First_Communion_Certificate_${f.child.firstName}_${f.child.lastName}.pdf`;se.save(Se),c(!1),alert("Certificate downloaded successfully!")}catch(q){console.error("Error generating PDF:",q),alert("Error generating PDF. Please try again.")}finally{F(!1)}}},V=q=>e.jsx("div",{className:"secretary-conf-view-value",children:q||"N/A"}),T=q=>q?(console.log(`Getting URL for document: ${q}`),window.location.hostname==="localhost"||window.location.hostname==="127.0.0.1"?`/uploads/communion_requirements/${q}`:`/uploads/communion_requirements/${q}`):"",ie=()=>{if(!s)return null;const q=s.split(".").pop().toLowerCase(),te=["jpg","jpeg","png","gif","webp"].includes(q),he=q==="pdf",W=T(s),C="Document Preview";return e.jsx("div",{className:"secretary-conf-document-viewer-overlay",children:e.jsxs("div",{className:"secretary-conf-document-viewer-container",children:[e.jsxs("div",{className:"secretary-conf-document-viewer-header",children:[e.jsx("h3",{children:C}),e.jsx("button",{className:"secretary-conf-document-close-btn",onClick:()=>i(null),children:""})]}),e.jsxs("div",{className:"secretary-conf-document-viewer-content",children:[te&&e.jsx("img",{src:W,alt:C,style:{maxWidth:"100%",maxHeight:"70vh"},onError:Z=>{console.error(`Failed to load image: ${W}`),Z.target.src="https://via.placeholder.com/500x300?text=Image+Not+Found",Z.target.alt="Document not found"}}),he&&e.jsx("iframe",{src:`${W}#toolbar=0`,title:C,width:"100%",height:"600px",style:{border:"none"},onError:Z=>{console.error(`Failed to load PDF: ${W}`),Z.target.src="about:blank"}}),!te&&!he&&e.jsxs("div",{className:"secretary-conf-document-placeholder",children:[e.jsx("p",{children:"Document preview not available for this file type."}),e.jsx("a",{href:W,target:"_blank",rel:"noopener noreferrer",className:"secretary-conf-document-download-link",children:"Download to view"})]})]})]})})},ae=()=>{if(!r||!f)return null;const{month:q,day:te}=ne(k||f.date),he=new Date(k||f.date).getFullYear();return e.jsx("div",{className:"secretary-conf-document-viewer-overlay",children:e.jsxs("div",{className:"secretary-conf-certificate-modal-container",children:[e.jsxs("div",{className:"secretary-conf-document-viewer-header",children:[e.jsx("h3",{children:"First Holy Communion Certificate"}),e.jsx("button",{className:"secretary-conf-document-close-btn",onClick:()=>c(!1),children:""})]}),e.jsxs("div",{className:"secretary-conf-certificate-modal-content",children:[e.jsx("p",{children:"Would you like to download this certificate?"}),e.jsxs("div",{ref:y,className:"confirmation-certificate-preview",children:[e.jsxs("div",{className:"confirmation-certificate-header",children:[e.jsxs("div",{className:"confirmation-certificate-logos",children:[e.jsx("div",{className:"confirmation-parish-logo-left",children:e.jsx("img",{src:zs,alt:"Parish Logo Left",onError:W=>{W.target.src="https://via.placeholder.com/70x70?text=Church"}})}),e.jsxs("div",{className:"parish-title",children:[e.jsx("div",{className:"diocese-title",children:"DIOCESE OF DAET"}),e.jsx("div",{className:"parish-name",children:"PARISH OF THE DIVINE MERCY"}),e.jsx("div",{className:"parish-address",children:"Alawihao, Daet, 4600 Camarines Norte, Philippines"})]}),e.jsx("div",{className:"confirmation-parish-logo-right",children:e.jsx("img",{src:Ii,alt:"Parish Logo Right",onError:W=>{W.target.src="https://via.placeholder.com/80x80?text=PDM"}})})]}),e.jsx("h1",{className:"certificate-title",children:"Certificate of First Holy Communion"}),e.jsx("p",{className:"certificate-subtitle",children:"This is to certify that"})]}),e.jsxs("div",{className:"confirmation-certificate-details",children:[e.jsxs("div",{className:"cert-field name-field",children:[e.jsxs("div",{className:"cert-value",children:[f.child.firstName," ",f.child.middleName," ",f.child.lastName]}),e.jsx("div",{className:"cert-label",children:"(Name of child)"})]}),e.jsxs("div",{className:"cert-row",children:[e.jsxs("div",{className:"cert-field",children:[e.jsxs("div",{className:"cert-value",children:[f.father.firstName," ",f.father.middleName," ",f.father.lastName]}),e.jsx("div",{className:"cert-label",children:"(Father's Name)"})]}),e.jsx("div",{className:"cert-field",children:e.jsx("div",{className:"cert-text",children:"and"})}),e.jsxs("div",{className:"cert-field",children:[e.jsxs("div",{className:"cert-value",children:[f.mother.firstName," ",f.mother.middleName," ",f.mother.lastName]}),e.jsx("div",{className:"cert-label",children:"(Mother's Name)"})]})]}),e.jsxs("div",{className:"cert-field residence-field",children:[e.jsxs("div",{className:"cert-value",children:[f.child.address.barangay,", ",f.child.address.street,", ",f.child.address.municipality,", ",f.child.address.province,", ",f.child.address.region]}),e.jsx("div",{className:"cert-label",children:"(Residence)"})]}),e.jsxs("div",{className:"cert-field birthplace-field",children:[e.jsx("div",{className:"cert-value",children:typeof f.child.placeOfBirth=="string"?f.child.placeOfBirth:`${f.child.placeOfBirth.municipality}, ${f.child.placeOfBirth.province}, ${f.child.placeOfBirth.region}`}),e.jsx("div",{className:"cert-label",children:"(Place of Birth)"})]}),e.jsxs("div",{className:"cert-field baptism-field",children:[e.jsx("div",{className:"cert-value",children:f.child.churchOfBaptism}),e.jsx("div",{className:"cert-label",children:"(Was Baptized at)"})]}),e.jsxs("div",{className:"cert-field communion-date-field",children:[e.jsx("div",{className:"cert-prefix",children:"Received First Holy Communion on the"}),e.jsxs("div",{className:"cert-value",children:[te,"th"]}),e.jsx("div",{className:"cert-prefix",children:"day of"}),e.jsx("div",{className:"cert-value",children:q}),e.jsx("div",{className:"cert-prefix",children:"in the year"}),e.jsx("div",{className:"cert-value",children:he})]}),e.jsx("div",{className:"cert-field rites-field",children:e.jsx("div",{className:"cert-value",children:"According to the Rites of the Roman Catholic Church"})}),e.jsxs("div",{className:"cert-field minister-field",children:[e.jsx("div",{className:"cert-prefix",children:"by"}),e.jsx("div",{className:"cert-value",children:_||f.priest})]}),e.jsxs("div",{className:"cert-field register-field",children:[e.jsx("div",{className:"cert-prefix",children:"as appears on First Communion Register No."}),e.jsx("div",{className:"cert-value",children:f.certificate.registerNumber}),e.jsx("div",{className:"cert-prefix",children:"Page"}),e.jsx("div",{className:"cert-value",children:f.certificate.pageNumber}),e.jsx("div",{className:"cert-prefix",children:"Line"}),e.jsx("div",{className:"cert-value",children:f.certificate.lineNumber})]}),e.jsxs("div",{className:"cert-field purpose-field",children:[e.jsx("div",{className:"cert-prefix",children:"This certificate was given for the purpose of"}),e.jsx("div",{className:"cert-value",children:f.certificate.purposeOf})]}),e.jsxs("div",{className:"cert-field date-issued-field",children:[e.jsx("div",{className:"cert-prefix",children:"Date Issued:"}),e.jsx("div",{className:"cert-value",children:Q(f.certificate.dateIssued)})]}),e.jsxs("div",{className:"cert-field signature-field",children:[e.jsx("div",{className:"cert-value parish-seal",children:"Parish Seal"}),e.jsx("div",{className:"cert-value signature-line",children:(_||f.priest).toUpperCase().startsWith("REV")||(_||f.priest).toUpperCase().startsWith("FR")?(_||f.priest).toUpperCase():`REV. FR. ${(_||f.priest).toUpperCase()}`}),e.jsx("div",{className:"cert-label",children:"(Parish Priest)"})]})]})]}),e.jsx("div",{className:"secretary-conf-certificate-modal-actions",children:e.jsx("button",{className:"secretary-conf-certificate-download-btn",onClick:U,disabled:p,children:p?"Processing...":e.jsxs(e.Fragment,{children:[e.jsx(gs,{})," Download"]})})})]})]})})},P=()=>{if(!A)return null;const q=v.includes("successfully"),te=q?"success":"error",he=()=>{d(!1),q&&H("/secretary-appointment")};return e.jsx("div",{className:"secretary-document-viewer-overlay",children:e.jsxs("div",{className:`secretary-${te}-modal-container`,children:[e.jsxs("div",{className:`secretary-${te}-header`,children:[e.jsx("h3",{children:q?"Success":"Error"}),e.jsx("button",{className:"secretary-document-close-btn",onClick:he,children:""})]}),e.jsxs("div",{className:`secretary-${te}-content`,children:[e.jsx("div",{className:`secretary-${te}-icon`,children:q?"":"!"}),e.jsx("p",{children:v}),e.jsx("button",{className:`secretary-${te}-ok-btn`,onClick:he,children:"OK"})]})]})})},z=()=>h?e.jsx("div",{className:"secretary-document-viewer-overlay",children:e.jsxs("div",{className:"secretary-confirm-modal-container",children:[e.jsxs("div",{className:"secretary-confirm-header",children:[e.jsx("h3",{children:"Confirm Approval"}),e.jsx("button",{className:"secretary-document-close-btn",onClick:()=>u(!1),children:""})]}),e.jsxs("div",{className:"secretary-confirm-content",children:[e.jsx("div",{className:"secretary-confirm-icon",children:"?"}),e.jsx("p",{children:"Are you sure you want to approve this Holy Communion appointment?"}),e.jsxs("p",{children:["Date: ",k]}),e.jsxs("p",{children:["Time: ",D]}),e.jsxs("p",{children:["Priest: ",_]}),e.jsx("p",{children:"An email notification will be sent to the client."}),e.jsxs("div",{className:"secretary-confirm-buttons",children:[e.jsx("button",{className:"secretary-confirm-yes-btn",onClick:ce,children:"Yes, Approve"}),e.jsx("button",{className:"secretary-confirm-no-btn",onClick:()=>u(!1),children:"Cancel"})]})]})]})}):null,B=()=>{var q;return e.jsxs("div",{style:{display:"none",padding:"10px",background:"#f0f0f0",margin:"10px 0",borderRadius:"4px",fontSize:"12px"},children:[e.jsx("strong",{children:"Debug Info:"}),e.jsx("br",{}),"communionID: ",((q=K.state)==null?void 0:q.communionID)||"Not set",e.jsx("br",{}),"status: ",a,e.jsx("br",{}),"loading: ",b.toString(),e.jsx("br",{}),"error: ",M||"None",e.jsx("br",{}),"data loaded: ",f?"Yes":"No"]})};return b?e.jsxs("div",{className:"secretary-confirmation-view-container",children:[B(),e.jsx("div",{className:"secretary-confirmation-view-loading",children:"Loading communion details..."})]}):M?e.jsxs("div",{className:"secretary-confirmation-view-container",children:[B(),e.jsxs("div",{className:"secretary-confirmation-view-error",children:[e.jsx("p",{children:M}),e.jsx("button",{onClick:()=>H(-1),children:"Back"})]})]}):f?e.jsxs("div",{className:"secretary-confirmation-view-container",children:[B(),ie(),ae(),P(),z(),e.jsxs("div",{className:"secretary-conf-view-header",children:[e.jsx("div",{className:"secretary-conf-view-left-section",children:e.jsxs("button",{className:"secretary-conf-view-back-button",onClick:()=>H(-1),children:[e.jsx(Oa,{className:"secretary-conf-view-back-icon"})," Back"]})}),e.jsx("div",{className:"secretary-conf-view-right-section",children:a==="Approved"&&e.jsxs("button",{className:"secretary-conf-download-certificate-btn",onClick:ye,children:[e.jsx(gs,{})," Download Certificate"]})})]}),e.jsx("h1",{className:"secretary-conf-view-title",children:"Holy Communion Application Details"}),e.jsxs("div",{className:"secretary-conf-view-data",children:[e.jsxs("div",{className:"secretary-conf-view-info-card",children:[e.jsx("h3",{className:"secretary-funeral-view-sub-title",children:"Appointment Request Details"}),e.jsxs("div",{className:"secretary-conf-view-row-date",children:[e.jsxs("div",{className:"secretary-conf-view-field-date",children:[e.jsx("label",{children:"Date of Appointment:"}),V(Q(f.date))]}),e.jsxs("div",{className:"secretary-conf-view-field-time",children:[e.jsx("label",{children:"Time of Appointment:"}),V(f.time)]})]})]}),e.jsxs("div",{className:"secretary-conf-view-bypart",children:[e.jsx("h3",{className:"secretary-conf-view-sub-title",children:"Child's Information"}),e.jsxs("div",{className:"secretary-conf-view-info-card",children:[e.jsxs("div",{className:"secretary-conf-view-row",children:[e.jsxs("div",{className:"secretary-conf-view-field",children:[e.jsx("label",{children:"First Name:"}),V(f.child.firstName)]}),e.jsxs("div",{className:"secretary-conf-view-field",children:[e.jsx("label",{children:"Middle Name:"}),V(f.child.middleName)]}),e.jsxs("div",{className:"secretary-conf-view-field",children:[e.jsx("label",{children:"Last Name:"}),V(f.child.lastName)]}),e.jsxs("div",{className:"secretary-conf-view-field",children:[e.jsx("label",{children:"Date of Birth:"}),V(Q(f.child.dateOfBirth))]})]}),e.jsxs("div",{className:"secretary-conf-view-row",children:[e.jsxs("div",{className:"secretary-conf-view-field",children:[e.jsx("label",{children:"Age:"}),V(f.child.age)]}),e.jsxs("div",{className:"secretary-conf-view-field",children:[e.jsx("label",{children:"Gender:"}),V(f.child.gender)]}),e.jsxs("div",{className:"secretary-conf-view-field",children:[e.jsx("label",{children:"Date of Baptism:"}),V(Q(f.child.dateOfBaptism))]}),e.jsxs("div",{className:"secretary-conf-view-field",children:[e.jsx("label",{children:"Church of Baptism:"}),V(f.child.churchOfBaptism)]})]}),e.jsx("div",{className:"secretary-conf-view-row",children:e.jsxs("div",{className:"secretary-conf-view-field",children:[e.jsx("label",{children:"Place of Birth:"}),V(f.child.placeOfBirth)]})}),e.jsx("label",{className:"sub-mini-cc",children:"Home Address"}),e.jsxs("div",{className:"secretary-conf-view-row secretary-conf-address-view-row",children:[e.jsxs("div",{className:"secretary-conf-view-field",children:[e.jsx("label",{children:"Street:"}),V(f.child.address.street)]}),e.jsxs("div",{className:"secretary-conf-view-field",children:[e.jsx("label",{children:"Barangay:"}),V(f.child.address.barangay)]}),e.jsxs("div",{className:"secretary-conf-view-field",children:[e.jsx("label",{children:"Municipality:"}),V(f.child.address.municipality)]})]}),e.jsxs("div",{className:"secretary-conf-view-row",children:[e.jsxs("div",{className:"secretary-conf-view-field",children:[e.jsx("label",{children:"Province:"}),V(f.child.address.province)]}),e.jsxs("div",{className:"secretary-conf-view-field",children:[e.jsx("label",{children:"Region:"}),V(f.child.address.region)]})]})]}),e.jsx("h3",{className:"secretary-conf-view-sub-title",children:"Father's Information"}),e.jsxs("div",{className:"secretary-conf-view-info-card",children:[e.jsxs("div",{className:"secretary-conf-view-row",children:[e.jsxs("div",{className:"secretary-conf-view-field",children:[e.jsx("label",{children:"Father's First Name:"}),V(f.father.firstName)]}),e.jsxs("div",{className:"secretary-conf-view-field",children:[e.jsx("label",{children:"Father's Middle Name:"}),V(f.father.middleName)]}),e.jsxs("div",{className:"secretary-conf-view-field",children:[e.jsx("label",{children:"Father's Last Name:"}),V(f.father.lastName)]})]}),e.jsxs("div",{className:"secretary-conf-view-row",children:[e.jsxs("div",{className:"secretary-conf-view-field",children:[e.jsx("label",{children:"Father's Date of Birth:"}),V(Q(f.father.dateOfBirth))]}),e.jsxs("div",{className:"secretary-conf-view-field",children:[e.jsx("label",{children:"Father's Contact Number:"}),V(f.father.contact)]}),e.jsxs("div",{className:"secretary-conf-view-field",children:[e.jsx("label",{children:"Father's Place of Birth:"}),V(f.father.placeOfBirth)]})]})]}),e.jsx("h3",{className:"secretary-conf-view-sub-title",children:"Mother's Information"}),e.jsxs("div",{className:"secretary-conf-view-info-card",children:[e.jsxs("div",{className:"secretary-conf-view-row",children:[e.jsxs("div",{className:"secretary-conf-view-field",children:[e.jsx("label",{children:"Mother's First Name:"}),V(f.mother.firstName)]}),e.jsxs("div",{className:"secretary-conf-view-field",children:[e.jsx("label",{children:"Mother's Middle Name:"}),V(f.mother.middleName)]}),e.jsxs("div",{className:"secretary-conf-view-field",children:[e.jsx("label",{children:"Mother's Last Name:"}),V(f.mother.lastName)]})]}),e.jsxs("div",{className:"secretary-conf-view-row",children:[e.jsxs("div",{className:"secretary-conf-view-field",children:[e.jsx("label",{children:"Mother's Date of Birth:"}),V(Q(f.mother.dateOfBirth))]}),e.jsxs("div",{className:"secretary-conf-view-field",children:[e.jsx("label",{children:"Mother's Contact Number:"}),V(f.mother.contact)]}),e.jsxs("div",{className:"secretary-conf-view-field",children:[e.jsx("label",{children:"Mother's Place of Birth:"}),V(f.mother.placeOfBirth)]})]})]})]}),e.jsxs("div",{className:"secretary-conf-requirements-view-container",children:[e.jsx("h2",{className:"secretary-conf-requirements-view-title",children:"Requirements"}),e.jsxs("div",{className:"secretary-conf-requirements-view-box",children:[e.jsx("h3",{className:"secretary-conf-view-section-header",children:"Documents Required"}),e.jsxs("div",{className:"secretary-conf-info-view-list",children:[e.jsx("div",{className:"secretary-conf-info-view-item",children:e.jsx("p",{children:"Certificate of Baptism(Proof of Catholic Baptism)"})}),e.jsx("div",{className:"secretary-conf-info-view-item",children:e.jsx("p",{children:"First Communion Certificate(If Applicable, for record purposes)"})}),e.jsx("div",{className:"secretary-conf-info-view-item",children:e.jsx("p",{children:"Birth Certificate(For verification purposes)"})}),e.jsx("div",{className:"secretary-conf-info-view-item",children:e.jsx("p",{children:"Certificate of Permission(If outside the Parish)"})})]}),e.jsx("h3",{className:"secretary-conf-view-section-header",children:"Requirements for Candidate"}),e.jsxs("div",{className:"secretary-conf-info-view-list",children:[e.jsx("div",{className:"secretary-conf-info-view-item",children:e.jsx("p",{children:"Must be a baptized Catholic"})}),e.jsx("div",{className:"secretary-conf-info-view-item",children:e.jsx("p",{children:"Must have reached the age of reason (usually around 7 years old)"})}),e.jsx("div",{className:"secretary-conf-info-view-item",children:e.jsx("p",{children:"Must have received the Sacrament of Reconciliation (Confession) before First Communion"})}),e.jsx("div",{className:"secretary-conf-info-view-item",children:e.jsx("p",{children:"Must attend a First Communion Catechesis or Religious Instruction Program"})}),e.jsx("div",{className:"secretary-conf-info-view-item",children:e.jsx("p",{children:"Must understand the significance of the Holy Eucharist and believe in the real presence of Christ in the sacrament"})}),e.jsx("div",{className:"secretary-conf-info-view-item",children:e.jsx("p",{children:"Must attend a First Communion Retreat (if required by the parish)"})})]}),e.jsx("h3",{className:"secretary-conf-view-section-header",children:"Parish Requirements"}),e.jsxs("div",{className:"secretary-conf-info-view-list",children:[e.jsx("div",{className:"secretary-conf-info-view-item",children:e.jsx("p",{children:"Must be registered in the parish where First Communion will be received"})}),e.jsx("div",{className:"secretary-conf-info-view-item",children:e.jsx("p",{children:"Must attend the required preparation classes and rehearsals"})}),e.jsx("div",{className:"secretary-conf-info-view-item",children:e.jsx("p",{children:"Must participate in a First Communion Retreat (if required by the parish)"})})]}),e.jsx("h3",{className:"secretary-conf-view-section-header",children:"Dress Code (If Specified by Parish)"}),e.jsxs("div",{className:"secretary-conf-info-view-list",children:[e.jsx("div",{className:"secretary-conf-info-view-item",children:e.jsx("p",{children:"Boys: White polo or barong, black pants, and formal shoes"})}),e.jsx("div",{className:"secretary-conf-info-view-item",children:e.jsx("p",{children:"Girls: White dress with sleeves (modest), white veil (optional), and formal shoes"})})]})]})]}),e.jsxs("div",{className:"secretary-conf-view-info-card",children:[e.jsx("h2",{className:"secretary-conf-view-sub-title",children:"Schedule Selection"}),e.jsxs("div",{className:"secretary-conf-view-row",children:[e.jsxs("div",{className:"secretary-conf-view-field",children:[e.jsx("label",{children:"Date of Holy Communion:"}),e.jsx("input",{type:"date",className:"secretary-view-input",value:k,onChange:q=>{console.log("Date changed to:",q.target.value),Y(q.target.value)},disabled:a==="Approved"})]}),e.jsxs("div",{className:"secretary-conf-view-field",children:[e.jsx("label",{children:"Time of Holy Communion:"}),e.jsx("input",{type:"time",className:"secretary-view-input",value:D,onChange:q=>{console.log("Time changed to:",q.target.value),ge(q.target.value)},disabled:a==="Approved"})]})]}),e.jsx("div",{className:"secretary-conf-view-row",children:e.jsxs("div",{className:"secretary-conf-view-field",children:[e.jsx("label",{children:"Name of the Priest:"}),a==="Approved"?V(_):e.jsx("input",{type:"text",className:"secretary-view-input",value:_,onChange:q=>{console.log("Priest changed to:",q.target.value),X(q.target.value)},placeholder:"Enter priest's name",disabled:a==="Approved"})]})})]}),e.jsxs("div",{className:"secretary-action-buttons",children:[a!=="Approved"&&e.jsx("button",{className:"secretary-comm-submit-button",onClick:_e,children:"Approve"}),a==="Approved"&&e.jsxs("div",{className:"secretary-approved-status",children:[e.jsx("span",{className:"secretary-approved-icon",children:""}),e.jsx("span",{className:"secretary-approved-text",children:"This communion has been approved"})]})]})]})]}):e.jsxs("div",{className:"secretary-confirmation-view-container",children:[B(),e.jsxs("div",{className:"secretary-confirmation-view-error",children:[e.jsx("p",{children:"No communion data found."}),e.jsx("button",{onClick:()=>H(-1),children:"Back"})]})]})},$O=()=>{const[a,t]=N.useState("PENDING"),[s,i]=N.useState(null),[r,c]=N.useState(!1),[A,d]=N.useState(!1),[h,u]=N.useState(!1),[v,x]=N.useState(""),y=N.useRef(null),[p,F]=N.useState(!1),[b,S]=N.useState(!0),[f,O]=N.useState(null),[M,J]=N.useState(null),[K,H]=N.useState(null),k=oa(),Y=Jt(),[D,ge]=N.useState(""),[_,X]=N.useState(""),[re,fe]=N.useState(""),Ne="https://parishofdivinemercy.com/backend";N.useEffect(()=>{var te,he;const B=(te=k.state)==null?void 0:te.funeralID,q=(he=k.state)==null?void 0:he.status;if(!B){H("Missing funeral information. Please try again."),S(!1);return}q&&t(q),ue(B),q==="Approved"&&_e(B)},[k]);const ue=async B=>{try{S(!0);const q=`${Ne}/fetch_funeral_details.php?funeralID=${B}`,te=await fetch(q);if(!te.ok)throw new Error(`Server responded with status: ${te.status}`);const he=await te.json();if(he.success){const W=ce(he.data);O(W),t(W.status||a),W.status==="Approved"?_e(B):(ge(""),X(""),fe("")),console.log("Funeral data loaded successfully:",W)}else H(he.message||"Failed to fetch funeral details"),console.error("API error:",he.message)}catch(q){console.error("Error fetching funeral details:",q),H("An error occurred while fetching the data: "+q.message)}finally{S(!1)}},_e=async B=>{try{const q=`${Ne}/fetch_approved_appointment.php?sacramentID=${B}&sacrament_type=Funeral`,te=await fetch(q);if(!te.ok){console.error(`Error fetching approved details: ${te.status}`);return}const he=await te.json();he.success&&he.appointment?(J(he.appointment),ge(he.appointment.date||""),X(he.appointment.time||""),fe(he.appointment.priest||""),console.log("Approved funeral data loaded:",he.appointment)):console.warn("No approved appointment data found")}catch(q){console.error("Error fetching approved details:",q)}},ce=B=>{const{funeral:q,deceased:te,requester:he,address:W,requirements:C}=B;return{date:q.dateOfFuneralMass,time:q.timeOfFuneralMass,priest:q.priestName,status:q.status,funeralID:q.funeralID,clientID:q.clientID||null,deceased:{firstName:te.first_name||"N/A",middleName:te.middle_name||"N/A",lastName:te.last_name||"N/A",gender:te.sex||"N/A",age:te.age||"N/A",dateOfBirth:te.dateOfBirth||"N/A",dateOfDeath:te.dateOfDeath||"N/A",causeOfDeath:te.causeOfDeath||"N/A",wakeLocation:te.wake_location||"N/A",burialLocation:te.burial_location||"N/A"},requester:{firstName:he.first_name||"N/A",middleName:he.middle_name||"N/A",lastName:he.last_name||"N/A",relationship:he.relationship||"N/A",contact:he.contact_number||"N/A",email:he.email||"N/A"},address:{street:W.street||"N/A",barangay:W.barangay||"N/A",municipality:W.municipality||"N/A",province:W.province||"N/A",region:W.region||"N/A"},requirements:{deathCertificate:{submitted:(C==null?void 0:C.death_certificate_status)==="Submitted",fileName:C!=null&&C.death_certificate?C.death_certificate.split("/").pop():"N/A"},parishClearance:{submitted:(C==null?void 0:C.parish_clearance_status)==="Submitted",fileName:C!=null&&C.parish_clearance?C.parish_clearance.split("/").pop():"N/A"},permitToBury:{submitted:(C==null?void 0:C.permit_to_bury_status)==="Submitted",fileName:C!=null&&C.permit_to_bury?C.permit_to_bury.split("/").pop():"N/A"},certificateBaptism:{submitted:(C==null?void 0:C.certificate_baptism_status)==="Submitted",fileName:C!=null&&C.certificate_baptism?C.certificate_baptism.split("/").pop():"N/A"},certificateConfirmation:{submitted:(C==null?void 0:C.certificate_confirmation_status)==="Submitted",fileName:C!=null&&C.certificate_confirmation?C.certificate_confirmation.split("/").pop():"N/A"}},certificate:{dateIssued:new Date().toISOString().split("T")[0],certificateNumber:`FM-${q.funeralID}-${new Date().getFullYear()}`}}},ye=async()=>{if(!f||!f.funeralID){alert("No funeral data available to approve.");return}if(!D){alert("Please select a date for the funeral mass.");return}if(!_){alert("Please select a time for the funeral mass.");return}if(!re){alert("Please enter the name of the priest for the funeral mass.");return}u(!0)},Q=async()=>{u(!1);try{const B={sacramentID:f.funeralID,sacrament_type:"Funeral",date:D,time:_,priest:re};console.log("Saving appointment data:",B);const q=await fetch(`${Ne}/save_approved_appointment.php`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(B)});if(!q.ok)throw new Error(`Server responded with status: ${q.status}`);const te=await q.json();if(!te.success)throw new Error(te.message||"Failed to save appointment details");console.log("Appointment saved successfully:",te);const W=await(await fetch(`${Ne}/update_funeral_status.php`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({funeralID:f.funeralID,status:"Approved",date:D,time:_,priest:re,requesterEmail:f.requester.email,requesterName:`${f.requester.firstName} ${f.requester.lastName}`,deceasedName:`${f.deceased.firstName} ${f.deceased.lastName}`,relationship:f.requester.relationship})})).json();if(W.success){try{const Z=await(await fetch(`${Ne}/approved_funeral_email.php`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({funeralID:f.funeralID,date:D,time:_,priest:re})})).json();Z.success?console.log("Email sent successfully:",Z.message):console.warn("Email sending failed:",Z.message)}catch(C){console.error("Error sending email:",C)}t("Approved"),J({date:D,time:_,priest:re}),x("Funeral mass application has been approved successfully! An email notification has been sent to the client."),d(!0),setTimeout(()=>{d(!1),Y("/secretary-appointment")},1500)}else alert("Failed to approve funeral mass application: "+W.message)}catch(B){console.error("Error approving funeral mass application:",B),alert("An error occurred while approving the funeral mass application: "+B.message)}},ne=B=>{if(!B)return"N/A";try{return new Date(B).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})}catch(q){return console.error("Error formatting date:",q),B}},U=async()=>{if(y.current){F(!0);try{const B=y.current.querySelectorAll("img");await Promise.all([...B].map(Se=>Se.complete?Promise.resolve():new Promise(He=>{Se.onload=He,Se.onerror=He})));const q=await $s(y.current,{scale:2,logging:!1,useCORS:!0,allowTaint:!0,backgroundColor:"#ffffff"}),te=q.toDataURL("image/png"),he=210,W=297,C=q.height*he/q.width,Z=new ea("p","mm","a4");Z.addImage(te,"PNG",0,0,he,C);const se=`Funeral_Certificate_${f.deceased.firstName}_${f.deceased.lastName}.pdf`;Z.save(se);try{await fetch(`${Ne}/log_certificate_download.php`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({sacramentID:f.funeralID,sacrament_type:"Funeral",filename:se,downloadedBy:"Secretary"})})}catch(Se){console.error("Error logging certificate download:",Se)}c(!1),alert("Certificate downloaded successfully!")}catch(B){console.error("Error generating PDF:",B),alert("Error generating PDF. Please try again.")}finally{F(!1)}}},V=B=>e.jsx("div",{className:"secretary-funeral-view-value",children:B||"N/A"}),T=B=>window.location.hostname==="localhost"||window.location.hostname==="127.0.0.1"?`/backend/uploads/funeral_requirements/${B}`:`/backend/uploads/funeral_requirements/${B}`,ie=()=>{if(!s)return null;const B=s.split(".").pop().toLowerCase(),q=["jpg","jpeg","png","gif","webp"].includes(B),te=B==="pdf",he=T(s);return e.jsx("div",{className:"secretary-funeral-document-viewer-overlay",children:e.jsxs("div",{className:"secretary-funeral-document-viewer-container",children:[e.jsxs("div",{className:"secretary-funeral-document-viewer-header",children:[e.jsx("h3",{children:s}),e.jsx("button",{className:"secretary-funeral-document-close-btn",onClick:()=>i(null),children:""})]}),e.jsxs("div",{className:"secretary-funeral-document-viewer-content",children:[q&&e.jsx("img",{src:he,alt:s,style:{maxWidth:"100%",maxHeight:"70vh"},onError:W=>{console.error(`Failed to load image: ${he}`),W.target.src="https://via.placeholder.com/500x300?text=Image+Not+Found",W.target.alt="Document not found"}}),te&&e.jsx("iframe",{src:`${he}#toolbar=0`,title:s,width:"100%",height:"600px",style:{border:"none"},onError:W=>{console.error(`Failed to load PDF: ${he}`),W.target.src="about:blank"}}),!q&&!te&&e.jsxs("div",{className:"secretary-funeral-document-placeholder",children:[e.jsx("p",{children:"Document preview not available for this file type."}),e.jsxs("p",{children:["Filename: ",s]}),e.jsx("a",{href:he,target:"_blank",rel:"noopener noreferrer",className:"secretary-funeral-document-download-link",children:"Download to view"})]})]})]})})},ae=()=>{if(!r||!f)return null;const B=M?M.date:f.date,q=M?M.time:f.time,te=M?M.priest:f.priest;return e.jsx("div",{className:"secretary-funeral-document-viewer-overlay",children:e.jsxs("div",{className:"secretary-funeral-certificate-modal-container",children:[e.jsxs("div",{className:"secretary-funeral-document-viewer-header",children:[e.jsx("h3",{children:"Funeral Mass Certificate"}),e.jsx("button",{className:"secretary-funeral-document-close-btn",onClick:()=>c(!1),children:""})]}),e.jsxs("div",{className:"secretary-funeral-certificate-modal-content",children:[e.jsx("p",{children:"Would you like to download this certificate?"}),e.jsxs("div",{ref:y,className:"funeral-certificate-preview",children:[e.jsxs("div",{className:"certificate-header",children:[e.jsxs("div",{className:"certificate-logos",children:[e.jsx("div",{className:"parish-logo-left",children:e.jsx("img",{src:zs,alt:"Parish Logo Left",onError:he=>{he.target.src="https://via.placeholder.com/70x70?text=Church"}})}),e.jsxs("div",{className:"parish-title",children:[e.jsx("div",{className:"diocese-title",children:"DIOCESE OF DAET"}),e.jsx("div",{className:"parish-name",children:"PARISH OF THE DIVINE MERCY"}),e.jsx("div",{className:"parish-address",children:"Alawihao, Daet, Camarines Norte"})]}),e.jsx("div",{className:"parish-logo-right",children:e.jsx("img",{src:Ii,alt:"Parish Logo Right",onError:he=>{he.target.src="https://via.placeholder.com/80x80?text=PDM"}})})]}),e.jsx("h1",{className:"certificate-title",children:"CERTIFICATE OF FUNERAL MASS"})]}),e.jsxs("div",{className:"certificate-details",children:[e.jsxs("div",{className:"certificate-row",children:[e.jsx("div",{className:"certificate-label",children:"NAME OF DECEASED"}),e.jsxs("div",{className:"certificate-value",children:[f.deceased.firstName," ",f.deceased.middleName," ",f.deceased.lastName]})]}),e.jsxs("div",{className:"certificate-row",children:[e.jsx("div",{className:"certificate-label",children:"DATE OF BIRTH"}),e.jsx("div",{className:"certificate-value",children:ne(f.deceased.dateOfBirth)})]}),e.jsxs("div",{className:"certificate-row",children:[e.jsx("div",{className:"certificate-label",children:"DATE OF DEATH"}),e.jsx("div",{className:"certificate-value",children:ne(f.deceased.dateOfDeath)})]}),e.jsxs("div",{className:"certificate-row",children:[e.jsx("div",{className:"certificate-label",children:"AGE"}),e.jsxs("div",{className:"certificate-value",children:[f.deceased.age," years old"]})]}),e.jsxs("div",{className:"certificate-row",children:[e.jsx("div",{className:"certificate-label",children:"CAUSE OF DEATH"}),e.jsx("div",{className:"certificate-value",children:f.deceased.causeOfDeath})]}),e.jsxs("div",{className:"certificate-row",children:[e.jsx("div",{className:"certificate-label",children:"WAKE LOCATION"}),e.jsx("div",{className:"certificate-value",children:f.deceased.wakeLocation})]}),e.jsxs("div",{className:"certificate-row",children:[e.jsx("div",{className:"certificate-label",children:"BURIAL LOCATION"}),e.jsx("div",{className:"certificate-value",children:f.deceased.burialLocation})]}),e.jsxs("div",{className:"certificate-row",children:[e.jsx("div",{className:"certificate-label",children:"DATE OF FUNERAL MASS"}),e.jsx("div",{className:"certificate-value",children:ne(B)})]}),e.jsxs("div",{className:"certificate-row",children:[e.jsx("div",{className:"certificate-label",children:"TIME OF FUNERAL MASS"}),e.jsx("div",{className:"certificate-value",children:q})]}),e.jsxs("div",{className:"certificate-row",children:[e.jsx("div",{className:"certificate-label",children:"OFFICIATING PRIEST"}),e.jsx("div",{className:"certificate-value",children:te})]}),e.jsxs("div",{className:"certificate-row",children:[e.jsx("div",{className:"certificate-label",children:"REQUESTED BY"}),e.jsxs("div",{className:"certificate-value",children:[f.requester.firstName," ",f.requester.middleName," ",f.requester.lastName," (",f.requester.relationship,")"]})]})]}),e.jsxs("div",{className:"certificate-footer",children:[e.jsxs("div",{className:"certificate-reference",children:[e.jsxs("div",{className:"reference-row",children:[e.jsx("span",{className:"reference-label",children:"Register Number"}),e.jsx("span",{className:"reference-value",children:f.certificate.certificateNumber})]}),e.jsxs("div",{className:"reference-row",children:[e.jsx("span",{className:"reference-label",children:"Date Issued"}),e.jsx("span",{className:"reference-value",children:ne(f.certificate.dateIssued)})]})]}),e.jsxs("div",{className:"certificate-priest-signature",children:[e.jsx("div",{className:"signature-line"}),e.jsx("p",{children:te}),e.jsx("p",{children:"Parish Priest"})]}),e.jsx("div",{className:"certificate-parish-seal",children:e.jsx("p",{children:"Parish Seal"})})]})]}),e.jsxs("div",{className:"secretary-funeral-certificate-modal-actions",children:[e.jsx("button",{className:"secretary-funeral-certificate-download-btn",onClick:U,disabled:p,children:p?"Processing...":e.jsxs(e.Fragment,{children:[e.jsx(gs,{})," Download"]})}),e.jsx("button",{className:"secretary-funeral-certificate-cancel-btn",onClick:()=>c(!1),disabled:p,children:"Cancel"})]})]})]})})},P=()=>h?e.jsx("div",{className:"secretary-document-viewer-overlay",children:e.jsxs("div",{className:"secretary-confirm-modal-container",children:[e.jsxs("div",{className:"secretary-confirm-header",children:[e.jsx("h3",{children:"Confirm Approval"}),e.jsx("button",{className:"secretary-document-close-btn",onClick:()=>u(!1),children:""})]}),e.jsxs("div",{className:"secretary-confirm-content",children:[e.jsx("div",{className:"secretary-confirm-icon",children:"?"}),e.jsx("h2",{children:"Are you sure?"}),e.jsx("p",{children:"Are you sure you want to approve this funeral mass appointment?"}),e.jsxs("p",{children:["Date: ",D]}),e.jsxs("p",{children:["Time: ",_]}),e.jsxs("p",{children:["Priest: ",re]}),e.jsx("p",{children:"This will send an email notification to the requester."}),e.jsxs("div",{className:"secretary-confirm-buttons",children:[e.jsx("button",{className:"secretary-confirm-yes-btn",onClick:Q,children:"Yes, Approve"}),e.jsx("button",{className:"secretary-confirm-no-btn",onClick:()=>u(!1),children:"Cancel"})]})]})]})}):null,z=()=>A?e.jsx("div",{className:"secretary-document-viewer-overlay",children:e.jsxs("div",{className:"secretary-success-modal-container",children:[e.jsxs("div",{className:"secretary-success-header",children:[e.jsx("h3",{children:"Success"}),e.jsx("button",{className:"secretary-document-close-btn",onClick:()=>{d(!1),Y("/secretary-appointment")},children:""})]}),e.jsxs("div",{className:"secretary-success-content",children:[e.jsx("div",{className:"secretary-success-icon",children:""}),e.jsx("h2",{children:"Success!"}),e.jsx("p",{children:v}),e.jsx("p",{children:"An email notification has been sent to the client."}),e.jsx("button",{className:"secretary-success-btn",onClick:()=>{d(!1),Y("/secretary-appointment")},children:"Back to Appointments"})]})]})}):null;return b?e.jsx("div",{className:"secretary-funeral-view-container",children:e.jsx("div",{className:"secretary-funeral-view-loading",children:"Loading funeral details..."})}):K?e.jsx("div",{className:"secretary-funeral-view-container",children:e.jsxs("div",{className:"secretary-funeral-view-error",children:[e.jsx("p",{children:K}),e.jsx("button",{onClick:()=>Y(-1),children:"Back"})]})}):f?e.jsxs("div",{className:"secretary-funeral-view-container",children:[ie(),r&&f&&ae(),P(),z(),e.jsx("div",{className:"secretary-funeral-view-header",children:e.jsx("div",{className:"secretary-funeral-view-left-section",children:e.jsxs("button",{className:"secretary-funeral-view-back-button",onClick:()=>Y(-1),children:[e.jsx(Oa,{className:"secretary-funeral-view-back-icon"})," Back"]})})}),e.jsx("h1",{className:"secretary-funeral-view-title",children:"Funeral Mass Application Details"}),e.jsxs("div",{className:"secretary-funeral-view-data",children:[e.jsxs("div",{className:"secretary-funeral-view-info-card",children:[e.jsx("h3",{className:"secretary-funeral-view-sub-title",children:"Appointment Request Details"}),e.jsxs("div",{className:"secretary-funeral-view-row-date",children:[e.jsxs("div",{className:"secretary-funeral-view-field-date",children:[e.jsx("label",{children:"Date of Appointment Request:"}),V(ne(f.date))]}),e.jsxs("div",{className:"secretary-funeral-view-field-time",children:[e.jsx("label",{children:"Time of Appointment Request:"}),V(f.time)]})]})]}),a==="Approved"&&M&&e.jsxs("div",{className:"secretary-funeral-view-info-card approved-details",children:[e.jsx("h3",{className:"secretary-funeral-view-sub-title",children:"Approved Funeral Mass Details"}),e.jsxs("div",{className:"secretary-funeral-view-row-date",children:[e.jsxs("div",{className:"secretary-funeral-view-field-date",children:[e.jsx("label",{children:"Date of Funeral Mass:"}),V(ne(M.date))]}),e.jsxs("div",{className:"secretary-funeral-view-field-time",children:[e.jsx("label",{children:"Time of Funeral Mass:"}),V(M.time)]})]}),e.jsxs("div",{className:"secretary-funeral-view-field-date",children:[e.jsx("label",{children:"Officiating Priest:"}),V(M.priest)]})]}),e.jsxs("div",{className:"secretary-funeral-view-bypart",children:[e.jsx("h3",{className:"secretary-funeral-view-sub-title",children:"Deceased Information"}),e.jsxs("div",{className:"secretary-funeral-view-info-card",children:[e.jsxs("div",{className:"funeral-view-row",children:[e.jsxs("div",{className:"funeral-view-field",children:[e.jsx("label",{children:"First Name:"}),V(f.deceased.firstName)]}),e.jsxs("div",{className:"funeral-view-field",children:[e.jsx("label",{children:"Middle Name:"}),V(f.deceased.middleName)]}),e.jsxs("div",{className:"funeral-view-field",children:[e.jsx("label",{children:"Last Name:"}),V(f.deceased.lastName)]}),e.jsxs("div",{className:"funeral-view-field",children:[e.jsx("label",{children:"Date of Birth:"}),V(ne(f.deceased.dateOfBirth))]})]}),e.jsxs("div",{className:"funeral-view-row",children:[e.jsxs("div",{className:"funeral-view-field",children:[e.jsx("label",{children:"Age:"}),V(f.deceased.age)]}),e.jsxs("div",{className:"funeral-view-field",children:[e.jsx("label",{children:"Gender:"}),V(f.deceased.gender)]}),e.jsxs("div",{className:"funeral-view-field",children:[e.jsx("label",{children:"Date of Death:"}),V(ne(f.deceased.dateOfDeath))]})]}),e.jsx("div",{className:"funeral-view-row",children:e.jsxs("div",{className:"funeral-view-field",children:[e.jsx("label",{children:"Cause of Death:"}),V(f.deceased.causeOfDeath)]})}),e.jsx("div",{className:"funeral-view-row",children:e.jsxs("div",{className:"funeral-view-field",children:[e.jsx("label",{children:"Wake Location:"}),V(f.deceased.wakeLocation)]})}),e.jsx("div",{className:"funeral-view-row",children:e.jsxs("div",{className:"funeral-view-field",children:[e.jsx("label",{children:"Burial Location:"}),V(f.deceased.burialLocation)]})})]}),e.jsx("h3",{className:"secretary-funeral-view-sub-title",children:"Requester Information"}),e.jsxs("div",{className:"secretary-funeral-view-info-card",children:[e.jsxs("div",{className:"funeral-view-row",children:[e.jsxs("div",{className:"funeral-view-field",children:[e.jsx("label",{children:"First Name:"}),V(f.requester.firstName)]}),e.jsxs("div",{className:"funeral-view-field",children:[e.jsx("label",{children:"Middle Name:"}),V(f.requester.middleName)]}),e.jsxs("div",{className:"funeral-view-field",children:[e.jsx("label",{children:"Last Name:"}),V(f.requester.lastName)]})]}),e.jsxs("div",{className:"funeral-view-row",children:[e.jsxs("div",{className:"funeral-view-field",children:[e.jsx("label",{children:"Relationship to the Deceased:"}),V(f.requester.relationship)]}),e.jsxs("div",{className:"funeral-view-field",children:[e.jsx("label",{children:"Contact Number:"}),V(f.requester.contact)]}),e.jsxs("div",{className:"funeral-view-field",children:[e.jsx("label",{children:"Email Address:"}),V(f.requester.email)]})]})]}),e.jsx("h3",{className:"secretary-funeral-view-sub-title",children:"Address"}),e.jsxs("div",{className:"secretary-funeral-view-info-card",children:[e.jsxs("div",{className:"funeral-view-row secretary-funeral-address-view-row",children:[e.jsxs("div",{className:"funeral-view-field",children:[e.jsx("label",{children:"Street:"}),V(f.address.street)]}),e.jsxs("div",{className:"funeral-view-field",children:[e.jsx("label",{children:"Barangay:"}),V(f.address.barangay)]}),e.jsxs("div",{className:"funeral-view-field",children:[e.jsx("label",{children:"Municipality:"}),V(f.address.municipality)]})]}),e.jsxs("div",{className:"funeral-view-row secretary-funeral-address-view-row",children:[e.jsxs("div",{className:"funeral-view-field",children:[e.jsx("label",{children:"Province:"}),V(f.address.province)]}),e.jsxs("div",{className:"funeral-view-field",children:[e.jsx("label",{children:"Region:"}),V(f.address.region)]})]})]})]}),e.jsxs("div",{className:"secretary-funeral-requirements-view-container",children:[e.jsx("h2",{className:"secretary-funeral-requirements-view-title",children:"Requirements"}),e.jsxs("div",{className:"secretary-funeral-requirements-view-box",children:[e.jsx("h3",{className:"secretary-funeral-view-section-header",children:"Documents Needed"}),e.jsxs("div",{className:"secretary-funeral-view-info-list",children:[e.jsx("div",{className:"secretary-funeral-info-view-item",children:e.jsx("p",{children:"Certificate of Death"})}),e.jsx("div",{className:"secretary-funeral-info-view-item",children:e.jsx("p",{children:"Parish Clearance"})}),e.jsx("div",{className:"secretary-funeral-info-view-item",children:e.jsx("p",{children:"Permit to Bury"})}),e.jsx("div",{className:"secretary-funeral-info-view-item",children:e.jsx("p",{children:"Certificate of Permission(if outside the Parish)"})})]}),e.jsx("h3",{className:"secretary-funeral-view-section-header",children:"Funeral Setup Requirements"}),e.jsxs("div",{className:"secretary-funeral-info-view-list",children:[e.jsx("div",{className:"secretary-funeral-info-view-item",children:e.jsx("p",{children:"Photos/memorial table allowed with limitations (not on the altar)"})}),e.jsx("div",{className:"secretary-funeral-info-view-item",children:e.jsx("p",{children:"Eulogies may be given before/after the Mass or at the cemetery"})}),e.jsx("div",{className:"secretary-funeral-info-view-item",children:e.jsx("p",{children:"Family and guests should wear respectful and modest attire"})}),e.jsx("div",{className:"secretary-funeral-info-view-item",children:e.jsx("p",{children:"No loud music, applause, or improper conduct during the Mass"})})]})]})]}),a!=="Approved"&&e.jsxs("div",{className:"secretary-funeral-view-info-card",children:[e.jsx("h2",{className:"secretary-funeral-view-sub-title",children:"Schedule Selection"}),e.jsxs("div",{className:"secretary-funeral-view-row-date",children:[e.jsxs("div",{className:"secretary-funeral-view-field-date",children:[e.jsx("label",{children:"Select Date for Funeral Mass:"}),e.jsx("input",{type:"date",className:"secretary-view-input",value:D,onChange:B=>ge(B.target.value),required:!0})]}),e.jsxs("div",{className:"secretary-funeral-view-field-time",children:[e.jsx("label",{children:"Select Time for Funeral Mass:"}),e.jsx("input",{type:"time",className:"secretary-view-input",value:_,onChange:B=>X(B.target.value),required:!0})]})]}),e.jsxs("div",{className:"secretary-funeral-view-field-date",children:[e.jsx("label",{children:"Officiating Priest:"}),e.jsx("input",{type:"text",className:"secretary-view-input",value:re,onChange:B=>fe(B.target.value),placeholder:"Enter priest's name",required:!0})]})]}),a!=="Approved"&&e.jsx("div",{className:"secretary-funeral-action-buttons",children:e.jsx("button",{className:"secretary-funeral-submit-button",onClick:ye,children:"Approve"})})]})]}):e.jsx("div",{className:"secretary-funeral-view-container",children:e.jsxs("div",{className:"secretary-funeral-view-error",children:[e.jsx("p",{children:"No funeral data found."}),e.jsx("button",{onClick:()=>Y(-1),children:"Back"})]})})},GO=()=>{const[a,t]=N.useState(null),[s,i]=N.useState(!1),[r,c]=N.useState(!1),[A,d]=N.useState(!1),[h,u]=N.useState(""),v=N.useRef(null),[x,y]=N.useState(!1),[p,F]=N.useState(!0),[b,S]=N.useState(null),[f,O]=N.useState(null),M=oa(),J=Jt(),[K,H]=N.useState(""),[k,Y]=N.useState(""),[D,ge]=N.useState("");N.useEffect(()=>{var P,z,B;const ae=((P=M.state)==null?void 0:P.blessingID)||((B=(z=M.state)==null?void 0:z.blessingData)==null?void 0:B.id);if(!ae){O("Missing blessing information. Please try again."),F(!1);return}_(ae)},[M]);const _=async ae=>{try{F(!0);const z=await(await fetch(`https://parishofdivinemercy.com/backend/fetch_blessing_details.php?blessingID=${ae}`)).json();if(z.success){const B=re(z.data);S(B),H(""),Y(""),ge(""),B.status==="Approved"?await X(ae):setTimeout(()=>{const q=B.date?_e(B.date):"";H(q),Y(B.time||""),ge(B.priest||"")},100)}else O(z.message||"Failed to fetch blessing details")}catch(P){console.error("Error fetching blessing details:",P),O("An error occurred while fetching the data")}finally{F(!1)}},X=async ae=>{try{console.log("Fetching appointment details for blessing ID:",ae);const z=await(await fetch(`https://parishofdivinemercy.com/backend/fetch_approved_appointment.php?sacramentID=${ae}&sacrament_type=blessing`)).json();if(console.log("Appointment data response:",z),z.success&&z.appointment){const B=z.appointment.date?_e(z.appointment.date):"";console.log("Setting appointment values from DB:",{date:B,time:z.appointment.time,priest:z.appointment.priest}),setTimeout(()=>{H(B),Y(z.appointment.time||""),ge(z.appointment.priest||"")},100)}else console.log("No approved appointment schedule found or there was an error")}catch(P){console.error("Error fetching approved appointment schedule:",P)}},re=ae=>{const{blessing:P,address:z,type:B,requirements:q}=ae,te={};return Array.isArray(q)&&q.forEach(he=>{const W=he.requirement_type;te[W]={submitted:he.status==="Submitted",fileName:he.file_name||"N/A",filePath:he.file_path||"N/A",status:he.status||"Not Submitted"}}),{date:P.preferredDate||"N/A",time:P.preferredTime||"N/A",priest:P.priestName||"N/A",status:P.status||"Pending",blessingID:P.blessingID,firstName:P.firstName||"N/A",middleName:P.middleName||"N/A",lastName:P.lastName||"N/A",contactNumber:P.contactNumber||"N/A",emailAddress:P.emailAddress||"N/A",placeOfBirth:P.placeOfBirth||"N/A",address:{street:(z==null?void 0:z.street)||"N/A",barangay:(z==null?void 0:z.barangay)||"N/A",municipality:(z==null?void 0:z.municipality)||"N/A",province:(z==null?void 0:z.province)||"N/A",region:(z==null?void 0:z.region)||"N/A"},blessingType:(B==null?void 0:B.blessing_type)||"N/A",purpose:(B==null?void 0:B.purpose)||"N/A",notes:(B==null?void 0:B.note)||"N/A",requirements:te,certificate:{registerNumber:"1",pageNumber:"43",lineNumber:"22",dateIssued:new Date().toISOString().split("T")[0],purposeOf:"Reference"}}},fe=async()=>{if(!b||!b.blessingID){alert("No blessing data available to approve.");return}if(console.log("=== DEBUG VALIDATION ==="),console.log("appointmentDate:",K),console.log("appointmentDate length:",K?K.length:0),console.log("appointmentDate type:",typeof K),console.log("appointmentTime:",k),console.log("selectedPriest:",D),console.log("=== END DEBUG ==="),!K||K.trim()===""){alert("Please select a date for the appointment.");return}if(!k||k.trim()===""){alert("Please select a time for the appointment.");return}if(!D||D.trim()===""){alert("Please enter the name of the priest for the blessing.");return}console.log("Submit values:",{appointmentDate:K,appointmentTime:k,selectedPriest:D}),d(!0)},Ne=async()=>{d(!1);try{console.log("Sending appointment data:",{sacramentID:b.blessingID,sacrament_type:"blessing",date:K,time:k,priest:D});const P=await(await fetch("https://parishofdivinemercy.com/backend/save_approved_appointment.php",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({sacramentID:b.blessingID,sacrament_type:"blessing",date:K,time:k,priest:D})})).json();if(console.log("Appointment save result:",P),!P.success)throw new Error(P.message||"Failed to save appointment details");const z=await fetch("https://parishofdivinemercy.com/backend/update_blessing_status.php",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({blessingID:b.blessingID,status:"Approved",date:K,time:k,priest:D})});let B;const q=z.headers.get("content-type");if(q&&q.indexOf("application/json")!==-1)B=await z.json();else{const te=await z.text();throw console.error("Non-JSON response:",te),new Error("Invalid response from server. Please check server logs.")}if(B.success){try{const he=await(await fetch("https://parishofdivinemercy.com/backend/approved_blessing_email.php",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({blessingID:b.blessingID,date:K,time:k,priest:D})})).json();he.success?console.log("Email sent successfully:",he.message):console.warn("Email sending failed:",he.message)}catch(te){console.error("Error sending email:",te)}S({...b,status:"Approved",date:K,time:k,priest:D}),u("Blessing application has been approved successfully! An email notification has been sent to the client."),c(!0)}else{const te=B.message||"Failed to approve blessing application";u(te),c(!0)}}catch(ae){console.error("Error approving blessing application:",ae),u("An error occurred while approving the blessing application: "+ae.message),c(!0)}},ue=ae=>{if(!ae)return"N/A";try{return new Date(ae).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})}catch(P){return console.error("Error formatting date:",P),ae}},_e=ae=>{if(!ae)return"";try{if(/^\d{4}-\d{2}-\d{2}$/.test(ae))return ae;const P=new Date(ae);return isNaN(P.getTime())?"":P.toISOString().split("T")[0]}catch(P){return console.error("Error formatting date for input:",P),""}},ce=async()=>{if(v.current){y(!0);try{const ae=v.current.querySelectorAll("img");await Promise.all([...ae].map(Z=>Z.complete?Promise.resolve():new Promise(se=>{Z.onload=se,Z.onerror=se})));const P=await $s(v.current,{scale:2,logging:!1,useCORS:!0,allowTaint:!0,backgroundColor:"#ffffff"}),z=P.toDataURL("image/png"),B=210,q=297,te=P.height*B/P.width,he=new ea("p","mm","a4");he.addImage(z,"PNG",0,0,B,te);const C=`${b.blessingType.charAt(0).toUpperCase()+b.blessingType.slice(1)}_Blessing_Certificate_${b.firstName}_${b.lastName}.pdf`;he.save(C),i(!1),alert("Certificate downloaded successfully!")}catch(ae){console.error("Error generating PDF:",ae),alert("Error generating PDF. Please try again.")}finally{y(!1)}}},ye=ae=>e.jsx("div",{className:"secretary-blessing-view-value",children:ae||"N/A"}),Q=ae=>window.location.hostname==="localhost"||window.location.hostname==="127.0.0.1"?`/uploads/blessing_requirements/${ae}`:`/uploads/blessing_requirements/${ae}`,ne=()=>{if(!a)return null;const ae=a.split(".").pop().toLowerCase(),P=["jpg","jpeg","png","gif","webp"].includes(ae),z=ae==="pdf",B=Q(a),q="Document Preview";return e.jsx("div",{className:"secretary-blessing-document-viewer-overlay",children:e.jsxs("div",{className:"secretary-blessing-document-viewer-container",children:[e.jsxs("div",{className:"secretary-blessing-document-viewer-header",children:[e.jsx("h3",{children:q}),e.jsx("button",{className:"secretary-blessing-document-close-btn",onClick:()=>t(null),children:""})]}),e.jsxs("div",{className:"secretary-blessing-document-viewer-content",children:[P&&e.jsx("img",{src:B,alt:q,style:{maxWidth:"100%",maxHeight:"70vh"},onError:te=>{console.error(`Failed to load image: ${B}`),te.target.src="https://via.placeholder.com/500x300?text=Image+Not+Found",te.target.alt="Document not found"}}),z&&e.jsx("iframe",{src:`${B}#toolbar=0`,title:q,width:"100%",height:"600px",style:{border:"none"},onError:te=>{console.error(`Failed to load PDF: ${B}`),te.target.src="about:blank"}}),!P&&!z&&e.jsxs("div",{className:"secretary-blessing-document-placeholder",children:[e.jsx("p",{children:"Document preview not available for this file type."}),e.jsx("a",{href:B,target:"_blank",rel:"noopener noreferrer",className:"secretary-blessing-document-download-link",children:"Download to view"})]})]})]})})},U=()=>{if(!s||!b)return null;const ae=b.blessingType.charAt(0).toUpperCase()+b.blessingType.slice(1),P=`${b.firstName||""} ${b.middleName||""} ${b.lastName||""}`.trim(),z=`${b.address.street||""}, ${b.address.barangay||""}, ${b.address.municipality||""}, ${b.address.province||""}`.trim();return e.jsx("div",{className:"secretary-blessing-document-viewer-overlay",children:e.jsxs("div",{className:"secretary-blessing-certificate-modal-container",children:[e.jsxs("div",{className:"secretary-blessing-document-viewer-header",children:[e.jsxs("h3",{children:[ae," Blessing Certificate"]}),e.jsx("button",{className:"secretary-blessing-document-close-btn",onClick:()=>i(!1),children:""})]}),e.jsxs("div",{className:"secretary-blessing-certificate-modal-content",children:[e.jsx("p",{children:"Would you like to download this certificate?"}),e.jsxs("div",{ref:v,className:"blessing-certificate-preview",children:[e.jsxs("div",{className:"blessing-certificate-header",children:[e.jsxs("div",{className:"blessing-certificate-logos",children:[e.jsx("div",{className:"blessing-parish-logo-left",children:e.jsx("img",{src:zs,alt:"Parish Logo Left",onError:B=>{B.target.src="https://via.placeholder.com/70x70?text=Church"}})}),e.jsxs("div",{className:"blessing-parish-title",children:[e.jsx("div",{className:"blessing-diocese-title",children:"DIOCESE OF DAET"}),e.jsx("div",{className:"blessing-parish-name",children:"PARISH OF THE DIVINE MERCY"}),e.jsx("div",{className:"blessing-parish-address",children:"Alawihao, Daet, Camarines Norte"})]}),e.jsx("div",{className:"blessing-parish-logo-right",children:e.jsx("img",{src:Ii,alt:"Parish Logo Right",onError:B=>{B.target.src="https://via.placeholder.com/80x80?text=PDM"}})})]}),e.jsxs("h1",{className:"blessing-certificate-title",children:["CERTIFICATE OF ",ae.toUpperCase()," BLESSING"]})]}),e.jsxs("div",{className:"blessing-certificate-body",children:[e.jsxs("div",{className:"blessing-cert-intro",children:["This is to certify that the ",ae.toLowerCase()," of"]}),e.jsxs("div",{className:"name-field blessing-cert-field",children:[e.jsx("div",{className:"blessing-cert-value",children:P}),e.jsx("div",{className:"blessing-cert-label",children:"Name of Requester"})]}),e.jsxs("div",{className:"location-field",children:[e.jsx("span",{className:"blessing-cert-prefix",children:"located at"}),e.jsx("div",{className:"blessing-cert-value",children:z})]}),e.jsxs("div",{className:"purpose-field",children:[e.jsx("span",{className:"blessing-cert-prefix",children:"for the purpose of"}),e.jsx("div",{className:"blessing-cert-value",children:b.purpose})]}),e.jsxs("div",{className:"blessing-date-field",children:[e.jsx("span",{className:"blessing-cert-prefix",children:"was blessed on"}),e.jsx("div",{className:"blessing-cert-value",children:ue(K)})]}),e.jsxs("div",{className:"blessing-time-field",children:[e.jsx("span",{className:"blessing-cert-prefix",children:"at"}),e.jsx("div",{className:"blessing-cert-value",children:k})]}),e.jsxs("div",{className:"priest-field",children:[e.jsx("span",{className:"blessing-cert-prefix",children:"by"}),e.jsx("div",{className:"blessing-cert-value",children:D}),e.jsx("div",{className:"blessing-cert-label",children:"Officiating Priest"})]}),e.jsxs("div",{className:"blessing-cert-message",children:["May God bless this ",ae.toLowerCase()," and all who ",b.blessingType==="house"?"dwell in it":b.blessingType==="business"?"work in it":"use it","."]})]}),e.jsxs("div",{className:"blessing-cert-footer",children:[e.jsxs("div",{className:"date-issued-field",children:[e.jsx("span",{className:"blessing-cert-prefix",children:"Date Issued:"}),e.jsx("div",{className:"blessing-cert-value",children:ue(b.certificate.dateIssued)})]}),e.jsx("div",{className:"parish-seal",children:"PARISH SEAL"}),e.jsxs("div",{className:"signature-field",children:[e.jsx("div",{className:"signature-line",children:D}),e.jsx("div",{className:"blessing-cert-label",children:"Parish Priest / Officiating Priest"})]}),e.jsxs("div",{className:"register-field",children:[e.jsx("span",{className:"blessing-cert-prefix",children:"Registry No."}),e.jsx("div",{className:"blessing-cert-value",children:b.certificate.registerNumber}),e.jsx("span",{className:"blessing-cert-prefix",children:"Page:"}),e.jsx("div",{className:"blessing-cert-value",children:b.certificate.pageNumber}),e.jsx("span",{className:"blessing-cert-prefix",children:"Line:"}),e.jsx("div",{className:"blessing-cert-value",children:b.certificate.lineNumber})]})]})]}),e.jsxs("div",{className:"secretary-blessing-certificate-modal-actions",children:[e.jsx("button",{className:"secretary-blessing-certificate-download-btn",onClick:ce,disabled:x,children:x?"Processing...":e.jsxs(e.Fragment,{children:[e.jsx(gs,{})," Download"]})}),e.jsx("button",{className:"secretary-blessing-certificate-cancel-btn",onClick:()=>i(!1),disabled:x,children:"Cancel"})]})]})]})})},V=()=>{if(!r)return null;const ae=h.includes("successfully"),P=ae?"success":"error",z=()=>{c(!1),ae&&J("/secretary-blessing")};return e.jsx("div",{className:"secretary-document-viewer-overlay",children:e.jsxs("div",{className:`secretary-${P}-modal-container`,children:[e.jsxs("div",{className:`secretary-${P}-header`,children:[e.jsx("h3",{children:ae?"Success":"Error"}),e.jsx("button",{className:"secretary-document-close-btn",onClick:()=>c(!1),children:""})]}),e.jsxs("div",{className:`secretary-${P}-content`,children:[e.jsx("div",{className:`secretary-${P}-icon`,children:ae?"":"!"}),e.jsx("p",{children:h}),e.jsx("button",{className:`secretary-${P}-ok-btn`,onClick:z,children:"OK"})]})]})})},T=()=>A?e.jsx("div",{className:"secretary-document-viewer-overlay",children:e.jsxs("div",{className:"secretary-confirm-modal-container",children:[e.jsxs("div",{className:"secretary-confirm-header",children:[e.jsx("h3",{children:"Confirm Approval"}),e.jsx("button",{className:"secretary-document-close-btn",onClick:()=>d(!1),children:""})]}),e.jsxs("div",{className:"secretary-confirm-content",children:[e.jsx("div",{className:"secretary-confirm-icon",children:"?"}),e.jsx("p",{children:"Are you sure you want to approve this blessing appointment?"}),e.jsxs("p",{children:["Date: ",K]}),e.jsxs("p",{children:["Time: ",k]}),e.jsxs("p",{children:["Priest: ",D]}),e.jsx("p",{children:"This will send an email notification to the client."}),e.jsxs("div",{className:"secretary-confirm-buttons",children:[e.jsx("button",{className:"secretary-confirm-yes-btn",onClick:Ne,children:"Yes, Approve"}),e.jsx("button",{className:"secretary-confirm-no-btn",onClick:()=>d(!1),children:"Cancel"})]})]})]})}):null,ie=()=>{if(!b)return null;switch(b.blessingType){case"house":return e.jsxs(e.Fragment,{children:[e.jsx("h3",{className:"secretary-blessing-view-section-header",children:"Documents Required"}),e.jsxs("div",{className:"secretary-blessing-info-view-list",children:[e.jsx("div",{className:"secretary-blessing-info-view-item",children:e.jsx("p",{children:"Valid ID of the Requester"})}),e.jsx("div",{className:"secretary-blessing-info-view-item",children:e.jsx("p",{children:"Proof of Ownership"})}),e.jsx("div",{className:"secretary-blessing-info-view-item",children:e.jsx("p",{children:"Barangay Clearance"})})]}),e.jsx("h3",{className:"secretary-blessing-view-section-header",children:"House Blessing Requirements"}),e.jsxs("div",{className:"secretary-blessing-info-view-list",children:[e.jsx("div",{className:"secretary-blessing-info-view-item",children:e.jsxs("p",{children:["The house must be ",e.jsx("strong",{children:"ready for occupancy"})]})}),e.jsx("div",{className:"secretary-blessing-info-view-item",children:e.jsxs("p",{children:["All ",e.jsx("strong",{children:"family members should be present"})," if possible"]})}),e.jsx("div",{className:"secretary-blessing-info-view-item",children:e.jsx("p",{children:"Prepare basic blessing items"})}),e.jsx("div",{className:"secretary-blessing-info-view-item",children:e.jsxs("p",{children:["Some parishes ask that you ",e.jsx("strong",{children:"belong to the parish community"})," or register in the parish"]})})]})]});case"business":return e.jsxs(e.Fragment,{children:[e.jsx("h3",{className:"secretary-blessing-view-section-header",children:"Documents Required"}),e.jsxs("div",{className:"secretary-blessing-info-view-list",children:[e.jsx("div",{className:"secretary-blessing-info-view-item",children:e.jsx("p",{children:"Valid ID of the Requester"})}),e.jsx("div",{className:"secretary-blessing-info-view-item",children:e.jsx("p",{children:"Business Permit / DTI Registration"})})]}),e.jsx("h3",{className:"secretary-blessing-view-section-header",children:"Business Blessing Requirements"}),e.jsxs("div",{className:"secretary-blessing-info-view-list",children:[e.jsx("div",{className:"secretary-blessing-info-view-item",children:e.jsxs("p",{children:["Business must have the ",e.jsx("strong",{children:"necessary permits"})," (may be checked informally)"]})}),e.jsx("div",{className:"secretary-blessing-info-view-item",children:e.jsx("p",{children:"Owner or authorized representative must be present"})}),e.jsx("div",{className:"secretary-blessing-info-view-item",children:e.jsx("p",{children:"Staff may be included in prayer or ceremony"})})]})]});case"car":return e.jsxs(e.Fragment,{children:[e.jsx("h3",{className:"secretary-blessing-view-section-header",children:"Documents Required"}),e.jsxs("div",{className:"secretary-blessing-info-view-list",children:[e.jsx("div",{className:"secretary-blessing-info-view-item",children:e.jsx("p",{children:"Valid ID of the Requester"})}),e.jsx("div",{className:"secretary-blessing-info-view-item",children:e.jsx("p",{children:"Vehicle OR/CR (Official Receipt / Certificate of Registration)"})})]}),e.jsx("h3",{className:"secretary-blessing-view-section-header",children:"Car Blessing Requirements"}),e.jsxs("div",{className:"secretary-blessing-info-view-list",children:[e.jsx("div",{className:"secretary-blessing-info-view-item",children:e.jsxs("p",{children:["Must bring the ",e.jsx("strong",{children:"actual vehicle"})," to the venue or church"]})}),e.jsx("div",{className:"secretary-blessing-info-view-item",children:e.jsx("p",{children:"The car should be clean and parked properly"})})]})]});default:return null}};return p?e.jsx("div",{className:"secretary-blessing-view-container",children:e.jsx("div",{className:"secretary-blessing-view-loading",children:"Loading blessing details..."})}):f?e.jsx("div",{className:"secretary-blessing-view-container",children:e.jsxs("div",{className:"secretary-blessing-view-error",children:[e.jsx("p",{children:f}),e.jsx("button",{onClick:()=>J(-1),children:"Back"})]})}):b?e.jsxs("div",{className:"secretary-blessing-view-container",children:[ne(),U(),V(),T(),e.jsx("div",{className:"secretary-blessing-view-header",children:e.jsx("div",{className:"secretary-blessing-view-left-section",children:e.jsxs("button",{className:"secretary-blessing-view-back-button",onClick:()=>J(-1),children:[e.jsx(Oa,{className:"secretary-blessing-view-back-icon"})," Back"]})})}),e.jsx("h1",{className:"secretary-blessing-view-title",children:"Blessing Application Details"}),e.jsxs("div",{className:"secretary-blessing-view-data",children:[e.jsxs("div",{className:"secretary-blessing-view-info-card",children:[e.jsx("h3",{className:"secretary-funeral-view-sub-title",children:"Appointment Request Details"}),e.jsxs("div",{className:"secretary-blessing-view-row-date",children:[e.jsxs("div",{className:"secretary-blessing-view-field-date",children:[e.jsx("label",{children:"Date of Appointment:"}),ye(ue(b.date))]}),e.jsxs("div",{className:"secretary-blessing-view-field-time",children:[e.jsx("label",{children:"Time of Appointment:"}),ye(b.time)]})]})]}),e.jsxs("div",{className:"secretary-blessing-view-bypart",children:[e.jsx("h2",{className:"secretary-blessing-view-sub-title",children:"Personal Information"}),e.jsxs("div",{className:"secretary-blessing-view-info-card",children:[e.jsxs("div",{className:"secretary-blessing-view-row",children:[e.jsxs("div",{className:"secretary-blessing-view-field",children:[e.jsx("label",{children:"First Name:"}),ye(b.firstName)]}),e.jsxs("div",{className:"secretary-blessing-view-field",children:[e.jsx("label",{children:"Middle Name:"}),ye(b.middleName)]}),e.jsxs("div",{className:"secretary-blessing-view-field",children:[e.jsx("label",{children:"Last Name:"}),ye(b.lastName)]})]}),e.jsxs("div",{className:"secretary-blessing-view-row",children:[e.jsxs("div",{className:"secretary-blessing-view-field",children:[e.jsx("label",{children:"Contact Number:"}),ye(b.contactNumber)]}),e.jsxs("div",{className:"secretary-blessing-view-field",children:[e.jsx("label",{children:"Email Address:"}),ye(b.emailAddress)]})]})]}),e.jsx("h2",{className:"secretary-blessing-view-sub-title",children:"Blessing Details"}),e.jsxs("div",{className:"secretary-blessing-view-info-card",children:[e.jsx("label",{className:"sub-mini-cc",children:"Location"}),e.jsxs("div",{className:"secretary-blessing-view-row",children:[e.jsxs("div",{className:"secretary-blessing-view-field",children:[e.jsx("label",{children:"Street:"}),ye(b.address.street)]}),e.jsxs("div",{className:"secretary-blessing-view-field",children:[e.jsx("label",{children:"Barangay:"}),ye(b.address.barangay)]}),e.jsxs("div",{className:"secretary-blessing-view-field",children:[e.jsx("label",{children:"Municipality:"}),ye(b.address.municipality)]}),e.jsxs("div",{className:"secretary-blessing-view-field",children:[e.jsx("label",{children:"Province:"}),ye(b.address.province)]})]}),e.jsxs("div",{className:"secretary-blessing-view-row",children:[e.jsxs("div",{className:"secretary-blessing-view-field",children:[e.jsx("label",{children:"Blessing Type:"}),ye(b.blessingType.charAt(0).toUpperCase()+b.blessingType.slice(1)+" Blessing")]}),e.jsxs("div",{className:"secretary-blessing-view-field",children:[e.jsx("label",{children:"Purpose:"}),ye(b.purpose)]})]}),e.jsx("div",{className:"secretary-blessing-view-row",children:e.jsxs("div",{className:"secretary-blessing-view-field",children:[e.jsx("label",{children:"Notes:"}),ye(b.notes||"No additional notes provided.")]})})]})]}),e.jsxs("div",{className:"secretary-blessing-requirements-view-container",children:[e.jsx("h2",{className:"secretary-blessing-requirements-view-title",children:"Requirements"}),e.jsx("div",{className:"secretary-blessing-requirements-view-box",children:ie()})]}),e.jsxs("div",{className:"secretary-blessing-view-info-card",children:[e.jsx("h2",{className:"secretary-blessing-view-sub-title",children:"Schedule Selection"}),e.jsxs("div",{className:"secretary-blessing-view-row",children:[e.jsxs("div",{className:"secretary-blessing-view-field",children:[e.jsx("label",{children:"Date of Blessing:"}),e.jsx("input",{type:"date",className:"secretary-view-input",value:_e(K),onChange:ae=>{console.log("Date changed to:",ae.target.value),H(ae.target.value)},disabled:b.status==="Approved",min:new Date().toISOString().split("T")[0]})]}),e.jsxs("div",{className:"secretary-blessing-view-field",children:[e.jsx("label",{children:"Time of Blessing:"}),e.jsx("input",{type:"time",className:"secretary-view-input",value:k,onChange:ae=>{console.log("Time changed to:",ae.target.value),Y(ae.target.value)},disabled:b.status==="Approved"})]})]}),e.jsx("div",{className:"secretary-blessing-view-row",children:e.jsxs("div",{className:"secretary-blessing-view-field",children:[e.jsx("label",{children:"Name of the Priest:"}),b.status==="Approved"?ye(D):e.jsx("input",{type:"text",className:"secretary-view-input",value:D,onChange:ae=>{console.log("Priest changed to:",ae.target.value),ge(ae.target.value)},placeholder:"Enter priest's name",disabled:b.status==="Approved"})]})})]}),e.jsx("div",{className:"secretary-blessing-action-buttons",children:b.status!=="Approved"&&e.jsx("button",{className:"secretary-blessing-submit-button",onClick:fe,children:"Approve"})})]})]}):e.jsx("div",{className:"secretary-blessing-view-container",children:e.jsxs("div",{className:"secretary-blessing-view-error",children:[e.jsx("h2",{children:"No blessing data available"}),e.jsx("p",{children:"Please go back and select a blessing to view."})]})})},WO=()=>{const a=Jt(),[t,s]=N.useState([]),[i,r]=N.useState(!0),[c,A]=N.useState(null),[d,h]=N.useState("");N.useEffect(()=>{u()},[]);const u=async()=>{try{r(!0);const S=await(await fetch("https://parishofdivinemercy.com/backend/fetch_approved_anointing.php")).json();S.success?s(S.appointments):A(S.message||"Failed to fetch anointing appointments")}catch(b){console.error("Error fetching anointing appointments:",b),A("An error occurred while fetching data")}finally{r(!1)}},v=(b,S)=>{a("/secretary-anointing-of-the-sick-view",{state:{anointingID:b,status:S}})},x=()=>{const b=["No.","First Name","Last Name","Date","Time","Created At"],S=t.map(J=>[J.id,J.firstName,J.lastName,J.date,J.time,J.createdAt]),f="data:text/csv;charset=utf-8,"+[b.join(","),...S.map(J=>J.join(","))].join(`
`),O=encodeURI(f),M=document.createElement("a");M.setAttribute("href",O),M.setAttribute("download","anointing_appointments.csv"),document.body.appendChild(M),M.click(),document.body.removeChild(M)},y=b=>{h(b.target.value)},p=t.filter(b=>{var ge,_,X;const S=d.toLowerCase().trim(),f=d.toLowerCase(),O=((ge=b.firstName)==null?void 0:ge.toLowerCase().trim())||"",M=((_=b.lastName)==null?void 0:_.toLowerCase().trim())||"",J=`${O} ${M}`.replace(/\s+/g," "),K=((X=b.status)==null?void 0:X.toLowerCase().trim())||"",H=new Date(b.date).toISOString().split("T")[0],k=new Date(b.createdAt).toISOString().split("T")[0],Y=S.replace(/\s+/g," ");return f!==S&&S?O.startsWith(Y)||M.startsWith(Y)||J.startsWith(Y)||H.startsWith(Y)||k.startsWith(Y)||K.startsWith(Y):O.includes(Y)||M.includes(Y)||J.includes(Y)||H.includes(Y)||k.includes(Y)||K.includes(Y)}),F=t.length===0&&!i&&!c?[]:p;return e.jsxs("div",{className:"anointing-container-sa",children:[e.jsx("h1",{className:"title-sa",children:"ANOINTING OF THE SICK"}),e.jsxs("div",{className:"anointing-actions-sa",children:[e.jsxs("div",{className:"search-bar-sa",children:[e.jsx("input",{type:"text",placeholder:"Search",value:d,onChange:y}),e.jsx(dt,{icon:vs,className:"search-icon-sa"})]}),e.jsxs("button",{className:"download-button-sa",onClick:x,children:[e.jsx(dt,{icon:xA,style:{marginRight:"8px"}}),"Download"]})]}),i?e.jsx("div",{className:"loading-container-sa",children:"Loading anointing appointments..."}):c?e.jsx("div",{className:"error-container-sa",children:c}):e.jsxs("table",{className:"anointing-table-sa",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"No."}),e.jsx("th",{children:"First Name"}),e.jsx("th",{children:"Last Name"}),e.jsx("th",{children:"Date"}),e.jsx("th",{children:"Time"}),e.jsx("th",{children:"Created At"}),e.jsx("th",{children:"Action"})]})}),e.jsx("tbody",{children:F.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:"8",className:"no-data-sa",children:"No anointing appointments found"})}):F.map(b=>e.jsxs("tr",{children:[e.jsx("td",{children:b.id}),e.jsx("td",{children:b.firstName}),e.jsx("td",{children:b.lastName}),e.jsx("td",{children:new Date(b.date).toISOString().split("T")[0]}),e.jsx("td",{children:b.time}),e.jsx("td",{children:new Date(b.createdAt).toISOString().split("T")[0]}),e.jsx("td",{children:e.jsx("button",{className:"sa-details",onClick:()=>v(b.id,b.status),children:"View"})})]},b.id))})]})]})},YO=()=>{const[a,t]=N.useState("PENDING"),[s,i]=N.useState(null),[r,c]=N.useState(!1),[A,d]=N.useState(!1),[h,u]=N.useState(""),[v,x]=N.useState(!0),[y,p]=N.useState(null),[F,b]=N.useState(null),S=oa(),f=Jt(),[O,M]=N.useState(""),[J,K]=N.useState(""),[H,k]=N.useState(""),Y="https://parishofdivinemercy.com/backend";N.useEffect(()=>{var U,V;const Q=(U=S.state)==null?void 0:U.anointingID,ne=(V=S.state)==null?void 0:V.status;if(console.log("Component mounted, location state:",S.state),console.log("anointingID:",Q),console.log("statusFromNav:",ne),!Q){b("Missing anointing information. Please try again."),x(!1);return}ne&&t(ne),D(Q,ne)},[S]);const D=async(Q,ne)=>{try{x(!0),console.log(`Fetching anointing details for ID: ${Q}, statusFromNav: ${ne}`);const V=await(await fetch(`${Y}/fetch_anointing_details.php?anointingID=${Q}`)).json();if(console.log("Raw API response:",V),V.success){const T=_(V.data);console.log("Transformed anointing data:",T),p(T);const ie=ne||T.status||"PENDING";t(ie),console.log("Setting status to:",ie),M(""),K(""),k(""),!await ge(Q)&&ie!=="Approved"&&(M(T.date||""),K(T.time||""),k(T.priest||""),console.log("Using data from anointing application:",{date:T.date,time:T.time,priest:T.priest}))}else b(V.message||"Failed to fetch anointing details")}catch(U){console.error("Error fetching anointing details:",U),b("An error occurred while fetching the data")}finally{x(!1)}},ge=async Q=>{try{console.log("Fetching approved appointment details for anointingID:",Q);const ne=await fetch(`${Y}/fetch_approved_appointment.php?sacramentID=${Q}&sacrament_type=Anointing`);if(!ne.ok)return console.error("Error response:",ne.status),!1;const U=await ne.json();return console.log("Approved appointment data response:",U),U.success&&U.appointment?(console.log("Setting appointment values from approved_appointments DB:",{date:U.appointment.date,time:U.appointment.time,priest:U.appointment.priest}),M(U.appointment.date||""),K(U.appointment.time||""),k(U.appointment.priest||""),!0):(console.log("No approved appointment schedule found or there was an error"),!1)}catch(ne){return console.error("Error fetching approved appointment schedule:",ne),!1}},_=Q=>{const{anointing:ne={},contact:U={},locationInfo:V={},additionalInfo:T={},requirements:ie={}}=Q;return console.log("API Response Data:",Q),{date:ne.dateOfAnointing,time:ne.timeOfAnointing,priest:ne.priestName,status:ne.status,anointingID:ne.anointingID,firstName:ne.firstName,middleName:ne.middleName,lastName:ne.lastName,sex:ne.sex,age:ne.age,dateOfBirth:ne.dateOfBirth,placeOfBirth:ne.placeOfBirth,religion:ne.religion,reasonForAnointing:ne.reasonForAnointing,contactFirstName:U.contactFirstName||"",contactMiddleName:U.contactMiddleName||"",contactLastName:U.contactLastName||"",contactRelationship:U.contactRelationship||"",contactPhone:U.contactPhone||"",contactEmail:U.contactEmail||"",locationType:V.locationType||"",locationName:V.locationName||"",roomNumber:V.roomNumber||"",barangay:V.barangay||"",street:V.street||"",municipality:V.municipality||"",province:V.province||"",locationRegion:V.locationRegion||"",isCritical:T.isCritical===1,needsViaticum:T.needsViaticum===1,needsReconciliation:T.needsReconciliation===1,additionalNotes:T.additionalNotes||"",requirements:{medical_cert:{submitted:ie.medical_cert_status==="Submitted",fileName:ie.medical_cert?ie.medical_cert.split("/").pop():"N/A",status:ie.medical_cert_status||"Not Submitted"},valid_ids:{submitted:ie.valid_ids_status==="Submitted",fileName:ie.valid_ids?ie.valid_ids.split("/").pop():"N/A",status:ie.valid_ids_status||"Not Submitted"}}}},X=async()=>{if(!y||!y.anointingID){alert("No anointing data available to approve.");return}if(!O){alert("Please select a date for the anointing.");return}if(!J){alert("Please select a time for the anointing.");return}if(!H){alert("Please enter the name of the priest for the anointing.");return}console.log("Submit values:",{selectedDate:O,selectedTime:J,selectedPriest:H}),d(!0)},re=async()=>{d(!1);try{console.log(`Approving anointing application with ID: ${y.anointingID}`);const ne=await(await fetch(`${Y}/save_approved_appointment.php`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({sacramentID:y.anointingID,sacrament_type:"Anointing",date:O,time:J,priest:H})})).json();if(console.log("Appointment save result:",ne),!ne.success)throw new Error(ne.message||"Failed to save appointment details");const U=await fetch(`${Y}/update_anointing_status.php`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({anointingID:y.anointingID,status:"Approved",date:O,time:J,priest:H})});let V;const T=U.headers.get("content-type");if(T&&T.indexOf("application/json")!==-1)V=await U.json();else{const ie=await U.text();throw console.error("Non-JSON response:",ie),new Error("Invalid response from server. Please check server logs.")}if(V.success){try{const ae=await(await fetch(`${Y}/approved_anointing_email.php`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({anointingID:y.anointingID,date:O,time:J,priest:H})})).json();ae.success?console.log("Email sent successfully:",ae.message):console.warn("Email sending failed:",ae.message)}catch(ie){console.error("Error sending email:",ie)}t("Approved"),p({...y,date:O,time:J,priest:H,status:"Approved"}),u("Anointing application has been approved successfully! An email notification has been sent to the client."),c(!0)}else{const ie=V.message||"Failed to approve anointing application";u(ie),c(!0)}}catch(Q){console.error("Error approving anointing application:",Q),u("An error occurred while approving the anointing application: "+Q.message),c(!0)}},fe=Q=>{if(!Q)return"N/A";try{return new Date(Q).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})}catch(ne){return console.error("Error formatting date:",ne),Q}},Ne=Q=>e.jsx("div",{className:"secretary-anointing-view-value",children:Q||"N/A"}),ue=Q=>window.location.hostname==="localhost"||window.location.hostname==="127.0.0.1"?`/uploads/anointing_requirements/${Q}`:`/uploads/anointing_requirements/${Q}`,_e=()=>{if(!s)return null;const Q=s.split(".").pop().toLowerCase(),ne=["jpg","jpeg","png","gif","webp"].includes(Q),U=Q==="pdf",V=ue(s),T="Document Preview";return e.jsx("div",{className:"secretary-anointing-document-viewer-overlay",children:e.jsxs("div",{className:"secretary-anointing-document-viewer-container",children:[e.jsxs("div",{className:"secretary-anointing-document-viewer-header",children:[e.jsx("h3",{children:T}),e.jsx("button",{className:"secretary-anointing-document-close-btn",onClick:()=>i(null),children:""})]}),e.jsxs("div",{className:"secretary-anointing-document-viewer-content",children:[ne&&e.jsx("img",{src:V,alt:T,style:{maxWidth:"100%",maxHeight:"70vh"},onError:ie=>{console.error(`Failed to load image: ${V}`),ie.target.src="https://via.placeholder.com/500x300?text=Image+Not+Found",ie.target.alt="Document not found"}}),U&&e.jsx("iframe",{src:`${V}#toolbar=0`,title:T,width:"100%",height:"600px",style:{border:"none"},onError:ie=>{console.error(`Failed to load PDF: ${V}`),ie.target.src="about:blank"}}),!ne&&!U&&e.jsxs("div",{className:"secretary-anointing-document-placeholder",children:[e.jsx("p",{children:"Document preview not available for this file type."}),e.jsx("a",{href:V,target:"_blank",rel:"noopener noreferrer",className:"secretary-anointing-document-download-link",children:"Download to view"})]})]})]})})},ce=()=>{if(!r)return null;const Q=h.includes("successfully"),ne=Q?"success":"error",U=()=>{c(!1),Q&&f("/secretary-anointing-of-the-sick")};return e.jsx("div",{className:"secretary-document-viewer-overlay",children:e.jsxs("div",{className:`secretary-${ne}-modal-container`,children:[e.jsxs("div",{className:`secretary-${ne}-header`,children:[e.jsx("h3",{children:Q?"Success":"Error"}),e.jsx("button",{className:"secretary-document-close-btn",onClick:U,children:""})]}),e.jsxs("div",{className:`secretary-${ne}-content`,children:[e.jsx("div",{className:`secretary-${ne}-icon`,children:Q?"":"!"}),e.jsx("p",{children:h}),e.jsx("button",{className:`secretary-${ne}-ok-btn`,onClick:U,children:"OK"})]})]})})},ye=()=>A?e.jsx("div",{className:"secretary-document-viewer-overlay",children:e.jsxs("div",{className:"secretary-confirm-modal-container",children:[e.jsxs("div",{className:"secretary-confirm-header",children:[e.jsx("h3",{children:"Confirm Approval"}),e.jsx("button",{className:"secretary-document-close-btn",onClick:()=>d(!1),children:""})]}),e.jsxs("div",{className:"secretary-confirm-content",children:[e.jsx("div",{className:"secretary-confirm-icon",children:"?"}),e.jsx("p",{children:"Are you sure you want to approve this anointing appointment?"}),e.jsxs("p",{children:["Date: ",O]}),e.jsxs("p",{children:["Time: ",J]}),e.jsxs("p",{children:["Priest: ",H]}),e.jsx("p",{children:"This will send an email notification to the client."}),e.jsxs("div",{className:"secretary-confirm-buttons",children:[e.jsx("button",{className:"secretary-confirm-yes-btn",onClick:re,children:"Yes, Approve"}),e.jsx("button",{className:"secretary-confirm-no-btn",onClick:()=>d(!1),children:"Cancel"})]})]})]})}):null;return v?e.jsx("div",{className:"secretary-anointing-view-container",children:e.jsx("div",{className:"secretary-anointing-view-loading",children:"Loading anointing details..."})}):F?e.jsx("div",{className:"secretary-anointing-view-container",children:e.jsxs("div",{className:"secretary-anointing-view-error",children:[e.jsx("p",{children:F}),e.jsx("button",{onClick:()=>f(-1),children:"Back"})]})}):y?e.jsxs("div",{className:"secretary-anointing-view-container",children:[_e(),ce(),ye(),e.jsx("div",{className:"secretary-anointing-view-header",children:e.jsx("div",{className:"secretary-anointing-view-left-section",children:e.jsxs("button",{className:"secretary-anointing-view-back-button",onClick:()=>f(-1),children:[e.jsx(Oa,{className:"secretary-anointing-view-back-icon"})," Back"]})})}),e.jsx("h1",{className:"secretary-anointing-view-title",children:"Anointing of the Sick Application Details"}),e.jsxs("div",{className:"secretary-anointing-view-data",children:[e.jsxs("div",{className:"secretary-anointing-view-info-card",children:[e.jsx("h3",{className:"secretary-funeral-view-sub-title",children:"Appointment Request Details"}),e.jsxs("div",{className:"secretary-anointing-view-row-date",children:[e.jsxs("div",{className:"secretary-anointing-view-field-date",children:[e.jsx("label",{children:"Date of Appointment:"}),Ne(fe(y.date))]}),e.jsxs("div",{className:"secretary-anointing-view-field-time",children:[e.jsx("label",{children:"Time of Appointment:"}),Ne(y.time)]})]})]}),e.jsxs("div",{className:"secretary-anointing-view-bypart",children:[e.jsx("h3",{className:"secretary-anointing-view-sub-title",children:"Sick Person Information"}),e.jsxs("div",{className:"secretary-anointing-view-info-card",children:[e.jsxs("div",{className:"secretary-anointing-view-row",children:[e.jsxs("div",{className:"secretary-anointing-view-field",children:[e.jsx("label",{children:"First Name of the Sick Person:"}),Ne(y.firstName)]}),e.jsxs("div",{className:"secretary-anointing-view-field",children:[e.jsx("label",{children:"Middle Name:"}),Ne(y.middleName)]}),e.jsxs("div",{className:"secretary-anointing-view-field",children:[e.jsx("label",{children:"Last Name:"}),Ne(y.lastName)]})]}),e.jsxs("div",{className:"secretary-anointing-view-row",children:[e.jsxs("div",{className:"secretary-anointing-view-field",children:[e.jsx("label",{children:"Date of Birth:"}),Ne(fe(y.dateOfBirth))]}),e.jsxs("div",{className:"secretary-anointing-view-field",children:[e.jsx("label",{children:"Age:"}),Ne(y.age)]}),e.jsxs("div",{className:"secretary-anointing-view-field",children:[e.jsx("label",{children:"Sex:"}),Ne(y.sex)]})]}),e.jsxs("div",{className:"secretary-anointing-view-row",children:[e.jsxs("div",{className:"secretary-anointing-view-field",children:[e.jsx("label",{children:"Place of Birth:"}),Ne(y.placeOfBirth)]}),e.jsxs("div",{className:"secretary-anointing-view-field",children:[e.jsx("label",{children:"Religion:"}),Ne(y.religion)]})]}),e.jsx("div",{className:"secretary-anointing-view-row",children:e.jsxs("div",{className:"secretary-anointing-view-field-wide",children:[e.jsx("label",{children:"Reason for Anointing (Medical Condition):"}),Ne(y.reasonForAnointing)]})})]})]}),e.jsxs("div",{className:"secretary-anointing-view-bypart",children:[e.jsx("h3",{className:"secretary-anointing-view-sub-title",children:"Contact Person Information"}),e.jsxs("div",{className:"secretary-anointing-view-info-card",children:[e.jsxs("div",{className:"secretary-anointing-view-row",children:[e.jsxs("div",{className:"secretary-anointing-view-field",children:[e.jsx("label",{children:"Contact Person's First Name:"}),Ne(y.contactFirstName)]}),e.jsxs("div",{className:"secretary-anointing-view-field",children:[e.jsx("label",{children:"Middle Name:"}),Ne(y.contactMiddleName)]}),e.jsxs("div",{className:"secretary-anointing-view-field",children:[e.jsx("label",{children:"Last Name:"}),Ne(y.contactLastName)]})]}),e.jsxs("div",{className:"secretary-anointing-view-row",children:[e.jsxs("div",{className:"secretary-anointing-view-field",children:[e.jsx("label",{children:"Relationship to Sick Person:"}),Ne(y.contactRelationship)]}),e.jsxs("div",{className:"secretary-anointing-view-field",children:[e.jsx("label",{children:"Phone Number:"}),Ne(y.contactPhone)]}),e.jsxs("div",{className:"secretary-anointing-view-field",children:[e.jsx("label",{children:"Email Address:"}),Ne(y.contactEmail)]})]})]})]}),e.jsxs("div",{className:"secretary-anointing-view-bypart",children:[e.jsx("h3",{className:"secretary-anointing-view-sub-title",children:"Location Information"}),e.jsxs("div",{className:"secretary-anointing-view-info-card",children:[e.jsxs("div",{className:"secretary-anointing-view-row",children:[e.jsxs("div",{className:"secretary-anointing-view-field",children:[e.jsx("label",{children:"Location Type:"}),Ne(y.locationType)]}),e.jsxs("div",{className:"secretary-anointing-view-field",children:[e.jsx("label",{children:"Location Name:"}),Ne(y.locationName)]}),e.jsxs("div",{className:"secretary-anointing-view-field",children:[e.jsx("label",{children:"Room/Room Number:"}),Ne(y.roomNumber)]})]}),e.jsxs("div",{className:"secretary-anointing-view-row",children:[e.jsxs("div",{className:"secretary-anointing-view-field",children:[e.jsx("label",{children:"Street:"}),Ne(y.street)]}),e.jsxs("div",{className:"secretary-anointing-view-field",children:[e.jsx("label",{children:"Barangay:"}),Ne(y.barangay)]}),e.jsxs("div",{className:"secretary-anointing-view-field",children:[e.jsx("label",{children:"Municipality:"}),Ne(y.municipality)]})]}),e.jsxs("div",{className:"secretary-anointing-view-row",children:[e.jsxs("div",{className:"secretary-anointing-view-field",children:[e.jsx("label",{children:"Province:"}),Ne(y.province)]}),e.jsxs("div",{className:"secretary-anointing-view-field",children:[e.jsx("label",{children:"Region:"}),Ne(y.locationRegion)]})]})]})]}),e.jsxs("div",{className:"secretary-anointing-view-bypart",children:[e.jsx("h3",{className:"secretary-anointing-view-sub-title",children:"Additional Information"}),e.jsxs("div",{className:"secretary-anointing-view-info-card",children:[e.jsx("div",{className:"secretary-anointing-view-row",children:e.jsxs("div",{className:"secretary-anointing-checkbox-container",children:[e.jsx("span",{className:`secretary-anointing-view-checkbox ${y.isCritical?"secretary-anointing-view-checked":""}`}),e.jsx("label",{children:"Is the person in critical condition?"})]})}),e.jsx("div",{className:"secretary-anointing-view-row",children:e.jsxs("div",{className:"secretary-anointing-checkbox-container",children:[e.jsx("span",{className:`secretary-anointing-view-checkbox ${y.needsViaticum?"secretary-anointing-view-checked":""}`}),e.jsx("label",{children:"Needs Viaticum (Holy Communion)"})]})}),e.jsx("div",{className:"secretary-anointing-view-row",children:e.jsxs("div",{className:"secretary-anointing-checkbox-container",children:[e.jsx("span",{className:`secretary-anointing-view-checkbox ${y.needsReconciliation?"secretary-anointing-view-checked":""}`}),e.jsx("label",{children:"Needs Sacrament of Reconciliation (Confession)"})]})}),e.jsx("div",{className:"secretary-anointing-view-row",children:e.jsxs("div",{className:"secretary-anointing-view-field-wide",children:[e.jsx("label",{children:"Additional Notes or Special Requests:"}),Ne(y.additionalNotes)]})})]})]}),e.jsxs("div",{className:"secretary-anointing-requirements-view-container",children:[e.jsx("h2",{className:"secretary-anointing-requirements-view-title",children:"About Anointing of the Sick"}),e.jsxs("div",{className:"secretary-anointing-requirements-view-box",children:[e.jsx("h3",{className:"secretary-anointing-view-section-header",children:"Documents Required"}),e.jsxs("div",{className:"secretary-anointing-info-view-list",children:[e.jsx("div",{className:"secretary-anointing-info-view-item",children:e.jsx("p",{children:"Medical Certificate or Doctor's note"})}),e.jsx("div",{className:"secretary-anointing-info-view-item",children:e.jsx("p",{children:"Valid IDs of the sick person or the contact person"})}),e.jsx("div",{className:"secretary-anointing-info-view-item",children:e.jsx("p",{children:"Certificate of Permission(if the candidate is not a resident of the parish)"})})]}),e.jsx("h3",{className:"secretary-anointing-view-section-header",children:"About Anointing of the Sick"}),e.jsxs("div",{className:"secretary-anointing-info-view-list",children:[e.jsx("div",{className:"secretary-anointing-info-view-item",children:e.jsx("p",{children:"The Sacrament of Anointing of the Sick provides spiritual strength and comfort to those who are ill or facing serious medical conditions."})}),e.jsx("div",{className:"secretary-anointing-info-view-item",children:e.jsx("p",{children:"Viaticum is the Holy Communion given to a dying person as spiritual food for their journey to eternal life."})}),e.jsx("div",{className:"secretary-anointing-info-view-item",children:e.jsx("p",{children:"This sacrament can be received by any Catholic who is seriously ill, facing surgery, or weakened by old age."})})]}),e.jsx("h3",{className:"secretary-anointing-view-section-header",children:"Important Notes"}),e.jsxs("div",{className:"secretary-anointing-info-view-list",children:[e.jsx("div",{className:"secretary-anointing-info-view-item",children:e.jsx("p",{children:"For emergency cases, please call the parish emergency number directly instead of using this form."})}),e.jsx("div",{className:"secretary-anointing-info-view-item",children:e.jsx("p",{children:"A priest will visit the location provided to administer the sacrament."})}),e.jsx("div",{className:"secretary-anointing-info-view-item",children:e.jsx("p",{children:"Please ensure someone will be present to receive the priest and guide them to the sick person."})}),e.jsx("div",{className:"secretary-anointing-info-view-item",children:e.jsx("p",{children:"You will receive a confirmation email once your request has been processed."})})]})]})]}),e.jsxs("div",{className:"secretary-anointing-view-info-card",children:[e.jsx("h3",{className:"secretary-anointing-view-sub-title",children:"Schedule Selection"}),e.jsxs("div",{className:"secretary-anointing-view-row",children:[e.jsxs("div",{className:"secretary-anointing-view-field",children:[e.jsx("label",{children:"Date of Anointing:"}),e.jsx("input",{type:"date",className:"secretary-view-input",value:O,onChange:Q=>{console.log("Date changed to:",Q.target.value),M(Q.target.value)},disabled:a==="Approved"})]}),e.jsxs("div",{className:"secretary-anointing-view-field",children:[e.jsx("label",{children:"Time of Anointing:"}),e.jsx("input",{type:"time",className:"secretary-view-input",value:J,onChange:Q=>{console.log("Time changed to:",Q.target.value),K(Q.target.value)},disabled:a==="Approved"})]})]}),e.jsx("div",{className:"secretary-anointing-view-row",children:e.jsxs("div",{className:"secretary-anointing-view-field",children:[e.jsx("label",{children:"Name of the Priest:"}),a==="Approved"?Ne(H):e.jsx("input",{type:"text",className:"secretary-view-input",value:H,onChange:Q=>{console.log("Priest changed to:",Q.target.value),k(Q.target.value)},placeholder:"Enter priest's name",disabled:a==="Approved"})]})})]}),e.jsxs("div",{className:"secretary-action-buttons",children:[a!=="Approved"&&e.jsx("button",{className:"secretary-ano-submit-button",onClick:X,children:"Approve"}),a==="Approved"&&e.jsxs("div",{className:"secretary-approved-status",children:[e.jsx("span",{className:"secretary-approved-icon",children:""}),e.jsx("span",{className:"secretary-approved-text",children:"This anointing request has been approved"})]})]})]})]}):e.jsx("div",{className:"secretary-anointing-view-container",children:e.jsxs("div",{className:"secretary-anointing-view-error",children:[e.jsx("p",{children:"No anointing data found."}),e.jsx("button",{onClick:()=>f(-1),children:"Back"})]})})},XO=()=>{oa();const a=Jt(),[t,s]=N.useState({dateOfBaptism:"",timeOfBaptism:"",firstName:"",middleName:"",lastName:"",sex:"",age:"",dateOfBirth:"",region:"",placeOfBirth:"",fatherFirstName:"",fatherMiddleName:"",fatherLastName:"",fatherPlaceOfBirth:"",fatherDateOfBirth:"",fatherContact:"",motherFirstName:"",motherMiddleName:"",motherLastName:"",motherPlaceOfBirth:"",motherDateOfBirth:"",motherContact:"",maritalStatus:"",yearsMarried:"",barangay:"",street:"",municipality:"",province:"",addressRegion:"",godFathers:[],godMothers:[]}),[i,r]=N.useState({barangay:"",municipality:"",province:""}),[c,A]=N.useState({barangay:"",municipality:"",province:""}),[d,h]=N.useState({barangay:"",municipality:"",province:""}),[u,v]=N.useState({}),[x,y]=N.useState(!1),[p,F]=N.useState([]),[b,S]=N.useState(!0),[f,O]=N.useState(null),[M,J]=N.useState({barangay:[],municipality:[],province:[],birthBarangay:[],birthMunicipality:[],birthProvince:[],fatherBirthBarangay:[],fatherBirthMunicipality:[],fatherBirthProvince:[],motherBirthBarangay:[],motherBirthMunicipality:[],motherBirthProvince:[],region:[],addressRegion:[]}),[K,H]=N.useState([]),[k,Y]=N.useState([]),[D,ge]=N.useState([]),[_,X]=N.useState([]),[re,fe]=N.useState(!1),[Ne,ue]=N.useState(!1),[_e,ce]=N.useState(!1),[ye,Q]=N.useState(""),[ne,U]=N.useState(!1),[V,T]=N.useState({}),[ie,ae]=N.useState({});N.useRef(null),N.useRef(null),N.useRef(null);const P=N.useMemo(()=>{if(!p.length)return{};const ee={},me={},$={},ve={},Pe={},We={};return p.forEach(ut=>{ee[ut.barangay.toLowerCase()]||(ee[ut.barangay.toLowerCase()]=[]),ee[ut.barangay.toLowerCase()].push(ut),me[ut.municipality.toLowerCase()]||(me[ut.municipality.toLowerCase()]=[]),me[ut.municipality.toLowerCase()].push(ut),$[ut.province.toLowerCase()]||($[ut.province.toLowerCase()]=[]),$[ut.province.toLowerCase()].push(ut);const Ct=ut.municipality.toLowerCase();ve[Ct]||(ve[Ct]=new Set),ve[Ct].add(ut.barangay);const Kt=ut.province.toLowerCase();Pe[Kt]||(Pe[Kt]=new Set),Pe[Kt].add(ut.barangay),We[Kt]||(We[Kt]=new Set),We[Kt].add(ut.municipality)}),Object.keys(ve).forEach(ut=>{ve[ut]=Array.from(ve[ut])}),Object.keys(Pe).forEach(ut=>{Pe[ut]=Array.from(Pe[ut])}),Object.keys(We).forEach(ut=>{We[ut]=Array.from(We[ut])}),{barangays:ee,municipalities:me,provinces:$,barangaysByMunicipality:ve,barangaysByProvince:Pe,municipalitiesByProvince:We}},[p]),z=N.useMemo(()=>p.length?[...new Set(p.map(ee=>ee.province))].sort():[],[p]),B=N.useMemo(()=>p.length?[...new Set(p.map(ee=>ee.municipality))].sort():[],[p]),q=N.useMemo(()=>p.length?[...new Set(p.map(ee=>ee.barangay))].sort():[],[p]);N.useEffect(()=>{he(),te()},[]);const te=async()=>{try{const ee=await aa.get("http://parishofdivinemercy.com/backend/get_location.php");ee.data.success&&F(ee.data.locations)}catch(ee){console.error("Error fetching locations:",ee)}finally{S(!1)}},he=async()=>{try{const[ee,me]=await Promise.all([fetch("http://parishofdivinemercy.com/backend/schedule.php"),fetch("http://parishofdivinemercy.com/backend/get_baptism_applications.php")]),$=await ee.json(),ve=await me.json();if($.success){const Pe=$.schedules.filter(ya=>ya.sacramentType.toLowerCase()==="baptism"),We=new Set;ve.success&&ve.applications.forEach(ya=>{We.add(`${ya.dateOfBaptism}-${ya.timeOfBaptism}`)});const ut=Pe.filter(ya=>{const Ra=`${ya.date}-${ya.time}`;return!We.has(Ra)});H(ut);const Ct=new Set,Kt=[];ut.forEach(ya=>{Ct.has(ya.date)||(Ct.add(ya.date),Kt.push(ya.date))}),Y(Kt)}}catch(ee){console.error("Error fetching schedules:",ee)}};N.useEffect(()=>{if(t.dateOfBaptism){const ee=K.filter($=>$.date===t.dateOfBaptism).map($=>$.time),me=[...new Set(ee)];ge(me),me.includes(t.timeOfBaptism)||s($=>({...$,timeOfBaptism:""}))}else ge([])},[t.dateOfBaptism,K]);const W=(ee,me=null,$=null)=>{if(!ee||!ee.trim()||!P.barangays){if(me&&P.barangaysByMunicipality){const We=me.toLowerCase();if(P.barangaysByMunicipality[We])return P.barangaysByMunicipality[We].slice(0,10)}else if($&&P.barangaysByProvince){const We=$.toLowerCase();if(P.barangaysByProvince[We])return P.barangaysByProvince[We].slice(0,10)}return q.slice(0,10)}const ve=ee.toLowerCase();let Pe=[];if(me&&$){const We=me.toLowerCase();P.barangaysByMunicipality[We]&&(Pe=P.barangaysByMunicipality[We].filter(ut=>ut.toLowerCase().includes(ve)))}else if(me){const We=me.toLowerCase();P.barangaysByMunicipality[We]&&(Pe=P.barangaysByMunicipality[We].filter(ut=>ut.toLowerCase().includes(ve)))}else if($){const We=$.toLowerCase();P.barangaysByProvince[We]&&(Pe=P.barangaysByProvince[We].filter(ut=>ut.toLowerCase().includes(ve)))}else Pe=q.filter(We=>We.toLowerCase().includes(ve));return Pe.slice(0,10)},C=(ee,me=null)=>{if(!ee||!ee.trim()||!P.municipalities){if(me&&P.municipalitiesByProvince){const Pe=me.toLowerCase();if(P.municipalitiesByProvince[Pe])return P.municipalitiesByProvince[Pe].slice(0,10)}return B.slice(0,10)}const $=ee.toLowerCase();let ve=[];if(me){const Pe=me.toLowerCase();P.municipalitiesByProvince[Pe]&&(ve=P.municipalitiesByProvince[Pe].filter(We=>We.toLowerCase().includes($)))}else ve=B.filter(Pe=>Pe.toLowerCase().includes($));return ve.slice(0,10)},Z=ee=>{if(!ee||!ee.trim()||!z)return z.slice(0,10);const me=ee.toLowerCase();return z.filter(ve=>ve.toLowerCase().includes(me)).slice(0,10)},se=(ee="")=>{const me=["NCR - National Capital Region","CAR - Cordillera Administrative Region","Region I - Ilocos Region","Region II - Cagayan Valley","Region III - Central Luzon","Region IV-A - CALABARZON","Region IV-B - MIMAROPA","Region V - Bicol Region","Region VI - Western Visayas","Region VII - Central Visayas","Region VIII - Eastern Visayas","Region IX - Zamboanga Peninsula","Region X - Northern Mindanao","Region XI - Davao Region","Region XII - SOCCSKSARGEN","Region XIII - Caraga","BARMM - Bangsamoro Autonomous Region in Muslim Mindanao"];if(!ee||!ee.trim())return me.slice(0,10);const $=ee.toLowerCase();return me.filter(ve=>ve.toLowerCase().includes($)).slice(0,10)},Se=(ee,me)=>{s($=>({...$,[ee]:me})),u[ee]&&v($=>{const ve={...$};return delete ve[ee],ve})},He=(ee,me)=>{if(!me){Se(ee,"");return}if(Se(ee,me),ee==="dateOfBirth"){const $=new Date,ve=new Date(me);let Pe=$.getFullYear()-ve.getFullYear();const We=$.getMonth()-ve.getMonth();(We<0||We===0&&$.getDate()<ve.getDate())&&Pe--,Se("age",Pe.toString())}},Qe=ee=>{const me=ee.target.value,$={...i,barangay:me};r($),st($),f==="birthBarangay"&&J(ve=>({...ve,birthBarangay:W(me,i.municipality,i.province)}))},qe=ee=>{const me=ee.target.value,$={...i,municipality:me};if(r($),st($),f==="birthMunicipality"&&J(ve=>({...ve,birthMunicipality:C(me,i.province)})),me&&P.municipalities){const ve=me.toLowerCase(),Pe=P.municipalities[ve];if(Pe&&Pe.length>0&&!i.province){const We={...$,province:Pe[0].province};r(We),st(We)}}},Ye=ee=>{const me=ee.target.value,$={...i,province:me};r($),st($),f==="birthProvince"&&J(ve=>({...ve,birthProvince:Z(me)}))},st=ee=>{const me=ee.barangay!==void 0?ee.barangay:i.barangay,$=ee.municipality!==void 0?ee.municipality:i.municipality,ve=ee.province!==void 0?ee.province:i.province;let Pe=[];me&&Pe.push(me),$&&Pe.push($),ve&&Pe.push(ve);const We=Pe.join(", ");We&&s(ut=>({...ut,placeOfBirth:We}))},kt=ee=>{const me={...i,barangay:ee};if(r(me),st(me),O(null),P.barangays){const $=ee.toLowerCase(),ve=P.barangays[$];if(ve&&ve.length>0){const Pe=ve[0].municipality,We=ve[0].province,ut={...me};let Ct=!1;!me.municipality&&Pe&&(ut.municipality=Pe,Ct=!0),!me.province&&We&&(ut.province=We,Ct=!0),Ct&&(r(ut),st(ut))}}},Mt=ee=>{const me={...i,municipality:ee};if(r(me),st(me),P.municipalities){const $=ee.toLowerCase(),ve=P.municipalities[$];if(ve&&ve.length>0&&!i.province){const Pe=ve[0].province,We={...me,province:Pe};r(We),st(We)}}O(null)},ke=ee=>{const me={...i,province:ee};r(me),st(me),O(null)},$e=ee=>{const me={...c,municipality:ee};if(A(me),Me(me),P.municipalities){const $=ee.toLowerCase(),ve=P.municipalities[$];if(ve&&ve.length>0&&!c.province){const Pe=ve[0].province,We={...me,province:Pe};A(We),Me(We)}}O(null)},Ae=ee=>{const me=ee.target.value,$={...c,barangay:me};A($),Me($),f==="fatherBirthBarangay"&&J(ve=>({...ve,fatherBirthBarangay:W(me,c.municipality,c.province)}))},Le=ee=>{const me=ee.target.value,$={...c,municipality:me};if(A($),Me($),f==="fatherBirthMunicipality"&&J(ve=>({...ve,fatherBirthMunicipality:C(me,c.province)})),me&&P.municipalities){const ve=me.toLowerCase(),Pe=P.municipalities[ve];if(Pe&&Pe.length>0&&!c.province){const We={...$,province:Pe[0].province};A(We),Me(We)}}},de=ee=>{const me=ee.target.value,$={...c,province:me};A($),Me($),f==="fatherBirthProvince"&&J(ve=>({...ve,fatherBirthProvince:Z(me)}))},Me=ee=>{const me=ee.barangay!==void 0?ee.barangay:c.barangay,$=ee.municipality!==void 0?ee.municipality:c.municipality,ve=ee.province!==void 0?ee.province:c.province;let Pe=[];me&&Pe.push(me),$&&Pe.push($),ve&&Pe.push(ve);const We=Pe.join(", ");We&&s(ut=>({...ut,fatherPlaceOfBirth:We}))},Ie=ee=>{const me={...c,barangay:ee};if(A(me),Me(me),O(null),P.barangays){const $=ee.toLowerCase(),ve=P.barangays[$];if(ve&&ve.length>0&&!c.province){const Pe=ve[0].province,We={...me,province:Pe};A(We),Me(We)}}O(null)},Ze=ee=>{const me={...c,province:ee};A(me),Me(me),O(null)},nt=ee=>{const me=ee.target.value,$={...d,barangay:me};h($),ft($),f==="motherBirthBarangay"&&J(ve=>({...ve,motherBirthBarangay:W(me,d.municipality,d.province)}))},ot=ee=>{const me=ee.target.value,$={...d,municipality:me};if(h($),ft($),f==="motherBirthMunicipality"&&J(ve=>({...ve,motherBirthMunicipality:C(me,d.province)})),me&&P.municipalities){const ve=me.toLowerCase(),Pe=P.municipalities[ve];if(Pe&&Pe.length>0&&!d.province){const We={...$,province:Pe[0].province};h(We),ft(We)}}},jt=ee=>{const me=ee.target.value,$={...d,province:me};h($),ft($),f==="motherBirthProvince"&&J(ve=>({...ve,motherBirthProvince:Z(me)}))},ft=ee=>{const me=ee.barangay!==void 0?ee.barangay:d.barangay,$=ee.municipality!==void 0?ee.municipality:d.municipality,ve=ee.province!==void 0?ee.province:d.province;let Pe=[];me&&Pe.push(me),$&&Pe.push($),ve&&Pe.push(ve);const We=Pe.join(", ");We&&s(ut=>({...ut,motherPlaceOfBirth:We}))},It=ee=>{const me={...d,barangay:ee};if(h(me),ft(me),O(null),P.barangays){const $=ee.toLowerCase(),ve=P.barangays[$];if(ve&&ve.length>0){const Pe=ve[0].municipality,We=ve[0].province,ut={...me};let Ct=!1;!me.municipality&&Pe&&(ut.municipality=Pe,Ct=!0),!me.province&&We&&(ut.province=We,Ct=!0),Ct&&(h(ut),ft(ut))}}},Ke=ee=>{const me={...d,municipality:ee};if(h(me),ft(me),P.municipalities){const $=ee.toLowerCase(),ve=P.municipalities[$];if(ve&&ve.length>0&&!d.province){const Pe=ve[0].province,We={...me,province:Pe};h(We),ft(We)}}O(null)},it=ee=>{const me={...d,province:ee};h(me),ft(me),O(null)},De=ee=>{const me=ee.target.value;if(Se("barangay",me),f==="barangay"){const $=W(me,t.municipality,t.province);J(ve=>({...ve,barangay:$}))}},Be=ee=>{const me=ee.target.value;if(Se("municipality",me),f==="municipality"){const $=C(me,t.province);J(ve=>({...ve,municipality:$}))}if(me&&P.municipalities){const $=me.toLowerCase(),ve=P.municipalities[$];ve&&ve.length>0&&!t.province&&Se("province",ve[0].province)}},pe=ee=>{const me=ee.target.value;if(Se("province",me),f==="province"){const $=Z(me);J(ve=>({...ve,province:$}))}},we=ee=>{const me=ee.target.value;Se("region",me),f==="region"&&J($=>({...$,region:se(me)}))},ze=ee=>{const me=ee.target.value;Se("addressRegion",me),f==="addressRegion"&&J($=>({...$,addressRegion:se(me)}))},Xe=ee=>{if(Se("barangay",ee),O(null),P.barangays){const me=ee.toLowerCase(),$=P.barangays[me];$&&$.length>0&&(t.municipality||Se("municipality",$[0].municipality),t.province||Se("province",$[0].province))}},wt=ee=>{if(Se("municipality",ee),P.municipalities){const me=ee.toLowerCase(),$=P.municipalities[me];$&&$.length>0&&!t.province&&Se("province",$[0].province)}O(null)},yt=ee=>{Se("province",ee),O(null)},Qt=ee=>{Se("region",ee),O(null)},ta=ee=>{Se("addressRegion",ee),O(null)},Ft=ee=>{switch(O(ee),ee){case"birthBarangay":J(me=>({...me,birthBarangay:W(i.barangay,i.municipality,i.province)}));break;case"birthMunicipality":J(me=>({...me,birthMunicipality:C(i.municipality,i.province)}));break;case"birthProvince":J(me=>({...me,birthProvince:Z(i.province)}));break;case"fatherBirthBarangay":J(me=>({...me,fatherBirthBarangay:W(c.barangay,c.municipality,c.province)}));break;case"fatherBirthMunicipality":J(me=>({...me,fatherBirthMunicipality:C(c.municipality,c.province)}));break;case"fatherBirthProvince":J(me=>({...me,fatherBirthProvince:Z(c.province)}));break;case"motherBirthBarangay":J(me=>({...me,motherBirthBarangay:W(d.barangay,d.municipality,d.province)}));break;case"motherBirthMunicipality":J(me=>({...me,motherBirthMunicipality:C(d.municipality,d.province)}));break;case"motherBirthProvince":J(me=>({...me,motherBirthProvince:Z(d.province)}));break;case"barangay":J(me=>({...me,barangay:W(t.barangay,t.municipality,t.province)}));break;case"municipality":J(me=>({...me,municipality:C(t.municipality,t.province)}));break;case"province":J(me=>({...me,province:Z(t.province)}));break;case"region":J(me=>({...me,region:se(t.region)}));break;case"addressRegion":J(me=>({...me,addressRegion:se(t.addressRegion)}));break}};N.useEffect(()=>{const ee=me=>{const $=document.querySelectorAll(".location-dropdown-container");let ve=!0;$.forEach(Pe=>{Pe.contains(me.target)&&(ve=!1)}),ve&&O(null)};return document.addEventListener("mousedown",ee),()=>{document.removeEventListener("mousedown",ee)}},[]);const Aa=()=>{const ee={};return["dateOfBaptism","timeOfBaptism","firstName","lastName","sex","dateOfBirth","region","placeOfBirth","fatherFirstName","fatherLastName","fatherPlaceOfBirth","fatherDateOfBirth","motherFirstName","motherLastName","motherPlaceOfBirth","motherDateOfBirth","maritalStatus","barangay","municipality","province","addressRegion"].forEach($=>{(!t[$]||t[$].trim()==="")&&(ee[$]=!0)}),t.godFathers.length===0&&(ee.godFathers=!0),t.godMothers.length===0&&(ee.godMothers=!0),ee},Ue=()=>{const ee=Aa();if(Object.keys(ee).length>0){v(ee),Q("All fields must be filled"),ce(!0);return}fe(!0)},be=async()=>{fe(!1),U(!0);try{const ee={...t};if(ee.dateOfBirth&&ee.dateOfBirth.includes("-")){const We=new Date(ee.dateOfBirth);ee.dateOfBirth=We.toISOString().split("T")[0]}if(ee.fatherDateOfBirth&&ee.fatherDateOfBirth.includes("-")){const We=new Date(ee.fatherDateOfBirth);ee.fatherDateOfBirth=We.toISOString().split("T")[0]}if(ee.motherDateOfBirth&&ee.motherDateOfBirth.includes("-")){const We=new Date(ee.motherDateOfBirth);ee.motherDateOfBirth=We.toISOString().split("T")[0]}if(ee.dateOfBaptism){const We=new Date(ee.dateOfBaptism);ee.dateOfBaptism=We.toISOString().split("T")[0]}const me=new FormData;Object.keys(ee).forEach(We=>{We!=="godFathers"&&We!=="godMothers"&&me.append(We,ee[We])}),me.append("godFathers",JSON.stringify(ee.godFathers)),me.append("godMothers",JSON.stringify(ee.godMothers));const ve=await(await fetch("http://parishofdivinemercy.com/backend/baptism_application.php",{method:"POST",body:me})).text();console.log("Raw response:",ve);let Pe;try{Pe=JSON.parse(ve)}catch{throw console.error("Failed to parse response as JSON:",ve),new Error("Invalid response from server")}console.log("Parsed response:",Pe),U(!1),Pe.success?(ue(!0),setTimeout(()=>{a("/secretary-appointment")},2e3)):(Q(Pe.message||"Failed to submit application"),ce(!0))}catch(ee){console.error("Error submitting form:",ee),U(!1),Q(ee.message||"Error submitting application"),ce(!0)}},R=ee=>{if(ee==="godfather"){const me=document.getElementById("godfather-input").value;me&&(s($=>({...$,godFathers:[...$.godFathers,me]})),document.getElementById("godfather-input").value="",u.godFathers&&v($=>{const ve={...$};return delete ve.godFathers,ve}))}else{const me=document.getElementById("godmother-input").value;me&&(s($=>({...$,godMothers:[...$.godMothers,me]})),document.getElementById("godmother-input").value="",u.godMothers&&v($=>{const ve={...$};return delete ve.godMothers,ve}))}},G=(ee,me)=>{s(ee==="godfather"?$=>({...$,godFathers:$.godFathers.filter((ve,Pe)=>Pe!==me)}):$=>({...$,godMothers:$.godMothers.filter((ve,Pe)=>Pe!==me)}))},oe=ee=>{const me=ee.target.value;Se("maritalStatus",me),me!=="Married"&&Se("yearsMarried","0")};return e.jsxs("div",{className:"client-baptism-container",children:[e.jsx("div",{className:"client-baptism-header",children:e.jsx("div",{className:"client-left-section",children:e.jsxs("button",{className:"client-back-button",onClick:()=>a(-1),children:[e.jsx(Oa,{className:"client-back-icon"})," Back"]})})}),e.jsx("h1",{className:"client-title",children:"Baptism Application Form"}),e.jsxs("div",{className:"client-baptismal-data",children:[e.jsxs("div",{className:"client-baptismal-row-date",children:[e.jsxs("div",{className:"client-baptismal-field-date",children:[e.jsx("label",{children:"Date of Appointment"}),e.jsxs("select",{value:t.dateOfBaptism,onChange:ee=>Se("dateOfBaptism",ee.target.value),className:u.dateOfBaptism?"client-error-input":"",children:[e.jsx("option",{value:"",children:"Select Date"}),k.map(ee=>e.jsx("option",{value:ee,children:new Date(ee).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})},ee))]})]}),e.jsxs("div",{className:"client-baptismal-field-time",children:[e.jsx("label",{children:"Time of Appointment"}),e.jsxs("select",{value:t.timeOfBaptism,onChange:ee=>Se("timeOfBaptism",ee.target.value),disabled:!t.dateOfBaptism,className:u.timeOfBaptism?"client-error-input":"",children:[e.jsx("option",{value:"",children:"Select Time"}),D.map(ee=>e.jsx("option",{value:ee,children:ee},ee))]})]})]}),e.jsxs("div",{className:"client-bypart",children:[e.jsx("h3",{className:"client-sub-title",children:"Baptism Information"}),e.jsxs("div",{className:"client-baptismal-row",children:[e.jsxs("div",{className:"client-baptismal-field",children:[e.jsx("label",{children:"First Name of the Baptized"}),e.jsx("input",{type:"text",value:t.firstName,onChange:ee=>Se("firstName",ee.target.value),className:u.firstName?"client-error-input":""})]}),e.jsxs("div",{className:"client-baptismal-field",children:[e.jsx("label",{children:"Middle Name of the Baptized"}),e.jsx("input",{type:"text",value:t.middleName,onChange:ee=>Se("middleName",ee.target.value)})]}),e.jsxs("div",{className:"client-baptismal-field",children:[e.jsx("label",{children:"Last Name of the Baptized"}),e.jsx("input",{type:"text",value:t.lastName,onChange:ee=>Se("lastName",ee.target.value),className:u.lastName?"client-error-input":""})]}),e.jsxs("div",{className:"client-baptismal-field",children:[e.jsx("label",{children:"Date of Birth"}),e.jsx("input",{type:"date",className:`date-input ${u.dateOfBirth?"client-error-input":""}`,onChange:ee=>He("dateOfBirth",ee.target.value)})]}),e.jsxs("div",{className:"client-baptismal-field-ga",children:[e.jsx("label",{children:"Age"}),e.jsx("input",{type:"text",value:t.age,onChange:ee=>Se("age",ee.target.value),readOnly:!0})]})]}),e.jsxs("div",{className:"client-baptismal-row",children:[e.jsxs("div",{className:"client-baptismal-field-ga",children:[e.jsx("label",{children:"Sex"}),e.jsxs("select",{value:t.sex,onChange:ee=>Se("sex",ee.target.value),className:u.sex?"client-error-input":"",children:[e.jsx("option",{value:"",children:"Select"}),e.jsx("option",{value:"Male",children:"Male"}),e.jsx("option",{value:"Female",children:"Female"})]})]}),e.jsxs("div",{className:"client-baptismal-field location-dropdown-container",children:[e.jsx("label",{children:"Birth Region"}),e.jsx("input",{type:"text",value:t.region,onChange:we,onFocus:()=>Ft("region"),placeholder:"Enter birth region",className:u.region?"client-error-input":""}),f==="region"&&M.region.length>0&&e.jsx("div",{className:"location-dropdown",children:M.region.map((ee,me)=>e.jsx("div",{onClick:()=>Qt(ee),className:"location-dropdown-item",children:ee},me))})]}),e.jsxs("div",{className:"client-baptismal-field location-dropdown-container",children:[e.jsx("label",{children:"Birth Barangay"}),e.jsx("input",{type:"text",placeholder:"Type to search",value:i.barangay,onChange:Qe,onFocus:()=>Ft("birthBarangay"),className:u.placeOfBirth?"client-error-input":""}),f==="birthBarangay"&&M.birthBarangay.length>0&&e.jsx("div",{className:"location-dropdown",children:M.birthBarangay.map((ee,me)=>e.jsx("div",{onClick:()=>kt(ee),className:"location-dropdown-item",children:ee},me))})]}),e.jsxs("div",{className:"client-baptismal-field location-dropdown-container",children:[e.jsx("label",{children:"Birth Municipality"}),e.jsx("input",{type:"text",placeholder:"Type to search",value:i.municipality,onChange:qe,onFocus:()=>Ft("birthMunicipality"),className:u.placeOfBirth?"client-error-input":""}),f==="birthMunicipality"&&M.birthMunicipality.length>0&&e.jsx("div",{className:"location-dropdown",children:M.birthMunicipality.map((ee,me)=>e.jsx("div",{onClick:()=>Mt(ee),className:"location-dropdown-item",children:ee},me))})]}),e.jsxs("div",{className:"client-baptismal-field location-dropdown-container",children:[e.jsx("label",{children:"Birth Province"}),e.jsx("input",{type:"text",placeholder:"Type to search",value:i.province,onChange:Ye,onFocus:()=>Ft("birthProvince"),className:u.placeOfBirth?"client-error-input":""}),f==="birthProvince"&&M.birthProvince.length>0&&e.jsx("div",{className:"location-dropdown",children:M.birthProvince.map((ee,me)=>e.jsx("div",{onClick:()=>ke(ee),className:"location-dropdown-item",children:ee},me))})]})]}),e.jsx("h3",{className:"client-sub-title",children:"Father Information"}),e.jsxs("div",{className:"client-baptismal-row",children:[e.jsxs("div",{className:"client-baptismal-field",children:[e.jsx("label",{children:"Father's First Name"}),e.jsx("input",{type:"text",value:t.fatherFirstName,onChange:ee=>Se("fatherFirstName",ee.target.value),className:u.fatherFirstName?"client-error-input":""})]}),e.jsxs("div",{className:"client-baptismal-field",children:[e.jsx("label",{children:"Father's Middle Name"}),e.jsx("input",{type:"text",value:t.fatherMiddleName,onChange:ee=>Se("fatherMiddleName",ee.target.value)})]}),e.jsxs("div",{className:"client-baptismal-field",children:[e.jsx("label",{children:"Father's Last Name"}),e.jsx("input",{type:"text",value:t.fatherLastName,onChange:ee=>Se("fatherLastName",ee.target.value),className:u.fatherLastName?"client-error-input":""})]}),e.jsxs("div",{className:"client-baptismal-field",children:[e.jsx("label",{children:"Father's Date of Birth"}),e.jsx("input",{type:"date",className:`date-input ${u.fatherDateOfBirth?"client-error-input":""}`,onChange:ee=>He("fatherDateOfBirth",ee.target.value)})]})]}),e.jsxs("div",{className:"client-baptismal-row",children:[e.jsxs("div",{className:"client-baptismal-field",children:[e.jsx("label",{children:"Father's Contact Number"}),e.jsx("input",{type:"text",value:t.fatherContact,onChange:ee=>Se("fatherContact",ee.target.value)})]}),e.jsxs("div",{className:"client-baptismal-field location-dropdown-container",children:[e.jsx("label",{children:"Father's Birth Barangay"}),e.jsx("input",{type:"text",placeholder:"Type to search",value:c.barangay,onChange:Ae,onFocus:()=>Ft("fatherBirthBarangay"),className:u.fatherPlaceOfBirth?"client-error-input":""}),f==="fatherBirthBarangay"&&M.fatherBirthBarangay.length>0&&e.jsx("div",{className:"location-dropdown",children:M.fatherBirthBarangay.map((ee,me)=>e.jsx("div",{onClick:()=>Ie(ee),className:"location-dropdown-item",children:ee},me))})]}),e.jsxs("div",{className:"client-baptismal-field location-dropdown-container",children:[e.jsx("label",{children:"Father's Birth Municipality"}),e.jsx("input",{type:"text",placeholder:"Type to search",value:c.municipality,onChange:Le,onFocus:()=>Ft("fatherBirthMunicipality"),className:u.fatherPlaceOfBirth?"client-error-input":""}),f==="fatherBirthMunicipality"&&M.fatherBirthMunicipality.length>0&&e.jsx("div",{className:"location-dropdown",children:M.fatherBirthMunicipality.map((ee,me)=>e.jsx("div",{onClick:()=>$e(ee),className:"location-dropdown-item",children:ee},me))})]}),e.jsxs("div",{className:"client-baptismal-field location-dropdown-container",children:[e.jsx("label",{children:"Father's Birth Province"}),e.jsx("input",{type:"text",placeholder:"Type to search",value:c.province,onChange:de,onFocus:()=>Ft("fatherBirthProvince"),className:u.fatherPlaceOfBirth?"client-error-input":""}),f==="fatherBirthProvince"&&M.fatherBirthProvince.length>0&&e.jsx("div",{className:"location-dropdown",children:M.fatherBirthProvince.map((ee,me)=>e.jsx("div",{onClick:()=>Ze(ee),className:"location-dropdown-item",children:ee},me))})]})]}),e.jsx("h3",{className:"client-sub-title",children:"Mother Information"}),e.jsxs("div",{className:"client-baptismal-row",children:[e.jsxs("div",{className:"client-baptismal-field",children:[e.jsx("label",{children:"Mother's First Name"}),e.jsx("input",{type:"text",value:t.motherFirstName,onChange:ee=>Se("motherFirstName",ee.target.value),className:u.motherFirstName?"client-error-input":""})]}),e.jsxs("div",{className:"client-baptismal-field",children:[e.jsx("label",{children:"Mother's Middle Name"}),e.jsx("input",{type:"text",value:t.motherMiddleName,onChange:ee=>Se("motherMiddleName",ee.target.value)})]}),e.jsxs("div",{className:"client-baptismal-field",children:[e.jsx("label",{children:"Mother's Last Name"}),e.jsx("input",{type:"text",value:t.motherLastName,onChange:ee=>Se("motherLastName",ee.target.value),className:u.motherLastName?"client-error-input":""})]}),e.jsxs("div",{className:"client-baptismal-field",children:[e.jsx("label",{children:"Mother's Date of Birth"}),e.jsx("input",{type:"date",className:`date-input ${u.motherDateOfBirth?"client-error-input":""}`,onChange:ee=>He("motherDateOfBirth",ee.target.value)})]})]}),e.jsxs("div",{className:"client-baptismal-row",children:[e.jsxs("div",{className:"client-baptismal-field",children:[e.jsx("label",{children:"Mother's Contact Number"}),e.jsx("input",{type:"text",value:t.motherContact,onChange:ee=>Se("motherContact",ee.target.value)})]}),e.jsxs("div",{className:"client-baptismal-field location-dropdown-container",children:[e.jsx("label",{children:"Mother's Birth Barangay"}),e.jsx("input",{type:"text",placeholder:"Type to search",value:d.barangay,onChange:nt,onFocus:()=>Ft("motherBirthBarangay"),className:u.motherPlaceOfBirth?"client-error-input":""}),f==="motherBirthBarangay"&&M.motherBirthBarangay.length>0&&e.jsx("div",{className:"location-dropdown",children:M.motherBirthBarangay.map((ee,me)=>e.jsx("div",{onClick:()=>It(ee),className:"location-dropdown-item",children:ee},me))})]}),e.jsxs("div",{className:"client-baptismal-field location-dropdown-container",children:[e.jsx("label",{children:"Mother's Birth Municipality"}),e.jsx("input",{type:"text",placeholder:"Type to search",value:d.municipality,onChange:ot,onFocus:()=>Ft("motherBirthMunicipality"),className:u.motherPlaceOfBirth?"client-error-input":""}),f==="motherBirthMunicipality"&&M.motherBirthMunicipality.length>0&&e.jsx("div",{className:"location-dropdown",children:M.motherBirthMunicipality.map((ee,me)=>e.jsx("div",{onClick:()=>Ke(ee),className:"location-dropdown-item",children:ee},me))})]}),e.jsxs("div",{className:"client-baptismal-field location-dropdown-container",children:[e.jsx("label",{children:"Mother's Birth Province"}),e.jsx("input",{type:"text",placeholder:"Type to search",value:d.province,onChange:jt,onFocus:()=>Ft("motherBirthProvince"),className:u.motherPlaceOfBirth?"client-error-input":""}),f==="motherBirthProvince"&&M.motherBirthProvince.length>0&&e.jsx("div",{className:"location-dropdown",children:M.motherBirthProvince.map((ee,me)=>e.jsx("div",{onClick:()=>it(ee),className:"location-dropdown-item",children:ee},me))})]})]}),e.jsx("h3",{className:"client-sub-title",children:"Parents Marital Status"}),e.jsxs("div",{className:"client-baptismal-row-pms",children:[e.jsxs("div",{className:"client-marital-status",children:[e.jsx("label",{className:"client-section-label",children:"Select the parent's marital status by choosing one of the following options:"}),e.jsxs("div",{className:"client-marital-options",children:[e.jsxs("div",{className:"client-pms-label",children:[e.jsx("input",{type:"radio",id:"married",name:"maritalStatus",value:"Married",onChange:oe,checked:t.maritalStatus==="Married",className:u.maritalStatus?"client-error-input":""}),e.jsx("label",{htmlFor:"married",children:"Married"})]}),e.jsxs("div",{className:"client-pms-label",children:[e.jsx("input",{type:"radio",id:"civil",name:"maritalStatus",value:"Civil",onChange:oe,checked:t.maritalStatus==="Civil",className:u.maritalStatus?"client-error-input":""}),e.jsx("label",{htmlFor:"civil",children:"Civil"})]}),e.jsxs("div",{className:"client-pms-label",children:[e.jsx("input",{type:"radio",id:"living-together",name:"maritalStatus",value:"Living Together",onChange:oe,checked:t.maritalStatus==="Living Together",className:u.maritalStatus?"client-error-input":""}),e.jsx("label",{htmlFor:"living-together",children:"Living Together"})]})]})]}),e.jsxs("div",{className:"client-years-married",children:[e.jsx("input",{type:"text",className:"client-short-input",value:t.yearsMarried,onChange:ee=>Se("yearsMarried",ee.target.value),disabled:t.maritalStatus!=="Married"}),e.jsx("label",{children:"Number of Years Married"})]})]}),e.jsxs("div",{className:"client-baptismal-row client-address-row",children:[e.jsxs("div",{className:"client-baptismal-field",children:[e.jsx("label",{children:"Street"}),e.jsx("input",{type:"text",value:t.street,onChange:ee=>Se("street",ee.target.value)})]}),e.jsxs("div",{className:"client-baptismal-field location-dropdown-container",children:[e.jsx("label",{children:"Barangay"}),e.jsx("input",{type:"text",value:t.barangay,onChange:De,onFocus:()=>Ft("barangay"),placeholder:"Type to search",className:u.barangay?"client-error-input":""}),f==="barangay"&&M.barangay.length>0&&e.jsx("div",{className:"location-dropdown",children:M.barangay.map((ee,me)=>e.jsx("div",{onClick:()=>Xe(ee),className:"location-dropdown-item",children:ee},me))})]}),e.jsxs("div",{className:"client-baptismal-field location-dropdown-container",children:[e.jsx("label",{children:"Municipality"}),e.jsx("input",{type:"text",value:t.municipality,onChange:Be,onFocus:()=>Ft("municipality"),placeholder:"Type to search",className:u.municipality?"client-error-input":""}),f==="municipality"&&M.municipality.length>0&&e.jsx("div",{className:"location-dropdown",children:M.municipality.map((ee,me)=>e.jsx("div",{onClick:()=>wt(ee),className:"location-dropdown-item",children:ee},me))})]}),e.jsxs("div",{className:"client-baptismal-field location-dropdown-container",children:[e.jsx("label",{children:"Province"}),e.jsx("input",{type:"text",value:t.province,onChange:pe,onFocus:()=>Ft("province"),placeholder:"Type to search",className:u.province?"client-error-input":""}),f==="province"&&M.province.length>0&&e.jsx("div",{className:"location-dropdown",children:M.province.map((ee,me)=>e.jsx("div",{onClick:()=>yt(ee),className:"location-dropdown-item",children:ee},me))})]}),e.jsxs("div",{className:"client-baptismal-field location-dropdown-container",children:[e.jsx("label",{children:"Address Region"}),e.jsx("input",{type:"text",value:t.addressRegion,onChange:ze,onFocus:()=>Ft("addressRegion"),placeholder:"Enter address region",className:u.addressRegion?"client-error-input":""}),f==="addressRegion"&&M.addressRegion.length>0&&e.jsx("div",{className:"location-dropdown",children:M.addressRegion.map((ee,me)=>e.jsx("div",{onClick:()=>ta(ee),className:"location-dropdown-item",children:ee},me))})]})]}),e.jsxs("div",{className:"client-bypart",children:[e.jsx("h3",{className:"client-sub-title",children:"Godparents Information"}),e.jsxs("div",{className:"client-baptismal-row",children:[e.jsxs("div",{className:"client-baptismal-field",children:[e.jsx("label",{children:"God Father Name (Ninong)"}),e.jsx("input",{type:"text",id:"godfather-input",className:u.godFathers?"client-error-input":""})]}),e.jsx("button",{className:"client-add-button",onClick:()=>R("godfather"),children:"Add"})]}),t.godFathers.map((ee,me)=>e.jsxs("div",{className:"added-godparent",children:[e.jsx("span",{children:ee}),e.jsx("button",{className:"remove-godparent-btn",onClick:()=>G("godfather",me),children:e.jsx(pf,{})})]},me)),e.jsxs("div",{className:"client-baptismal-row",children:[e.jsxs("div",{className:"client-baptismal-field",children:[e.jsx("label",{children:"God Mother Name (Ninang)"}),e.jsx("input",{type:"text",id:"godmother-input",className:u.godMothers?"client-error-input":""})]}),e.jsx("button",{className:"client-add-button",onClick:()=>R("godmother"),children:"Add"})]}),t.godMothers.map((ee,me)=>e.jsxs("div",{className:"added-godparent",children:[e.jsx("span",{children:ee}),e.jsx("button",{className:"remove-godparent-btn",onClick:()=>G("godmother",me),children:e.jsx(pf,{})})]},me))]})]})]}),e.jsxs("div",{className:"client-requirements-container",children:[e.jsx("h3",{className:"client-section-header",children:"Documents Required(Bring the following documents)"}),e.jsxs("div",{className:"client-info-list",children:[e.jsx("div",{className:"client-info-item",children:e.jsx("p",{children:"Birth Certificate of the child(PSA or Local Civil Registrar Copy)"})}),e.jsx("div",{className:"client-info-item",children:e.jsx("p",{children:"Parents' Marriage Certificate(If married in the Catholic Church)"})}),e.jsx("div",{className:"client-info-item",children:e.jsx("p",{children:"Valid IDs of Parents and Godparents"})}),e.jsx("div",{className:"client-info-item",children:e.jsx("p",{children:"Certificate of Permission(If outside the Parish)"})})]}),e.jsx("h3",{className:"client-section-header",children:"Requirements for Parent"}),e.jsxs("div",{className:"client-info-list",children:[e.jsx("div",{className:"client-info-item",children:e.jsx("p",{children:"At least one parent must be Catholic"})}),e.jsx("div",{className:"client-info-item",children:e.jsx("p",{children:"Parents should be willing to raise the child in the Catholic faith"})}),e.jsx("div",{className:"client-info-item",children:e.jsx("p",{children:"Must attend Pre-Baptismal Seminar (Required in most parishes)"})})]}),e.jsx("h3",{className:"client-section-header",children:"Requirements for Godparents"}),e.jsxs("div",{className:"client-info-list",children:[e.jsx("div",{className:"client-info-item",children:e.jsx("p",{children:"Must be a practicing Catholic"})}),e.jsx("div",{className:"client-info-item",children:e.jsx("p",{children:"Must have received the Sacraments of Baptism, Confirmation, and Holy Eucharist"})}),e.jsx("div",{className:"client-info-item",children:e.jsx("p",{children:"Must be at least 16 years old"})}),e.jsx("div",{className:"client-info-item",children:e.jsx("p",{children:"If married, must be married in the Catholic Church"})}),e.jsx("div",{className:"client-info-item",children:e.jsx("p",{children:"Confirmation Certificate (Some parishes require this for proof of faith practice)"})}),e.jsx("div",{className:"client-info-item",children:e.jsx("p",{children:"Certificate of Permission (if outside the Parish)"})})]})]}),e.jsxs("div",{className:"client-button-container",children:[e.jsx("button",{className:"client-submit-btn",onClick:Ue,children:"Submit"}),e.jsx("button",{className:"client-cancel-btn",onClick:()=>a(-1),children:"Cancel"})]}),re&&e.jsx("div",{className:"client-modal-overlay",children:e.jsxs("div",{className:"client-modal",children:[e.jsx("h2",{children:"Submit Application"}),e.jsx("hr",{className:"custom-hr-b"}),e.jsx("p",{children:"Are you sure you want to submit your Baptism application?"}),e.jsxs("div",{className:"client-modal-buttons",children:[e.jsx("button",{className:"client-yes-btn",onClick:be,children:"Yes"}),e.jsx("button",{className:"client-modal-no-btn",onClick:()=>fe(!1),children:"No"})]})]})}),Ne&&e.jsx("div",{className:"client-modal-overlay",children:e.jsxs("div",{className:"client-modal",children:[e.jsx("h2",{children:"Success"}),e.jsx("hr",{className:"custom-hr-b"}),e.jsx("p",{children:"Your Baptism application has been submitted successfully!"}),e.jsx("div",{className:"client-modal-buttons",children:e.jsx("button",{className:"client-yes-btn",onClick:()=>ue(!1),children:"OK"})})]})}),_e&&e.jsx("div",{className:"client-modal-overlay",children:e.jsxs("div",{className:"client-modal",children:[e.jsx("h2",{children:"Form Validation Error"}),e.jsx("hr",{className:"custom-hr-b"}),e.jsx("p",{children:ye}),e.jsx("div",{className:"client-modal-buttons",children:e.jsx("button",{className:"client-modal-no-btn",onClick:()=>ce(!1),children:"OK"})})]})}),ne&&e.jsx("div",{className:"client-modal-overlay",children:e.jsxs("div",{className:"client-modal",children:[e.jsx("h2",{children:"Processing Application"}),e.jsx("hr",{className:"custom-hr-b"}),e.jsx("p",{children:"Please wait while we submit your baptism application..."}),e.jsx("div",{className:"client-loading-spinner",children:e.jsx("div",{className:"client-spinner"})})]})})]})},JO=()=>{const a=Jt();oa();const[t,s]=N.useState(!1),[i,r]=N.useState(!1),[c,A]=N.useState(!1),[d,h]=N.useState(""),[u,v]=N.useState(!1),[x,y]=N.useState([]),[p,F]=N.useState([]),[b,S]=N.useState([]),[f,O]=N.useState([]),[M,J]=N.useState(null),[K,H]=N.useState({}),[k,Y]=N.useState({barangay:[],municipality:[],province:[],placeOfBirth:[],groom_birth_barangay:[],groom_birth_municipality:[],groom_birth_province:[],bride_birth_barangay:[],bride_birth_municipality:[],bride_birth_province:[],groomBarangay:[],groomMunicipality:[],groomProvince:[],groomRegion:[],brideBarangay:[],brideMunicipality:[],brideProvince:[],brideRegion:[],firstWitnessBarangay:[],firstWitnessMunicipality:[],firstWitnessProvince:[],firstWitnessRegion:[],secondWitnessBarangay:[],secondWitnessMunicipality:[],secondWitnessProvince:[],secondWitnessRegion:[]}),[D,ge]=N.useState({groom_first_name:"",groom_middle_name:"",groom_last_name:"",groom_age:"",groom_dateOfBirth:"",groom_dateOfBaptism:"",groom_churchOfBaptism:"",groom_placeOfBirth:"",groom_birth_barangay:"",groom_birth_municipality:"",groom_birth_province:"",groom_street:"",groom_barangay:"",groom_municipality:"",groom_province:"",groom_region:"",bride_first_name:"",bride_middle_name:"",bride_last_name:"",bride_age:"",bride_dateOfBirth:"",bride_dateOfBaptism:"",bride_churchOfBaptism:"",bride_placeOfBirth:"",bride_birth_barangay:"",bride_birth_municipality:"",bride_birth_province:"",bride_street:"",bride_barangay:"",bride_municipality:"",bride_province:"",bride_region:"",first_witness_first_name:"",first_witness_middle_name:"",first_witness_last_name:"",first_witness_gender:"",first_witness_age:"",first_witness_dateOfBirth:"",first_witness_contact_number:"",first_witness_street:"",first_witness_barangay:"",first_witness_municipality:"",first_witness_province:"",first_witness_region:"",second_witness_first_name:"",second_witness_middle_name:"",second_witness_last_name:"",second_witness_gender:"",second_witness_age:"",second_witness_dateOfBirth:"",second_witness_contact_number:"",second_witness_street:"",second_witness_barangay:"",second_witness_municipality:"",second_witness_province:"",second_witness_region:"",date:"",time:""});N.useEffect(()=>{_(),X()},[]);const _=async()=>{try{const Ue=await aa.get("http://parishofdivinemercy.com/backend/get_location.php");Ue.data.success?y(Ue.data.locations):y(Ue.data)}catch(Ue){console.error("Error fetching locations:",Ue)}},X=async()=>{try{const[Ue,be]=await Promise.all([fetch("http://parishofdivinemercy.com/backend/schedule.php"),fetch("http://parishofdivinemercy.com/backend/get_marriage_applications.php")]),R=await Ue.json(),G=await be.json();if(R.success){const oe=R.schedules.filter(Pe=>Pe.sacramentType.toLowerCase()==="marriage"),ee=new Set;G.success&&G.applications.forEach(Pe=>{ee.add(`${Pe.date}-${Pe.time}`)});const me=oe.filter(Pe=>{const We=`${Pe.date}-${Pe.time}`;return!ee.has(We)});F(me);const $=new Set,ve=[];me.forEach(Pe=>{$.has(Pe.date)||($.add(Pe.date),ve.push(Pe.date))}),S(ve)}}catch(Ue){console.error("Error fetching schedules:",Ue)}};N.useEffect(()=>{if(D.date){const Ue=p.filter(R=>R.date===D.date).map(R=>R.time),be=[...new Set(Ue)];O(be),be.includes(D.time)||ge(R=>({...R,time:""}))}else O([])},[D.date,p]);const re=(Ue,be=null,R=null)=>{if(be&&be.trim()!==""){const oe=x.filter(me=>me.municipality===be),ee=[...new Set(oe.map(me=>me.barangay))].sort();if(Ue&&Ue.trim()){const me=Ue.toLowerCase();return ee.filter($=>$.toLowerCase().includes(me))}return ee}if(R&&R.trim()!==""){const oe=x.filter(me=>me.province===R),ee=[...new Set(oe.map(me=>me.barangay))].sort();if(Ue&&Ue.trim()){const me=Ue.toLowerCase();return ee.filter($=>$.toLowerCase().includes(me))}return ee}if(!Ue||!Ue.trim())return[...new Set(x.map(oe=>oe.barangay))].sort().slice(0,10);const G=Ue.toLowerCase();return[...new Set(x.map(oe=>oe.barangay))].filter(oe=>oe.toLowerCase().includes(G)).sort().slice(0,10)},fe=(Ue,be=null,R=null)=>{if(R&&R.trim()!==""){const oe=x.filter(me=>me.barangay===R),ee=[...new Set(oe.map(me=>me.municipality))].sort();if(Ue&&Ue.trim()){const me=Ue.toLowerCase();return ee.filter($=>$.toLowerCase().includes(me))}return ee}if(be&&be.trim()!==""){const oe=x.filter(me=>me.province===be),ee=[...new Set(oe.map(me=>me.municipality))].sort();if(Ue&&Ue.trim()){const me=Ue.toLowerCase();return ee.filter($=>$.toLowerCase().includes(me))}return ee}if(!Ue||!Ue.trim())return[...new Set(x.map(oe=>oe.municipality))].sort().slice(0,10);const G=Ue.toLowerCase();return[...new Set(x.map(oe=>oe.municipality))].filter(oe=>oe.toLowerCase().includes(G)).sort().slice(0,10)},Ne=(Ue,be=null,R=null)=>{if(be&&be.trim()!==""){const oe=x.filter(me=>me.municipality===be),ee=[...new Set(oe.map(me=>me.province))].sort();if(Ue&&Ue.trim()){const me=Ue.toLowerCase();return ee.filter($=>$.toLowerCase().includes(me))}return ee}if(R&&R.trim()!==""){const oe=x.filter(me=>me.barangay===R),ee=[...new Set(oe.map(me=>me.province))].sort();if(Ue&&Ue.trim()){const me=Ue.toLowerCase();return ee.filter($=>$.toLowerCase().includes(me))}return ee}if(!Ue||!Ue.trim())return[...new Set(x.map(oe=>oe.province))].sort().slice(0,10);const G=Ue.toLowerCase();return[...new Set(x.map(oe=>oe.province))].filter(oe=>oe.toLowerCase().includes(G)).sort().slice(0,10)},ue=(Ue,be)=>{ge(R=>({...R,[Ue]:be}))},_e=(Ue,be,R=null)=>{const G=be?String(be).trim():"";if(ue(Ue,G),console.log(`Setting ${Ue} to:`,G),Ue.includes("dateOfBirth")&&R)try{const oe=new Date,ee=new Date(G);if(isNaN(ee.getTime()))console.error("Invalid date for age calculation:",G),ue(R,"");else{let me=oe.getFullYear()-ee.getFullYear();const $=oe.getMonth()-ee.getMonth();($<0||$===0&&oe.getDate()<ee.getDate())&&me--,ue(R,me.toString()),console.log(`Calculated age for ${Ue}:`,me)}}catch(oe){console.error("Error calculating age:",oe),ue(R,"")}},ce=Ue=>{const be=Ue.target.value;ge(R=>({...R,groom_birth_barangay:be})),M==="groom_birth_barangay"&&Y(R=>({...R,groom_birth_barangay:re(be,D.groom_birth_municipality,D.groom_birth_province)}))},ye=Ue=>{const be=Ue.target.value;ge(R=>({...R,groom_birth_municipality:be})),M==="groom_birth_municipality"&&Y(R=>({...R,groom_birth_municipality:fe(be,D.groom_birth_province,D.groom_birth_barangay)}))},Q=Ue=>{const be=Ue.target.value;ge(R=>({...R,groom_birth_province:be})),M==="groom_birth_province"&&Y(R=>({...R,groom_birth_province:Ne(be,D.groom_birth_municipality,D.groom_birth_barangay)}))},ne=Ue=>{const be=Ue.target.value;ge(R=>({...R,bride_birth_barangay:be})),M==="bride_birth_barangay"&&Y(R=>({...R,bride_birth_barangay:re(be,D.bride_birth_municipality,D.bride_birth_province)}))},U=Ue=>{const be=Ue.target.value;ge(R=>({...R,bride_birth_municipality:be})),M==="bride_birth_municipality"&&Y(R=>({...R,bride_birth_municipality:fe(be,D.bride_birth_province,D.bride_birth_barangay)}))},V=Ue=>{const be=Ue.target.value;ge(R=>({...R,bride_birth_province:be})),M==="bride_birth_province"&&Y(R=>({...R,bride_birth_province:Ne(be,D.bride_birth_municipality,D.bride_birth_barangay)}))},T=Ue=>{ge(R=>({...R,groom_birth_barangay:Ue})),J(null);const be=It(Ue,"barangay","groom_birth");Object.keys(be).length>0&&ge(R=>({...R,...be}))},ie=Ue=>{ge(R=>({...R,groom_birth_municipality:Ue})),J(null);const be=It(Ue,"municipality","groom_birth");Object.keys(be).length>0&&ge(R=>({...R,...be}))},ae=Ue=>{ge(be=>({...be,groom_birth_province:Ue})),J(null)},P=Ue=>{ge(R=>({...R,bride_birth_barangay:Ue})),J(null);const be=It(Ue,"barangay","bride_birth");Object.keys(be).length>0&&ge(R=>({...R,...be}))},z=Ue=>{ge(R=>({...R,bride_birth_municipality:Ue})),J(null);const be=It(Ue,"municipality","bride_birth");Object.keys(be).length>0&&ge(R=>({...R,...be}))},B=Ue=>{ge(be=>({...be,bride_birth_province:Ue})),J(null)},q=Ue=>{const be=Ue.target.value;ue("groom_barangay",be),M==="groomBarangay"&&Y(R=>({...R,groomBarangay:re(be,D.groom_municipality,D.groom_province)}))},te=Ue=>{const be=Ue.target.value;ue("groom_municipality",be),M==="groomMunicipality"&&Y(R=>({...R,groomMunicipality:fe(be,D.groom_province,D.groom_barangay)}))},he=Ue=>{const be=Ue.target.value;ue("groom_province",be),M==="groomProvince"&&Y(R=>({...R,groomProvince:Ne(be,D.groom_municipality,D.groom_barangay)}))},W=Ue=>{ue("groom_barangay",Ue),J(null);const be=It(Ue,"barangay","groom");Object.keys(be).length>0&&Object.keys(be).forEach(R=>{ue(R,be[R])})},C=Ue=>{ue("groom_municipality",Ue),J(null);const be=It(Ue,"municipality","groom");Object.keys(be).length>0&&Object.keys(be).forEach(R=>{ue(R,be[R])})},Z=Ue=>{ue("groom_province",Ue),J(null)},se=Ue=>{const be=Ue.target.value;ue("bride_barangay",be),M==="brideBarangay"&&Y(R=>({...R,brideBarangay:re(be,D.bride_municipality,D.bride_province)}))},Se=Ue=>{const be=Ue.target.value;ue("bride_municipality",be),M==="brideMunicipality"&&Y(R=>({...R,brideMunicipality:fe(be,D.bride_province,D.bride_barangay)}))},He=Ue=>{const be=Ue.target.value;ue("bride_province",be),M==="brideProvince"&&Y(R=>({...R,brideProvince:Ne(be,D.bride_municipality,D.bride_barangay)}))},Qe=Ue=>{ue("bride_barangay",Ue),J(null);const be=It(Ue,"barangay","bride");Object.keys(be).length>0&&Object.keys(be).forEach(R=>{ue(R,be[R])})},qe=Ue=>{ue("bride_municipality",Ue),J(null);const be=It(Ue,"municipality","bride");Object.keys(be).length>0&&Object.keys(be).forEach(R=>{ue(R,be[R])})},Ye=Ue=>{ue("bride_province",Ue),J(null)},st=Ue=>{const be=Ue.target.value;ue("first_witness_barangay",be),M==="firstWitnessBarangay"&&Y(R=>({...R,firstWitnessBarangay:re(be,D.first_witness_municipality,D.first_witness_province)}))},kt=Ue=>{const be=Ue.target.value;ue("first_witness_municipality",be),M==="firstWitnessMunicipality"&&Y(R=>({...R,firstWitnessMunicipality:fe(be,D.first_witness_province,D.first_witness_barangay)}))},Mt=Ue=>{const be=Ue.target.value;ue("first_witness_province",be),M==="firstWitnessProvince"&&Y(R=>({...R,firstWitnessProvince:Ne(be,D.first_witness_municipality,D.first_witness_barangay)}))},ke=Ue=>{ue("first_witness_barangay",Ue),J(null);const be=It(Ue,"barangay","first_witness");Object.keys(be).length>0&&Object.keys(be).forEach(R=>{ue(R,be[R])})},$e=Ue=>{ue("first_witness_municipality",Ue),J(null);const be=It(Ue,"municipality","first_witness");Object.keys(be).length>0&&Object.keys(be).forEach(R=>{ue(R,be[R])})},Ae=Ue=>{ue("first_witness_province",Ue),J(null)},Le=Ue=>{const be=Ue.target.value;ue("second_witness_barangay",be),M==="secondWitnessBarangay"&&Y(R=>({...R,secondWitnessBarangay:re(be,D.second_witness_municipality,D.second_witness_province)}))},de=Ue=>{const be=Ue.target.value;ue("second_witness_municipality",be),M==="secondWitnessMunicipality"&&Y(R=>({...R,secondWitnessMunicipality:fe(be,D.second_witness_province,D.second_witness_barangay)}))},Me=Ue=>{const be=Ue.target.value;ue("second_witness_province",be),M==="secondWitnessProvince"&&Y(R=>({...R,secondWitnessProvince:Ne(be,D.second_witness_municipality,D.second_witness_barangay)}))},Ie=Ue=>{ue("second_witness_barangay",Ue),J(null);const be=It(Ue,"barangay","second_witness");Object.keys(be).length>0&&Object.keys(be).forEach(R=>{ue(R,be[R])})},Ze=Ue=>{ue("second_witness_municipality",Ue),J(null);const be=It(Ue,"municipality","second_witness");Object.keys(be).length>0&&Object.keys(be).forEach(R=>{ue(R,be[R])})},nt=Ue=>{ue("second_witness_province",Ue),J(null)},ot=Ue=>{const be=Ue.toLowerCase();return["NCR - National Capital Region","CAR - Cordillera Administrative Region","Region I - Ilocos Region","Region II - Cagayan Valley","Region III - Central Luzon","Region IV-A - CALABARZON","Region IV-B - MIMAROPA","Region V - Bicol Region","Region VI - Western Visayas","Region VII - Central Visayas","Region VIII - Eastern Visayas","Region IX - Zamboanga Peninsula","Region X - Northern Mindanao","Region XI - Davao Region","Region XII - SOCCSKSARGEN","Region XIII - Caraga","BARMM - Bangsamoro Autonomous Region in Muslim Mindanao"].filter(G=>G.toLowerCase().includes(be))},[jt,ft]=N.useState([]),It=(Ue,be,R)=>{let G={};if(be==="barangay"){const oe=x.filter($=>$.barangay===Ue),ee=[...new Set(oe.map($=>$.municipality))],me=[...new Set(oe.map($=>$.province))];console.log(`Barangay "${Ue}" found in:`,{municipalities:ee,provinces:me}),ee.length===1&&(G[`${R}_municipality`]=ee[0],console.log(`Auto-filling municipality: ${ee[0]}`)),me.length===1&&(G[`${R}_province`]=me[0],console.log(`Auto-filling province: ${me[0]}`))}else if(be==="municipality"){const oe=x.filter(me=>me.municipality===Ue),ee=[...new Set(oe.map(me=>me.province))];console.log(`Municipality "${Ue}" found in provinces:`,ee),ee.length===1&&(G[`${R}_province`]=ee[0],console.log(`Auto-filling province: ${ee[0]}`))}return G},Ke=Ue=>{J(Ue),setTimeout(()=>{switch(Ue){case"groom_birth_barangay":const be=re(D.groom_birth_barangay,D.groom_birth_municipality,D.groom_birth_province);Y(ra=>({...ra,groom_birth_barangay:be.length>0?be:re("","","")}));break;case"groom_birth_municipality":const R=fe(D.groom_birth_municipality,D.groom_birth_province,D.groom_birth_barangay);Y(ra=>({...ra,groom_birth_municipality:R.length>0?R:fe("","","")}));break;case"groom_birth_province":const G=Ne(D.groom_birth_province,D.groom_birth_municipality,D.groom_birth_barangay);Y(ra=>({...ra,groom_birth_province:G.length>0?G:Ne("","","")}));break;case"bride_birth_barangay":const oe=re(D.bride_birth_barangay,D.bride_birth_municipality,D.bride_birth_province);Y(ra=>({...ra,bride_birth_barangay:oe.length>0?oe:re("","","")}));break;case"bride_birth_municipality":const ee=fe(D.bride_birth_municipality,D.bride_birth_province,D.bride_birth_barangay);Y(ra=>({...ra,bride_birth_municipality:ee.length>0?ee:fe("","","")}));break;case"bride_birth_province":const me=Ne(D.bride_birth_province,D.bride_birth_municipality,D.bride_birth_barangay);Y(ra=>({...ra,bride_birth_province:me.length>0?me:Ne("","","")}));break;case"groomBarangay":const $=re(D.groom_barangay,D.groom_municipality,D.groom_province);Y(ra=>({...ra,groomBarangay:$.length>0?$:re("","","")}));break;case"groomMunicipality":const ve=fe(D.groom_municipality,D.groom_province,D.groom_barangay);Y(ra=>({...ra,groomMunicipality:ve.length>0?ve:fe("","","")}));break;case"groomProvince":const Pe=Ne(D.groom_province,D.groom_municipality,D.groom_barangay);Y(ra=>({...ra,groomProvince:Pe.length>0?Pe:Ne("","","")}));break;case"groomRegion":const We=ot(D.groom_region);Y(ra=>({...ra,groomRegion:We.length>0?We:ot("")}));break;case"brideBarangay":const ut=re(D.bride_barangay,D.bride_municipality,D.bride_province);Y(ra=>({...ra,brideBarangay:ut.length>0?ut:re("","","")}));break;case"brideMunicipality":const Ct=fe(D.bride_municipality,D.bride_province,D.bride_barangay);Y(ra=>({...ra,brideMunicipality:Ct.length>0?Ct:fe("","","")}));break;case"brideProvince":const Kt=Ne(D.bride_province,D.bride_municipality,D.bride_barangay);Y(ra=>({...ra,brideProvince:Kt.length>0?Kt:Ne("","","")}));break;case"brideRegion":const ya=ot(D.bride_region);Y(ra=>({...ra,brideRegion:ya.length>0?ya:ot("")}));break;case"firstWitnessBarangay":const Ra=re(D.first_witness_barangay,D.first_witness_municipality,D.first_witness_province);Y(ra=>({...ra,firstWitnessBarangay:Ra.length>0?Ra:re("","","")}));break;case"firstWitnessMunicipality":const qa=fe(D.first_witness_municipality,D.first_witness_province,D.first_witness_barangay);Y(ra=>({...ra,firstWitnessMunicipality:qa.length>0?qa:fe("","","")}));break;case"firstWitnessProvince":const Qi=Ne(D.first_witness_province,D.first_witness_municipality,D.first_witness_barangay);Y(ra=>({...ra,firstWitnessProvince:Qi.length>0?Qi:Ne("","","")}));break;case"firstWitnessRegion":const ls=ot(D.first_witness_region);Y(ra=>({...ra,firstWitnessRegion:ls.length>0?ls:ot("")}));break;case"secondWitnessBarangay":const Ga=re(D.second_witness_barangay,D.second_witness_municipality,D.second_witness_province);Y(ra=>({...ra,secondWitnessBarangay:Ga.length>0?Ga:re("","","")}));break;case"secondWitnessMunicipality":const Ln=fe(D.second_witness_municipality,D.second_witness_province,D.second_witness_barangay);Y(ra=>({...ra,secondWitnessMunicipality:Ln.length>0?Ln:fe("","","")}));break;case"secondWitnessProvince":const ks=Ne(D.second_witness_province,D.second_witness_municipality,D.second_witness_barangay);Y(ra=>({...ra,secondWitnessProvince:ks.length>0?ks:Ne("","","")}));break;case"secondWitnessRegion":const Yi=ot(D.second_witness_region);Y(ra=>({...ra,secondWitnessRegion:Yi.length>0?Yi:ot("")}));break}},0)};N.useEffect(()=>{const Ue=be=>{const R=document.querySelectorAll(".location-dropdown-container");let G=!0;R.forEach(oe=>{oe.contains(be.target)&&(G=!1)}),G&&J(null)};return document.addEventListener("mousedown",Ue),()=>{document.removeEventListener("mousedown",Ue)}},[]);const it=Ue=>{Ue.preventDefault();const R=["date","time","groom_first_name","groom_last_name","bride_first_name","bride_last_name"].filter(oe=>!D[oe]),G={};if(R.forEach(oe=>{G[oe]=!0}),H(G),R.length>0){h("Please fill in the basic required fields (names, date, and time) before submitting."),A(!0);const oe=document.querySelector(".error-field");oe&&oe.scrollIntoView({behavior:"smooth",block:"center"});return}H({}),s(!0)},De=async()=>{s(!1),v(!0);try{const Ue=[D.groom_birth_barangay,D.groom_birth_municipality,D.groom_birth_province].filter(Boolean).join(", "),be=[D.bride_birth_barangay,D.bride_birth_municipality,D.bride_birth_province].filter(Boolean).join(", "),R={date:D.date,time:D.time,groom_first_name:D.groom_first_name||"",groom_middle_name:D.groom_middle_name||"",groom_last_name:D.groom_last_name||"",groom_age:D.groom_age||"",groom_dateOfBirth:D.groom_dateOfBirth||"",groom_dateOfBaptism:D.groom_dateOfBaptism||"",groom_churchOfBaptism:D.groom_churchOfBaptism||"",groom_placeOfBirth:Ue||"",bride_first_name:D.bride_first_name||"",bride_middle_name:D.bride_middle_name||"",bride_last_name:D.bride_last_name||"",bride_age:D.bride_age||"",bride_dateOfBirth:D.bride_dateOfBirth||"",bride_dateOfBaptism:D.bride_dateOfBaptism||"",bride_churchOfBaptism:D.bride_churchOfBaptism||"",bride_placeOfBirth:be||""},G={street:D.groom_street||"",barangay:D.groom_barangay||"",municipality:D.groom_municipality||"",province:D.groom_province||"",region:D.groom_region||""},oe={street:D.bride_street||"",barangay:D.bride_barangay||"",municipality:D.bride_municipality||"",province:D.bride_province||"",region:D.bride_region||""},ee={first_name:D.first_witness_first_name||"",middle_name:D.first_witness_middle_name||"",last_name:D.first_witness_last_name||"",gender:D.first_witness_gender||"",age:D.first_witness_age||"",dateOfBirth:D.first_witness_dateOfBirth||"",contact_number:D.first_witness_contact_number||"",street:D.first_witness_street||"",barangay:D.first_witness_barangay||"",municipality:D.first_witness_municipality||"",province:D.first_witness_province||"",region:D.first_witness_region||""},me={first_name:D.second_witness_first_name||"",middle_name:D.second_witness_middle_name||"",last_name:D.second_witness_last_name||"",gender:D.second_witness_gender||"",age:D.second_witness_age||"",dateOfBirth:D.second_witness_dateOfBirth||"",contact_number:D.second_witness_contact_number||"",street:D.second_witness_street||"",barangay:D.second_witness_barangay||"",municipality:D.second_witness_municipality||"",province:D.second_witness_province||"",region:D.second_witness_region||""},$=new FormData;$.append("applicationData",JSON.stringify(R)),$.append("groomAddressData",JSON.stringify(G)),$.append("brideAddressData",JSON.stringify(oe)),$.append("firstWitnessData",JSON.stringify(ee)),$.append("secondWitnessData",JSON.stringify(me)),console.log("Submitting marriage application...");const ve=await aa.post("http://parishofdivinemercy.com/backend/marriage_application.php",$,{headers:{"Content-Type":"multipart/form-data"}});if(console.log("Application response:",ve.data),ve.data.success)r(!0);else throw new Error(ve.data.message||"Failed to submit application")}catch(Ue){console.error("Error submitting application:",Ue),h(Ue.message||"An error occurred while submitting the application"),A(!0)}finally{v(!1)}},Be=()=>{s(!1)},pe=()=>{r(!1),a("/secretary-appointment")},we=()=>{A(!1)},ze=Ue=>{const be=Ue.target.value;ue("groom_region",be),M==="groomRegion"&&Y(R=>({...R,groomRegion:ot(be)}))},Xe=Ue=>{const be=Ue.target.value;ue("bride_region",be),M==="brideRegion"&&Y(R=>({...R,brideRegion:ot(be)}))},wt=Ue=>{const be=Ue.target.value;ue("first_witness_region",be),M==="firstWitnessRegion"&&Y(R=>({...R,firstWitnessRegion:ot(be)}))},yt=Ue=>{const be=Ue.target.value;ue("second_witness_region",be),M==="secondWitnessRegion"&&Y(R=>({...R,secondWitnessRegion:ot(be)}))},Qt=Ue=>{ue("groom_region",Ue),J(null)},ta=Ue=>{ue("bride_region",Ue),J(null)},Ft=Ue=>{ue("first_witness_region",Ue),J(null)},Aa=Ue=>{ue("second_witness_region",Ue),J(null)};return e.jsxs("div",{className:"client-marriage-container",children:[e.jsx("div",{className:"client-marriage-header",children:e.jsx("div",{className:"client-marriage-left-section",children:e.jsxs("button",{className:"client-marriage-back-button",onClick:()=>window.history.back(),children:[e.jsx(Oa,{className:"client-marriage-back-icon"})," Back"]})})}),e.jsx("h1",{className:"client-marriage-title",children:"Marriage Application Form"}),e.jsxs("div",{className:"client-marriage-data",children:[e.jsxs("div",{className:"client-marriage-row-date",children:[e.jsxs("div",{className:`client-marriage-field-date ${K.date?"error-field":""}`,children:[e.jsxs("label",{children:["Date of Appointment",e.jsx("span",{className:"required-marker",children:"*"})]}),e.jsxs("select",{name:"date",value:D.date,onChange:Ue=>ue("date",Ue.target.value),required:!0,children:[e.jsx("option",{value:"",children:"Select Date"}),b.map(Ue=>e.jsx("option",{value:Ue,children:new Date(Ue).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})},Ue))]}),K.date&&e.jsx("div",{className:"error-message",children:"Required"})]}),e.jsxs("div",{className:`client-marriage-field-time ${K.time?"error-field":""}`,children:[e.jsxs("label",{children:["Time of Appointment",e.jsx("span",{className:"required-marker",children:"*"})]}),e.jsxs("select",{name:"time",value:D.time,onChange:Ue=>ue("time",Ue.target.value),disabled:!D.date,required:!0,children:[e.jsx("option",{value:"",children:"Select Time"}),f.map(Ue=>e.jsx("option",{value:Ue,children:Ue},Ue))]}),K.time&&e.jsx("div",{className:"error-message",children:"Required"})]})]}),e.jsxs("div",{className:"client-marriage-bypart",children:[e.jsx("h3",{className:"client-marriage-sub-title",children:"Groom Information"}),e.jsxs("div",{className:"client-marriage-row",children:[e.jsxs("div",{className:`client-marriage-field ${K.groom_first_name?"error-field":""}`,children:[e.jsxs("label",{children:["First Name of the Groom",e.jsx("span",{className:"required-marker",children:"*"})]}),e.jsx("input",{type:"text",value:D.groom_first_name,onChange:Ue=>ue("groom_first_name",Ue.target.value)}),K.groom_first_name&&e.jsx("div",{className:"error-message",children:"Required"})]}),e.jsxs("div",{className:`client-marriage-field ${K.groom_middle_name?"error-field":""}`,children:[e.jsx("label",{children:"Middle Name of the Groom"}),e.jsx("input",{type:"text",value:D.groom_middle_name,onChange:Ue=>ue("groom_middle_name",Ue.target.value)}),K.groom_middle_name&&e.jsx("div",{className:"error-message",children:"Required"})]}),e.jsxs("div",{className:`client-marriage-field ${K.groom_last_name?"error-field":""}`,children:[e.jsxs("label",{children:["Last Name of the Groom",e.jsx("span",{className:"required-marker",children:"*"})]}),e.jsx("input",{type:"text",value:D.groom_last_name,onChange:Ue=>ue("groom_last_name",Ue.target.value)}),K.groom_last_name&&e.jsx("div",{className:"error-message",children:"Required"})]}),e.jsxs("div",{className:`client-marriage-field ${K.groom_dateOfBirth?"error-field":""}`,children:[e.jsxs("label",{children:["Date of Birth",e.jsx("span",{className:"required-marker",children:"*"})]}),e.jsx("input",{type:"date",className:"date-input",value:D.groom_dateOfBirth||"",onChange:Ue=>{ue("groom_dateOfBirth",Ue.target.value);const be=new Date,R=new Date(Ue.target.value);if(!isNaN(R.getTime())){let G=be.getFullYear()-R.getFullYear();const oe=be.getMonth()-R.getMonth();(oe<0||oe===0&&be.getDate()<R.getDate())&&G--,ue("groom_age",G.toString())}}}),K.groom_dateOfBirth&&e.jsx("div",{className:"error-message",children:"Required"})]})]}),e.jsxs("div",{className:"client-marriage-row",children:[e.jsxs("div",{className:"client-marriage-field-dob",children:[e.jsx("label",{children:"Age"}),e.jsx("input",{type:"text",value:D.groom_age,onChange:Ue=>ue("groom_age",Ue.target.value),readOnly:!0})]}),e.jsxs("div",{className:`client-marriage-field-dob ${K.groom_dateOfBaptism?"error-field":""}`,children:[e.jsxs("label",{children:["Date of Baptism",e.jsx("span",{className:"required-marker",children:"*"})]}),e.jsx("input",{type:"date",className:"date-input",value:D.groom_dateOfBaptism||"",onChange:Ue=>ue("groom_dateOfBaptism",Ue.target.value)}),K.groom_dateOfBaptism&&e.jsx("div",{className:"error-message",children:"Required"})]}),e.jsxs("div",{className:`client-marriage-field ${K.groom_churchOfBaptism?"error-field":""}`,children:[e.jsxs("label",{children:["Church of Baptism",e.jsx("span",{className:"required-marker",children:"*"})]}),e.jsx("input",{type:"text",value:D.groom_churchOfBaptism,onChange:Ue=>ue("groom_churchOfBaptism",Ue.target.value)}),K.groom_churchOfBaptism&&e.jsx("div",{className:"error-message",children:"Required"})]})]}),e.jsx("label",{className:"mini-title",children:"Place of Birth"}),e.jsxs("div",{className:"client-marriage-row",children:[e.jsxs("div",{className:`client-marriage-field location-dropdown-container ${K.groom_birth_barangay?"error-field":""}`,children:[e.jsxs("label",{children:["Birth Barangay",e.jsx("span",{className:"required-marker",children:"*"})]}),e.jsx("input",{type:"text",placeholder:"Type to search",name:"groom_birth_barangay",value:D.groom_birth_barangay||"",onChange:ce,onFocus:()=>Ke("groom_birth_barangay"),autoComplete:"off"}),K.groom_birth_barangay&&e.jsx("div",{className:"error-message",children:"Required"}),M==="groom_birth_barangay"&&k.groom_birth_barangay&&k.groom_birth_barangay.length>0&&e.jsx("div",{className:"location-dropdown",children:k.groom_birth_barangay.map((Ue,be)=>e.jsx("div",{onClick:()=>T(Ue),className:"location-dropdown-item",children:Ue},be))})]}),e.jsxs("div",{className:`client-marriage-field location-dropdown-container ${K.groom_birth_municipality?"error-field":""}`,children:[e.jsxs("label",{children:["Birth Municipality",e.jsx("span",{className:"required-marker",children:"*"})]}),e.jsx("input",{type:"text",placeholder:"Type to search",name:"groom_birth_municipality",value:D.groom_birth_municipality||"",onChange:ye,onFocus:()=>Ke("groom_birth_municipality"),autoComplete:"off"}),K.groom_birth_municipality&&e.jsx("div",{className:"error-message",children:"Required"}),M==="groom_birth_municipality"&&k.groom_birth_municipality&&k.groom_birth_municipality.length>0&&e.jsx("div",{className:"location-dropdown",children:k.groom_birth_municipality.map((Ue,be)=>e.jsx("div",{onClick:()=>ie(Ue),className:"location-dropdown-item",children:Ue},be))})]}),e.jsxs("div",{className:`client-marriage-field location-dropdown-container ${K.groom_birth_province?"error-field":""}`,children:[e.jsxs("label",{children:["Birth Province",e.jsx("span",{className:"required-marker",children:"*"})]}),e.jsx("input",{type:"text",placeholder:"Type to search",name:"groom_birth_province",value:D.groom_birth_province||"",onChange:Q,onFocus:()=>Ke("groom_birth_province"),autoComplete:"off"}),K.groom_birth_province&&e.jsx("div",{className:"error-message",children:"Required"}),M==="groom_birth_province"&&k.groom_birth_province&&k.groom_birth_province.length>0&&e.jsx("div",{className:"location-dropdown",children:k.groom_birth_province.map((Ue,be)=>e.jsx("div",{onClick:()=>ae(Ue),className:"location-dropdown-item",children:Ue},be))})]})]}),e.jsx("label",{className:"mini-title",children:"Home Address"}),e.jsxs("div",{className:"client-marriage-row",children:[e.jsxs("div",{className:`client-marriage-field ${K.groom_street?"error-field":""}`,children:[e.jsxs("label",{children:["Street",e.jsx("span",{className:"required-marker",children:"*"})]}),e.jsx("input",{type:"text",value:D.groom_street,onChange:Ue=>ue("groom_street",Ue.target.value)}),K.groom_street&&e.jsx("div",{className:"error-message",children:"Required"})]}),e.jsxs("div",{className:`client-marriage-field location-dropdown-container ${K.groom_barangay?"error-field":""}`,children:[e.jsxs("label",{children:["Barangay",e.jsx("span",{className:"required-marker",children:"*"})]}),e.jsx("input",{type:"text",placeholder:"Type to search",value:D.groom_barangay,onChange:q,onFocus:()=>Ke("groomBarangay")}),K.groom_barangay&&e.jsx("div",{className:"error-message",children:"Required"}),M==="groomBarangay"&&k.groomBarangay&&k.groomBarangay.length>0&&e.jsx("div",{className:"location-dropdown",children:k.groomBarangay.map((Ue,be)=>e.jsx("div",{onClick:()=>W(Ue),className:"location-dropdown-item",children:Ue},be))})]}),e.jsxs("div",{className:`client-marriage-field location-dropdown-container ${K.groom_municipality?"error-field":""}`,children:[e.jsxs("label",{children:["Municipality",e.jsx("span",{className:"required-marker",children:"*"})]}),e.jsx("input",{type:"text",placeholder:"Type to search",value:D.groom_municipality,onChange:te,onFocus:()=>Ke("groomMunicipality")}),K.groom_municipality&&e.jsx("div",{className:"error-message",children:"Required"}),M==="groomMunicipality"&&k.groomMunicipality&&k.groomMunicipality.length>0&&e.jsx("div",{className:"location-dropdown",children:k.groomMunicipality.map((Ue,be)=>e.jsx("div",{onClick:()=>C(Ue),className:"location-dropdown-item",children:Ue},be))})]}),e.jsxs("div",{className:`client-marriage-field location-dropdown-container ${K.groom_province?"error-field":""}`,children:[e.jsxs("label",{children:["Province",e.jsx("span",{className:"required-marker",children:"*"})]}),e.jsx("input",{type:"text",placeholder:"Type to search",value:D.groom_province,onChange:he,onFocus:()=>Ke("groomProvince")}),K.groom_province&&e.jsx("div",{className:"error-message",children:"Required"}),M==="groomProvince"&&k.groomProvince&&k.groomProvince.length>0&&e.jsx("div",{className:"location-dropdown",children:k.groomProvince.map((Ue,be)=>e.jsx("div",{onClick:()=>Z(Ue),className:"location-dropdown-item",children:Ue},be))})]}),e.jsxs("div",{className:`client-marriage-field location-dropdown-container ${K.groom_region?"error-field":""}`,children:[e.jsxs("label",{children:["Region",e.jsx("span",{className:"required-marker",children:"*"})]}),e.jsx("input",{type:"text",value:D.groom_region,onChange:ze,onFocus:()=>Ke("groomRegion"),placeholder:"Type to search"}),K.groom_region&&e.jsx("div",{className:"error-message",children:"Required"}),M==="groomRegion"&&k.groomRegion&&k.groomRegion.length>0&&e.jsx("div",{className:"location-dropdown",children:k.groomRegion.map((Ue,be)=>e.jsx("div",{onClick:()=>Qt(Ue),className:"location-dropdown-item",children:Ue},be))})]})]}),e.jsx("h3",{className:"client-marriage-sub-title",children:"Bride Information"}),e.jsxs("div",{className:"client-marriage-row",children:[e.jsxs("div",{className:`client-marriage-field ${K.bride_first_name?"error-field":""}`,children:[e.jsxs("label",{children:["First Name of the Bride",e.jsx("span",{className:"required-marker",children:"*"})]}),e.jsx("input",{type:"text",value:D.bride_first_name,onChange:Ue=>ue("bride_first_name",Ue.target.value)}),K.bride_first_name&&e.jsx("div",{className:"error-message",children:"Required"})]}),e.jsxs("div",{className:`client-marriage-field ${K.bride_middle_name?"error-field":""}`,children:[e.jsx("label",{children:"Middle Name of the Bride"}),e.jsx("input",{type:"text",value:D.bride_middle_name,onChange:Ue=>ue("bride_middle_name",Ue.target.value)}),K.bride_middle_name&&e.jsx("div",{className:"error-message",children:"Required"})]}),e.jsxs("div",{className:`client-marriage-field ${K.bride_last_name?"error-field":""}`,children:[e.jsxs("label",{children:["Last Name of the Bride",e.jsx("span",{className:"required-marker",children:"*"})]}),e.jsx("input",{type:"text",value:D.bride_last_name,onChange:Ue=>ue("bride_last_name",Ue.target.value)}),K.bride_last_name&&e.jsx("div",{className:"error-message",children:"Required"})]}),e.jsxs("div",{className:`client-marriage-field ${K.bride_dateOfBirth?"error-field":""}`,children:[e.jsxs("label",{children:["Date of Birth",e.jsx("span",{className:"required-marker",children:"*"})]}),e.jsx("input",{type:"date",className:"date-input",value:D.bride_dateOfBirth||"",onChange:Ue=>{ue("bride_dateOfBirth",Ue.target.value);const be=new Date,R=new Date(Ue.target.value);if(!isNaN(R.getTime())){let G=be.getFullYear()-R.getFullYear();const oe=be.getMonth()-R.getMonth();(oe<0||oe===0&&be.getDate()<R.getDate())&&G--,ue("bride_age",G.toString())}}}),K.bride_dateOfBirth&&e.jsx("div",{className:"error-message",children:"Required"})]})]}),e.jsxs("div",{className:"client-marriage-row",children:[e.jsxs("div",{className:"client-marriage-field-dob",children:[e.jsx("label",{children:"Age"}),e.jsx("input",{type:"text",value:D.bride_age,onChange:Ue=>ue("bride_age",Ue.target.value),readOnly:!0})]}),e.jsxs("div",{className:`client-marriage-field-dob ${K.bride_dateOfBaptism?"error-field":""}`,children:[e.jsxs("label",{children:["Date of Baptism",e.jsx("span",{className:"required-marker",children:"*"})]}),e.jsx("input",{type:"date",className:"date-input",value:D.bride_dateOfBaptism||"",onChange:Ue=>ue("bride_dateOfBaptism",Ue.target.value)}),K.bride_dateOfBaptism&&e.jsx("div",{className:"error-message",children:"Required"})]}),e.jsxs("div",{className:`client-marriage-field ${K.bride_churchOfBaptism?"error-field":""}`,children:[e.jsxs("label",{children:["Church of Baptism",e.jsx("span",{className:"required-marker",children:"*"})]}),e.jsx("input",{type:"text",value:D.bride_churchOfBaptism,onChange:Ue=>ue("bride_churchOfBaptism",Ue.target.value)}),K.bride_churchOfBaptism&&e.jsx("div",{className:"error-message",children:"Required"})]})]}),e.jsx("label",{className:"mini-title",children:"Place of Birth"}),e.jsxs("div",{className:"client-marriage-row",children:[e.jsxs("div",{className:`client-marriage-field location-dropdown-container ${K.bride_birth_barangay?"error-field":""}`,children:[e.jsxs("label",{children:["Birth Barangay",e.jsx("span",{className:"required-marker",children:"*"})]}),e.jsx("input",{type:"text",placeholder:"Type to search",name:"bride_birth_barangay",value:D.bride_birth_barangay||"",onChange:ne,onFocus:()=>Ke("bride_birth_barangay"),autoComplete:"off"}),K.bride_birth_barangay&&e.jsx("div",{className:"error-message",children:"Required"}),M==="bride_birth_barangay"&&k.bride_birth_barangay&&k.bride_birth_barangay.length>0&&e.jsx("div",{className:"location-dropdown",children:k.bride_birth_barangay.map((Ue,be)=>e.jsx("div",{onClick:()=>P(Ue),className:"location-dropdown-item",children:Ue},be))})]}),e.jsxs("div",{className:`client-marriage-field location-dropdown-container ${K.bride_birth_municipality?"error-field":""}`,children:[e.jsxs("label",{children:["Birth Municipality",e.jsx("span",{className:"required-marker",children:"*"})]}),e.jsx("input",{type:"text",placeholder:"Type to search",name:"bride_birth_municipality",value:D.bride_birth_municipality||"",onChange:U,onFocus:()=>Ke("bride_birth_municipality"),autoComplete:"off"}),K.bride_birth_municipality&&e.jsx("div",{className:"error-message",children:"Required"}),M==="bride_birth_municipality"&&k.bride_birth_municipality&&k.bride_birth_municipality.length>0&&e.jsx("div",{className:"location-dropdown",children:k.bride_birth_municipality.map((Ue,be)=>e.jsx("div",{onClick:()=>z(Ue),className:"location-dropdown-item",children:Ue},be))})]}),e.jsxs("div",{className:`client-marriage-field location-dropdown-container ${K.bride_birth_province?"error-field":""}`,children:[e.jsxs("label",{children:["Birth Province",e.jsx("span",{className:"required-marker",children:"*"})]}),e.jsx("input",{type:"text",placeholder:"Type to search",name:"bride_birth_province",value:D.bride_birth_province||"",onChange:V,onFocus:()=>Ke("bride_birth_province"),autoComplete:"off"}),K.bride_birth_province&&e.jsx("div",{className:"error-message",children:"Required"}),M==="bride_birth_province"&&k.bride_birth_province&&k.bride_birth_province.length>0&&e.jsx("div",{className:"location-dropdown",children:k.bride_birth_province.map((Ue,be)=>e.jsx("div",{onClick:()=>B(Ue),className:"location-dropdown-item",children:Ue},be))})]})]}),e.jsx("label",{className:"mini-title",children:"Home Address"}),e.jsxs("div",{className:"client-marriage-row",children:[e.jsxs("div",{className:"client-marriage-field",children:[e.jsxs("label",{children:["Street",e.jsx("span",{className:"required-marker",children:"*"})]}),e.jsx("input",{type:"text",value:D.bride_street,onChange:Ue=>ue("bride_street",Ue.target.value)}),K.bride_street&&e.jsx("div",{className:"error-message",children:"Required"})]}),e.jsxs("div",{className:`client-marriage-field location-dropdown-container ${K.bride_barangay?"error-field":""}`,children:[e.jsxs("label",{children:["Barangay",e.jsx("span",{className:"required-marker",children:"*"})]}),e.jsx("input",{type:"text",placeholder:"Type to search",value:D.bride_barangay,onChange:se,onFocus:()=>Ke("brideBarangay")}),K.bride_barangay&&e.jsx("div",{className:"error-message",children:"Required"}),M==="brideBarangay"&&k.brideBarangay&&k.brideBarangay.length>0&&e.jsx("div",{className:"location-dropdown",children:k.brideBarangay.map((Ue,be)=>e.jsx("div",{onClick:()=>Qe(Ue),className:"location-dropdown-item",children:Ue},be))})]}),e.jsxs("div",{className:`client-marriage-field location-dropdown-container ${K.bride_municipality?"error-field":""}`,children:[e.jsxs("label",{children:["Municipality",e.jsx("span",{className:"required-marker",children:"*"})]}),e.jsx("input",{type:"text",placeholder:"Type to search",value:D.bride_municipality,onChange:Se,onFocus:()=>Ke("brideMunicipality")}),K.bride_municipality&&e.jsx("div",{className:"error-message",children:"Required"}),M==="brideMunicipality"&&k.brideMunicipality&&k.brideMunicipality.length>0&&e.jsx("div",{className:"location-dropdown",children:k.brideMunicipality.map((Ue,be)=>e.jsx("div",{onClick:()=>qe(Ue),className:"location-dropdown-item",children:Ue},be))})]}),e.jsxs("div",{className:`client-marriage-field location-dropdown-container ${K.bride_province?"error-field":""}`,children:[e.jsxs("label",{children:["Province",e.jsx("span",{className:"required-marker",children:"*"})]}),e.jsx("input",{type:"text",placeholder:"Type to search",value:D.bride_province,onChange:He,onFocus:()=>Ke("brideProvince")}),K.bride_province&&e.jsx("div",{className:"error-message",children:"Required"}),M==="brideProvince"&&k.brideProvince&&k.brideProvince.length>0&&e.jsx("div",{className:"location-dropdown",children:k.brideProvince.map((Ue,be)=>e.jsx("div",{onClick:()=>Ye(Ue),className:"location-dropdown-item",children:Ue},be))})]}),e.jsxs("div",{className:`client-marriage-field location-dropdown-container ${K.bride_region?"error-field":""}`,children:[e.jsxs("label",{children:["Region",e.jsx("span",{className:"required-marker",children:"*"})]}),e.jsx("input",{type:"text",value:D.bride_region,onChange:Xe,onFocus:()=>Ke("brideRegion"),placeholder:"Type to search"}),K.bride_region&&e.jsx("div",{className:"error-message",children:"Required"}),M==="brideRegion"&&k.brideRegion&&k.brideRegion.length>0&&e.jsx("div",{className:"location-dropdown",children:k.brideRegion.map((Ue,be)=>e.jsx("div",{onClick:()=>ta(Ue),className:"location-dropdown-item",children:Ue},be))})]})]})]}),e.jsxs("div",{className:"client-marriage-witness-container",children:[e.jsx("h2",{className:"client-marriage-witness-title",children:"First Witness Information"}),e.jsxs("div",{className:"client-marriage-witness-box",children:[e.jsxs("div",{className:"client-marriage-row",children:[e.jsxs("div",{className:"client-marriage-field",children:[e.jsx("label",{children:"First Witness First Name"}),e.jsx("input",{type:"text",value:D.first_witness_first_name,onChange:Ue=>ue("first_witness_first_name",Ue.target.value)})]}),e.jsxs("div",{className:"client-marriage-field",children:[e.jsx("label",{children:"First Witness Middle Name"}),e.jsx("input",{type:"text",value:D.first_witness_middle_name,onChange:Ue=>ue("first_witness_middle_name",Ue.target.value)})]}),e.jsxs("div",{className:"client-marriage-field",children:[e.jsx("label",{children:"First Witness Last Name"}),e.jsx("input",{type:"text",value:D.first_witness_last_name,onChange:Ue=>ue("first_witness_last_name",Ue.target.value)})]}),e.jsxs("div",{className:"client-marriage-field",children:[e.jsx("label",{children:"First Witness Date of Birth"}),e.jsx("input",{type:"date",className:"date-input",value:D.first_witness_dateOfBirth||"",onChange:Ue=>{try{_e("first_witness_dateOfBirth",Ue.target.value,"first_witness_age")}catch(be){console.error("Error handling first witness date:",be),ue("first_witness_dateOfBirth",""),ue("first_witness_age","")}}})]})]}),e.jsxs("div",{className:"client-marriage-row",children:[e.jsxs("div",{className:"client-marriage-field-ga",children:[e.jsx("label",{children:"Age"}),e.jsx("input",{type:"text",value:D.first_witness_age,onChange:Ue=>ue("first_witness_age",Ue.target.value),readOnly:!0})]}),e.jsxs("div",{className:"client-marriage-field-ga",children:[e.jsx("label",{children:"Gender"}),e.jsxs("select",{value:D.first_witness_gender,onChange:Ue=>ue("first_witness_gender",Ue.target.value),children:[e.jsx("option",{value:"",children:"Select Gender"}),e.jsx("option",{value:"Male",children:"Male"}),e.jsx("option",{value:"Female",children:"Female"})]})]}),e.jsxs("div",{className:"client-marriage-field",children:[e.jsx("label",{children:"First Witness Contact Number"}),e.jsx("input",{type:"text",value:D.first_witness_contact_number,onChange:Ue=>ue("first_witness_contact_number",Ue.target.value)})]})]}),e.jsxs("div",{className:"client-marriage-row",children:[e.jsxs("div",{className:"client-marriage-field",children:[e.jsx("label",{children:"Street"}),e.jsx("input",{type:"text",value:D.first_witness_street,onChange:Ue=>ue("first_witness_street",Ue.target.value)})]}),e.jsxs("div",{className:"client-marriage-field location-dropdown-container",children:[e.jsx("label",{children:"Barangay"}),e.jsx("input",{type:"text",placeholder:"Type to search",value:D.first_witness_barangay,onChange:st,onFocus:()=>Ke("firstWitnessBarangay")}),M==="firstWitnessBarangay"&&k.firstWitnessBarangay&&k.firstWitnessBarangay.length>0&&e.jsx("div",{className:"location-dropdown",children:k.firstWitnessBarangay.map((Ue,be)=>e.jsx("div",{onClick:()=>ke(Ue),className:"location-dropdown-item",children:Ue},be))})]}),e.jsxs("div",{className:"client-marriage-field location-dropdown-container",children:[e.jsx("label",{children:"Municipality"}),e.jsx("input",{type:"text",placeholder:"Type to search",value:D.first_witness_municipality,onChange:kt,onFocus:()=>Ke("firstWitnessMunicipality")}),M==="firstWitnessMunicipality"&&k.firstWitnessMunicipality&&k.firstWitnessMunicipality.length>0&&e.jsx("div",{className:"location-dropdown",children:k.firstWitnessMunicipality.map((Ue,be)=>e.jsx("div",{onClick:()=>$e(Ue),className:"location-dropdown-item",children:Ue},be))})]}),e.jsxs("div",{className:"client-marriage-field location-dropdown-container",children:[e.jsx("label",{children:"Province"}),e.jsx("input",{type:"text",placeholder:"Type to search",value:D.first_witness_province,onChange:Mt,onFocus:()=>Ke("firstWitnessProvince")}),M==="firstWitnessProvince"&&k.firstWitnessProvince&&k.firstWitnessProvince.length>0&&e.jsx("div",{className:"location-dropdown",children:k.firstWitnessProvince.map((Ue,be)=>e.jsx("div",{onClick:()=>Ae(Ue),className:"location-dropdown-item",children:Ue},be))})]}),e.jsxs("div",{className:"client-marriage-field location-dropdown-container",children:[e.jsx("label",{children:"Region"}),e.jsx("input",{type:"text",value:D.first_witness_region,onChange:wt,onFocus:()=>Ke("firstWitnessRegion"),placeholder:"Type to search"}),M==="firstWitnessRegion"&&k.firstWitnessRegion&&k.firstWitnessRegion.length>0&&e.jsx("div",{className:"location-dropdown",children:k.firstWitnessRegion.map((Ue,be)=>e.jsx("div",{onClick:()=>Ft(Ue),className:"location-dropdown-item",children:Ue},be))})]})]})]})]}),e.jsxs("div",{className:"client-marriage-witness-container",children:[e.jsx("h2",{className:"client-marriage-witness-title",children:"Second Witness Information"}),e.jsxs("div",{className:"client-marriage-witness-box",children:[e.jsxs("div",{className:"client-marriage-row",children:[e.jsxs("div",{className:"client-marriage-field",children:[e.jsx("label",{children:"Second Witness First Name"}),e.jsx("input",{type:"text",value:D.second_witness_first_name,onChange:Ue=>ue("second_witness_first_name",Ue.target.value)})]}),e.jsxs("div",{className:"client-marriage-field",children:[e.jsx("label",{children:"Second Witness Middle Name"}),e.jsx("input",{type:"text",value:D.second_witness_middle_name,onChange:Ue=>ue("second_witness_middle_name",Ue.target.value)})]}),e.jsxs("div",{className:"client-marriage-field",children:[e.jsx("label",{children:"Second Witness Last Name"}),e.jsx("input",{type:"text",value:D.second_witness_last_name,onChange:Ue=>ue("second_witness_last_name",Ue.target.value)})]}),e.jsxs("div",{className:"client-marriage-field",children:[e.jsx("label",{children:"Second Witness Date of Birth"}),e.jsx("input",{type:"date",className:"date-input",value:D.second_witness_dateOfBirth||"",onChange:Ue=>{try{_e("second_witness_dateOfBirth",Ue.target.value,"second_witness_age")}catch(be){console.error("Error handling second witness date:",be),ue("second_witness_dateOfBirth",""),ue("second_witness_age","")}}})]})]}),e.jsxs("div",{className:"client-marriage-row",children:[e.jsxs("div",{className:"client-marriage-field-ga",children:[e.jsx("label",{children:"Age"}),e.jsx("input",{type:"text",value:D.second_witness_age,onChange:Ue=>ue("second_witness_age",Ue.target.value),readOnly:!0})]}),e.jsxs("div",{className:"client-marriage-field-ga",children:[e.jsx("label",{children:"Gender"}),e.jsxs("select",{value:D.second_witness_gender,onChange:Ue=>ue("second_witness_gender",Ue.target.value),children:[e.jsx("option",{value:"",children:"Select Gender"}),e.jsx("option",{value:"Male",children:"Male"}),e.jsx("option",{value:"Female",children:"Female"})]})]}),e.jsxs("div",{className:"client-marriage-field",children:[e.jsx("label",{children:"Second Witness Contact Number"}),e.jsx("input",{type:"text",value:D.second_witness_contact_number,onChange:Ue=>ue("second_witness_contact_number",Ue.target.value)})]})]}),e.jsxs("div",{className:"client-marriage-row",children:[e.jsxs("div",{className:"client-marriage-field",children:[e.jsx("label",{children:"Street"}),e.jsx("input",{type:"text",value:D.second_witness_street,onChange:Ue=>ue("second_witness_street",Ue.target.value)})]}),e.jsxs("div",{className:"client-marriage-field location-dropdown-container",children:[e.jsx("label",{children:"Barangay"}),e.jsx("input",{type:"text",placeholder:"Type to search",value:D.second_witness_barangay,onChange:Le,onFocus:()=>Ke("secondWitnessBarangay")}),M==="secondWitnessBarangay"&&k.secondWitnessBarangay&&k.secondWitnessBarangay.length>0&&e.jsx("div",{className:"location-dropdown",children:k.secondWitnessBarangay.map((Ue,be)=>e.jsx("div",{onClick:()=>Ie(Ue),className:"location-dropdown-item",children:Ue},be))})]}),e.jsxs("div",{className:"client-marriage-field location-dropdown-container",children:[e.jsx("label",{children:"Municipality"}),e.jsx("input",{type:"text",placeholder:"Type to search",value:D.second_witness_municipality,onChange:de,onFocus:()=>Ke("secondWitnessMunicipality")}),M==="secondWitnessMunicipality"&&k.secondWitnessMunicipality&&k.secondWitnessMunicipality.length>0&&e.jsx("div",{className:"location-dropdown",children:k.secondWitnessMunicipality.map((Ue,be)=>e.jsx("div",{onClick:()=>Ze(Ue),className:"location-dropdown-item",children:Ue},be))})]}),e.jsxs("div",{className:"client-marriage-field location-dropdown-container",children:[e.jsx("label",{children:"Province"}),e.jsx("input",{type:"text",placeholder:"Type to search",value:D.second_witness_province,onChange:Me,onFocus:()=>Ke("secondWitnessProvince")}),M==="secondWitnessProvince"&&k.secondWitnessProvince&&k.secondWitnessProvince.length>0&&e.jsx("div",{className:"location-dropdown",children:k.secondWitnessProvince.map((Ue,be)=>e.jsx("div",{onClick:()=>nt(Ue),className:"location-dropdown-item",children:Ue},be))})]}),e.jsxs("div",{className:"client-marriage-field location-dropdown-container",children:[e.jsx("label",{children:"Region"}),e.jsx("input",{type:"text",value:D.second_witness_region,onChange:yt,onFocus:()=>Ke("secondWitnessRegion"),placeholder:"Type to search"}),M==="secondWitnessRegion"&&k.secondWitnessRegion&&k.secondWitnessRegion.length>0&&e.jsx("div",{className:"location-dropdown",children:k.secondWitnessRegion.map((Ue,be)=>e.jsx("div",{onClick:()=>Aa(Ue),className:"location-dropdown-item",children:Ue},be))})]})]})]})]}),e.jsxs("div",{className:"client-marriage-requirements-container",children:[e.jsx("h2",{className:"client-marriage-requirements-title",children:"Requirements"}),e.jsxs("div",{className:"client-marriage-requirements-box",children:[e.jsx("h3",{className:"client-marriage-section-header",children:"Documents Needed"}),e.jsxs("div",{className:"client-marriage-info-list",children:[e.jsx("div",{className:"client-marriage-info-item",children:e.jsx("p",{children:"Baptismal Certificate"})}),e.jsx("div",{className:"client-marriage-info-item",children:e.jsx("p",{children:"Confirmation Certificate"})}),e.jsx("div",{className:"client-marriage-info-item",children:e.jsx("p",{children:"Birth Certificate"})}),e.jsx("div",{className:"client-marriage-info-item",children:e.jsx("p",{children:"Marriage License"})}),e.jsx("div",{className:"client-marriage-info-item",children:e.jsx("p",{children:"Certificate of No Marriage"})}),e.jsx("div",{className:"client-marriage-info-item",children:e.jsx("p",{children:"Publication of Banns"})}),e.jsx("div",{className:"client-marriage-info-item",children:e.jsx("p",{children:"Parish Permit from the Parish Priest"})}),e.jsx("div",{className:"client-marriage-info-item",children:e.jsx("p",{children:"Pre-Cana Seminar or Marriage Preparation Program"})}),e.jsx("div",{className:"client-marriage-info-item",children:e.jsx("p",{children:"Sponsors List"})}),e.jsx("div",{className:"client-marriage-info-item",children:e.jsx("p",{children:"Canonical Interview"})}),e.jsx("div",{className:"client-marriage-info-item",children:e.jsx("p",{children:"Certificate of Permission (if outside the Parish)"})})]}),e.jsx("h3",{className:"client-marriage-section-header",children:"Requirements for the Couple"}),e.jsxs("div",{className:"client-marriage-info-list",children:[e.jsx("div",{className:"client-marriage-info-item",children:e.jsx("p",{children:"Must be a baptized Catholic (at least one of the partners)"})}),e.jsx("div",{className:"client-marriage-info-item",children:e.jsx("p",{children:"Must have received the Sacrament of Confirmation"})}),e.jsx("div",{className:"client-marriage-info-item",children:e.jsx("p",{children:"Must undergo a Pre-Cana Seminar or Marriage Preparation Program"})}),e.jsx("div",{className:"client-marriage-info-item",children:e.jsx("p",{children:"Must be of legal age (as required by civil law)"})}),e.jsx("div",{className:"client-marriage-info-item",children:e.jsx("p",{children:"Must provide proof of freedom to marry (e.g., no previous valid marriage in the Church)"})})]}),e.jsx("h3",{className:"client-marriage-section-header",children:"Parish Requirements"}),e.jsxs("div",{className:"client-marriage-info-list",children:[e.jsx("div",{className:"client-marriage-info-item",children:e.jsx("p",{children:"Must schedule an interview with the parish priest"})}),e.jsx("div",{className:"client-marriage-info-item",children:e.jsx("p",{children:"Must submit all required documents at least 3 months before the wedding"})}),e.jsx("div",{className:"client-marriage-info-item",children:e.jsx("p",{children:"Must attend marriage banns (announcements made in the parish for three consecutive Sundays)"})}),e.jsx("div",{className:"client-marriage-info-item",children:e.jsx("p",{children:"Must choose sponsors (Ninong & Ninang) who are practicing Catholics"})})]}),e.jsx("h3",{className:"client-marriage-section-header",children:"Dress Code (If Specified by Parish)"}),e.jsxs("div",{className:"client-marriage-info-list",children:[e.jsx("div",{className:"client-marriage-info-item",children:e.jsx("p",{children:"Groom: Formal attire (barong or suit)"})}),e.jsx("div",{className:"client-marriage-info-item",children:e.jsx("p",{children:"Bride: Modest wedding gown (with sleeves or shawl for Church ceremony)"})}),e.jsx("div",{className:"client-marriage-info-item",children:e.jsx("p",{children:"Sponsors: Formal attire, respectful and modest"})})]})]})]}),e.jsxs("div",{className:"client-marriage-button-container",children:[e.jsx("button",{className:"client-marriage-submit-btn",onClick:it,children:"Submit"}),e.jsx("button",{className:"client-marriage-cancel-btn",children:"Cancel"})]})]}),t&&e.jsx("div",{className:"client-marriage-modal-overlay",children:e.jsxs("div",{className:"client-marriage-modal",children:[e.jsx("h2",{children:"Submit Application"}),e.jsx("hr",{class:"custom-hr-b"}),e.jsx("p",{children:"Are you sure you want to submit your Holy Matrimony application?"}),e.jsxs("div",{className:"client-marriage-modal-buttons",children:[e.jsx("button",{className:"client-marriage-yes-btn",onClick:De,children:"Yes"}),e.jsx("button",{className:"client-marriage-modal-no-btn",onClick:Be,children:"No"})]})]})}),i&&e.jsx("div",{className:"client-marriage-modal-overlay",children:e.jsxs("div",{className:"client-marriage-modal",children:[e.jsx("h2",{children:"Success!"}),e.jsx("hr",{className:"custom-hr-b"}),e.jsx("p",{children:"Your marriage application has been submitted successfully."}),e.jsx("div",{className:"client-marriage-modal-buttons",children:e.jsx("button",{className:"client-marriage-yes-btn",onClick:pe,children:"OK"})})]})}),c&&e.jsx("div",{className:"client-marriage-modal-overlay",children:e.jsxs("div",{className:"client-marriage-modal",children:[e.jsx("h2",{children:"Error"}),e.jsx("hr",{className:"custom-hr-b"}),e.jsx("p",{children:d}),e.jsx("div",{className:"client-marriage-modal-buttons",children:e.jsx("button",{className:"client-marriage-modal-no-btn",onClick:we,children:"OK"})})]})}),u&&e.jsx("div",{className:"client-marriage-modal-overlay",children:e.jsxs("div",{className:"client-marriage-modal",children:[e.jsx("h2",{children:"Processing Application"}),e.jsx("hr",{className:"custom-hr-b"}),e.jsx("p",{children:"Please wait while we submit your Holy Matrimony application..."}),e.jsx("div",{className:"client-marriage-loading-spinner",children:e.jsx("div",{className:"client-marriage-spinner"})})]})})]})},ZO=()=>{oa();const a=Jt(),[t,s]=N.useState({dateOfFuneralMass:"",timeOfFuneralMass:"",deceasedFirstName:"",deceasedMiddleName:"",deceasedLastName:"",deceasedSex:"",deceasedAge:"",deceasedDateOfBirth:"",deceasedDateOfDeath:"",causeOfDeath:"",wakeLocation:"",wake_barangay:"",wake_municipality:"",wake_province:"",burialLocation:"",burial_barangay:"",burial_municipality:"",burial_province:"",requesterFirstName:"",requesterMiddleName:"",requesterLastName:"",relationship:"",contactNumber:"",email:"",barangay:"",street:"",municipality:"",province:"",region:""}),[i,r]=N.useState([]),[c,A]=N.useState(!0),[d,h]=N.useState(null),[u,v]=N.useState({barangay:[],municipality:[],province:[],region:[],wake_barangay:[],wake_municipality:[],wake_province:[],burial_barangay:[],burial_municipality:[],burial_province:[]}),[x,y]=N.useState([]),[p,F]=N.useState([]),[b,S]=N.useState([]),[f,O]=N.useState(!1),[M,J]=N.useState(!1),[K,H]=N.useState(!1),[k,Y]=N.useState(""),[D,ge]=N.useState(!1),[_,X]=N.useState({}),[re,fe]=N.useState([]);N.useRef(null),N.useRef(null),N.useRef(null),N.useRef(null),N.useRef(null),N.useEffect(()=>{ue(),Ne()},[]);const Ne=async()=>{try{const Ae=await aa.get("http://parishofdivinemercy.com/backend/get_location.php");Ae.data.success&&r(Ae.data.locations)}catch(Ae){console.error("Error fetching locations:",Ae)}finally{A(!1)}},ue=async()=>{try{const[Ae,Le]=await Promise.all([fetch("http://parishofdivinemercy.com/backend/schedule.php"),fetch("http://parishofdivinemercy.com/backend/get_funeral_applications.php")]),de=await Ae.json(),Me=await Le.json();if(de.success){const Ie=de.schedules.filter(ft=>ft.sacramentType.toLowerCase()==="funeral mass"),Ze=new Set;Me.success&&Me.applications.forEach(ft=>{const It=`${ft.dateOfFuneral}-${ft.timeOfFuneral}`;Ze.add(It)});const nt=Ie.filter(ft=>{const It=`${ft.date}-${ft.time}`;return!Ze.has(It)});y(nt);const ot=new Set,jt=[];nt.forEach(ft=>{ot.has(ft.date)||(ot.add(ft.date),jt.push(ft.date))}),F(jt)}}catch(Ae){console.error("Error fetching schedules:",Ae)}};N.useEffect(()=>{if(t.dateOfFuneralMass){const Ae=x.filter(de=>de.date===t.dateOfFuneralMass).map(de=>de.time),Le=[...new Set(Ae)];S(Le),Le.includes(t.timeOfFuneralMass)||s(de=>({...de,timeOfFuneralMass:""}))}else S([])},[t.dateOfFuneralMass,x]);const _e=(Ae,Le=null,de=null)=>{if(Le&&Le.trim()!==""){const Ze=i.filter(ot=>ot.municipality===Le),nt=[...new Set(Ze.map(ot=>ot.barangay))].sort();if(Ae&&Ae.trim()){const ot=Ae.toLowerCase();return nt.filter(jt=>jt.toLowerCase().includes(ot))}return nt}if(de&&de.trim()!==""){const Ze=i.filter(ot=>ot.province===de),nt=[...new Set(Ze.map(ot=>ot.barangay))].sort();if(Ae&&Ae.trim()){const ot=Ae.toLowerCase();return nt.filter(jt=>jt.toLowerCase().includes(ot))}return nt}const Me=Ae?Ae.toLowerCase():"",Ie=[...new Set(i.map(Ze=>Ze.barangay))].sort();return!Ae||Ae.trim()===""?Ie.slice(0,10):Ie.filter(Ze=>Ze.toLowerCase().includes(Me)).slice(0,10)},ce=(Ae,Le=null,de=null)=>{if(de&&de.trim()!==""){const Ze=i.filter(ot=>ot.barangay===de),nt=[...new Set(Ze.map(ot=>ot.municipality))].sort();if(Ae&&Ae.trim()){const ot=Ae.toLowerCase();return nt.filter(jt=>jt.toLowerCase().includes(ot))}return nt}if(Le&&Le.trim()!==""){const Ze=i.filter(ot=>ot.province===Le),nt=[...new Set(Ze.map(ot=>ot.municipality))].sort();if(Ae&&Ae.trim()){const ot=Ae.toLowerCase();return nt.filter(jt=>jt.toLowerCase().includes(ot))}return nt}const Me=Ae?Ae.toLowerCase():"",Ie=[...new Set(i.map(Ze=>Ze.municipality))].sort();return!Ae||Ae.trim()===""?Ie.slice(0,10):Ie.filter(Ze=>Ze.toLowerCase().includes(Me)).slice(0,10)},ye=(Ae,Le=null,de=null)=>{if(Le&&Le.trim()!==""){const Ze=i.filter(ot=>ot.municipality===Le),nt=[...new Set(Ze.map(ot=>ot.province))].sort();if(Ae&&Ae.trim()){const ot=Ae.toLowerCase();return nt.filter(jt=>jt.toLowerCase().includes(ot))}return nt}if(de&&de.trim()!==""){const Ze=i.filter(ot=>ot.barangay===de),nt=[...new Set(Ze.map(ot=>ot.province))].sort();if(Ae&&Ae.trim()){const ot=Ae.toLowerCase();return nt.filter(jt=>jt.toLowerCase().includes(ot))}return nt}const Me=Ae?Ae.toLowerCase():"",Ie=[...new Set(i.map(Ze=>Ze.province))].sort();return!Ae||Ae.trim()===""?Ie.slice(0,10):Ie.filter(Ze=>Ze.toLowerCase().includes(Me)).slice(0,10)},Q=Ae=>{const Le=Ae.toLowerCase();return["Region I - Ilocos Region","Region II - Cagayan Valley","Region III - Central Luzon","Region IV-A - CALABARZON","Region IV-B - MIMAROPA","Region V - Bicol Region","Region VI - Western Visayas","Region VII - Central Visayas","Region VIII - Eastern Visayas","Region IX - Zamboanga Peninsula","Region X - Northern Mindanao","Region XI - Davao Region","Region XII - SOCCSKSARGEN","Region XIII - Caraga","NCR - National Capital Region","CAR - Cordillera Administrative Region","BARMM - Bangsamoro Autonomous Region in Muslim Mindanao"].filter(Me=>Me.toLowerCase().includes(Le))},ne=(Ae,Le,de)=>{let Me={};if(Le==="barangay"){const Ie=i.filter(ot=>ot.barangay===Ae),Ze=[...new Set(Ie.map(ot=>ot.municipality))],nt=[...new Set(Ie.map(ot=>ot.province))];console.log(`Barangay "${Ae}" found in:`,{municipalities:Ze,provinces:nt}),Ze.length===1&&(Me[`${de}_municipality`]=Ze[0],console.log(`Auto-filling municipality: ${Ze[0]}`)),nt.length===1&&(Me[`${de}_province`]=nt[0],console.log(`Auto-filling province: ${nt[0]}`))}else if(Le==="municipality"){const Ie=i.filter(nt=>nt.municipality===Ae),Ze=[...new Set(Ie.map(nt=>nt.province))];console.log(`Municipality "${Ae}" found in provinces:`,Ze),Ze.length===1&&(Me[`${de}_province`]=Ze[0],console.log(`Auto-filling province: ${Ze[0]}`))}return Me};N.useEffect(()=>{if(t.deceasedDateOfBirth){const Ae=new Date(t.deceasedDateOfBirth),Le=new Date;let de=Le.getFullYear()-Ae.getFullYear();const Me=Le.getMonth()-Ae.getMonth();(Me<0||Me===0&&Le.getDate()<Ae.getDate())&&de--,isNaN(de)||s(Ie=>({...Ie,deceasedAge:de.toString()}))}},[t.deceasedDateOfBirth]);const U=Ae=>{const Le=Ae.target.value;s(de=>({...de,wake_barangay:Le})),d==="wake_barangay"&&v(de=>({...de,wake_barangay:_e(Le,t.wake_municipality,t.wake_province)}))},V=Ae=>{const Le=Ae.target.value;s(de=>({...de,wake_municipality:Le})),d==="wake_municipality"&&v(de=>({...de,wake_municipality:ce(Le,t.wake_province,t.wake_barangay)}))},T=Ae=>{const Le=Ae.target.value;s(de=>({...de,wake_province:Le})),d==="wake_province"&&v(de=>({...de,wake_province:ye(Le,t.wake_municipality,t.wake_barangay)}))},ie=Ae=>{const Le=Ae.target.value;s(de=>({...de,burial_barangay:Le})),d==="burial_barangay"&&v(de=>({...de,burial_barangay:_e(Le,t.burial_municipality,t.burial_province)}))},ae=Ae=>{const Le=Ae.target.value;s(de=>({...de,burial_municipality:Le})),d==="burial_municipality"&&v(de=>({...de,burial_municipality:ce(Le,t.burial_province,t.burial_barangay)}))},P=Ae=>{const Le=Ae.target.value;s(de=>({...de,burial_province:Le})),d==="burial_province"&&v(de=>({...de,burial_province:ye(Le,t.burial_municipality,t.burial_barangay)}))},z=Ae=>{s(de=>({...de,wake_municipality:Ae})),h(null);const Le=ne(Ae,"municipality","wake");Object.keys(Le).length>0&&s(de=>({...de,...Le}))},B=Ae=>{s(de=>({...de,wake_barangay:Ae})),h(null);const Le=ne(Ae,"barangay","wake");Object.keys(Le).length>0&&s(de=>({...de,...Le}))},q=Ae=>{s(Le=>({...Le,wake_province:Ae})),h(null)},te=Ae=>{s(de=>({...de,burial_municipality:Ae})),h(null);const Le=ne(Ae,"municipality","burial");Object.keys(Le).length>0&&s(de=>({...de,...Le}))},he=Ae=>{s(de=>({...de,burial_barangay:Ae})),h(null);const Le=ne(Ae,"barangay","burial");Object.keys(Le).length>0&&s(de=>({...de,...Le}))},W=Ae=>{s(Le=>({...Le,burial_province:Ae})),h(null)},C=(Ae,Le)=>{s(de=>({...de,[Ae]:Le})),Ae==="dateOfFuneralMass"&&updateAvailableTimes(Le)},Z=(Ae,Le)=>{C(Ae,Le)},se=Ae=>{const Le=Ae.target.value;C("barangay",Le),d==="barangay"&&v({...u,barangay:_e(Le,t.municipality,t.province)})},Se=Ae=>{const Le=Ae.target.value;C("municipality",Le),d==="municipality"&&v({...u,municipality:ce(Le,t.province,t.barangay)})},He=Ae=>{const Le=Ae.target.value;C("province",Le),d==="province"&&v({...u,province:ye(Le,t.municipality,t.barangay)})},Qe=Ae=>{const Le=Ae.target.value;C("region",Le),d==="region"&&v({...u,region:Q(Le)})},qe=Ae=>{var Me;C("municipality",Ae),h(null);const Le=i.filter(Ie=>Ie.municipality===Ae),de=[...new Set(Le.map(Ie=>Ie.province))];de.length===1&&!t.province&&C("province",de[0]),(Me=document.querySelector('input[name="municipality"]'))==null||Me.blur()},Ye=Ae=>{var Ie;C("barangay",Ae),h(null);const Le=i.filter(Ze=>Ze.barangay===Ae),de=[...new Set(Le.map(Ze=>Ze.municipality))],Me=[...new Set(Le.map(Ze=>Ze.province))];de.length===1&&!t.municipality&&C("municipality",de[0]),Me.length===1&&!t.province&&C("province",Me[0]),(Ie=document.querySelector('input[name="barangay"]'))==null||Ie.blur()},st=Ae=>{var Le;C("province",Ae),h(null),(Le=document.querySelector('input[name="province"]'))==null||Le.blur()},kt=Ae=>{var Le;C("region",Ae),h(null),(Le=document.querySelector('input[name="region"]'))==null||Le.blur()},Mt=Ae=>{switch(h(Ae),Ae){case"wake_barangay":v(Le=>({...Le,wake_barangay:_e(t.wake_barangay||"",t.wake_municipality,t.wake_province)}));break;case"wake_municipality":v(Le=>({...Le,wake_municipality:ce(t.wake_municipality||"",t.wake_province,t.wake_barangay)}));break;case"wake_province":v(Le=>({...Le,wake_province:ye(t.wake_province||"",t.wake_municipality,t.wake_barangay)}));break;case"burial_barangay":v(Le=>({...Le,burial_barangay:_e(t.burial_barangay||"",t.burial_municipality,t.burial_province)}));break;case"burial_municipality":v(Le=>({...Le,burial_municipality:ce(t.burial_municipality||"",t.burial_province,t.burial_barangay)}));break;case"burial_province":v(Le=>({...Le,burial_province:ye(t.burial_province||"",t.burial_municipality,t.burial_barangay)}));break;case"barangay":v(Le=>({...Le,barangay:_e(t.barangay||"",t.municipality,t.province)}));break;case"municipality":v(Le=>({...Le,municipality:ce(t.municipality||"",t.province,t.barangay)}));break;case"province":v(Le=>({...Le,province:ye(t.province||"",t.municipality,t.barangay)}));break;case"region":v(Le=>({...Le,region:Q(t.region||"")}));break}};N.useEffect(()=>{const Ae=Le=>{var de;if(d){const Me=Le.target.tagName==="INPUT"||Le.target.tagName==="SELECT",Ie=Le.target.classList.contains("location-dropdown-item"),Ze=(de=document.querySelector(`input[name="${d}"]`))==null?void 0:de.closest(".location-dropdown-container"),nt=Ze&&Ze.contains(Le.target);(Me&&!nt||!nt&&!Ie)&&h(null)}};return document.addEventListener("mousedown",Ae),()=>{document.removeEventListener("mousedown",Ae)}},[d]);const ke=()=>{const Le=["dateOfFuneralMass","timeOfFuneralMass","deceasedFirstName","deceasedLastName","deceasedSex","deceasedDateOfBirth","deceasedDateOfDeath","causeOfDeath","wake_barangay","wake_municipality","wake_province","burial_barangay","burial_municipality","burial_province","requesterFirstName","requesterLastName","relationship","contactNumber","email","barangay","street","municipality","province","region"].filter(Me=>!t[Me]),de={};if(Le.forEach(Me=>{de[Me]=!0}),X(de),Le.length>0){Y("Please fill in all required fields before submitting."),H(!0);const Me=document.querySelector(".error-field");Me&&Me.scrollIntoView({behavior:"smooth",block:"center"});return}X({}),O(!0)},$e=async()=>{O(!1),ge(!0);try{const Ae=[t.wake_barangay,t.wake_municipality,t.wake_province].filter(Boolean).join(", "),Le=[t.burial_barangay,t.burial_municipality,t.burial_province].filter(Boolean).join(", ");let de={...t,wakeLocation:Ae,burialLocation:Le};if(de.deceasedDateOfBirth){const nt=de.deceasedDateOfBirth.split("/");if(nt.length===3){const[ot,jt,ft]=nt;de.deceasedDateOfBirth=`${ft}-${jt.padStart(2,"0")}-${ot.padStart(2,"0")}`}}if(de.deceasedDateOfDeath){const nt=de.deceasedDateOfDeath.split("/");if(nt.length===3){const[ot,jt,ft]=nt;de.deceasedDateOfDeath=`${ft}-${jt.padStart(2,"0")}-${ot.padStart(2,"0")}`}}const Me=new FormData;Object.keys(de).forEach(nt=>{Me.append(nt,de[nt])});const Ze=await(await fetch("http://parishofdivinemercy.com/backend/funeral_mass_application.php",{method:"POST",body:Me})).json();ge(!1),Ze.success?(J(!0),setTimeout(()=>{a("/client-appointment")},2e3)):(Y(Ze.message||"Failed to submit application"),H(!0))}catch(Ae){ge(!1),console.error("Error submitting form:",Ae),Y("An error occurred while submitting the application"),H(!0)}};return e.jsxs("div",{className:"client-funeral-container",children:[e.jsx("div",{className:"client-funeral-header",children:e.jsx("div",{className:"client-funeral-left-section",children:e.jsxs("button",{className:"client-funeral-back-button",onClick:()=>a(-1),children:[e.jsx(Oa,{className:"client-funeral-back-icon"})," Back"]})})}),e.jsx("h1",{className:"client-funeral-title",children:"Funeral Mass Application Form"}),e.jsxs("div",{className:"client-funeral-data",children:[e.jsxs("div",{className:"client-funeral-row-date",children:[e.jsxs("div",{className:`client-funeral-field-date ${_.dateOfFuneralMass?"error-field":""}`,children:[e.jsxs("label",{children:["Date of Funeral Mass",e.jsx("span",{className:"required-marker",children:"*"})]}),e.jsxs("select",{value:t.dateOfFuneralMass,onChange:Ae=>C("dateOfFuneralMass",Ae.target.value),children:[e.jsx("option",{value:"",children:"Select Date"}),p.map(Ae=>e.jsx("option",{value:Ae,children:new Date(Ae).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})},Ae))]}),_.dateOfFuneralMass&&e.jsx("div",{className:"error-message",children:"Required"})]}),e.jsxs("div",{className:`client-funeral-field-time ${_.timeOfFuneralMass?"error-field":""}`,children:[e.jsxs("label",{children:["Time of Funeral Mass",e.jsx("span",{className:"required-marker",children:"*"})]}),e.jsxs("select",{value:t.timeOfFuneralMass,onChange:Ae=>C("timeOfFuneralMass",Ae.target.value),disabled:!t.dateOfFuneralMass,children:[e.jsx("option",{value:"",children:"Select Time"}),b.map(Ae=>e.jsx("option",{value:Ae,children:Ae},Ae))]}),_.timeOfFuneralMass&&e.jsx("div",{className:"error-message",children:"Required"})]})]}),e.jsxs("div",{className:"client-funeral-bypart",children:[e.jsx("h3",{className:"client-funeral-sub-title",children:"Deceased Information"}),e.jsxs("div",{className:"client-funeral-row",children:[e.jsxs("div",{className:`client-funeral-field ${_.deceasedFirstName?"error-field":""}`,children:[e.jsxs("label",{children:["First Name",e.jsx("span",{className:"required-marker",children:"*"})]}),e.jsx("input",{type:"text",value:t.deceasedFirstName,onChange:Ae=>C("deceasedFirstName",Ae.target.value)}),_.deceasedFirstName&&e.jsx("div",{className:"error-message",children:"Required"})]}),e.jsxs("div",{className:"client-funeral-field",children:[e.jsx("label",{children:"Middle Name"}),e.jsx("input",{type:"text",value:t.deceasedMiddleName,onChange:Ae=>C("deceasedMiddleName",Ae.target.value)})]}),e.jsxs("div",{className:`client-funeral-field ${_.deceasedLastName?"error-field":""}`,children:[e.jsxs("label",{children:["Last Name",e.jsx("span",{className:"required-marker",children:"*"})]}),e.jsx("input",{type:"text",value:t.deceasedLastName,onChange:Ae=>C("deceasedLastName",Ae.target.value)}),_.deceasedLastName&&e.jsx("div",{className:"error-message",children:"Required"})]})]}),e.jsxs("div",{className:"client-funeral-row",children:[e.jsxs("div",{className:`client-funeral-field ${_.deceasedDateOfBirth?"error-field":""}`,children:[e.jsxs("label",{children:["Date of Birth",e.jsx("span",{className:"required-marker",children:"*"})]}),e.jsx("input",{type:"date",className:"date-input",value:t.deceasedDateOfBirth,onChange:Ae=>Z("deceasedDateOfBirth",Ae.target.value)}),_.deceasedDateOfBirth&&e.jsx("div",{className:"error-message",children:"Required"})]}),e.jsxs("div",{className:"client-funeral-field",children:[e.jsx("label",{children:"Age"}),e.jsx("input",{type:"text",value:t.deceasedAge,readOnly:!0})]}),e.jsxs("div",{className:`client-funeral-field ${_.deceasedSex?"error-field":""}`,children:[e.jsxs("label",{children:["Gender",e.jsx("span",{className:"required-marker",children:"*"})]}),e.jsxs("select",{value:t.deceasedSex,onChange:Ae=>C("deceasedSex",Ae.target.value),children:[e.jsx("option",{value:"",children:"Select"}),e.jsx("option",{value:"Male",children:"Male"}),e.jsx("option",{value:"Female",children:"Female"})]}),_.deceasedSex&&e.jsx("div",{className:"error-message",children:"Required"})]}),e.jsxs("div",{className:`client-funeral-field ${_.deceasedDateOfDeath?"error-field":""}`,children:[e.jsxs("label",{children:["Date of Death",e.jsx("span",{className:"required-marker",children:"*"})]}),e.jsx("input",{type:"date",className:"date-input",value:t.deceasedDateOfDeath,onChange:Ae=>Z("deceasedDateOfDeath",Ae.target.value)}),_.deceasedDateOfDeath&&e.jsx("div",{className:"error-message",children:"Required"})]})]}),e.jsx("div",{className:"client-funeral-row",children:e.jsxs("div",{className:`client-funeral-field ${_.causeOfDeath?"error-field":""}`,children:[e.jsxs("label",{children:["Cause of Death",e.jsx("span",{className:"required-marker",children:"*"})]}),e.jsx("input",{type:"text",value:t.causeOfDeath,onChange:Ae=>C("causeOfDeath",Ae.target.value)}),_.causeOfDeath&&e.jsx("div",{className:"error-message",children:"Required"})]})}),e.jsxs("label",{className:"sub-cc",children:["Wake Location ",e.jsx("span",{className:"required-marker",children:"*"})]}),e.jsxs("div",{className:"client-funeral-row",children:[e.jsxs("div",{className:`client-funeral-field location-dropdown-container ${_.wake_barangay?"error-field":""}`,children:[e.jsxs("label",{children:["Wake Barangay ",e.jsx("span",{className:"required-marker",children:"*"})]}),e.jsx("input",{type:"text",name:"wake_barangay",value:t.wake_barangay||"",onChange:U,onFocus:()=>Mt("wake_barangay"),placeholder:"Type to search",autoComplete:"off"}),_.wake_barangay&&e.jsx("div",{className:"error-message",children:"Required"}),d==="wake_barangay"&&u.wake_barangay.length>0&&e.jsx("div",{className:"location-dropdown",children:u.wake_barangay.map((Ae,Le)=>e.jsx("div",{onClick:()=>B(Ae),className:"location-dropdown-item",children:Ae},Le))})]}),e.jsxs("div",{className:`client-funeral-field location-dropdown-container ${_.wake_municipality?"error-field":""}`,children:[e.jsxs("label",{children:["Wake Municipality ",e.jsx("span",{className:"required-marker",children:"*"})]}),e.jsx("input",{type:"text",name:"wake_municipality",value:t.wake_municipality||"",onChange:V,onFocus:()=>Mt("wake_municipality"),placeholder:"Type to search",autoComplete:"off"}),_.wake_municipality&&e.jsx("div",{className:"error-message",children:"Required"}),d==="wake_municipality"&&u.wake_municipality.length>0&&e.jsx("div",{className:"location-dropdown",children:u.wake_municipality.map((Ae,Le)=>e.jsx("div",{onClick:()=>z(Ae),className:"location-dropdown-item",children:Ae},Le))})]}),e.jsxs("div",{className:`client-funeral-field location-dropdown-container ${_.wake_province?"error-field":""}`,children:[e.jsxs("label",{children:["Wake Province ",e.jsx("span",{className:"required-marker",children:"*"})]}),e.jsx("input",{type:"text",name:"wake_province",value:t.wake_province||"",onChange:T,onFocus:()=>Mt("wake_province"),placeholder:"Type to search",autoComplete:"off"}),_.wake_province&&e.jsx("div",{className:"error-message",children:"Required"}),d==="wake_province"&&u.wake_province.length>0&&e.jsx("div",{className:"location-dropdown",children:u.wake_province.map((Ae,Le)=>e.jsx("div",{onClick:()=>q(Ae),className:"location-dropdown-item",children:Ae},Le))})]})]}),e.jsxs("label",{className:"sub-cc",children:["Burial Location ",e.jsx("span",{className:"required-marker",children:"*"})]}),e.jsxs("div",{className:"client-funeral-row",children:[e.jsxs("div",{className:`client-funeral-field location-dropdown-container ${_.burial_barangay?"error-field":""}`,children:[e.jsxs("label",{children:["Burial Barangay ",e.jsx("span",{className:"required-marker",children:"*"})]}),e.jsx("input",{type:"text",name:"burial_barangay",value:t.burial_barangay||"",onChange:ie,onFocus:()=>Mt("burial_barangay"),placeholder:"Type to search",autoComplete:"off"}),_.burial_barangay&&e.jsx("div",{className:"error-message",children:"Required"}),d==="burial_barangay"&&u.burial_barangay.length>0&&e.jsx("div",{className:"location-dropdown",children:u.burial_barangay.map((Ae,Le)=>e.jsx("div",{onClick:()=>he(Ae),className:"location-dropdown-item",children:Ae},Le))})]}),e.jsxs("div",{className:`client-funeral-field location-dropdown-container ${_.burial_municipality?"error-field":""}`,children:[e.jsxs("label",{children:["Burial Municipality ",e.jsx("span",{className:"required-marker",children:"*"})]}),e.jsx("input",{type:"text",name:"burial_municipality",value:t.burial_municipality||"",onChange:ae,onFocus:()=>Mt("burial_municipality"),placeholder:"Type to search",autoComplete:"off"}),_.burial_municipality&&e.jsx("div",{className:"error-message",children:"Required"}),d==="burial_municipality"&&u.burial_municipality.length>0&&e.jsx("div",{className:"location-dropdown",children:u.burial_municipality.map((Ae,Le)=>e.jsx("div",{onClick:()=>te(Ae),className:"location-dropdown-item",children:Ae},Le))})]}),e.jsxs("div",{className:`client-funeral-field location-dropdown-container ${_.burial_province?"error-field":""}`,children:[e.jsxs("label",{children:["Burial Province ",e.jsx("span",{className:"required-marker",children:"*"})]}),e.jsx("input",{type:"text",name:"burial_province",value:t.burial_province||"",onChange:P,onFocus:()=>Mt("burial_province"),placeholder:"Type to search",autoComplete:"off"}),_.burial_province&&e.jsx("div",{className:"error-message",children:"Required"}),d==="burial_province"&&u.burial_province.length>0&&e.jsx("div",{className:"location-dropdown",children:u.burial_province.map((Ae,Le)=>e.jsx("div",{onClick:()=>W(Ae),className:"location-dropdown-item",children:Ae},Le))})]})]}),e.jsx("h3",{className:"client-funeral-sub-title",children:"Requester Information"}),e.jsxs("div",{className:"client-funeral-row",children:[e.jsxs("div",{className:`client-funeral-field ${_.requesterFirstName?"error-field":""}`,children:[e.jsxs("label",{children:["First Name",e.jsx("span",{className:"required-marker",children:"*"})]}),e.jsx("input",{type:"text",value:t.requesterFirstName,onChange:Ae=>C("requesterFirstName",Ae.target.value)}),_.requesterFirstName&&e.jsx("div",{className:"error-message",children:"Required"})]}),e.jsxs("div",{className:"client-funeral-field",children:[e.jsx("label",{children:"Middle Name"}),e.jsx("input",{type:"text",value:t.requesterMiddleName,onChange:Ae=>C("requesterMiddleName",Ae.target.value)})]}),e.jsxs("div",{className:`client-funeral-field ${_.requesterLastName?"error-field":""}`,children:[e.jsxs("label",{children:["Last Name",e.jsx("span",{className:"required-marker",children:"*"})]}),e.jsx("input",{type:"text",value:t.requesterLastName,onChange:Ae=>C("requesterLastName",Ae.target.value)}),_.requesterLastName&&e.jsx("div",{className:"error-message",children:"Required"})]})]}),e.jsxs("div",{className:"client-funeral-row",children:[e.jsxs("div",{className:`client-funeral-field ${_.relationship?"error-field":""}`,children:[e.jsxs("label",{children:["Relationship to the Deceased",e.jsx("span",{className:"required-marker",children:"*"})]}),e.jsx("input",{type:"text",value:t.relationship,onChange:Ae=>C("relationship",Ae.target.value)}),_.relationship&&e.jsx("div",{className:"error-message",children:"Required"})]}),e.jsxs("div",{className:`client-funeral-field ${_.contactNumber?"error-field":""}`,children:[e.jsxs("label",{children:["Contact Number",e.jsx("span",{className:"required-marker",children:"*"})]}),e.jsx("input",{type:"text",value:t.contactNumber,onChange:Ae=>C("contactNumber",Ae.target.value)}),_.contactNumber&&e.jsx("div",{className:"error-message",children:"Required"})]}),e.jsxs("div",{className:`client-funeral-field ${_.email?"error-field":""}`,children:[e.jsxs("label",{children:["Email Address",e.jsx("span",{className:"required-marker",children:"*"})]}),e.jsx("input",{type:"text",value:t.email,onChange:Ae=>C("email",Ae.target.value)}),_.email&&e.jsx("div",{className:"error-message",children:"Required"})]})]}),e.jsx("h3",{className:"client-funeral-sub-title",children:"Address"}),e.jsxs("div",{className:"client-funeral-row client-funeral-address-row",children:[e.jsxs("div",{className:`client-funeral-field ${_.street?"error-field":""}`,children:[e.jsxs("label",{children:["Street",e.jsx("span",{className:"required-marker",children:"*"})]}),e.jsx("input",{type:"text",value:t.street,onChange:Ae=>C("street",Ae.target.value)}),_.street&&e.jsx("div",{className:"error-message",children:"Required"})]}),e.jsxs("div",{className:`client-funeral-field location-dropdown-container ${_.barangay?"error-field":""}`,children:[e.jsxs("label",{children:["Barangay",e.jsx("span",{className:"required-marker",children:"*"})]}),e.jsx("input",{type:"text",value:t.barangay,onChange:se,onFocus:()=>Mt("barangay"),placeholder:"Type to search",name:"barangay"}),_.barangay&&e.jsx("div",{className:"error-message",children:"Required"}),d==="barangay"&&u.barangay.length>0&&e.jsx("div",{className:"location-dropdown",children:u.barangay.map((Ae,Le)=>e.jsx("div",{onClick:()=>Ye(Ae),className:"location-dropdown-item",children:Ae},Le))})]}),e.jsxs("div",{className:`client-funeral-field location-dropdown-container ${_.municipality?"error-field":""}`,children:[e.jsxs("label",{children:["Municipality",e.jsx("span",{className:"required-marker",children:"*"})]}),e.jsx("input",{type:"text",value:t.municipality,onChange:Se,onFocus:()=>Mt("municipality"),placeholder:"Type to search",name:"municipality"}),_.municipality&&e.jsx("div",{className:"error-message",children:"Required"}),d==="municipality"&&u.municipality.length>0&&e.jsx("div",{className:"location-dropdown",children:u.municipality.map((Ae,Le)=>e.jsx("div",{onClick:()=>qe(Ae),className:"location-dropdown-item",children:Ae},Le))})]}),e.jsxs("div",{className:`client-funeral-field location-dropdown-container ${_.province?"error-field":""}`,children:[e.jsxs("label",{children:["Province",e.jsx("span",{className:"required-marker",children:"*"})]}),e.jsx("input",{type:"text",value:t.province,onChange:He,onFocus:()=>Mt("province"),placeholder:"Type to search",name:"province"}),_.province&&e.jsx("div",{className:"error-message",children:"Required"}),d==="province"&&u.province.length>0&&e.jsx("div",{className:"location-dropdown",children:u.province.map((Ae,Le)=>e.jsx("div",{onClick:()=>st(Ae),className:"location-dropdown-item",children:Ae},Le))})]}),e.jsxs("div",{className:`client-funeral-field location-dropdown-container ${_.region?"error-field":""}`,children:[e.jsxs("label",{children:["Region",e.jsx("span",{className:"required-marker",children:"*"})]}),e.jsx("input",{type:"text",value:t.region,onChange:Qe,onFocus:()=>Mt("region"),placeholder:"Type to search",name:"region"}),_.region&&e.jsx("div",{className:"error-message",children:"Required"}),d==="region"&&u.region.length>0&&e.jsx("div",{className:"location-dropdown",children:u.region.map((Ae,Le)=>e.jsx("div",{onClick:()=>kt(Ae),className:"location-dropdown-item",children:Ae},Le))})]})]})]}),e.jsxs("div",{className:"client-funeral-requirements-container",children:[e.jsx("h2",{className:"client-funeral-requirements-title",children:"Requirements"}),re.length>0&&e.jsxs("div",{className:"client-funeral-error-summary",children:[e.jsx("p",{children:"The following required documents need to be uploaded and submitted:"}),e.jsx("ul",{children:re.map(Ae=>e.jsx("li",{children:Ae.replace(/_/g," ").split(" ").map(Le=>Le.charAt(0).toUpperCase()+Le.slice(1)).join(" ")},Ae))})]}),e.jsxs("div",{className:"client-funeral-requirements-box",children:[e.jsx("h3",{className:"client-funeral-section-header",children:"Documents Needed"}),e.jsxs("div",{className:"client-funeral-info-list",children:[e.jsx("div",{className:"client-funeral-info-item",children:e.jsx("p",{children:"Certificate of Death"})}),e.jsx("div",{className:"client-funeral-info-item",children:e.jsx("p",{children:"Parish Clearance"})}),e.jsx("div",{className:"client-funeral-info-item",children:e.jsx("p",{children:"Permit to Bury"})}),e.jsx("div",{className:"client-funeral-info-item",children:e.jsx("p",{children:"Certificate of Permission(if outside the Parish)"})})]}),e.jsx("h3",{className:"client-funeral-section-header",children:"Funeral Setup Requirements"}),e.jsxs("div",{className:"client-funeral-info-list",children:[e.jsx("div",{className:"client-funeral-info-item",children:e.jsx("p",{children:"Photos/memorial table allowed with limitations (not on the altar)"})}),e.jsx("div",{className:"client-funeral-info-item",children:e.jsx("p",{children:"Eulogies may be given before/after the Mass or at the cemetery"})}),e.jsx("div",{className:"client-funeral-info-item",children:e.jsx("p",{children:"Family and guests should wear respectful and modest attire"})}),e.jsx("div",{className:"client-funeral-info-item",children:e.jsx("p",{children:"No loud music, applause, or improper conduct during the Mass"})})]})]})]}),e.jsxs("div",{className:"client-funeral-button-container",children:[e.jsx("button",{className:"client-funeral-submit-btn",onClick:ke,children:"Submit"}),e.jsx("button",{className:"client-funeral-cancel-btn",onClick:()=>a(-1),children:"Cancel"})]})]}),f&&e.jsx("div",{className:"client-funeral-modal-overlay",children:e.jsxs("div",{className:"client-funeral-modal",children:[e.jsx("h2",{children:"Submit Application"}),e.jsx("hr",{className:"client-funeral-custom-hr"}),e.jsx("p",{children:"Are you sure you want to submit your Funeral Mass application?"}),e.jsxs("div",{className:"client-funeral-modal-buttons",children:[e.jsx("button",{className:"client-funeral-yes-btn",onClick:$e,children:"Yes"}),e.jsx("button",{className:"client-funeral-modal-no-btn",onClick:()=>O(!1),children:"No"})]})]})}),M&&e.jsx("div",{className:"client-funeral-modal-overlay",children:e.jsxs("div",{className:"client-funeral-modal",children:[e.jsx("h2",{children:"Success"}),e.jsx("hr",{className:"client-funeral-custom-hr"}),e.jsx("p",{children:"Your Funeral Mass application has been submitted successfully!"}),e.jsx("div",{className:"client-funeral-modal-buttons",children:e.jsx("button",{className:"client-funeral-yes-btn",onClick:()=>J(!1),children:"OK"})})]})}),K&&e.jsx("div",{className:"client-funeral-modal-overlay",children:e.jsxs("div",{className:"client-funeral-modal",children:[e.jsx("h2",{children:"Error"}),e.jsx("hr",{className:"client-funeral-custom-hr"}),e.jsx("p",{children:k}),e.jsx("div",{className:"client-funeral-modal-buttons",children:e.jsx("button",{className:"client-funeral-modal-no-btn",onClick:()=>H(!1),children:"OK"})})]})}),D&&e.jsx("div",{className:"client-funeral-modal-overlay",children:e.jsxs("div",{className:"client-funeral-modal",children:[e.jsx("h2",{children:"Processing Application"}),e.jsx("hr",{className:"client-funeral-custom-hr"}),e.jsx("p",{children:"Please wait while we submit your funeral mass application..."}),e.jsx("div",{className:"client-funeral-loading-spinner",children:e.jsx("div",{className:"client-funeral-spinner"})})]})})]})},ek=()=>{oa();const a=Jt(),[t,s]=N.useState({preferredDate:"",preferredTime:"",firstName:"",middleName:"",lastName:"",gender:"",age:"",dateOfBirth:"",contactNumber:"",emailAddress:"",placeOfBirth:"",barangay:"",street:"",municipality:"",province:"",blessingType:"house",location:"",purpose:"",notes:""}),[i,r]=N.useState({barangay:"",municipality:"",province:""}),[c,A]=N.useState(!1),[d,h]=N.useState(!1),[u,v]=N.useState(!1),[x,y]=N.useState(!1),[p,F]=N.useState(""),[b,S]=N.useState({}),[f,O]=N.useState(!1),[M,J]=N.useState(null),[K,H]=N.useState([]),[k,Y]=N.useState(!0),[D,ge]=N.useState(null),[_,X]=N.useState({barangay:[],municipality:[],province:[],birthBarangay:[],birthMunicipality:[],birthProvince:[]}),[re,fe]=N.useState([]),[Ne,ue]=N.useState([]),[_e,ce]=N.useState([]),[ye,Q]=N.useState([]),ne=async()=>{try{const ke=await aa.get("http://parishofdivinemercy.com/backend/get_location.php");ke.data.success&&H(ke.data.locations)}catch(ke){console.error("Error fetching locations:",ke)}finally{Y(!1)}},U=async()=>{try{const $e=await(await fetch("http://parishofdivinemercy.com/backend/get_blessing_applications.php")).json();$e.success&&(Q($e.applications),console.log("Existing blessing applications:",$e.applications))}catch(ke){console.error("Error fetching existing blessings:",ke)}},V=async()=>{try{const[ke,$e]=await Promise.all([fetch("http://parishofdivinemercy.com/backend/schedule.php"),fetch("http://parishofdivinemercy.com/backend/get_blessing_applications.php")]),Ae=await ke.json(),Le=await $e.json();if(Ae.success){const de=Ae.schedules.filter(ot=>ot.sacramentType.toLowerCase()==="blessing"),Me=new Set;Le.success&&Le.applications.forEach(ot=>{Me.add(`${ot.preferredDate}-${ot.preferredTime}`)});const Ie=de.filter(ot=>{const jt=`${ot.date}-${ot.time}`;return!Me.has(jt)});fe(Ie);const Ze=new Set,nt=[];Ie.forEach(ot=>{Ze.has(ot.date)||(Ze.add(ot.date),nt.push(ot.date))}),ue(nt)}}catch(ke){console.error("Error fetching blessing schedules:",ke)}};N.useEffect(()=>{V(),ne(),U()},[]),N.useEffect(()=>{if(t.preferredDate){const ke=re.filter(Ae=>Ae.date===t.preferredDate).map(Ae=>Ae.time),$e=[...new Set(ke)];ce($e),$e.includes(t.preferredTime)||s(Ae=>({...Ae,preferredTime:""}))}else ce([])},[t.preferredDate,re]);const T=(ke,$e=null,Ae=null)=>{if($e&&$e.trim()!==""){const de=K.filter(Ie=>Ie.municipality===$e),Me=[...new Set(de.map(Ie=>Ie.barangay))].sort();if(ke&&ke.trim()){const Ie=ke.toLowerCase();return Me.filter(Ze=>Ze.toLowerCase().includes(Ie))}return Me}if(Ae&&Ae.trim()!==""){const de=K.filter(Ie=>Ie.province===Ae),Me=[...new Set(de.map(Ie=>Ie.barangay))].sort();if(ke&&ke.trim()){const Ie=ke.toLowerCase();return Me.filter(Ze=>Ze.toLowerCase().includes(Ie))}return Me}if(!ke||!ke.trim())return[...new Set(K.map(de=>de.barangay))].sort().slice(0,10);const Le=ke.toLowerCase();return[...new Set(K.map(de=>de.barangay))].filter(de=>de.toLowerCase().includes(Le)).sort().slice(0,10)},ie=(ke,$e=null,Ae=null)=>{if(Ae&&Ae.trim()!==""){const de=K.filter(Ie=>Ie.barangay===Ae),Me=[...new Set(de.map(Ie=>Ie.municipality))].sort();if(ke&&ke.trim()){const Ie=ke.toLowerCase();return Me.filter(Ze=>Ze.toLowerCase().includes(Ie))}return Me}if($e&&$e.trim()!==""){const de=K.filter(Ie=>Ie.province===$e),Me=[...new Set(de.map(Ie=>Ie.municipality))].sort();if(ke&&ke.trim()){const Ie=ke.toLowerCase();return Me.filter(Ze=>Ze.toLowerCase().includes(Ie))}return Me}if(!ke||!ke.trim())return[...new Set(K.map(de=>de.municipality))].sort().slice(0,10);const Le=ke.toLowerCase();return[...new Set(K.map(de=>de.municipality))].filter(de=>de.toLowerCase().includes(Le)).sort().slice(0,10)},ae=(ke,$e=null,Ae=null)=>{if($e&&$e.trim()!==""){const de=K.filter(Ie=>Ie.municipality===$e),Me=[...new Set(de.map(Ie=>Ie.province))].sort();if(ke&&ke.trim()){const Ie=ke.toLowerCase();return Me.filter(Ze=>Ze.toLowerCase().includes(Ie))}return Me}if(Ae&&Ae.trim()!==""){const de=K.filter(Ie=>Ie.barangay===Ae),Me=[...new Set(de.map(Ie=>Ie.province))].sort();if(ke&&ke.trim()){const Ie=ke.toLowerCase();return Me.filter(Ze=>Ze.toLowerCase().includes(Ie))}return Me}if(!ke||!ke.trim())return[...new Set(K.map(de=>de.province))].sort().slice(0,10);const Le=ke.toLowerCase();return[...new Set(K.map(de=>de.province))].filter(de=>de.toLowerCase().includes(Le)).sort().slice(0,10)},P=ke=>{const $e=ke.target.value,Ae={...i,barangay:$e};r(Ae),q(Ae),D==="birthBarangay"&&X(Le=>({...Le,birthBarangay:T($e,i.municipality,i.province)}))},z=ke=>{const $e=ke.target.value,Ae={...i,municipality:$e};r(Ae),q(Ae),D==="birthMunicipality"&&X(Le=>({...Le,birthMunicipality:ie($e,i.province,i.barangay)}))},B=ke=>{const $e=ke.target.value,Ae={...i,province:$e};r(Ae),q(Ae),D==="birthProvince"&&X(Le=>({...Le,birthProvince:ae($e)}))},q=ke=>{const $e=ke.barangay!==void 0?ke.barangay:i.barangay,Ae=ke.municipality!==void 0?ke.municipality:i.municipality,Le=ke.province!==void 0?ke.province:i.province;let de=[];$e&&de.push($e),Ae&&de.push(Ae),Le&&de.push(Le);const Me=de.join(", ");Me&&s(Ie=>({...Ie,placeOfBirth:Me}))},te=ke=>{const $e={...i,barangay:ke};r($e),q($e),ge(null);const Ae=K.find(Le=>Le.barangay===ke);if(Ae){const Le={...$e};let de=!1;!$e.municipality&&Ae.municipality&&(Le.municipality=Ae.municipality,de=!0),!$e.province&&Ae.province&&(Le.province=Ae.province,de=!0),de&&(r(Le),q(Le))}},he=ke=>{const $e={...i,municipality:ke};r($e),q($e),ge(null);const Ae=K.filter(de=>de.municipality===ke),Le=[...new Set(Ae.map(de=>de.province))];if(Le.length===1&&!i.province){const de={...$e,province:Le[0]};r(de),q(de)}},W=ke=>{const $e={...i,province:ke};r($e),q($e),ge(null)},C=ke=>{const $e=ke.target.value;s(Ae=>({...Ae,barangay:$e})),D==="barangay"&&X(Ae=>({...Ae,barangay:T($e,t.municipality,t.province)}))},Z=ke=>{const $e=ke.target.value;s(Ae=>({...Ae,municipality:$e})),D==="municipality"&&X(Ae=>({...Ae,municipality:ie($e,t.province,t.barangay)}))},se=ke=>{const $e=ke.target.value;s(Ae=>({...Ae,province:$e})),D==="province"&&X(Ae=>({...Ae,province:ae($e)}))},Se=ke=>{s(Ae=>({...Ae,barangay:ke})),ge(null);const $e=K.find(Ae=>Ae.barangay===ke);$e&&(t.municipality||s(Ae=>({...Ae,municipality:$e.municipality})),t.province||s(Ae=>({...Ae,province:$e.province})))},He=ke=>{s(Le=>({...Le,municipality:ke})),ge(null);const $e=K.filter(Le=>Le.municipality===ke),Ae=[...new Set($e.map(Le=>Le.province))];Ae.length===1&&!t.province&&s(Le=>({...Le,province:Ae[0]}))},Qe=ke=>{s($e=>({...$e,province:ke})),ge(null)},qe=ke=>{switch(ge(ke),ke){case"birthBarangay":X($e=>({...$e,birthBarangay:T(i.barangay,i.municipality,i.province)}));break;case"birthMunicipality":X($e=>({...$e,birthMunicipality:ie(i.municipality,i.province,i.barangay)}));break;case"birthProvince":X($e=>({...$e,birthProvince:ae(i.province,i.municipality,i.barangay)}));break;case"barangay":X($e=>({...$e,barangay:T(t.barangay||"",t.municipality,t.province)}));break;case"municipality":X($e=>({...$e,municipality:ie(t.municipality||"",t.province,t.barangay)}));break;case"province":X($e=>({...$e,province:ae(t.province||"",t.municipality,t.barangay)}));break}};N.useEffect(()=>{const ke=$e=>{const Ae=document.querySelectorAll(".location-dropdown-container");let Le=!0;Ae.forEach(de=>{de.contains($e.target)&&(Le=!1)}),Le&&ge(null)};return document.addEventListener("mousedown",ke),()=>{document.removeEventListener("mousedown",ke)}},[]);const Ye=ke=>{const{name:$e,value:Ae}=ke.target;s({...t,[$e]:Ae})},st=()=>{const ke={};return[{name:"preferredDate",label:"Date of Blessing Ceremony"},{name:"preferredTime",label:"Time of Blessing Ceremony"},{name:"firstName",label:"First Name"},{name:"lastName",label:"Last Name"},{name:"contactNumber",label:"Contact Number"},{name:"emailAddress",label:"Email Address"},{name:"placeOfBirth",label:"Place of Birth"},{name:"barangay",label:"Barangay"},{name:"street",label:"Street"},{name:"municipality",label:"Municipality"},{name:"province",label:"Province"},{name:"purpose",label:"Purpose"}].forEach(Ae=>{(!t[Ae.name]||t[Ae.name].trim()==="")&&(ke[Ae.name]=`${Ae.label} is required`)}),ke},kt=()=>{const ke=st();Object.keys(ke).length>0?(S(ke),O(!0),setTimeout(()=>{const Ae=Object.keys(ke)[0],Le=document.querySelector(`[name="${Ae}"]`);Le&&(Le.scrollIntoView({behavior:"smooth",block:"center"}),J(Le))},100)):A(!0)},Mt=async()=>{A(!1),y(!0);try{const ke={street:t.street,barangay:t.barangay,municipality:t.municipality,province:t.province},$e={blessing_type:t.blessingType,purpose:t.purpose,note:t.notes},Ae=new FormData;Ae.append("blessingData",JSON.stringify({...t,placeOfBirth:t.placeOfBirth})),Ae.append("addressData",JSON.stringify(ke)),Ae.append("blessingTypeData",JSON.stringify($e));const de=await(await fetch("http://parishofdivinemercy.com/backend/blessing_application.php",{method:"POST",body:Ae})).json();de.success?(h(!0),y(!1),setTimeout(()=>{a("/secretary-appointment")},2e3)):(console.error("Server returned error:",de.message),F(de.message||"Failed to submit application"),v(!0),y(!1))}catch(ke){console.error("Error submitting form:",ke),F(ke.message||"Error submitting application"),v(!0),y(!1)}};return e.jsxs("div",{className:"client-blessing-container",children:[e.jsx("div",{className:"client-blessing-header",children:e.jsxs("div",{className:"client-blessing-back-button",onClick:()=>a("/client-appointment"),children:[e.jsx(Oa,{})," Back"]})}),e.jsx("h1",{className:"client-blessing-title",children:"Blessing Application Form"}),e.jsxs("div",{className:"client-blessing-data",children:[e.jsxs("div",{className:"client-blessing-row-date",children:[e.jsxs("div",{className:"client-blessing-field-date",children:[e.jsxs("label",{children:["Date of Appointment ",e.jsx("span",{className:"required-marker",children:"*"})]}),e.jsxs("select",{name:"preferredDate",className:f&&b.preferredDate?"input-error":"",value:t.preferredDate,onChange:ke=>s($e=>({...$e,preferredDate:ke.target.value,preferredTime:""})),children:[e.jsx("option",{value:"",children:"Select Date"}),Ne.map(ke=>e.jsx("option",{value:ke,children:ke},ke))]})]}),e.jsxs("div",{className:"client-blessing-field-time",children:[e.jsxs("label",{children:["Time of Appointment ",e.jsx("span",{className:"required-marker",children:"*"})]}),e.jsxs("select",{name:"preferredTime",className:f&&b.preferredTime?"input-error":"",value:t.preferredTime,onChange:ke=>s($e=>({...$e,preferredTime:ke.target.value})),disabled:!t.preferredDate,children:[e.jsx("option",{value:"",children:"Select Time"}),_e.map(ke=>e.jsx("option",{value:ke,children:ke},ke))]})]})]}),e.jsxs("div",{className:"client-blessing-bypart",children:[e.jsx("h2",{className:"client-blessing-section-title",children:"Personal Information"}),e.jsxs("div",{className:"client-blessing-row",children:[e.jsxs("div",{className:`client-blessing-field ${f&&b.firstName?"field-error":""}`,children:[e.jsxs("label",{children:["First Name ",e.jsx("span",{className:"required-marker",children:"*"})]}),e.jsx("input",{type:"text",name:"firstName",value:t.firstName,onChange:Ye,className:f&&b.firstName?"input-error":""})]}),e.jsxs("div",{className:"client-blessing-field",children:[e.jsx("label",{children:"Middle Name"}),e.jsx("input",{type:"text",name:"middleName",value:t.middleName,onChange:Ye})]}),e.jsxs("div",{className:`client-blessing-field ${f&&b.lastName?"field-error":""}`,children:[e.jsxs("label",{children:["Last Name ",e.jsx("span",{className:"required-marker",children:"*"})]}),e.jsx("input",{type:"text",name:"lastName",value:t.lastName,onChange:Ye,className:f&&b.lastName?"input-error":""})]}),e.jsxs("div",{className:`client-blessing-field ${f&&b.contactNumber?"field-error":""}`,children:[e.jsxs("label",{children:["Contact Number ",e.jsx("span",{className:"required-marker",children:"*"})]}),e.jsx("input",{type:"tel",name:"contactNumber",value:t.contactNumber,onChange:Ye,className:f&&b.contactNumber?"input-error":""})]})]}),e.jsx("div",{className:"client-blessing-row",children:e.jsxs("div",{className:`client-blessing-field ${f&&b.emailAddress?"field-error":""}`,children:[e.jsxs("label",{children:["Email Address ",e.jsx("span",{className:"required-marker",children:"*"})]}),e.jsx("input",{type:"email",name:"emailAddress",value:t.emailAddress,onChange:Ye,className:f&&b.emailAddress?"input-error":""})]})}),e.jsxs("label",{className:"sub-cc",children:["Place of Birth ",e.jsx("span",{className:"required-marker",children:"*"})]}),e.jsxs("div",{className:"client-blessing-row",children:[e.jsxs("div",{className:`client-blessing-field location-dropdown-container ${f&&b.placeOfBirth?"field-error":""}`,children:[e.jsx("label",{children:"Birth Barangay"}),e.jsx("input",{type:"text",placeholder:"Type to search",value:i.barangay,onChange:P,onFocus:()=>qe("birthBarangay"),className:f&&b.placeOfBirth?"input-error":""}),D==="birthBarangay"&&_.birthBarangay.length>0&&e.jsx("div",{className:"location-dropdown",children:_.birthBarangay.map((ke,$e)=>e.jsx("div",{onClick:()=>te(ke),className:"location-dropdown-item",children:ke},$e))})]}),e.jsxs("div",{className:`client-blessing-field location-dropdown-container ${f&&b.placeOfBirth?"field-error":""}`,children:[e.jsx("label",{children:"Birth Municipality"}),e.jsx("input",{type:"text",placeholder:"Type to search",value:i.municipality,onChange:z,onFocus:()=>qe("birthMunicipality"),className:f&&b.placeOfBirth?"input-error":""}),D==="birthMunicipality"&&_.birthMunicipality.length>0&&e.jsx("div",{className:"location-dropdown",children:_.birthMunicipality.map((ke,$e)=>e.jsx("div",{onClick:()=>he(ke),className:"location-dropdown-item",children:ke},$e))})]}),e.jsxs("div",{className:`client-blessing-field location-dropdown-container ${f&&b.placeOfBirth?"field-error":""}`,children:[e.jsx("label",{children:"Birth Province"}),e.jsx("input",{type:"text",placeholder:"Type to search",value:i.province,onChange:B,onFocus:()=>qe("birthProvince"),className:f&&b.placeOfBirth?"input-error":""}),D==="birthProvince"&&_.birthProvince.length>0&&e.jsx("div",{className:"location-dropdown",children:_.birthProvince.map((ke,$e)=>e.jsx("div",{onClick:()=>W(ke),className:"location-dropdown-item",children:ke},$e))})]})]}),e.jsxs("label",{className:"sub-cc",children:["Current Address ",e.jsx("span",{className:"required-marker",children:"*"})]}),e.jsxs("div",{className:"client-blessing-row",children:[e.jsxs("div",{className:`client-blessing-field ${f&&b.street?"field-error":""}`,children:[e.jsxs("label",{children:["Street ",e.jsx("span",{className:"required-marker",children:"*"})]}),e.jsx("input",{name:"street",value:t.street||"",onChange:Ye,placeholder:"Street",autoComplete:"off",className:f&&b.street?"input-error":""})]}),e.jsxs("div",{className:`client-blessing-field location-dropdown-container ${f&&b.barangay?"field-error":""}`,children:[e.jsxs("label",{children:["Barangay ",e.jsx("span",{className:"required-marker",children:"*"})]}),e.jsx("input",{name:"barangay",value:t.barangay||"",onChange:C,onFocus:()=>qe("barangay"),placeholder:"Type to search",autoComplete:"off",className:f&&b.barangay?"input-error":""}),D==="barangay"&&_.barangay.length>0&&e.jsx("div",{className:"location-dropdown",children:_.barangay.map((ke,$e)=>e.jsx("div",{onClick:()=>Se(ke),className:"location-dropdown-item",children:ke},$e))})]}),e.jsxs("div",{className:`client-blessing-field location-dropdown-container ${f&&b.municipality?"field-error":""}`,children:[e.jsxs("label",{children:["Municipality ",e.jsx("span",{className:"required-marker",children:"*"})]}),e.jsx("input",{name:"municipality",value:t.municipality||"",onChange:Z,onFocus:()=>qe("municipality"),placeholder:"Type to search",autoComplete:"off",className:f&&b.municipality?"input-error":""}),D==="municipality"&&_.municipality.length>0&&e.jsx("div",{className:"location-dropdown",children:_.municipality.map((ke,$e)=>e.jsx("div",{onClick:()=>He(ke),className:"location-dropdown-item",children:ke},$e))})]}),e.jsxs("div",{className:`client-blessing-field location-dropdown-container ${f&&b.province?"field-error":""}`,children:[e.jsxs("label",{children:["Province ",e.jsx("span",{className:"required-marker",children:"*"})]}),e.jsx("input",{name:"province",value:t.province||"",onChange:se,onFocus:()=>qe("province"),placeholder:"Type to search",autoComplete:"off",className:f&&b.province?"input-error":""}),D==="province"&&_.province.length>0&&e.jsx("div",{className:"location-dropdown",children:_.province.map((ke,$e)=>e.jsx("div",{onClick:()=>Qe(ke),className:"location-dropdown-item",children:ke},$e))})]})]}),e.jsxs("div",{className:"client-blessing-row",children:[e.jsxs("div",{className:"client-blessing-field",children:[e.jsxs("label",{children:["Blessing Type ",e.jsx("span",{className:"required-marker",children:"*"})]}),e.jsxs("select",{name:"blessingType",value:t.blessingType,onChange:Ye,children:[e.jsx("option",{value:"house",children:"House Blessing"}),e.jsx("option",{value:"business",children:"Business Blessing"}),e.jsx("option",{value:"car",children:"Car Blessing"})]})]}),e.jsxs("div",{className:`client-blessing-field ${f&&b.purpose?"field-error":""}`,children:[e.jsxs("label",{children:["Purpose ",e.jsx("span",{className:"required-marker",children:"*"})]}),e.jsx("input",{type:"text",name:"purpose",value:t.purpose,onChange:Ye,placeholder:"Brief description of the purpose for the blessing",className:f&&b.purpose?"input-error":""})]})]}),e.jsx("div",{className:"client-blessing-row",children:e.jsxs("div",{className:"client-blessing-field",children:[e.jsx("label",{children:"Notes"}),e.jsx("textarea",{name:"notes",value:t.notes,onChange:Ye,placeholder:"Additional information or special requests",className:"client-blessing-textarea"})]})})]}),e.jsxs("div",{className:"client-blessing-button-container",children:[e.jsx("button",{className:"client-blessing-submit-btn",onClick:kt,children:"Submit"}),e.jsx("button",{className:"client-blessing-cancel-btn",onClick:()=>a("/client-appointment"),children:"Cancel"})]})]}),c&&e.jsx("div",{className:"client-blessing-modal-overlay",children:e.jsxs("div",{className:"client-blessing-modal",children:[e.jsx("h2",{children:"Submit Application"}),e.jsx("hr",{className:"client-blessing-custom-hr"}),e.jsxs("p",{children:["Are you sure you want to submit your ",t.blessingType.charAt(0).toUpperCase()+t.blessingType.slice(1)," Blessing application?"]}),e.jsxs("div",{className:"client-blessing-modal-buttons",children:[e.jsx("button",{className:"client-blessing-yes-btn",onClick:Mt,children:"Yes"}),e.jsx("button",{className:"client-blessing-modal-no-btn",onClick:()=>A(!1),children:"No"})]})]})}),d&&e.jsx("div",{className:"client-blessing-modal-overlay",children:e.jsxs("div",{className:"client-blessing-modal",children:[e.jsx("h2",{children:"Success"}),e.jsx("hr",{className:"client-blessing-custom-hr"}),e.jsx("p",{children:"Your blessing application has been submitted successfully!"}),e.jsx("div",{className:"client-blessing-modal-buttons",children:e.jsx("button",{className:"client-blessing-yes-btn",onClick:()=>{h(!1),a("/client-appointment")},children:"OK"})})]})}),u&&e.jsx("div",{className:"client-blessing-modal-overlay",children:e.jsxs("div",{className:"client-blessing-modal",children:[e.jsx("h2",{children:"Error"}),e.jsx("hr",{className:"client-blessing-custom-hr"}),e.jsx("p",{children:p}),e.jsx("div",{className:"client-blessing-modal-buttons",children:e.jsx("button",{className:"client-blessing-modal-no-btn",onClick:()=>{v(!1),F("")},children:"OK"})})]})}),x&&e.jsx("div",{className:"client-blessing-modal-overlay",children:e.jsxs("div",{className:"client-blessing-modal",children:[e.jsx("h2",{children:"Processing Application"}),e.jsx("hr",{className:"client-blessing-custom-hr"}),e.jsx("p",{children:"Please wait while we submit your blessing application..."}),e.jsx("div",{className:"client-blessing-loading-spinner",children:e.jsx("div",{className:"client-blessing-spinner"})})]})})]})},tk=()=>{oa();const a=Jt(),[t,s]=N.useState({date:"",time:"",first_name:"",middle_name:"",last_name:"",gender:"",age:"",dateOfBirth:"",dateOfBaptism:"",churchOfBaptism:"",placeOfBirth:"",street:"",barangay:"",municipality:"",province:"",region:"",father_first_name:"",father_middle_name:"",father_last_name:"",father_dateOfBirth:"",father_placeOfBirth:"",father_contact:"",mother_first_name:"",mother_middle_name:"",mother_last_name:"",mother_dateOfBirth:"",mother_placeOfBirth:"",mother_contact:""}),[i,r]=N.useState({barangay:"",municipality:"",province:""}),[c,A]=N.useState({barangay:"",municipality:"",province:""}),[d,h]=N.useState({barangay:"",municipality:"",province:""}),[u,v]=N.useState({baptism_cert:{file:null,status:"Not Submitted"},first_communion_cert:{file:null,status:"Not Submitted"},birth_cert:{file:null,status:"Not Submitted"}});N.useRef(null),N.useRef(null),N.useRef(null);const[x,y]=N.useState([]),[p,F]=N.useState(!0),[b,S]=N.useState(null),[f,O]=N.useState({barangay:[],municipality:[],province:[],birthBarangay:[],birthMunicipality:[],birthProvince:[],fatherBirthBarangay:[],fatherBirthMunicipality:[],fatherBirthProvince:[],motherBirthBarangay:[],motherBirthMunicipality:[],motherBirthProvince:[],region:[]}),[M,J]=N.useState([]),[K,H]=N.useState([]),[k,Y]=N.useState([]),[D,ge]=N.useState([]),[_,X]=N.useState([]),[re,fe]=N.useState([]),[Ne,ue]=N.useState(!1),[_e,ce]=N.useState(!1),[ye,Q]=N.useState(!1),[ne,U]=N.useState(""),[V,T]=N.useState(!1),[ie,ae]=N.useState({}),[P,z]=N.useState(!1),[B,q]=N.useState(null),te=async()=>{try{const be=await aa.get("http://parishofdivinemercy.com/backend/get_location.php");be.data.success&&y(be.data.locations)}catch(be){console.error("Error fetching locations:",be)}finally{F(!1)}};N.useEffect(()=>{he(),W(),te()},[]);const he=async()=>{try{const[be,R]=await Promise.all([fetch("http://parishofdivinemercy.com/backend/schedule.php"),fetch("http://parishofdivinemercy.com/backend/get_communion_applications.php")]),G=await be.json(),oe=await R.json();if(G.success){const ee=G.schedules.filter(We=>We.sacramentType.toLowerCase()==="communion");oe.success&&fe(oe.applications);const me=new Set;oe.success&&oe.applications.forEach(We=>{me.add(`${We.date}-${We.time}`)});const $=ee.filter(We=>{const ut=`${We.date}-${We.time}`;return!me.has(ut)});J($);const ve=new Set,Pe=[];$.forEach(We=>{ve.has(We.date)||(ve.add(We.date),Pe.push(We.date))}),Y(Pe)}}catch(be){console.error("Error fetching communion schedules:",be)}},W=async()=>{try{const R=await(await fetch("http://parishofdivinemercy.com/backend/parish.php")).json();R.success&&H(R.parishes)}catch(be){console.error("Error fetching priests:",be)}};N.useEffect(()=>{if(t.date){const be=M.filter(G=>G.date===t.date).map(G=>G.time),R=[...new Set(be)];ge(R),R.includes(t.time)||s(G=>({...G,time:""}))}else ge([])},[t.date,M]),N.useEffect(()=>{if(t.date&&t.time){const be=M.filter(G=>G.date===t.date&&G.time===t.time).map(G=>G.parishName),R=[...new Set(be)];X(R),R.includes(t.priest)||s(G=>({...G,priest:""}))}else X([])},[t.date,t.time,M]);const C=(be,R=null,G=null)=>{if(R&&R.trim()!==""){const ee=x.filter($=>$.municipality===R),me=[...new Set(ee.map($=>$.barangay))].sort();if(be&&be.trim()){const $=be.toLowerCase();return me.filter(ve=>ve.toLowerCase().includes($))}return me}if(G&&G.trim()!==""){const ee=x.filter($=>$.province===G),me=[...new Set(ee.map($=>$.barangay))].sort();if(be&&be.trim()){const $=be.toLowerCase();return me.filter(ve=>ve.toLowerCase().includes($))}return me}if(!be||!be.trim())return[...new Set(x.map(ee=>ee.barangay))].sort().slice(0,10);const oe=be.toLowerCase();return[...new Set(x.map(ee=>ee.barangay))].filter(ee=>ee.toLowerCase().includes(oe)).sort().slice(0,10)},Z=(be,R=null,G=null)=>{if(G&&G.trim()!==""){const ee=x.filter($=>$.barangay===G),me=[...new Set(ee.map($=>$.municipality))].sort();if(be&&be.trim()){const $=be.toLowerCase();return me.filter(ve=>ve.toLowerCase().includes($))}return me}if(R&&R.trim()!==""){const ee=x.filter($=>$.province===R),me=[...new Set(ee.map($=>$.municipality))].sort();if(be&&be.trim()){const $=be.toLowerCase();return me.filter(ve=>ve.toLowerCase().includes($))}return me}if(!be||!be.trim())return[...new Set(x.map(ee=>ee.municipality))].sort().slice(0,10);const oe=be.toLowerCase();return[...new Set(x.map(ee=>ee.municipality))].filter(ee=>ee.toLowerCase().includes(oe)).sort().slice(0,10)},se=(be,R=null,G=null)=>{if(R&&R.trim()!==""){const ee=x.filter($=>$.municipality===R),me=[...new Set(ee.map($=>$.province))].sort();if(be&&be.trim()){const $=be.toLowerCase();return me.filter(ve=>ve.toLowerCase().includes($))}return me}if(G&&G.trim()!==""){const ee=x.filter($=>$.barangay===G),me=[...new Set(ee.map($=>$.province))].sort();if(be&&be.trim()){const $=be.toLowerCase();return me.filter(ve=>ve.toLowerCase().includes($))}return me}if(!be||!be.trim())return[...new Set(x.map(ee=>ee.province))].sort().slice(0,10);const oe=be.toLowerCase();return[...new Set(x.map(ee=>ee.province))].filter(ee=>ee.toLowerCase().includes(oe)).sort().slice(0,10)},Se=(be="")=>{const R=be.toLowerCase(),G=["NCR - National Capital Region","CAR - Cordillera Administrative Region","Region I - Ilocos Region","Region II - Cagayan Valley","Region III - Central Luzon","Region IV-A - CALABARZON","Region IV-B - MIMAROPA","Region V - Bicol Region","Region VI - Western Visayas","Region VII - Central Visayas","Region VIII - Eastern Visayas","Region IX - Zamboanga Peninsula","Region X - Northern Mindanao","Region XI - Davao Region","Region XII - SOCCSKSARGEN","Region XIII - Caraga","BARMM - Bangsamoro Autonomous Region in Muslim Mindanao"];return!be||!be.trim()?G.slice(0,10):G.filter(oe=>oe.toLowerCase().includes(R)).slice(0,10)},He=be=>{const R=be.barangay!==void 0?be.barangay:i.barangay,G=be.municipality!==void 0?be.municipality:i.municipality,oe=be.province!==void 0?be.province:i.province;let ee=[];R&&ee.push(R),G&&ee.push(G),oe&&ee.push(oe);const me=ee.join(", ");me&&s($=>({...$,placeOfBirth:me}))},Qe=be=>{const R=be.barangay!==void 0?be.barangay:c.barangay,G=be.municipality!==void 0?be.municipality:c.municipality,oe=be.province!==void 0?be.province:c.province;let ee=[];R&&ee.push(R),G&&ee.push(G),oe&&ee.push(oe);const me=ee.join(", ");me&&s($=>({...$,father_placeOfBirth:me}))},qe=be=>{const R=be.barangay!==void 0?be.barangay:d.barangay,G=be.municipality!==void 0?be.municipality:d.municipality,oe=be.province!==void 0?be.province:d.province;let ee=[];R&&ee.push(R),G&&ee.push(G),oe&&ee.push(oe);const me=ee.join(", ");me&&s($=>({...$,mother_placeOfBirth:me}))},Ye=be=>{const R=be.target.value,G={...i,barangay:R};r(G),He(G),b==="birthBarangay"&&O(oe=>({...oe,birthBarangay:C(R,i.municipality,i.province)}))},st=be=>{const R=be.target.value,G={...i,municipality:R};r(G),He(G),b==="birthMunicipality"&&O(oe=>({...oe,birthMunicipality:Z(R,i.province,i.barangay)}))},kt=be=>{const R=be.target.value,G={...i,province:R};r(G),He(G),b==="birthProvince"&&O(oe=>({...oe,birthProvince:se(R)}))},Mt=be=>{const R={...i,barangay:be};r(R),He(R),S(null);const G=x.find(oe=>oe.barangay===be);if(G){const oe={...R};let ee=!1;!R.municipality&&G.municipality&&(oe.municipality=G.municipality,ee=!0),!R.province&&G.province&&(oe.province=G.province,ee=!0),ee&&(r(oe),He(oe))}},ke=be=>{const R={...i,municipality:be};r(R),He(R),S(null);const G=x.filter(ee=>ee.municipality===be),oe=[...new Set(G.map(ee=>ee.province))];if(oe.length===1&&!i.province){const ee={...R,province:oe[0]};r(ee),He(ee)}},$e=be=>{const R={...i,province:be};r(R),He(R),S(null)},Ae=be=>{const R=be.target.value,G={...c,barangay:R};A(G),Qe(G),b==="fatherBirthBarangay"&&O(oe=>({...oe,fatherBirthBarangay:C(R,c.municipality,c.province)}))},Le=be=>{const R=be.target.value,G={...c,municipality:R};A(G),Qe(G),b==="fatherBirthMunicipality"&&O(oe=>({...oe,fatherBirthMunicipality:Z(R,c.province,c.barangay)}))},de=be=>{const R=be.target.value,G={...c,province:R};A(G),Qe(G),b==="fatherBirthProvince"&&O(oe=>({...oe,fatherBirthProvince:se(R)}))},Me=be=>{const R={...c,barangay:be};A(R),Qe(R),S(null);const G=x.find(oe=>oe.barangay===be);if(G){const oe={...R};let ee=!1;!R.municipality&&G.municipality&&(oe.municipality=G.municipality,ee=!0),!R.province&&G.province&&(oe.province=G.province,ee=!0),ee&&(A(oe),Qe(oe))}},Ie=be=>{const R={...c,municipality:be};A(R),Qe(R);const G=x.find(oe=>oe.municipality===be);if(G&&!c.province){const oe={...R,province:G.province};A(oe),Qe(oe)}S(null)},Ze=be=>{const R={...c,province:be};A(R),Qe(R),S(null)},nt=be=>{const R=be.target.value,G={...d,barangay:R};h(G),qe(G),b==="motherBirthBarangay"&&O(oe=>({...oe,motherBirthBarangay:C(R,d.municipality,d.province)}))},ot=be=>{const R=be.target.value,G={...d,municipality:R};h(G),qe(G),b==="motherBirthMunicipality"&&O(oe=>({...oe,motherBirthMunicipality:Z(R,d.province,d.barangay)}))},jt=be=>{const R=be.target.value,G={...d,province:R};h(G),qe(G),b==="motherBirthProvince"&&O(oe=>({...oe,motherBirthProvince:se(R)}))},ft=be=>{const R={...d,barangay:be};h(R),qe(R),S(null);const G=x.find(oe=>oe.barangay===be);if(G){const oe={...R};let ee=!1;!R.municipality&&G.municipality&&(oe.municipality=G.municipality,ee=!0),!R.province&&G.province&&(oe.province=G.province,ee=!0),ee&&(h(oe),qe(oe))}},It=be=>{const R={...d,municipality:be};h(R),qe(R);const G=x.find(oe=>oe.municipality===be);if(G&&!d.province){const oe={...R,province:G.province};h(oe),qe(oe)}S(null)},Ke=be=>{const R={...d,province:be};h(R),qe(R),S(null)},it=be=>{const R=be.target.value;s(G=>({...G,region:R})),b==="region"&&O(G=>({...G,region:Se(R)}))},De=be=>{s(R=>({...R,region:be})),S(null)},Be=be=>{switch(S(be),be){case"birthBarangay":O(R=>({...R,birthBarangay:C(i.barangay,i.municipality,i.province)}));break;case"birthMunicipality":O(R=>({...R,birthMunicipality:Z(i.municipality,i.province)}));break;case"birthProvince":O(R=>({...R,birthProvince:se(i.province)}));break;case"fatherBirthBarangay":O(R=>({...R,fatherBirthBarangay:C(c.barangay,c.municipality,c.province)}));break;case"fatherBirthMunicipality":O(R=>({...R,fatherBirthMunicipality:Z(c.municipality,c.province)}));break;case"fatherBirthProvince":O(R=>({...R,fatherBirthProvince:se(c.province)}));break;case"motherBirthBarangay":O(R=>({...R,motherBirthBarangay:C(d.barangay,d.municipality,d.province)}));break;case"motherBirthMunicipality":O(R=>({...R,motherBirthMunicipality:Z(d.municipality,d.province)}));break;case"motherBirthProvince":O(R=>({...R,motherBirthProvince:se(d.province)}));break;case"barangay":O(R=>({...R,barangay:C(t.barangay||"",t.municipality,t.province)}));break;case"municipality":O(R=>({...R,municipality:Z(t.municipality||"",t.province)}));break;case"province":O(R=>({...R,province:se(t.province||"")}));break;case"region":O(R=>({...R,region:Se(t.region||"")}));break;case"father_region":O(R=>({...R,father_region:Se(t.father_region||"")}));break;case"mother_region":O(R=>({...R,mother_region:Se(t.mother_region||"")}));break;case"pob_region":O(R=>({...R,pob_region:Se(t.pob_region||"")}));break}};N.useEffect(()=>{const be=R=>{const G=document.querySelectorAll(".location-dropdown-container");let oe=!0;G.forEach(ee=>{ee.contains(R.target)&&(oe=!1)}),oe&&S(null)};return document.addEventListener("mousedown",be),()=>{document.removeEventListener("mousedown",be)}},[]);const pe=(be,R)=>{if(s(G=>({...G,[be]:R})),be==="dateOfBirth"){const G=new Date,oe=new Date(R);let ee=G.getFullYear()-oe.getFullYear();const me=G.getMonth()-oe.getMonth();(me<0||me===0&&G.getDate()<oe.getDate())&&ee--,s($=>({...$,age:ee.toString()}))}},we=be=>{const{name:R,value:G}=be.target;s(oe=>({...oe,[R]:G}))},ze=be=>{const R=be.target.value;s(G=>({...G,barangay:R})),b==="barangay"&&O(G=>({...G,barangay:C(R,t.municipality,t.province)}))},Xe=be=>{const R=be.target.value;s(G=>({...G,municipality:R})),b==="municipality"&&O(G=>({...G,municipality:Z(R,t.province,t.barangay)}))},wt=be=>{const R=be.target.value;s(G=>({...G,province:R})),b==="province"&&O(G=>({...G,province:se(R)}))},yt=be=>{s(G=>({...G,barangay:be})),S(null);const R=x.find(G=>G.barangay===be);R&&(t.municipality||s(G=>({...G,municipality:R.municipality})),t.province||s(G=>({...G,province:R.province})))},Qt=be=>{s(oe=>({...oe,municipality:be})),S(null);const R=x.filter(oe=>oe.municipality===be),G=[...new Set(R.map(oe=>oe.province))];G.length===1&&!t.province&&s(oe=>({...oe,province:G[0]}))},ta=be=>{s(R=>({...R,province:be})),S(null)},Ft=()=>{const be={};return[{name:"date",label:"Date of Holy Communion"},{name:"time",label:"Time of Holy Communion"},{name:"first_name",label:"First Name"},{name:"last_name",label:"Last Name"},{name:"gender",label:"Gender"},{name:"dateOfBirth",label:"Date of Birth"},{name:"dateOfBaptism",label:"Date of Baptism"},{name:"churchOfBaptism",label:"Church of Baptism"},{name:"placeOfBirth",label:"Place of Birth"},{name:"barangay",label:"Barangay"},{name:"street",label:"Street"},{name:"municipality",label:"Municipality"},{name:"province",label:"Province"},{name:"father_first_name",label:"Father's First Name"},{name:"father_last_name",label:"Father's Last Name"},{name:"mother_first_name",label:"Mother's First Name"},{name:"mother_last_name",label:"Mother's Last Name"}].forEach(G=>{(!t[G.name]||t[G.name].trim()==="")&&(be[G.name]=`${G.label} is required`)}),be},Aa=()=>{const be=Ft();if(Object.keys(be).length>0){ae(be),z(!0),setTimeout(()=>{const me=Object.keys(be)[0],$=document.querySelector(`[name="${me}"]`);$&&($.scrollIntoView({behavior:"smooth",block:"center"}),q($))},100);return}const G=t.date,oe=t.time;if(re.find(me=>me.date===G&&me.time===oe)){U("This schedule is already booked. Please select a different date or time."),Q(!0);return}ue(!0)},Ue=async()=>{ue(!1),T(!0),console.log("Starting form submission...");try{const be=new FormData;be.append("applicationData",JSON.stringify(t)),be.append("addressData",JSON.stringify({street:t.street,barangay:t.barangay,municipality:t.municipality,province:t.province,region:t.region})),be.append("fatherData",JSON.stringify({first_name:t.father_first_name,middle_name:t.father_middle_name,last_name:t.father_last_name,dateOfBirth:t.father_dateOfBirth,placeOfBirth:t.father_placeOfBirth,contact_number:t.father_contact})),be.append("motherData",JSON.stringify({first_name:t.mother_first_name,middle_name:t.mother_middle_name,last_name:t.mother_last_name,dateOfBirth:t.mother_dateOfBirth,placeOfBirth:t.mother_placeOfBirth,contact_number:t.mother_contact})),Object.keys(u).forEach(ee=>{u[ee].file&&be.append(ee,u[ee].file),be.append(`${ee}_status`,u[ee].status)}),console.log("Sending form data to backend...");const G=await(await fetch("http://parishofdivinemercy.com/backend/communion_application.php",{method:"POST",body:be})).text();console.log("Raw response:",G);let oe;try{oe=JSON.parse(G)}catch{throw console.error("Failed to parse response as JSON:",G),new Error("Invalid response from server")}console.log("Parsed response:",oe),oe.success?(console.log("Application submitted successfully, sending email..."),ce(!0),T(!1),setTimeout(()=>{a("/secretary-appointment")},2e3)):(console.error("Application submission failed:",oe.message),U(oe.message||"Failed to submit application"),Q(!0),T(!1))}catch(be){console.error("Error submitting form:",be),U(be.message||"Error submitting application"),Q(!0),T(!1)}};return e.jsxs("div",{className:"client-communion-container",children:[e.jsx("div",{className:"client-communion-header",children:e.jsx("div",{className:"client-communion-left-section",children:e.jsxs("button",{className:"client-communion-back-button",onClick:()=>window.history.back(),children:[e.jsx(Oa,{className:"client-communion-back-icon"})," Back"]})})}),e.jsx("h1",{className:"client-communion-title",children:"Communion Application Form"}),e.jsxs("div",{className:"client-communion-data",children:[e.jsxs("div",{className:"client-communion-row-date",children:[e.jsxs("div",{className:"client-communion-field-date",children:[e.jsxs("label",{children:["Date of Appointment ",e.jsx("span",{className:"required-marker",children:"*"})]}),e.jsxs("select",{name:"date",value:t.date,onChange:be=>s(R=>({...R,date:be.target.value})),className:P&&ie.date?"input-error":"",children:[e.jsx("option",{value:"",children:"Select Date"}),k.map(be=>e.jsx("option",{value:be,children:new Date(be).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})},be))]})]}),e.jsxs("div",{className:"client-communion-field-time",children:[e.jsxs("label",{children:["Time of Appointment ",e.jsx("span",{className:"required-marker",children:"*"})]}),e.jsxs("select",{name:"time",value:t.time,onChange:be=>s(R=>({...R,time:be.target.value})),disabled:!t.date,className:P&&ie.time?"input-error":"",children:[e.jsx("option",{value:"",children:"Select Time"}),D.map(be=>e.jsx("option",{value:be,children:be},be))]})]})]}),e.jsxs("div",{className:"client-communion-bypart",children:[e.jsx("h3",{className:"client-communion-sub-title",children:"Personal Information"}),e.jsxs("div",{className:"client-communion-row",children:[e.jsxs("div",{className:`client-communion-field ${P&&ie.first_name?"field-error":""}`,children:[e.jsxs("label",{children:["First Name ",e.jsx("span",{className:"required-marker",children:"*"})]}),e.jsx("input",{name:"first_name",value:t.first_name,onChange:we,className:P&&ie.first_name?"input-error":""})]}),e.jsxs("div",{className:"client-communion-field",children:[e.jsx("label",{children:"Middle Name"}),e.jsx("input",{name:"middle_name",value:t.middle_name,onChange:we})]}),e.jsxs("div",{className:`client-communion-field ${P&&ie.last_name?"field-error":""}`,children:[e.jsxs("label",{children:["Last Name ",e.jsx("span",{className:"required-marker",children:"*"})]}),e.jsx("input",{name:"last_name",value:t.last_name,onChange:we,className:P&&ie.last_name?"input-error":""})]}),e.jsxs("div",{className:`client-communion-field ${P&&ie.dateOfBirth?"field-error":""}`,children:[e.jsxs("label",{children:["Date of Birth ",e.jsx("span",{className:"required-marker",children:"*"})]}),e.jsx("input",{name:"dateOfBirth",type:"date",onChange:be=>pe("dateOfBirth",be.target.value),className:`date-input ${P&&ie.dateOfBirth?"input-error":""}`})]})]}),e.jsxs("div",{className:"client-communion-row",children:[e.jsxs("div",{className:"client-communion-field",children:[e.jsx("label",{children:"Age"}),e.jsx("input",{name:"age",value:t.age,onChange:we})]}),e.jsxs("div",{className:`client-communion-field ${P&&ie.gender?"field-error":""}`,children:[e.jsxs("label",{children:["Gender ",e.jsx("span",{className:"required-marker",children:"*"})]}),e.jsxs("select",{name:"gender",value:t.gender,onChange:we,className:P&&ie.gender?"input-error":"",children:[e.jsx("option",{value:"",children:"Select"}),e.jsx("option",{value:"Male",children:"Male"}),e.jsx("option",{value:"Female",children:"Female"})]})]}),e.jsxs("div",{className:`client-communion-field ${P&&ie.dateOfBaptism?"field-error":""}`,children:[e.jsxs("label",{children:["Date of Baptism ",e.jsx("span",{className:"required-marker",children:"*"})]}),e.jsx("input",{name:"dateOfBaptism",type:"date",onChange:be=>pe("dateOfBaptism",be.target.value),className:`date-input ${P&&ie.dateOfBaptism?"input-error":""}`})]}),e.jsxs("div",{className:`client-communion-field ${P&&ie.churchOfBaptism?"field-error":""}`,children:[e.jsxs("label",{children:["Church of Baptism ",e.jsx("span",{className:"required-marker",children:"*"})]}),e.jsx("input",{name:"churchOfBaptism",value:t.churchOfBaptism,onChange:we,className:P&&ie.churchOfBaptism?"input-error":""})]})]}),e.jsxs("label",{className:"sub-cc",children:["Place of Birth ",e.jsx("span",{className:"required-marker",children:"*"})]}),e.jsxs("div",{className:"client-communion-row",children:[e.jsxs("div",{className:`client-communion-field location-dropdown-container ${P&&ie.placeOfBirth?"field-error":""}`,children:[e.jsx("label",{children:"Birth Barangay"}),e.jsx("input",{type:"text",placeholder:"Type to search",value:i.barangay,onChange:Ye,onFocus:()=>Be("birthBarangay"),className:P&&ie.placeOfBirth?"input-error":""}),b==="birthBarangay"&&f.birthBarangay.length>0&&e.jsx("div",{className:"location-dropdown",children:f.birthBarangay.map((be,R)=>e.jsx("div",{onClick:()=>Mt(be),className:"location-dropdown-item",children:be},R))})]}),e.jsxs("div",{className:`client-communion-field location-dropdown-container ${P&&ie.placeOfBirth?"field-error":""}`,children:[e.jsx("label",{children:"Birth Municipality"}),e.jsx("input",{type:"text",placeholder:"Type to search",value:i.municipality,onChange:st,onFocus:()=>Be("birthMunicipality"),className:P&&ie.placeOfBirth?"input-error":""}),b==="birthMunicipality"&&f.birthMunicipality.length>0&&e.jsx("div",{className:"location-dropdown",children:f.birthMunicipality.map((be,R)=>e.jsx("div",{onClick:()=>ke(be),className:"location-dropdown-item",children:be},R))})]}),e.jsxs("div",{className:`client-communion-field location-dropdown-container ${P&&ie.placeOfBirth?"field-error":""}`,children:[e.jsx("label",{children:"Birth Province"}),e.jsx("input",{type:"text",placeholder:"Type to search",value:i.province,onChange:kt,onFocus:()=>Be("birthProvince"),className:P&&ie.placeOfBirth?"input-error":""}),b==="birthProvince"&&f.birthProvince.length>0&&e.jsx("div",{className:"location-dropdown",children:f.birthProvince.map((be,R)=>e.jsx("div",{onClick:()=>$e(be),className:"location-dropdown-item",children:be},R))})]})]}),e.jsxs("label",{className:"sub-cc",children:["Home Address ",e.jsx("span",{className:"required-marker",children:"*"})]}),e.jsxs("div",{className:"client-communion-row",children:[e.jsxs("div",{className:`client-communion-field ${P&&ie.street?"field-error":""}`,children:[e.jsxs("label",{children:["Street ",e.jsx("span",{className:"required-marker",children:"*"})]}),e.jsx("input",{name:"street",value:t.street||"",onChange:be=>s(R=>({...R,street:be.target.value})),placeholder:"Street",autoComplete:"off",className:P&&ie.street?"input-error":""})]}),e.jsxs("div",{className:`client-communion-field location-dropdown-container ${P&&ie.barangay?"field-error":""}`,children:[e.jsxs("label",{children:["Barangay ",e.jsx("span",{className:"required-marker",children:"*"})]}),e.jsx("input",{name:"barangay",value:t.barangay||"",onChange:ze,onFocus:()=>Be("barangay"),placeholder:"Type to search",autoComplete:"off",className:P&&ie.barangay?"input-error":""}),b==="barangay"&&e.jsx("div",{className:"location-dropdown",children:f.barangay&&f.barangay.length>0?f.barangay.map((be,R)=>e.jsx("div",{onClick:()=>yt(be),className:"location-dropdown-item",children:be},R)):e.jsx("div",{className:"location-dropdown-item",children:"No barangays found"})})]}),e.jsxs("div",{className:`client-communion-field location-dropdown-container ${P&&ie.municipality?"field-error":""}`,children:[e.jsxs("label",{children:["Municipality ",e.jsx("span",{className:"required-marker",children:"*"})]}),e.jsx("input",{name:"municipality",value:t.municipality||"",onChange:Xe,onFocus:()=>Be("municipality"),placeholder:"Type to search",autoComplete:"off",className:P&&ie.municipality?"input-error":""}),b==="municipality"&&e.jsx("div",{className:"location-dropdown",children:f.municipality&&f.municipality.length>0?f.municipality.map((be,R)=>e.jsx("div",{onClick:()=>Qt(be),className:"location-dropdown-item",children:be},R)):e.jsx("div",{className:"location-dropdown-item",children:"No municipalities found"})})]}),e.jsxs("div",{className:`client-communion-field location-dropdown-container ${P&&ie.province?"field-error":""}`,children:[e.jsxs("label",{children:["Province ",e.jsx("span",{className:"required-marker",children:"*"})]}),e.jsx("input",{name:"province",value:t.province||"",onChange:wt,onFocus:()=>Be("province"),placeholder:"Type to search",autoComplete:"off",className:P&&ie.province?"input-error":""}),b==="province"&&e.jsx("div",{className:"location-dropdown",children:f.province&&f.province.length>0?f.province.map((be,R)=>e.jsx("div",{onClick:()=>ta(be),className:"location-dropdown-item",children:be},R)):e.jsx("div",{className:"location-dropdown-item",children:"No provinces found"})})]}),e.jsxs("div",{className:"client-communion-field location-dropdown-container",children:[e.jsx("label",{children:"Region"}),e.jsx("input",{name:"region",value:t.region||"",onChange:it,onFocus:()=>Be("region"),placeholder:"Type to search",autoComplete:"off"}),b==="region"&&e.jsx("div",{className:"location-dropdown",children:f.region&&f.region.length>0?f.region.map((be,R)=>e.jsx("div",{onClick:()=>De(be),className:"location-dropdown-item",children:be},R)):e.jsx("div",{className:"location-dropdown-item",children:"No regions found"})})]})]}),e.jsx("h3",{className:"client-communion-sub-title",children:"Father's Information"}),e.jsxs("div",{className:"client-communion-row",children:[e.jsxs("div",{className:`client-communion-field ${P&&ie.father_first_name?"field-error":""}`,children:[e.jsxs("label",{children:["Father's First Name ",e.jsx("span",{className:"required-marker",children:"*"})]}),e.jsx("input",{name:"father_first_name",value:t.father_first_name,onChange:we,className:P&&ie.father_first_name?"input-error":""})]}),e.jsxs("div",{className:"client-communion-field",children:[e.jsx("label",{children:"Father's Middle Name"}),e.jsx("input",{name:"father_middle_name",value:t.father_middle_name,onChange:we})]}),e.jsxs("div",{className:`client-communion-field ${P&&ie.father_last_name?"field-error":""}`,children:[e.jsxs("label",{children:["Father's Last Name ",e.jsx("span",{className:"required-marker",children:"*"})]}),e.jsx("input",{name:"father_last_name",value:t.father_last_name,onChange:we,className:P&&ie.father_last_name?"input-error":""})]})]}),e.jsxs("div",{className:"client-communion-row",children:[e.jsxs("div",{className:"client-communion-field",children:[e.jsx("label",{children:"Father's Date of Birth"}),e.jsx("input",{name:"father_dateOfBirth",type:"date",value:t.father_dateOfBirth,onChange:we,className:"date-input"})]}),e.jsxs("div",{className:"client-communion-field",children:[e.jsx("label",{children:"Father's Contact Number"}),e.jsx("input",{name:"father_contact",value:t.father_contact,onChange:we})]})]}),e.jsx("label",{className:"sub-cc",children:"Father's Place of Birth"}),e.jsxs("div",{className:"client-communion-row",children:[e.jsxs("div",{className:"client-communion-field location-dropdown-container",children:[e.jsx("label",{children:"Father's Birth Barangay"}),e.jsx("input",{type:"text",placeholder:"Type to search",value:c.barangay,onChange:Ae,onFocus:()=>Be("fatherBirthBarangay")}),b==="fatherBirthBarangay"&&f.fatherBirthBarangay.length>0&&e.jsx("div",{className:"location-dropdown",children:f.fatherBirthBarangay.map((be,R)=>e.jsx("div",{onClick:()=>Me(be),className:"location-dropdown-item",children:be},R))})]}),e.jsxs("div",{className:"client-communion-field location-dropdown-container",children:[e.jsx("label",{children:"Father's Birth Municipality"}),e.jsx("input",{type:"text",placeholder:"Type to search",value:c.municipality,onChange:Le,onFocus:()=>Be("fatherBirthMunicipality")}),b==="fatherBirthMunicipality"&&f.fatherBirthMunicipality.length>0&&e.jsx("div",{className:"location-dropdown",children:f.fatherBirthMunicipality.map((be,R)=>e.jsx("div",{onClick:()=>Ie(be),className:"location-dropdown-item",children:be},R))})]}),e.jsxs("div",{className:"client-communion-field location-dropdown-container",children:[e.jsx("label",{children:"Father's Birth Province"}),e.jsx("input",{type:"text",placeholder:"Type to search",value:c.province,onChange:de,onFocus:()=>Be("fatherBirthProvince")}),b==="fatherBirthProvince"&&f.fatherBirthProvince.length>0&&e.jsx("div",{className:"location-dropdown",children:f.fatherBirthProvince.map((be,R)=>e.jsx("div",{onClick:()=>Ze(be),className:"location-dropdown-item",children:be},R))})]})]}),e.jsx("h3",{className:"client-communion-sub-title",children:"Mother's Information"}),e.jsxs("div",{className:"client-communion-row",children:[e.jsxs("div",{className:`client-communion-field ${P&&ie.mother_first_name?"field-error":""}`,children:[e.jsxs("label",{children:["Mother's First Name ",e.jsx("span",{className:"required-marker",children:"*"})]}),e.jsx("input",{name:"mother_first_name",value:t.mother_first_name,onChange:we,className:P&&ie.mother_first_name?"input-error":""})]}),e.jsxs("div",{className:"client-communion-field",children:[e.jsx("label",{children:"Mother's Middle Name"}),e.jsx("input",{name:"mother_middle_name",value:t.mother_middle_name,onChange:we})]}),e.jsxs("div",{className:`client-communion-field ${P&&ie.mother_last_name?"field-error":""}`,children:[e.jsxs("label",{children:["Mother's Last Name ",e.jsx("span",{className:"required-marker",children:"*"})]}),e.jsx("input",{name:"mother_last_name",value:t.mother_last_name,onChange:we,className:P&&ie.mother_last_name?"input-error":""})]})]}),e.jsxs("div",{className:"client-communion-row",children:[e.jsxs("div",{className:"client-communion-field",children:[e.jsx("label",{children:"Mother's Date of Birth"}),e.jsx("input",{name:"mother_dateOfBirth",type:"date",value:t.mother_dateOfBirth,onChange:we,className:"date-input"})]}),e.jsxs("div",{className:"client-communion-field",children:[e.jsx("label",{children:"Mother's Contact Number"}),e.jsx("input",{name:"mother_contact",value:t.mother_contact,onChange:we})]})]}),e.jsx("label",{className:"sub-cc",children:"Mother's Place of Birth"}),e.jsxs("div",{className:"client-communion-row",children:[e.jsxs("div",{className:"client-communion-field location-dropdown-container",children:[e.jsx("label",{children:"Mother's Birth Barangay"}),e.jsx("input",{type:"text",placeholder:"Type to search",value:d.barangay,onChange:nt,onFocus:()=>Be("motherBirthBarangay")}),b==="motherBirthBarangay"&&f.motherBirthBarangay.length>0&&e.jsx("div",{className:"location-dropdown",children:f.motherBirthBarangay.map((be,R)=>e.jsx("div",{onClick:()=>ft(be),className:"location-dropdown-item",children:be},R))})]}),e.jsxs("div",{className:"client-communion-field location-dropdown-container",children:[e.jsx("label",{children:"Mother's Birth Municipality"}),e.jsx("input",{type:"text",placeholder:"Type to search",value:d.municipality,onChange:ot,onFocus:()=>Be("motherBirthMunicipality")}),b==="motherBirthMunicipality"&&f.motherBirthMunicipality.length>0&&e.jsx("div",{className:"location-dropdown",children:f.motherBirthMunicipality.map((be,R)=>e.jsx("div",{onClick:()=>It(be),className:"location-dropdown-item",children:be},R))})]}),e.jsxs("div",{className:"client-communion-field location-dropdown-container",children:[e.jsx("label",{children:"Mother's Birth Province"}),e.jsx("input",{type:"text",placeholder:"Type to search",value:d.province,onChange:jt,onFocus:()=>Be("motherBirthProvince")}),b==="motherBirthProvince"&&f.motherBirthProvince.length>0&&e.jsx("div",{className:"location-dropdown",children:f.motherBirthProvince.map((be,R)=>e.jsx("div",{onClick:()=>Ke(be),className:"location-dropdown-item",children:be},R))})]})]})]}),e.jsxs("div",{className:"client-communion-requirements-container",children:[e.jsx("h2",{className:"client-communion-requirements-title",children:"Requirements(Bring the following documents)"}),e.jsxs("div",{className:"client-communion-requirements-box",children:[e.jsx("h3",{className:"client-communion-section-header",children:"Documents Needed"}),e.jsxs("div",{className:"client-communion-info-list",children:[e.jsx("div",{className:"client-communion-info-item",children:e.jsx("p",{children:"Certificate of Baptism(Proof of Catholic Baptism)"})}),e.jsx("div",{className:"client-communion-info-item",children:e.jsx("p",{children:"First Communion Certificate(If Applicable, for record purposes)"})}),e.jsx("div",{className:"client-communion-info-item",children:e.jsx("p",{children:"Birth Certificate(For verification purposes)"})}),e.jsx("div",{className:"client-communion-info-item",children:e.jsx("p",{children:"Certificate of Permission(If outside the Parish)"})})]}),e.jsx("h3",{className:"client-communion-section-header",children:"Requirements for Candidate"}),e.jsxs("div",{className:"client-communion-info-list",children:[e.jsx("div",{className:"client-communion-info-item",children:e.jsx("p",{children:"Must be a baptized Catholic"})}),e.jsx("div",{className:"client-communion-info-item",children:e.jsx("p",{children:"Must have reached the age of reason (usually around 7 years old)"})}),e.jsx("div",{className:"client-communion-info-item",children:e.jsx("p",{children:"Must have received the Sacrament of Reconciliation (Confession) before First Communion"})}),e.jsx("div",{className:"client-communion-info-item",children:e.jsx("p",{children:"Must attend a First Communion Catechesis or Religious Instruction Program"})}),e.jsx("div",{className:"client-communion-info-item",children:e.jsx("p",{children:"Must understand the significance of the Holy Eucharist and believe in the real presence of Christ in the sacrament"})}),e.jsx("div",{className:"client-communion-info-item",children:e.jsx("p",{children:"Must attend a First Communion Retreat (if required by the parish)"})})]}),e.jsx("h3",{className:"client-communion-section-header",children:"Parish Requirements"}),e.jsxs("div",{className:"client-communion-info-list",children:[e.jsx("div",{className:"client-communion-info-item",children:e.jsx("p",{children:"Must be registered in the parish where First Communion will be received"})}),e.jsx("div",{className:"client-communion-info-item",children:e.jsx("p",{children:"Must attend the required preparation classes and rehearsals"})}),e.jsx("div",{className:"client-communion-info-item",children:e.jsx("p",{children:"Must participate in a First Communion Retreat (if required by the parish)"})})]}),e.jsx("h3",{className:"client-communion-section-header",children:"Dress Code (If Specified by Parish)"}),e.jsxs("div",{className:"client-communion-info-list",children:[e.jsx("div",{className:"client-communion-info-item",children:e.jsx("p",{children:"Boys: White polo or barong, black pants, and formal shoes"})}),e.jsx("div",{className:"client-communion-info-item",children:e.jsx("p",{children:"Girls: White dress with sleeves (modest), white veil (optional), and formal shoes"})})]})]})]}),e.jsxs("div",{className:"client-communion-button-container",children:[e.jsx("button",{className:"client-communion-submit-btn",onClick:Aa,children:"Submit"}),e.jsx("button",{className:"client-communion-cancel-btn",children:"Cancel"})]})]}),Ne&&e.jsx("div",{className:"client-communion-modal-overlay",children:e.jsxs("div",{className:"client-communion-modal",children:[e.jsx("h2",{children:"Submit Application"}),e.jsx("hr",{className:"client-communion-custom-hr"}),e.jsx("p",{children:"Are you sure you want to submit your Holy Communion application?"}),e.jsxs("div",{className:"client-communion-modal-buttons",children:[e.jsx("button",{className:"client-communion-yes-btn",onClick:Ue,children:"Yes"}),e.jsx("button",{className:"client-communion-modal-no-btn",onClick:()=>ue(!1),children:"No"})]})]})}),_e&&e.jsx("div",{className:"client-communion-modal-overlay",children:e.jsxs("div",{className:"client-communion-modal",children:[e.jsx("h2",{children:"Success"}),e.jsx("hr",{className:"client-communion-custom-hr"}),e.jsx("p",{children:"Your Holy Communion application has been submitted successfully!"}),e.jsx("div",{className:"client-communion-modal-buttons",children:e.jsx("button",{className:"client-communion-yes-btn",onClick:()=>ce(!1),children:"OK"})})]})}),ye&&e.jsx("div",{className:"client-communion-modal-overlay",children:e.jsxs("div",{className:"client-communion-modal",children:[e.jsx("h2",{children:"Error"}),e.jsx("hr",{className:"client-communion-custom-hr"}),e.jsx("p",{children:ne}),e.jsx("div",{className:"client-communion-modal-buttons",children:e.jsx("button",{className:"client-communion-modal-no-btn",onClick:()=>Q(!1),children:"OK"})})]})}),V&&e.jsx("div",{className:"client-communion-modal-overlay",children:e.jsxs("div",{className:"client-communion-modal",children:[e.jsx("h2",{children:"Processing Application"}),e.jsx("hr",{className:"client-communion-custom-hr"}),e.jsx("p",{children:"Please wait while we submit your Holy Communion application..."}),e.jsx("div",{className:"client-communion-loading-spinner",children:e.jsx("div",{className:"client-communion-spinner"})})]})})]})},ak=()=>{oa();const a=Jt(),[t,s]=N.useState({}),[i,r]=N.useState(!1),[c,A]=N.useState({dateOfAnointing:"",timeOfAnointing:"",firstName:"",middleName:"",lastName:"",sex:"",age:"",dateOfBirth:"",placeOfBirth:"",religion:"",reasonForAnointing:"",contactFirstName:"",contactMiddleName:"",contactLastName:"",contactRelationship:"",contactPhone:"",contactEmail:"",locationType:"Hospital",locationName:"",roomNumber:"",barangay:"",street:"",municipality:"",province:"",locationRegion:"",isCritical:!1,needsViaticum:!1,needsReconciliation:!1,additionalNotes:""}),[d,h]=N.useState([]),[u,v]=N.useState(!0),[x,y]=N.useState(null),[p,F]=N.useState({barangay:[],municipality:[],province:[],region:[],regionOfBirth:[],birthBarangay:[],birthMunicipality:[],birthProvince:[],placeOfBirth:[]}),[b,S]=N.useState([]),[f,O]=N.useState([]),[M,J]=N.useState([]),[K,H]=N.useState([]),[k,Y]=N.useState([]),[D,ge]=N.useState([]),[_,X]=N.useState({}),[re,fe]=N.useState({}),[Ne,ue]=N.useState(!1),[_e,ce]=N.useState(!1),[ye,Q]=N.useState(!1),[ne,U]=N.useState(""),[V,T]=N.useState(!1);N.useRef(null),N.useRef(null);const[ie,ae]=N.useState({barangay:"",municipality:"",province:""}),P=N.useMemo(()=>{if(!d.length)return{};const De={},Be={},pe={},we={},ze={},Xe={};return d.forEach(wt=>{De[wt.barangay.toLowerCase()]||(De[wt.barangay.toLowerCase()]=[]),De[wt.barangay.toLowerCase()].push(wt),Be[wt.municipality.toLowerCase()]||(Be[wt.municipality.toLowerCase()]=[]),Be[wt.municipality.toLowerCase()].push(wt),pe[wt.province.toLowerCase()]||(pe[wt.province.toLowerCase()]=[]),pe[wt.province.toLowerCase()].push(wt);const yt=wt.municipality.toLowerCase();we[yt]||(we[yt]=new Set),we[yt].add(wt.barangay);const Qt=wt.province.toLowerCase();ze[Qt]||(ze[Qt]=new Set),ze[Qt].add(wt.barangay),Xe[Qt]||(Xe[Qt]=new Set),Xe[Qt].add(wt.municipality)}),Object.keys(we).forEach(wt=>{we[wt]=Array.from(we[wt])}),Object.keys(ze).forEach(wt=>{ze[wt]=Array.from(ze[wt])}),Object.keys(Xe).forEach(wt=>{Xe[wt]=Array.from(Xe[wt])}),{barangays:De,municipalities:Be,provinces:pe,barangaysByMunicipality:we,barangaysByProvince:ze,municipalitiesByProvince:Xe}},[d]),z=N.useMemo(()=>d.length?[...new Set(d.map(De=>De.province))].sort():[],[d]),B=N.useMemo(()=>d.length?[...new Set(d.map(De=>De.municipality))].sort():[],[d]),q=N.useMemo(()=>d.length?[...new Set(d.map(De=>De.barangay))].sort():[],[d]);N.useEffect(()=>{he(),W(),te()},[]);const te=async()=>{try{const De=await aa.get("http://parishofdivinemercy.com/backend/get_location.php");De.data.success&&h(De.data.locations)}catch(De){console.error("Error fetching locations:",De)}finally{v(!1)}},he=async()=>{try{const[De,Be]=await Promise.all([fetch("http://parishofdivinemercy.com/backend/schedule.php"),fetch("http://parishofdivinemercy.com/backend/get_anointing_applications.php")]),pe=await De.json(),we=await Be.json();if(pe.success){const ze=pe.schedules.filter(ta=>ta.sacramentType.toLowerCase()==="anointing of the sick and viaticum"),Xe=new Set;we.success&&we.applications.forEach(ta=>{Xe.add(`${ta.dateOfAnointing}-${ta.timeOfAnointing}`)});const wt=ze.filter(ta=>{const Ft=`${ta.date}-${ta.time}`;return!Xe.has(Ft)});S(wt);const yt=new Set,Qt=[];wt.forEach(ta=>{yt.has(ta.date)||(yt.add(ta.date),Qt.push(ta.date))}),Qt.sort((ta,Ft)=>new Date(ta)-new Date(Ft)),J(Qt)}}catch(De){console.error("Error fetching schedules:",De)}},W=async()=>{try{const Be=await(await fetch("http://parishofdivinemercy.com/backend/parish.php")).json();Be.success?O(Be.parishes):console.error("Error fetching priests:",Be.message)}catch(De){console.error("Error fetching priests:",De)}};N.useEffect(()=>{if(c.dateOfAnointing){const De=b.filter(pe=>pe.date===c.dateOfAnointing).map(pe=>pe.time),Be=[...new Set(De)];H(Be),Be.includes(c.timeOfAnointing)||A(pe=>({...pe,timeOfAnointing:"",priestName:""}))}else H([])},[c.dateOfAnointing,b]),N.useEffect(()=>{if(c.dateOfAnointing&&c.timeOfAnointing){const De=b.filter(pe=>pe.date===c.dateOfAnointing&&pe.time===c.timeOfAnointing).map(pe=>pe.parishName),Be=[...new Set(De)];Y(Be),Be.includes(c.priestName)||A(pe=>({...pe,priestName:""}))}else Y([])},[c.dateOfAnointing,c.timeOfAnointing,b]);const C=(De,Be=null,pe=null)=>{if(!De.trim()||!P.barangays){if(Be&&P.barangaysByMunicipality){const Xe=Be.toLowerCase();if(P.barangaysByMunicipality[Xe])return P.barangaysByMunicipality[Xe].slice(0,10)}else if(pe&&P.barangaysByProvince){const Xe=pe.toLowerCase();if(P.barangaysByProvince[Xe])return P.barangaysByProvince[Xe].slice(0,10)}return q.slice(0,10)}const we=De.toLowerCase();let ze=[];if(Be&&pe){const Xe=Be.toLowerCase();P.barangaysByMunicipality[Xe]&&(ze=P.barangaysByMunicipality[Xe].filter(wt=>wt.toLowerCase().includes(we)))}else if(Be){const Xe=Be.toLowerCase();P.barangaysByMunicipality[Xe]&&(ze=P.barangaysByMunicipality[Xe].filter(wt=>wt.toLowerCase().includes(we)))}else if(pe){const Xe=pe.toLowerCase();P.barangaysByProvince[Xe]&&(ze=P.barangaysByProvince[Xe].filter(wt=>wt.toLowerCase().includes(we)))}else ze=q.filter(Xe=>Xe.toLowerCase().includes(we));return ze.slice(0,10)},Z=(De,Be=null)=>{if(!De.trim()||!P.municipalities){if(Be&&P.municipalitiesByProvince){const ze=Be.toLowerCase();if(P.municipalitiesByProvince[ze])return P.municipalitiesByProvince[ze].slice(0,10)}return B.slice(0,10)}const pe=De.toLowerCase();let we=[];if(Be){const ze=Be.toLowerCase();P.municipalitiesByProvince[ze]&&(we=P.municipalitiesByProvince[ze].filter(Xe=>Xe.toLowerCase().includes(pe)))}else we=B.filter(ze=>ze.toLowerCase().includes(pe));return we.slice(0,10)},se=De=>{if(!De.trim()||!z)return z.slice(0,10);const Be=De.toLowerCase();return z.filter(we=>we.toLowerCase().includes(Be)).slice(0,10)},Se=De=>{const Be=["NCR - National Capital Region","CAR - Cordillera Administrative Region","Region I - Ilocos Region","Region II - Cagayan Valley","Region III - Central Luzon","Region IV-A - CALABARZON","Region IV-B - MIMAROPA","Region V - Bicol Region","Region VI - Western Visayas","Region VII - Central Visayas","Region VIII - Eastern Visayas","Region IX - Zamboanga Peninsula","Region X - Northern Mindanao","Region XI - Davao Region","Region XII - SOCCSKSARGEN","Region XIII - Caraga","BARMM - Bangsamoro Autonomous Region in Muslim Mindanao"];if(!De.trim())return Be.slice(0,10);const pe=De.toLowerCase();return Be.filter(we=>we.toLowerCase().includes(pe)).slice(0,10)},He=(De,Be)=>{A(pe=>({...pe,[De]:Be}))},Qe=(De,Be)=>{if(!Be){He(De,"");return}He(De,Be);{const pe=new Date(Be),we=new Date;let ze=we.getFullYear()-pe.getFullYear();const Xe=we.getMonth()-pe.getMonth();(Xe<0||Xe===0&&we.getDate()<pe.getDate())&&ze--,He("age",ze.toString())}},qe=De=>{A(Be=>({...Be,[De]:!Be[De]}))},Ye=De=>{const Be=De.target.value;if(He("barangay",Be),x==="barangay"){const pe=C(Be,c.municipality,c.province);F(we=>({...we,barangay:pe}))}},st=De=>{const Be=De.target.value;if(He("municipality",Be),x==="municipality"){const pe=Z(Be,c.province);F(we=>({...we,municipality:pe}))}if(Be&&P.municipalities){const pe=Be.toLowerCase(),we=P.municipalities[pe];we&&we.length>0&&!c.province&&He("province",we[0].province)}},kt=De=>{const Be=De.target.value;if(He("province",Be),x==="province"){const pe=se(Be);F(we=>({...we,province:pe}))}},Mt=De=>{const Be=De.target.value;if(He("locationRegion",Be),x==="locationRegion"){const pe=Se(Be);F(we=>({...we,region:pe}))}},ke=De=>{if(He("barangay",De),y(null),P.barangays){const Be=De.toLowerCase(),pe=P.barangays[Be];pe&&pe.length>0&&(c.municipality||He("municipality",pe[0].municipality),c.province||He("province",pe[0].province))}},$e=De=>{if(He("municipality",De),P.municipalities){const Be=De.toLowerCase(),pe=P.municipalities[Be];pe&&pe.length>0&&!c.province&&He("province",pe[0].province)}y(null)},Ae=De=>{He("province",De),y(null)},Le=De=>{He("locationRegion",De),y(null)},de=De=>{const Be=De.target.value,pe={...ie,barangay:Be};ae(pe),jt(pe),x==="birthBarangay"&&F(we=>({...we,birthBarangay:C(Be,ie.municipality,ie.province)}))},Me=De=>{const Be=De.target.value,pe={...ie,municipality:Be};if(ae(pe),jt(pe),x==="birthMunicipality"&&F(we=>({...we,birthMunicipality:Z(Be,ie.province)})),Be&&P.municipalities){const we=Be.toLowerCase(),ze=P.municipalities[we];if(ze&&ze.length>0&&!ie.province){const Xe={...pe,province:ze[0].province};ae(Xe),jt(Xe)}}},Ie=De=>{const Be=De.target.value,pe={...ie,province:Be};ae(pe),jt(pe),x==="birthProvince"&&F(we=>({...we,birthProvince:se(Be)}))},Ze=De=>{const Be={...ie,barangay:De};if(ae(Be),jt(Be),y(null),P.barangays){const pe=De.toLowerCase(),we=P.barangays[pe];if(we&&we.length>0){const ze=we[0].municipality,Xe=we[0].province,wt={...Be};let yt=!1;!Be.municipality&&ze&&(wt.municipality=ze,yt=!0),!Be.province&&Xe&&(wt.province=Xe,yt=!0),yt&&(ae(wt),jt(wt))}}},nt=De=>{const Be={...ie,municipality:De};if(ae(Be),jt(Be),P.municipalities){const pe=De.toLowerCase(),we=P.municipalities[pe];if(we&&we.length>0&&!ie.province){const ze=we[0].province,Xe={...Be,province:ze};ae(Xe),jt(Xe)}}y(null)},ot=De=>{const Be={...ie,province:De};ae(Be),jt(Be),y(null)},jt=De=>{const Be=De.barangay!==void 0?De.barangay:ie.barangay,pe=De.municipality!==void 0?De.municipality:ie.municipality,we=De.province!==void 0?De.province:ie.province;let ze=[];Be&&ze.push(Be),pe&&ze.push(pe),we&&ze.push(we);const Xe=ze.join(", ");Xe&&(console.log("Updating placeOfBirth to:",Xe),A(wt=>({...wt,placeOfBirth:Xe})))},ft=De=>{switch(y(De),De){case"birthBarangay":F(Be=>({...Be,birthBarangay:C(ie.barangay,ie.municipality,ie.province)}));break;case"birthMunicipality":F(Be=>({...Be,birthMunicipality:Z(ie.municipality,ie.province)}));break;case"birthProvince":F(Be=>({...Be,birthProvince:se(ie.province)}));break;case"barangay":F(Be=>({...Be,barangay:C(c.barangay,c.municipality,c.province)}));break;case"municipality":F(Be=>({...Be,municipality:Z(c.municipality,c.province)}));break;case"province":F(Be=>({...Be,province:se(c.province)}));break;case"regionOfBirth":F(Be=>({...Be,regionOfBirth:Se(c.regionOfBirth)}));break;case"locationRegion":F(Be=>({...Be,region:Se(c.locationRegion)}));break}};N.useEffect(()=>{const De=Be=>{const pe=document.querySelectorAll(".aos-location-dropdown-container");let we=!0;pe.forEach(ze=>{ze.contains(Be.target)&&(we=!1)}),we&&y(null)};return document.addEventListener("mousedown",De),()=>{document.removeEventListener("mousedown",De)}},[]);const It=()=>{const De={};return["dateOfAnointing","timeOfAnointing","firstName","lastName","sex","dateOfBirth","contactFirstName","contactLastName","contactPhone","barangay","street","municipality","province"].forEach(pe=>{(!c[pe]||c[pe].trim()==="")&&(De[pe]="This field is required")}),s(De),Object.keys(De).length===0},Ke=()=>{r(!0),It()?ue(!0):window.scrollTo(0,0)},it=async()=>{ue(!1),T(!0);try{const De=new FormData;De.append("anointingData",JSON.stringify(c));const pe=await(await fetch("http://parishofdivinemercy.com/backend/anointing_application.php",{method:"POST",body:De})).json();T(!1),pe.success?(ce(!0),setTimeout(()=>{a("/client-appointment")},2e3)):(U(pe.message||"Failed to submit application"),Q(!0))}catch(De){T(!1),console.error("Error submitting form:",De),U("An error occurred while submitting the application"),Q(!0)}};return e.jsxs("div",{className:"aos-container",children:[e.jsx("div",{className:"aos-header",children:e.jsx("div",{className:"aos-left-section",children:e.jsxs("button",{className:"aos-back-button",onClick:()=>a(-1),children:[e.jsx(Oa,{className:"aos-back-icon"})," Back"]})})}),e.jsx("h1",{className:"aos-title",children:"Anointing of the Sick and Viaticum Application Form"}),e.jsxs("div",{className:"aos-data",children:[i&&Object.keys(t).length>0&&e.jsx("div",{className:"aos-error-message",children:"Please fill in all required fields marked with (*)."}),e.jsxs("div",{className:"aos-row-date",children:[e.jsxs("div",{className:"aos-field-date",children:[e.jsxs("label",{children:["Date of Appointment ",e.jsx("span",{className:"required",children:"*"})]}),e.jsxs("select",{value:c.dateOfAnointing,onChange:De=>He("dateOfAnointing",De.target.value),className:i&&t.dateOfAnointing?"input-error":"",children:[e.jsx("option",{value:"",children:"Select Date"}),M.map(De=>e.jsx("option",{value:De,children:new Date(De).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})},De))]})]}),e.jsxs("div",{className:"aos-field-time",children:[e.jsxs("label",{children:["Time of Appointment ",e.jsx("span",{className:"required",children:"*"})]}),e.jsxs("select",{value:c.timeOfAnointing,onChange:De=>He("timeOfAnointing",De.target.value),disabled:!c.dateOfAnointing,className:i&&t.timeOfAnointing?"input-error":"",children:[e.jsx("option",{value:"",children:"Select Time"}),K.map(De=>e.jsx("option",{value:De,children:De},De))]})]})]}),e.jsxs("div",{className:"aos-section",children:[e.jsx("h3",{className:"aos-sub-title",children:"Sick Person Information"}),e.jsxs("div",{className:"aos-row",children:[e.jsxs("div",{className:"aos-field",children:[e.jsxs("label",{children:["First Name of the Sick Person ",e.jsx("span",{className:"required",children:"*"})]}),e.jsx("input",{type:"text",value:c.firstName,onChange:De=>He("firstName",De.target.value),className:i&&t.firstName?"input-error":""})]}),e.jsxs("div",{className:"aos-field",children:[e.jsx("label",{children:"Middle Name"}),e.jsx("input",{type:"text",value:c.middleName,onChange:De=>He("middleName",De.target.value)})]}),e.jsxs("div",{className:"aos-field",children:[e.jsxs("label",{children:["Last Name ",e.jsx("span",{className:"required",children:"*"})]}),e.jsx("input",{type:"text",value:c.lastName,onChange:De=>He("lastName",De.target.value),className:i&&t.lastName?"input-error":""})]})]}),e.jsxs("div",{className:"aos-row",children:[e.jsxs("div",{className:"aos-field",children:[e.jsxs("label",{children:["Date of Birth ",e.jsx("span",{className:"required",children:"*"})]}),e.jsx("input",{type:"date",className:`date-input ${i&&t.dateOfBirth?"input-error":""}`,onChange:De=>Qe("dateOfBirth",De.target.value)})]}),e.jsxs("div",{className:"aos-field",children:[e.jsx("label",{children:"Age"}),e.jsx("input",{type:"text",value:c.age,onChange:De=>He("age",De.target.value),readOnly:!0})]}),e.jsxs("div",{className:"aos-field",children:[e.jsxs("label",{children:["Sex ",e.jsx("span",{className:"required",children:"*"})]}),e.jsxs("select",{value:c.sex,onChange:De=>He("sex",De.target.value),className:i&&t.sex?"input-error":"",children:[e.jsx("option",{value:"",children:"Select"}),e.jsx("option",{value:"Male",children:"Male"}),e.jsx("option",{value:"Female",children:"Female"})]})]})]}),e.jsxs("div",{className:"aos-row",children:[e.jsxs("div",{className:"aos-field aos-location-dropdown-container",children:[e.jsx("label",{children:"Birth Barangay"}),e.jsx("input",{type:"text",placeholder:"Type to search",value:ie.barangay,onChange:de,onFocus:()=>ft("birthBarangay")}),x==="birthBarangay"&&p.birthBarangay.length>0&&e.jsx("div",{className:"aos-location-dropdown",children:p.birthBarangay.map((De,Be)=>e.jsx("div",{onClick:()=>Ze(De),className:"aos-location-dropdown-item",children:De},Be))})]}),e.jsxs("div",{className:"aos-field aos-location-dropdown-container",children:[e.jsx("label",{children:"Birth Municipality"}),e.jsx("input",{type:"text",placeholder:"Type to search",value:ie.municipality,onChange:Me,onFocus:()=>ft("birthMunicipality")}),x==="birthMunicipality"&&p.birthMunicipality.length>0&&e.jsx("div",{className:"aos-location-dropdown",children:p.birthMunicipality.map((De,Be)=>e.jsx("div",{onClick:()=>nt(De),className:"aos-location-dropdown-item",children:De},Be))})]}),e.jsxs("div",{className:"aos-field aos-location-dropdown-container",children:[e.jsx("label",{children:"Birth Province"}),e.jsx("input",{type:"text",placeholder:"Type to search",value:ie.province,onChange:Ie,onFocus:()=>ft("birthProvince")}),x==="birthProvince"&&p.birthProvince.length>0&&e.jsx("div",{className:"aos-location-dropdown",children:p.birthProvince.map((De,Be)=>e.jsx("div",{onClick:()=>ot(De),className:"aos-location-dropdown-item",children:De},Be))})]}),e.jsxs("div",{className:"aos-field",children:[e.jsx("label",{children:"Religion"}),e.jsx("input",{type:"text",value:c.religion,onChange:De=>He("religion",De.target.value)})]})]}),e.jsx("div",{className:"aos-row",children:e.jsxs("div",{className:"aos-field-wide",children:[e.jsx("label",{children:"Reason for Anointing (Medical Condition)"}),e.jsx("textarea",{value:c.reasonForAnointing,onChange:De=>He("reasonForAnointing",De.target.value),rows:3,placeholder:"Please describe the medical condition or reason for requesting the sacrament"})]})}),e.jsx("h3",{className:"aos-sub-title",children:"Contact Person Information"}),e.jsxs("div",{className:"aos-row",children:[e.jsxs("div",{className:"aos-field",children:[e.jsxs("label",{children:["Contact Person's First Name ",e.jsx("span",{className:"required",children:"*"})]}),e.jsx("input",{type:"text",value:c.contactFirstName,onChange:De=>He("contactFirstName",De.target.value),className:i&&t.contactFirstName?"input-error":""})]}),e.jsxs("div",{className:"aos-field",children:[e.jsx("label",{children:"Middle Name"}),e.jsx("input",{type:"text",value:c.contactMiddleName,onChange:De=>He("contactMiddleName",De.target.value)})]}),e.jsxs("div",{className:"aos-field",children:[e.jsxs("label",{children:["Last Name ",e.jsx("span",{className:"required",children:"*"})]}),e.jsx("input",{type:"text",value:c.contactLastName,onChange:De=>He("contactLastName",De.target.value),className:i&&t.contactLastName?"input-error":""})]})]}),e.jsxs("div",{className:"aos-row",children:[e.jsxs("div",{className:"aos-field",children:[e.jsx("label",{children:"Relationship to Sick Person"}),e.jsx("input",{type:"text",value:c.contactRelationship,onChange:De=>He("contactRelationship",De.target.value)})]}),e.jsxs("div",{className:"aos-field",children:[e.jsxs("label",{children:["Phone Number ",e.jsx("span",{className:"required",children:"*"})]}),e.jsx("input",{type:"text",value:c.contactPhone,onChange:De=>He("contactPhone",De.target.value),className:i&&t.contactPhone?"input-error":""})]}),e.jsxs("div",{className:"aos-field",children:[e.jsx("label",{children:"Email Address"}),e.jsx("input",{type:"email",value:c.contactEmail,onChange:De=>He("contactEmail",De.target.value)})]})]}),e.jsx("h3",{className:"aos-sub-title",children:"Location Information"}),e.jsxs("div",{className:"aos-row",children:[e.jsxs("div",{className:"aos-field",children:[e.jsx("label",{children:"Location Type"}),e.jsxs("select",{value:c.locationType,onChange:De=>He("locationType",De.target.value),children:[e.jsx("option",{value:"Hospital",children:"Hospital"}),e.jsx("option",{value:"Home",children:"Home"}),e.jsx("option",{value:"Hospice",children:"Hospice"}),e.jsx("option",{value:"Nursing Home",children:"Nursing Home"}),e.jsx("option",{value:"Other",children:"Other"})]})]}),e.jsxs("div",{className:"aos-field",children:[e.jsx("label",{children:"Location Name"}),e.jsx("input",{type:"text",value:c.locationName,onChange:De=>He("locationName",De.target.value),placeholder:"Name of hospital, hospice, etc."})]}),e.jsxs("div",{className:"aos-field",children:[e.jsx("label",{children:"Room/Room Number"}),e.jsx("input",{type:"text",value:c.roomNumber,onChange:De=>He("roomNumber",De.target.value)})]})]}),e.jsxs("div",{className:"aos-row aos-address-row",children:[e.jsxs("div",{className:"aos-field",children:[e.jsxs("label",{children:["Street ",e.jsx("span",{className:"required",children:"*"})]}),e.jsx("input",{type:"text",value:c.street,onChange:De=>He("street",De.target.value),className:i&&t.street?"input-error":""})]}),e.jsxs("div",{className:"aos-field aos-location-dropdown-container",children:[e.jsxs("label",{children:["Barangay ",e.jsx("span",{className:"required",children:"*"})]}),e.jsx("input",{type:"text",value:c.barangay,onChange:Ye,onFocus:()=>ft("barangay"),placeholder:"Type to search",className:i&&t.barangay?"input-error":""}),x==="barangay"&&p.barangay.length>0&&e.jsx("div",{className:"aos-location-dropdown",children:p.barangay.map((De,Be)=>e.jsx("div",{onClick:()=>ke(De),className:"aos-location-dropdown-item",children:De},Be))})]}),e.jsxs("div",{className:"aos-field aos-location-dropdown-container",children:[e.jsxs("label",{children:["Municipality ",e.jsx("span",{className:"required",children:"*"})]}),e.jsx("input",{type:"text",value:c.municipality,onChange:st,onFocus:()=>ft("municipality"),placeholder:"Type to search",className:i&&t.municipality?"input-error":""}),x==="municipality"&&p.municipality.length>0&&e.jsx("div",{className:"aos-location-dropdown",children:p.municipality.map((De,Be)=>e.jsx("div",{onClick:()=>$e(De),className:"aos-location-dropdown-item",children:De},Be))})]}),e.jsxs("div",{className:"aos-field aos-location-dropdown-container",children:[e.jsxs("label",{children:["Province ",e.jsx("span",{className:"required",children:"*"})]}),e.jsx("input",{type:"text",value:c.province,onChange:kt,onFocus:()=>ft("province"),placeholder:"Type to search",className:i&&t.province?"input-error":""}),x==="province"&&p.province.length>0&&e.jsx("div",{className:"aos-location-dropdown",children:p.province.map((De,Be)=>e.jsx("div",{onClick:()=>Ae(De),className:"aos-location-dropdown-item",children:De},Be))})]}),e.jsxs("div",{className:"aos-field aos-location-dropdown-container",children:[e.jsx("label",{children:"Region"}),e.jsx("input",{type:"text",value:c.locationRegion,onChange:Mt,onFocus:()=>ft("locationRegion"),placeholder:"Type to search"}),x==="locationRegion"&&p.region.length>0&&e.jsx("div",{className:"aos-location-dropdown",children:p.region.map((De,Be)=>e.jsx("div",{onClick:()=>Le(De),className:"aos-location-dropdown-item",children:De},Be))})]})]}),e.jsx("h3",{className:"aos-sub-title",children:"Additional Information"}),e.jsx("div",{className:"aos-row",children:e.jsxs("div",{className:"aos-checkbox-container",children:[e.jsx("input",{type:"checkbox",id:"isCritical",checked:c.isCritical,onChange:()=>qe("isCritical")}),e.jsx("label",{htmlFor:"isCritical",children:"Is the person in critical condition?"})]})}),e.jsx("div",{className:"aos-row",children:e.jsxs("div",{className:"aos-checkbox-container",children:[e.jsx("input",{type:"checkbox",id:"needsViaticum",checked:c.needsViaticum,onChange:()=>qe("needsViaticum")}),e.jsx("label",{htmlFor:"needsViaticum",children:"Needs Viaticum (Holy Communion)"})]})}),e.jsx("div",{className:"aos-row",children:e.jsxs("div",{className:"aos-checkbox-container",children:[e.jsx("input",{type:"checkbox",id:"needsReconciliation",checked:c.needsReconciliation,onChange:()=>qe("needsReconciliation")}),e.jsx("label",{htmlFor:"needsReconciliation",children:"Needs Sacrament of Reconciliation (Confession)"})]})}),e.jsx("div",{className:"aos-row",children:e.jsxs("div",{className:"aos-field-wide",children:[e.jsx("label",{children:"Additional Notes or Special Requests"}),e.jsx("textarea",{value:c.additionalNotes,onChange:De=>He("additionalNotes",De.target.value),rows:3,placeholder:"Include any special circumstances, accessibility needs, or other important information"})]})})]})]}),e.jsxs("div",{className:"aos-requirements-container",children:[e.jsx("h2",{className:"aos-requirements-title",children:"About Anointing of the Sick"}),e.jsxs("div",{className:"aos-requirements-box",children:[e.jsx("h3",{className:"aos-section-header",children:"Documents Required(Bring the following documents)"}),e.jsxs("div",{className:"aos-info-list",children:[e.jsx("div",{className:"aos-info-item",children:e.jsx("p",{children:"Medical Certificate or Doctor's note"})}),e.jsx("div",{className:"aos-info-item",children:e.jsx("p",{children:"Valid IDs of the sick person or the contact person"})}),e.jsx("div",{className:"aos-info-item",children:e.jsx("p",{children:"Certificate of Permission(if the candidate is not a resident of the parish)"})})]}),e.jsx("h3",{className:"aos-section-header",children:"About Anointing of the Sick"}),e.jsxs("div",{className:"aos-info-list",children:[e.jsx("div",{className:"aos-info-item",children:e.jsx("p",{children:"The Sacrament of Anointing of the Sick provides spiritual strength and comfort to those who are ill or facing serious medical conditions."})}),e.jsx("div",{className:"aos-info-item",children:e.jsx("p",{children:"Viaticum is the Holy Communion given to a dying person as spiritual food for their journey to eternal life."})}),e.jsx("div",{className:"aos-info-item",children:e.jsx("p",{children:"This sacrament can be received by any Catholic who is seriously ill, facing surgery, or weakened by old age."})})]}),e.jsx("h3",{className:"aos-section-header",children:"Important Notes"}),e.jsxs("div",{className:"aos-info-list",children:[e.jsx("div",{className:"aos-info-item",children:e.jsx("p",{children:"For emergency cases, please call the parish emergency number directly at _______ instead of using this form."})}),e.jsx("div",{className:"aos-info-item",children:e.jsx("p",{children:"A priest will visit the location provided to administer the sacrament."})}),e.jsx("div",{className:"aos-info-item",children:e.jsx("p",{children:"Please ensure someone will be present to receive the priest and guide them to the sick person."})}),e.jsx("div",{className:"aos-info-item",children:e.jsx("p",{children:"You will receive a confirmation email once your request has been processed."})})]})]})]}),e.jsxs("div",{className:"aos-button-container",children:[e.jsx("button",{className:"aos-submit-btn",onClick:Ke,children:"Submit"}),e.jsx("button",{className:"aos-cancel-btn",onClick:()=>a(-1),children:"Cancel"})]}),Ne&&e.jsx("div",{className:"aos-modal-overlay",children:e.jsxs("div",{className:"aos-modal",children:[e.jsx("h2",{children:"Submit Application"}),e.jsx("hr",{className:"custom-hr-aos"}),e.jsx("p",{children:"Are you sure you want to submit your Anointing of the Sick application?"}),e.jsxs("div",{className:"aos-modal-buttons",children:[e.jsx("button",{className:"aos-yes-btn",onClick:it,children:"Yes"}),e.jsx("button",{className:"aos-modal-no-btn",onClick:()=>ue(!1),children:"No"})]})]})}),_e&&e.jsx("div",{className:"aos-modal-overlay",children:e.jsxs("div",{className:"aos-modal",children:[e.jsx("h2",{children:"Success"}),e.jsx("hr",{className:"custom-hr-aos"}),e.jsx("p",{children:"Your Anointing of the Sick application has been submitted successfully!"}),e.jsx("div",{className:"aos-modal-buttons",children:e.jsx("button",{className:"aos-yes-btn",onClick:()=>ce(!1),children:"OK"})})]})}),ye&&e.jsx("div",{className:"aos-modal-overlay",children:e.jsxs("div",{className:"aos-modal",children:[e.jsx("h2",{children:"Error"}),e.jsx("hr",{className:"custom-hr-aos"}),e.jsx("p",{children:ne}),e.jsx("div",{className:"aos-modal-buttons",children:e.jsx("button",{className:"aos-modal-no-btn",onClick:()=>Q(!1),children:"OK"})})]})}),V&&e.jsx("div",{className:"aos-modal-overlay",children:e.jsxs("div",{className:"aos-modal",children:[e.jsx("h2",{children:"Processing Application"}),e.jsx("hr",{className:"custom-hr-aos"}),e.jsx("p",{children:"Please wait while we submit your Anointing of the Sick application..."}),e.jsx("div",{className:"client-anointing-loading-spinner",children:e.jsx("div",{className:"client-anointing-spinner"})})]})})]})},ik=()=>{oa();const[a,t]=N.useState({date:"",time:"",first_name:"",middle_name:"",last_name:"",gender:"",age:"",dateOfBirth:"",dateOfBaptism:"",churchOfBaptism:"",placeOfBirth:"",birth_barangay:"",birth_municipality:"",birth_province:"",street:"",barangay:"",municipality:"",province:"",region:"",father_first_name:"",father_middle_name:"",father_last_name:"",father_dateOfBirth:"",father_placeOfBirth:"",father_birth_barangay:"",father_birth_municipality:"",father_birth_province:"",father_contact:"",mother_first_name:"",mother_middle_name:"",mother_last_name:"",mother_dateOfBirth:"",mother_placeOfBirth:"",mother_birth_barangay:"",mother_birth_municipality:"",mother_birth_province:"",mother_contact:""}),[s,i]=N.useState({baptism_cert:{file:null,status:"Not Submitted"},birth_cert:{file:null,status:"Not Submitted"},valid_ids:{file:null,status:"Not Submitted"}});N.useRef(null),N.useRef(null),N.useRef(null);const[r,c]=N.useState([]),[A,d]=N.useState(!0),[h,u]=N.useState(null),[v,x]=N.useState([]),[y,p]=N.useState({barangay:[],municipality:[],province:[],birth_barangay:[],birth_municipality:[],birth_province:[],father_birth_barangay:[],father_birth_municipality:[],father_birth_province:[],mother_birth_barangay:[],mother_birth_municipality:[],mother_birth_province:[],region:[]}),[F,b]=N.useState([]),[S,f]=N.useState([]),[O,M]=N.useState([]),[J,K]=N.useState(!1),[H,k]=N.useState(!1),[Y,D]=N.useState(!1),[ge,_]=N.useState(""),[X,re]=N.useState(!1),[fe,Ne]=N.useState({}),[ue,_e]=N.useState(!1),[ce,ye]=N.useState(null),Q=async()=>{try{const Ke=await aa.get("http://parishofdivinemercy.com/backend/get_location.php");Ke.data.success&&c(Ke.data.locations)}catch(Ke){console.error("Error fetching locations:",Ke)}finally{d(!1)}};N.useEffect(()=>{ne(),Q()},[]);const ne=async()=>{try{const[Ke,it]=await Promise.all([fetch("http://parishofdivinemercy.com/backend/schedule.php"),fetch("http://parishofdivinemercy.com/backend/get_confirmation_applications.php")]),De=await Ke.json(),Be=await it.json();if(De.success){const pe=De.schedules.filter(yt=>yt.sacramentType.toLowerCase()==="confirmation"),we=new Set;Be.success&&Be.applications.forEach(yt=>{const Qt=`${yt.date}-${yt.time}`;we.add(Qt)});const ze=pe.filter(yt=>{const Qt=`${yt.date}-${yt.time}`;return!we.has(Qt)});b(ze);const Xe=new Set,wt=[];ze.forEach(yt=>{Xe.has(yt.date)||(Xe.add(yt.date),wt.push(yt.date))}),f(wt)}}catch(Ke){console.error("Error fetching confirmation schedules:",Ke)}};N.useEffect(()=>{if(a.date){const Ke=F.filter(De=>De.date===a.date).map(De=>De.time),it=[...new Set(Ke)];M(it),it.includes(a.time)||t(De=>({...De,time:""}))}else M([])},[a.date,F]);const U=(Ke,it=null,De=null)=>{if(it&&it.trim()!==""){const pe=r.filter(ze=>ze.municipality===it),we=[...new Set(pe.map(ze=>ze.barangay))].sort();if(Ke&&Ke.trim()){const ze=Ke.toLowerCase();return we.filter(Xe=>Xe.toLowerCase().includes(ze))}return we.slice(0,20)}if(De&&De.trim()!==""){const pe=r.filter(ze=>ze.province===De),we=[...new Set(pe.map(ze=>ze.barangay))].sort();if(Ke&&Ke.trim()){const ze=Ke.toLowerCase();return we.filter(Xe=>Xe.toLowerCase().includes(ze))}return we.slice(0,20)}if(!Ke||!Ke.trim())return[...new Set(r.map(pe=>pe.barangay))].sort().slice(0,10);const Be=Ke.toLowerCase();return[...new Set(r.map(pe=>pe.barangay))].filter(pe=>pe.toLowerCase().includes(Be)).sort().slice(0,10)},V=(Ke,it=null,De=null)=>{if(De&&De.trim()!==""){const pe=r.filter(ze=>ze.barangay===De),we=[...new Set(pe.map(ze=>ze.municipality))].sort();if(Ke&&Ke.trim()){const ze=Ke.toLowerCase();return we.filter(Xe=>Xe.toLowerCase().includes(ze))}return we}if(it&&it.trim()!==""){const pe=r.filter(ze=>ze.province===it),we=[...new Set(pe.map(ze=>ze.municipality))].sort();if(Ke&&Ke.trim()){const ze=Ke.toLowerCase();return we.filter(Xe=>Xe.toLowerCase().includes(ze))}return we}if(!Ke||!Ke.trim())return[...new Set(r.map(pe=>pe.municipality))].sort().slice(0,10);const Be=Ke.toLowerCase();return[...new Set(r.map(pe=>pe.municipality))].filter(pe=>pe.toLowerCase().includes(Be)).sort().slice(0,10)},T=(Ke,it=null,De=null)=>{if(it&&it.trim()!==""){const pe=r.filter(ze=>ze.municipality===it),we=[...new Set(pe.map(ze=>ze.province))].sort();if(Ke&&Ke.trim()){const ze=Ke.toLowerCase();return we.filter(Xe=>Xe.toLowerCase().includes(ze))}return we}if(De&&De.trim()!==""){const pe=r.filter(ze=>ze.barangay===De),we=[...new Set(pe.map(ze=>ze.province))].sort();if(Ke&&Ke.trim()){const ze=Ke.toLowerCase();return we.filter(Xe=>Xe.toLowerCase().includes(ze))}return we}if(!Ke||!Ke.trim())return[...new Set(r.map(pe=>pe.province))].sort().slice(0,10);const Be=Ke.toLowerCase();return[...new Set(r.map(pe=>pe.province))].filter(pe=>pe.toLowerCase().includes(Be)).sort().slice(0,10)},ie=(Ke="")=>{const it=Ke.toLowerCase(),De=["NCR - National Capital Region","CAR - Cordillera Administrative Region","Region I - Ilocos Region","Region II - Cagayan Valley","Region III - Central Luzon","Region IV-A - CALABARZON","Region IV-B - MIMAROPA","Region V - Bicol Region","Region VI - Western Visayas","Region VII - Central Visayas","Region VIII - Eastern Visayas","Region IX - Zamboanga Peninsula","Region X - Northern Mindanao","Region XI - Davao Region","Region XII - SOCCSKSARGEN","Region XIII - Caraga","BARMM - Bangsamoro Autonomous Region in Muslim Mindanao"];return Ke?De.filter(Be=>Be.toLowerCase().includes(it)):De},ae=Ke=>{const it=Ke.target.value;t(De=>({...De,barangay:it})),h==="barangay"&&p(De=>({...De,barangay:U(it,a.municipality,a.province)}))},P=Ke=>{const it=Ke.target.value;t(De=>({...De,municipality:it})),h==="municipality"&&p(De=>({...De,municipality:V(it,a.province,a.barangay)}))},z=Ke=>{const it=Ke.target.value;t(De=>({...De,province:it})),h==="province"&&p(De=>({...De,province:T(it,a.municipality,a.barangay)}))},B=Ke=>{const it=Ke.target.value;t(De=>({...De,region:it})),h==="region"&&p(De=>({...De,region:ie(it)}))},q=Ke=>{t(it=>({...it,region:Ke})),u(null)},te=Ke=>{const it=Ke.target.value;t(De=>({...De,birth_barangay:it})),h==="birth_barangay"&&p(De=>({...De,birth_barangay:U(it,a.birth_municipality,a.birth_province)}))},he=Ke=>{const it=Ke.target.value;t(De=>({...De,birth_municipality:it})),h==="birth_municipality"&&p(De=>({...De,birth_municipality:V(it,a.birth_province,a.birth_barangay)}))},W=Ke=>{const it=Ke.target.value;t(De=>({...De,birth_province:it})),h==="birth_province"&&p(De=>({...De,birth_province:T(it,a.birth_municipality,a.birth_barangay)}))},C=Ke=>{const it=Ke.target.value;t(De=>({...De,father_birth_barangay:it})),h==="father_birth_barangay"&&p(De=>({...De,father_birth_barangay:U(it,a.father_birth_municipality,a.father_birth_province)}))},Z=Ke=>{const it=Ke.target.value;t(De=>({...De,father_birth_municipality:it})),h==="father_birth_municipality"&&p(De=>({...De,father_birth_municipality:V(it,a.father_birth_province,a.father_birth_barangay)}))},se=Ke=>{const it=Ke.target.value;t(De=>({...De,father_birth_province:it})),h==="father_birth_province"&&p(De=>({...De,father_birth_province:T(it,a.father_birth_municipality,a.father_birth_barangay)}))},Se=Ke=>{const it=Ke.target.value;t(De=>({...De,mother_birth_barangay:it})),h==="mother_birth_barangay"&&p(De=>({...De,mother_birth_barangay:U(it,a.mother_birth_municipality,a.mother_birth_province)}))},He=Ke=>{const it=Ke.target.value;t(De=>({...De,mother_birth_municipality:it})),h==="mother_birth_municipality"&&p(De=>({...De,mother_birth_municipality:V(it,a.mother_birth_province,a.mother_birth_barangay)}))},Qe=Ke=>{const it=Ke.target.value;t(De=>({...De,mother_birth_province:it})),h==="mother_birth_province"&&p(De=>({...De,mother_birth_province:T(it,a.mother_birth_municipality,a.mother_birth_barangay)}))},qe=Ke=>{t(De=>({...De,barangay:Ke})),u(null);const it=r.find(De=>De.barangay===Ke);it&&(a.municipality||t(De=>({...De,municipality:it.municipality})),a.province||t(De=>({...De,province:it.province})))},Ye=Ke=>{t(Be=>({...Be,municipality:Ke})),u(null);const it=r.filter(Be=>Be.municipality===Ke),De=[...new Set(it.map(Be=>Be.province))];De.length===1&&!a.province&&t(Be=>({...Be,province:De[0]}))},st=Ke=>{t(it=>({...it,province:Ke})),u(null)},kt=Ke=>{t(De=>({...De,birth_barangay:Ke})),u(null);const it=r.find(De=>De.barangay===Ke);it&&(a.birth_municipality||t(De=>({...De,birth_municipality:it.municipality})),a.birth_province||t(De=>({...De,birth_province:it.province})))},Mt=Ke=>{t(Be=>({...Be,birth_municipality:Ke})),u(null);const it=r.filter(Be=>Be.municipality===Ke),De=[...new Set(it.map(Be=>Be.province))];De.length===1&&!a.birth_province&&t(Be=>({...Be,birth_province:De[0]}))},ke=Ke=>{t(it=>({...it,birth_province:Ke})),u(null)},$e=Ke=>{t(De=>({...De,father_birth_barangay:Ke})),u(null);const it=r.find(De=>De.barangay===Ke);it&&(a.father_birth_municipality||t(De=>({...De,father_birth_municipality:it.municipality})),a.father_birth_province||t(De=>({...De,father_birth_province:it.province})))},Ae=Ke=>{t(Be=>({...Be,father_birth_municipality:Ke})),u(null);const it=r.filter(Be=>Be.municipality===Ke),De=[...new Set(it.map(Be=>Be.province))];De.length===1&&!a.father_birth_province&&t(Be=>({...Be,father_birth_province:De[0]}))},Le=Ke=>{t(it=>({...it,father_birth_province:Ke})),u(null)},de=Ke=>{t(De=>({...De,mother_birth_barangay:Ke})),u(null);const it=r.find(De=>De.barangay===Ke);it&&(a.mother_birth_municipality||t(De=>({...De,mother_birth_municipality:it.municipality})),a.mother_birth_province||t(De=>({...De,mother_birth_province:it.province})))},Me=Ke=>{t(Be=>({...Be,mother_birth_municipality:Ke})),u(null);const it=r.filter(Be=>Be.municipality===Ke),De=[...new Set(it.map(Be=>Be.province))];De.length===1&&!a.mother_birth_province&&t(Be=>({...Be,mother_birth_province:De[0]}))},Ie=Ke=>{t(it=>({...it,mother_birth_province:Ke})),u(null)},Ze=Ke=>{switch(u(Ke),Ke){case"barangay":p(it=>({...it,barangay:U(a.barangay||"",a.municipality,a.province)}));break;case"municipality":p(it=>({...it,municipality:V(a.municipality||"",a.province,a.barangay)}));break;case"province":p(it=>({...it,province:T(a.province||"",a.municipality,a.barangay)}));break;case"region":p(it=>({...it,region:ie(a.region||"")}));break;case"birth_barangay":p(it=>({...it,birth_barangay:U(a.birth_barangay||"",a.birth_municipality,a.birth_province)}));break;case"birth_municipality":p(it=>({...it,birth_municipality:V(a.birth_municipality||"",a.birth_province,a.birth_barangay)}));break;case"birth_province":p(it=>({...it,birth_province:T(a.birth_province||"",a.birth_municipality,a.birth_barangay)}));break;case"father_birth_barangay":p(it=>({...it,father_birth_barangay:U(a.father_birth_barangay||"",a.father_birth_municipality,a.father_birth_province)}));break;case"father_birth_municipality":p(it=>({...it,father_birth_municipality:V(a.father_birth_municipality||"",a.father_birth_province,a.father_birth_barangay)}));break;case"father_birth_province":p(it=>({...it,father_birth_province:T(a.father_birth_province||"",a.father_birth_municipality,a.father_birth_barangay)}));break;case"mother_birth_barangay":p(it=>({...it,mother_birth_barangay:U(a.mother_birth_barangay||"",a.mother_birth_municipality,a.mother_birth_province)}));break;case"mother_birth_municipality":p(it=>({...it,mother_birth_municipality:V(a.mother_birth_municipality||"",a.mother_birth_province,a.mother_birth_barangay)}));break;case"mother_birth_province":p(it=>({...it,mother_birth_province:T(a.mother_birth_province||"",a.mother_birth_municipality,a.mother_birth_barangay)}));break}};N.useEffect(()=>{const Ke=it=>{const De=document.querySelectorAll(".location-dropdown-container");let Be=!0;De.forEach(pe=>{pe.contains(it.target)&&(Be=!1)}),Be&&u(null)};return document.addEventListener("mousedown",Ke),()=>{document.removeEventListener("mousedown",Ke)}},[]);const nt=Ke=>{const{name:it,value:De}=Ke.target;t(Be=>({...Be,[it]:De}))},ot=(Ke,it)=>{if(t(De=>({...De,[Ke]:it})),Ke==="dateOfBirth"){const De=new Date,Be=new Date(it);let pe=De.getFullYear()-Be.getFullYear();const we=De.getMonth()-Be.getMonth();(we<0||we===0&&De.getDate()<Be.getDate())&&pe--,t(ze=>({...ze,age:pe.toString()}))}},jt=()=>{const Ke={};return[{name:"date",label:"Date of Confirmation"},{name:"time",label:"Time of Confirmation"},{name:"first_name",label:"First Name"},{name:"last_name",label:"Last Name"},{name:"gender",label:"Gender"},{name:"dateOfBirth",label:"Date of Birth"},{name:"dateOfBaptism",label:"Date of Baptism"},{name:"churchOfBaptism",label:"Church of Baptism"},{name:"birth_barangay",label:"Birth Barangay"},{name:"birth_municipality",label:"Birth Municipality"},{name:"birth_province",label:"Birth Province"},{name:"barangay",label:"Barangay"},{name:"street",label:"Street"},{name:"municipality",label:"Municipality"},{name:"province",label:"Province"},{name:"father_first_name",label:"Father's First Name"},{name:"father_last_name",label:"Father's Last Name"},{name:"mother_first_name",label:"Mother's First Name"},{name:"mother_last_name",label:"Mother's Last Name"}].forEach(De=>{(!a[De.name]||a[De.name].trim()==="")&&(Ke[De.name]=`${De.label} is required`)}),Ke},ft=async()=>{[a.birth_barangay,a.birth_municipality,a.birth_province].filter(Boolean).join(", "),[a.father_birth_barangay,a.father_birth_municipality,a.father_birth_province].filter(Boolean).join(", "),[a.mother_birth_barangay,a.mother_birth_municipality,a.mother_birth_province].filter(Boolean).join(", "),{...a};const Ke=jt();if(Object.keys(Ke).length>0){Ne(Ke),_e(!0),setTimeout(()=>{const De=Object.keys(Ke)[0],Be=document.querySelector(`[name="${De}"]`);Be&&(Be.scrollIntoView({behavior:"smooth",block:"center"}),ye(Be))},100),_("Please fill in all required fields"),D(!0);return}Ne({}),K(!0)},It=async()=>{re(!0),K(!1);try{const Ke=yt=>{if(!yt)return"";try{if(/^\d{4}-\d{2}-\d{2}$/.test(yt))return yt;const Qt=new Date(yt);return isNaN(Qt.getTime())?(console.error("Invalid date:",yt),""):Qt.toISOString().split("T")[0]}catch(Qt){return console.error("Error formatting date:",Qt),""}},it=[a.birth_barangay,a.birth_municipality,a.birth_province].filter(Boolean).join(", "),De=[a.father_birth_barangay,a.father_birth_municipality,a.father_birth_province].filter(Boolean).join(", "),Be=[a.mother_birth_barangay,a.mother_birth_municipality,a.mother_birth_province].filter(Boolean).join(", "),pe={...a,placeOfBirth:it,father_placeOfBirth:De,mother_placeOfBirth:Be,dateOfBirth:Ke(a.dateOfBirth),dateOfBaptism:Ke(a.dateOfBaptism),father_dateOfBirth:Ke(a.father_dateOfBirth),mother_dateOfBirth:Ke(a.mother_dateOfBirth)},we=new FormData;we.append("applicationData",JSON.stringify(pe)),we.append("addressData",JSON.stringify({street:a.street,barangay:a.barangay,municipality:a.municipality,province:a.province,region:a.region})),we.append("fatherData",JSON.stringify({first_name:pe.father_first_name,middle_name:pe.father_middle_name,last_name:pe.father_last_name,placeOfBirth:De,dateOfBirth:pe.father_dateOfBirth,contact_number:pe.father_contact})),we.append("motherData",JSON.stringify({first_name:pe.mother_first_name,middle_name:pe.mother_middle_name,last_name:pe.mother_last_name,placeOfBirth:Be,dateOfBirth:pe.mother_dateOfBirth,contact_number:pe.mother_contact})),Object.keys(s).forEach(yt=>{s[yt].file&&we.append(yt,s[yt].file),we.append(`${yt}_status`,s[yt].status)}),console.log("Sending form data to backend...");const Xe=await(await fetch("http://parishofdivinemercy.com/backend/confirmation_application.php",{method:"POST",body:we})).text();console.log("Raw response:",Xe);let wt;try{wt=JSON.parse(Xe)}catch{throw console.error("Failed to parse response as JSON:",Xe),new Error("Invalid response from server")}console.log("Parsed response:",wt),re(!1),wt.success?(console.log("Application submitted successfully, sending email..."),k(!0),setTimeout(()=>{navigate("/client-appointment")},2e3)):(console.error("Application submission failed:",wt.message),_(wt.message||"Failed to submit application"),D(!0))}catch(Ke){re(!1),console.error("Error submitting form:",Ke),_(Ke.message||"An error occurred while submitting your application. Please try again."),D(!0)}};return e.jsxs("div",{className:"client-kumpil-container",children:[e.jsx("div",{className:"client-kumpil-header",children:e.jsx("div",{className:"client-kumpil-left-section",children:e.jsxs("button",{className:"client-kumpil-back-button",onClick:()=>window.history.back(),children:[e.jsx(Oa,{className:"client-kumpil-back-icon"})," Back"]})})}),e.jsx("h1",{className:"client-kumpil-title",children:"Confirmation Application Form"}),e.jsxs("div",{className:"client-kumpil-data",children:[e.jsxs("div",{className:"client-kumpil-row-date",children:[e.jsxs("div",{className:"client-kumpil-field-date",children:[e.jsxs("label",{children:["Date of Appointment ",e.jsx("span",{className:"required-marker",children:"*"})]}),e.jsxs("select",{name:"date",value:a.date,onChange:Ke=>t(it=>({...it,date:Ke.target.value})),className:ue&&fe.date?"input-error":"",children:[e.jsx("option",{value:"",children:"Select Date"}),S.map(Ke=>e.jsx("option",{value:Ke,children:new Date(Ke).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})},Ke))]})]}),e.jsxs("div",{className:"client-kumpil-field-time",children:[e.jsxs("label",{children:["Time of Appointment ",e.jsx("span",{className:"required-marker",children:"*"})]}),e.jsxs("select",{name:"time",value:a.time,onChange:Ke=>t(it=>({...it,time:Ke.target.value})),disabled:!a.date,className:ue&&fe.time?"input-error":"",children:[e.jsx("option",{value:"",children:"Select Time"}),O.map(Ke=>e.jsx("option",{value:Ke,children:Ke},Ke))]})]})]}),e.jsxs("div",{className:"client-kumpil-bypart",children:[e.jsx("h3",{className:"client-kumpil-sub-title",children:"Personal Information"}),e.jsxs("div",{className:"client-kumpil-row",children:[e.jsxs("div",{className:`client-kumpil-field ${ue&&fe.first_name?"field-error":""}`,children:[e.jsxs("label",{children:["First Name ",e.jsx("span",{className:"required-marker",children:"*"})]}),e.jsx("input",{name:"first_name",value:a.first_name,onChange:nt,className:ue&&fe.first_name?"input-error":""})]}),e.jsxs("div",{className:"client-kumpil-field",children:[e.jsx("label",{children:"Middle Name"}),e.jsx("input",{name:"middle_name",value:a.middle_name,onChange:nt})]}),e.jsxs("div",{className:`client-kumpil-field ${ue&&fe.last_name?"field-error":""}`,children:[e.jsxs("label",{children:["Last Name ",e.jsx("span",{className:"required-marker",children:"*"})]}),e.jsx("input",{name:"last_name",value:a.last_name,onChange:nt,className:ue&&fe.last_name?"input-error":""})]}),e.jsxs("div",{className:`client-kumpil-field ${ue&&fe.dateOfBirth?"field-error":""}`,children:[e.jsxs("label",{children:["Date of Birth ",e.jsx("span",{className:"required-marker",children:"*"})]}),e.jsx("input",{name:"dateOfBirth",type:"date",onChange:Ke=>ot("dateOfBirth",Ke.target.value),className:`date-input ${ue&&fe.dateOfBirth?"input-error":""}`})]})]}),e.jsxs("div",{className:"client-kumpil-row",children:[e.jsxs("div",{className:"client-kumpil-field",children:[e.jsx("label",{children:"Age"}),e.jsx("input",{name:"age",value:a.age,onChange:nt})]}),e.jsxs("div",{className:`client-kumpil-field ${ue&&fe.gender?"field-error":""}`,children:[e.jsxs("label",{children:["Gender ",e.jsx("span",{className:"required-marker",children:"*"})]}),e.jsxs("select",{name:"gender",value:a.gender,onChange:nt,className:ue&&fe.gender?"input-error":"",children:[e.jsx("option",{value:"",children:"Select"}),e.jsx("option",{value:"Male",children:"Male"}),e.jsx("option",{value:"Female",children:"Female"})]})]}),e.jsxs("div",{className:`client-kumpil-field ${ue&&fe.dateOfBaptism?"field-error":""}`,children:[e.jsxs("label",{children:["Date of Baptism ",e.jsx("span",{className:"required-marker",children:"*"})]}),e.jsx("input",{name:"dateOfBaptism",type:"date",onChange:Ke=>ot("dateOfBaptism",Ke.target.value),className:`date-input ${ue&&fe.dateOfBaptism?"input-error":""}`})]}),e.jsxs("div",{className:`client-kumpil-field ${ue&&fe.churchOfBaptism?"field-error":""}`,children:[e.jsxs("label",{children:["Church of Baptism ",e.jsx("span",{className:"required-marker",children:"*"})]}),e.jsx("input",{name:"churchOfBaptism",value:a.churchOfBaptism,onChange:nt,className:ue&&fe.churchOfBaptism?"input-error":""})]})]}),e.jsxs("label",{className:"sub-cc",children:["Place of Birth ",e.jsx("span",{className:"required-marker",children:"*"})]}),e.jsxs("div",{className:"client-kumpil-row",children:[e.jsxs("div",{className:`client-kumpil-field location-dropdown-container ${ue&&fe.birth_barangay?"field-error":""}`,children:[e.jsxs("label",{children:["Birth Barangay ",e.jsx("span",{className:"required-marker",children:"*"})]}),e.jsx("input",{name:"birth_barangay",value:a.birth_barangay||"",onChange:te,onFocus:()=>Ze("birth_barangay"),placeholder:"Type to search",autoComplete:"off",className:ue&&fe.birth_barangay?"input-error":""}),h==="birth_barangay"&&e.jsx("div",{className:"location-dropdown",children:y.birth_barangay&&y.birth_barangay.length>0?y.birth_barangay.map((Ke,it)=>e.jsx("div",{onClick:()=>kt(Ke),className:"location-dropdown-item",children:Ke},it)):e.jsx("div",{className:"location-dropdown-item",children:"No barangays found"})})]}),e.jsxs("div",{className:`client-kumpil-field location-dropdown-container ${ue&&fe.birth_municipality?"field-error":""}`,children:[e.jsxs("label",{children:["Birth Municipality ",e.jsx("span",{className:"required-marker",children:"*"})]}),e.jsx("input",{name:"birth_municipality",value:a.birth_municipality||"",onChange:he,onFocus:()=>Ze("birth_municipality"),placeholder:"Type to search",autoComplete:"off",className:ue&&fe.birth_municipality?"input-error":""}),h==="birth_municipality"&&e.jsx("div",{className:"location-dropdown",children:y.birth_municipality&&y.birth_municipality.length>0?y.birth_municipality.map((Ke,it)=>e.jsx("div",{onClick:()=>Mt(Ke),className:"location-dropdown-item",children:Ke},it)):e.jsx("div",{className:"location-dropdown-item",children:"No municipalities found"})})]}),e.jsxs("div",{className:`client-kumpil-field location-dropdown-container ${ue&&fe.birth_province?"field-error":""}`,children:[e.jsxs("label",{children:["Birth Province ",e.jsx("span",{className:"required-marker",children:"*"})]}),e.jsx("input",{name:"birth_province",value:a.birth_province||"",onChange:W,onFocus:()=>Ze("birth_province"),placeholder:"Type to search",autoComplete:"off",className:ue&&fe.birth_province?"input-error":""}),h==="birth_province"&&e.jsx("div",{className:"location-dropdown",children:y.birth_province&&y.birth_province.length>0?y.birth_province.map((Ke,it)=>e.jsx("div",{onClick:()=>ke(Ke),className:"location-dropdown-item",children:Ke},it)):e.jsx("div",{className:"location-dropdown-item",children:"No provinces found"})})]})]}),e.jsxs("label",{className:"sub-cc",children:["Home Address ",e.jsx("span",{className:"required-marker",children:"*"})]}),e.jsxs("div",{className:"client-kumpil-row",children:[e.jsxs("div",{className:`client-kumpil-field ${ue&&fe.street?"field-error":""}`,children:[e.jsxs("label",{children:["Street ",e.jsx("span",{className:"required-marker",children:"*"})]}),e.jsx("input",{name:"street",value:a.street||"",onChange:Ke=>t(it=>({...it,street:Ke.target.value})),placeholder:"Street",autoComplete:"off",className:ue&&fe.street?"input-error":""})]}),e.jsxs("div",{className:`client-kumpil-field location-dropdown-container ${ue&&fe.barangay?"field-error":""}`,children:[e.jsxs("label",{children:["Barangay ",e.jsx("span",{className:"required-marker",children:"*"})]}),e.jsx("input",{name:"barangay",value:a.barangay||"",onChange:ae,onFocus:()=>Ze("barangay"),placeholder:"Type to search",autoComplete:"off",className:ue&&fe.barangay?"input-error":""}),h==="barangay"&&e.jsx("div",{className:"location-dropdown",children:y.barangay&&y.barangay.length>0?y.barangay.map((Ke,it)=>e.jsx("div",{onClick:()=>qe(Ke),className:"location-dropdown-item",children:Ke},it)):e.jsx("div",{className:"location-dropdown-item",children:"No barangays found"})})]}),e.jsxs("div",{className:`client-kumpil-field location-dropdown-container ${ue&&fe.municipality?"field-error":""}`,children:[e.jsxs("label",{children:["Municipality ",e.jsx("span",{className:"required-marker",children:"*"})]}),e.jsx("input",{name:"municipality",value:a.municipality||"",onChange:P,onFocus:()=>Ze("municipality"),placeholder:"Type to search",autoComplete:"off",className:ue&&fe.municipality?"input-error":""}),h==="municipality"&&e.jsx("div",{className:"location-dropdown",children:y.municipality&&y.municipality.length>0?y.municipality.map((Ke,it)=>e.jsx("div",{onClick:()=>Ye(Ke),className:"location-dropdown-item",children:Ke},it)):e.jsx("div",{className:"location-dropdown-item",children:"No municipalities found"})})]}),e.jsxs("div",{className:`client-kumpil-field location-dropdown-container ${ue&&fe.province?"field-error":""}`,children:[e.jsxs("label",{children:["Province ",e.jsx("span",{className:"required-marker",children:"*"})]}),e.jsx("input",{name:"province",value:a.province||"",onChange:z,onFocus:()=>Ze("province"),placeholder:"Type to search",autoComplete:"off",className:ue&&fe.province?"input-error":""}),h==="province"&&e.jsx("div",{className:"location-dropdown",children:y.province&&y.province.length>0?y.province.map((Ke,it)=>e.jsx("div",{onClick:()=>st(Ke),className:"location-dropdown-item",children:Ke},it)):e.jsx("div",{className:"location-dropdown-item",children:"No provinces found"})})]}),e.jsxs("div",{className:"client-kumpil-field location-dropdown-container",children:[e.jsx("label",{children:"Region"}),e.jsx("input",{name:"region",value:a.region||"",onChange:B,onFocus:()=>Ze("region"),placeholder:"Type to search",autoComplete:"off"}),h==="region"&&e.jsx("div",{className:"location-dropdown",children:y.region&&y.region.length>0?y.region.map((Ke,it)=>e.jsx("div",{onClick:()=>q(Ke),className:"location-dropdown-item",children:Ke},it)):e.jsx("div",{className:"location-dropdown-item",children:"No regions found"})})]})]}),e.jsx("h3",{className:"client-kumpil-sub-title",children:"Father's Information"}),e.jsxs("div",{className:"client-kumpil-row",children:[e.jsxs("div",{className:`client-kumpil-field ${ue&&fe.father_first_name?"field-error":""}`,children:[e.jsxs("label",{children:["Father's First Name ",e.jsx("span",{className:"required-marker",children:"*"})]}),e.jsx("input",{name:"father_first_name",value:a.father_first_name,onChange:nt,className:ue&&fe.father_first_name?"input-error":""})]}),e.jsxs("div",{className:"client-kumpil-field",children:[e.jsx("label",{children:"Father's Middle Name"}),e.jsx("input",{name:"father_middle_name",value:a.father_middle_name,onChange:nt})]}),e.jsxs("div",{className:`client-kumpil-field ${ue&&fe.father_last_name?"field-error":""}`,children:[e.jsxs("label",{children:["Father's Last Name ",e.jsx("span",{className:"required-marker",children:"*"})]}),e.jsx("input",{name:"father_last_name",value:a.father_last_name,onChange:nt,className:ue&&fe.father_last_name?"input-error":""})]})]}),e.jsxs("div",{className:"client-kumpil-row",children:[e.jsxs("div",{className:"client-kumpil-field",children:[e.jsx("label",{children:"Father's Date of Birth"}),e.jsx("input",{name:"father_dateOfBirth",type:"date",value:a.father_dateOfBirth||"",onChange:Ke=>ot("father_dateOfBirth",Ke.target.value),className:"date-input"})]}),e.jsxs("div",{className:"client-kumpil-field",children:[e.jsx("label",{children:"Father's Contact Number"}),e.jsx("input",{name:"father_contact",value:a.father_contact,onChange:nt})]})]}),e.jsx("label",{className:"sub-cc",children:"Father's Place of Birth"}),e.jsxs("div",{className:"client-kumpil-row",children:[e.jsxs("div",{className:"client-kumpil-field location-dropdown-container",children:[e.jsx("label",{children:"Father's Birth Barangay"}),e.jsx("input",{name:"father_birth_barangay",value:a.father_birth_barangay||"",onChange:C,onFocus:()=>Ze("father_birth_barangay"),placeholder:"Type to search",autoComplete:"off"}),h==="father_birth_barangay"&&e.jsx("div",{className:"location-dropdown",children:y.father_birth_barangay&&y.father_birth_barangay.length>0?y.father_birth_barangay.map((Ke,it)=>e.jsx("div",{onClick:()=>$e(Ke),className:"location-dropdown-item",children:Ke},it)):e.jsx("div",{className:"location-dropdown-item",children:"No barangays found"})})]}),e.jsxs("div",{className:"client-kumpil-field location-dropdown-container",children:[e.jsx("label",{children:"Father's Birth Municipality"}),e.jsx("input",{name:"father_birth_municipality",value:a.father_birth_municipality||"",onChange:Z,onFocus:()=>Ze("father_birth_municipality"),placeholder:"Type to search",autoComplete:"off"}),h==="father_birth_municipality"&&e.jsx("div",{className:"location-dropdown",children:y.father_birth_municipality&&y.father_birth_municipality.length>0?y.father_birth_municipality.map((Ke,it)=>e.jsx("div",{onClick:()=>Ae(Ke),className:"location-dropdown-item",children:Ke},it)):e.jsx("div",{className:"location-dropdown-item",children:"No municipalities found"})})]}),e.jsxs("div",{className:"client-kumpil-field location-dropdown-container",children:[e.jsx("label",{children:"Father's Birth Province"}),e.jsx("input",{name:"father_birth_province",value:a.father_birth_province||"",onChange:se,onFocus:()=>Ze("father_birth_province"),placeholder:"Type to search",autoComplete:"off"}),h==="father_birth_province"&&e.jsx("div",{className:"location-dropdown",children:y.father_birth_province&&y.father_birth_province.length>0?y.father_birth_province.map((Ke,it)=>e.jsx("div",{onClick:()=>Le(Ke),className:"location-dropdown-item",children:Ke},it)):e.jsx("div",{className:"location-dropdown-item",children:"No provinces found"})})]})]}),e.jsx("h3",{className:"client-kumpil-sub-title",children:"Mother's Information"}),e.jsxs("div",{className:"client-kumpil-row",children:[e.jsxs("div",{className:`client-kumpil-field ${ue&&fe.mother_first_name?"field-error":""}`,children:[e.jsxs("label",{children:["Mother's First Name ",e.jsx("span",{className:"required-marker",children:"*"})]}),e.jsx("input",{name:"mother_first_name",value:a.mother_first_name,onChange:nt,className:ue&&fe.mother_first_name?"input-error":""})]}),e.jsxs("div",{className:"client-kumpil-field",children:[e.jsx("label",{children:"Mother's Middle Name"}),e.jsx("input",{name:"mother_middle_name",value:a.mother_middle_name,onChange:nt})]}),e.jsxs("div",{className:`client-kumpil-field ${ue&&fe.mother_last_name?"field-error":""}`,children:[e.jsxs("label",{children:["Mother's Last Name ",e.jsx("span",{className:"required-marker",children:"*"})]}),e.jsx("input",{name:"mother_last_name",value:a.mother_last_name,onChange:nt,className:ue&&fe.mother_last_name?"input-error":""})]})]}),e.jsxs("div",{className:"client-kumpil-row",children:[e.jsxs("div",{className:"client-kumpil-field",children:[e.jsx("label",{children:"Mother's Date of Birth"}),e.jsx("input",{name:"mother_dateOfBirth",type:"date",value:a.mother_dateOfBirth||"",onChange:Ke=>ot("mother_dateOfBirth",Ke.target.value),className:"date-input"})]}),e.jsxs("div",{className:"client-kumpil-field",children:[e.jsx("label",{children:"Mother's Contact Number"}),e.jsx("input",{name:"mother_contact",value:a.mother_contact,onChange:nt})]})]}),e.jsx("label",{className:"sub-cc",children:"Mother's Place of Birth"}),e.jsxs("div",{className:"client-kumpil-row",children:[e.jsxs("div",{className:"client-kumpil-field location-dropdown-container",children:[e.jsx("label",{children:"Mother's Birth Barangay"}),e.jsx("input",{name:"mother_birth_barangay",value:a.mother_birth_barangay||"",onChange:Se,onFocus:()=>Ze("mother_birth_barangay"),placeholder:"Type to search",autoComplete:"off"}),h==="mother_birth_barangay"&&e.jsx("div",{className:"location-dropdown",children:y.mother_birth_barangay&&y.mother_birth_barangay.length>0?y.mother_birth_barangay.map((Ke,it)=>e.jsx("div",{onClick:()=>de(Ke),className:"location-dropdown-item",children:Ke},it)):e.jsx("div",{className:"location-dropdown-item",children:"No barangays found"})})]}),e.jsxs("div",{className:"client-kumpil-field location-dropdown-container",children:[e.jsx("label",{children:"Mother's Birth Municipality"}),e.jsx("input",{name:"mother_birth_municipality",value:a.mother_birth_municipality||"",onChange:He,onFocus:()=>Ze("mother_birth_municipality"),placeholder:"Type to search",autoComplete:"off"}),h==="mother_birth_municipality"&&e.jsx("div",{className:"location-dropdown",children:y.mother_birth_municipality&&y.mother_birth_municipality.length>0?y.mother_birth_municipality.map((Ke,it)=>e.jsx("div",{onClick:()=>Me(Ke),className:"location-dropdown-item",children:Ke},it)):e.jsx("div",{className:"location-dropdown-item",children:"No municipalities found"})})]}),e.jsxs("div",{className:"client-kumpil-field location-dropdown-container",children:[e.jsx("label",{children:"Mother's Birth Province"}),e.jsx("input",{name:"mother_birth_province",value:a.mother_birth_province||"",onChange:Qe,onFocus:()=>Ze("mother_birth_province"),placeholder:"Type to search",autoComplete:"off"}),h==="mother_birth_province"&&e.jsx("div",{className:"location-dropdown",children:y.mother_birth_province&&y.mother_birth_province.length>0?y.mother_birth_province.map((Ke,it)=>e.jsx("div",{onClick:()=>Ie(Ke),className:"location-dropdown-item",children:Ke},it)):e.jsx("div",{className:"location-dropdown-item",children:"No provinces found"})})]})]})]}),e.jsxs("div",{className:"client-kumpil-requirements-container",children:[e.jsx("h2",{className:"client-kumpil-requirements-title",children:"Requirements"}),e.jsxs("div",{className:"client-kumpil-requirements-box",children:[e.jsx("h3",{className:"client-kumpil-section-header",children:"Requirements Documents(Bring the following documents)"}),e.jsxs("div",{className:"client-kumpil-info-list",children:[e.jsx("div",{className:"client-kumpil-info-item",children:e.jsx("p",{children:"Baptismal Certificate"})}),e.jsx("div",{className:"client-kumpil-info-item",children:e.jsx("p",{children:"Birth Certificate"})}),e.jsx("div",{className:"client-kumpil-info-item",children:e.jsx("p",{children:"Valid ID for the candidate"})}),e.jsx("div",{className:"client-kumpil-info-item",children:e.jsx("p",{children:"Certificate of Permission(if the candidate is not a resident of the parish)"})})]}),e.jsx("h3",{className:"client-kumpil-section-header",children:"Requirements for Candidate"}),e.jsxs("div",{className:"client-kumpil-info-list",children:[e.jsx("div",{className:"client-kumpil-info-item",children:e.jsx("p",{children:"Must have received the Sacraments of Baptism and Holy Eucharist"})}),e.jsx("div",{className:"client-kumpil-info-item",children:e.jsx("p",{children:"Must be at least 12 years old (Age requirement may vary by parish)"})}),e.jsx("div",{className:"client-kumpil-info-item",children:e.jsx("p",{children:"Must attend Catechism Classes or Confirmation Seminar"})}),e.jsx("div",{className:"client-kumpil-info-item",children:e.jsx("p",{children:"Must receive the Sacrament of Confession before Confirmation"})}),e.jsx("div",{className:"client-kumpil-info-item",children:e.jsx("p",{children:"Must attend a Confirmation Retreat (if required by parish)"})})]})]})]}),e.jsxs("div",{className:"client-kumpil-button-container",children:[e.jsx("button",{className:"client-kumpil-submit-btn",onClick:ft,children:"Submit"}),e.jsx("button",{className:"client-kumpil-cancel-btn",children:"Cancel"})]})]}),J&&e.jsx("div",{className:"client-kumpil-modal-overlay",children:e.jsxs("div",{className:"client-kumpil-modal",children:[e.jsx("h2",{children:"Submit Application"}),e.jsx("p",{children:"Are you sure you want to submit your Confirmation application?"}),e.jsxs("div",{className:"client-kumpil-modal-buttons",children:[e.jsx("button",{className:"client-kumpil-yes-btn",onClick:It,children:"Yes"}),e.jsx("button",{className:"client-kumpil-modal-no-btn",onClick:()=>K(!1),children:"No"})]})]})}),H&&e.jsx("div",{className:"client-kumpil-modal-overlay",children:e.jsxs("div",{className:"client-kumpil-modal",children:[e.jsx("h2",{children:"Success"}),e.jsx("p",{children:"Your Confirmation application has been submitted successfully!"}),e.jsx("div",{className:"client-kumpil-modal-buttons",children:e.jsx("button",{className:"client-kumpil-yes-btn",onClick:()=>k(!1),children:"OK"})})]})}),Y&&e.jsx("div",{className:"client-kumpil-modal-overlay",children:e.jsxs("div",{className:"client-kumpil-modal",children:[e.jsx("h2",{children:"Error"}),e.jsx("p",{children:ge}),e.jsx("div",{className:"client-kumpil-modal-buttons",children:e.jsx("button",{className:"client-kumpil-modal-no-btn",onClick:()=>D(!1),children:"OK"})})]})}),X&&e.jsx("div",{className:"client-kumpil-modal-overlay",children:e.jsxs("div",{className:"client-kumpil-modal",children:[e.jsx("h2",{children:"Processing Application"}),e.jsx("p",{children:"Please wait while we submit your confirmation application..."}),e.jsx("div",{className:"client-kumpil-loading-spinner",children:e.jsx("div",{className:"client-kumpil-spinner"})})]})})]})},sk=()=>{var ue,_e;const a=oa(),t=Jt(),s=(ue=a.state)==null?void 0:ue.clientID,i=(_e=a.state)==null?void 0:_e.user;N.useEffect(()=>{(!s||!i)&&(localStorage.getItem("user")||t("/client-login"))},[s,i,t]);const[r,c]=N.useState(new Date),[A,d]=N.useState(null),[h,u]=N.useState(!1),[v,x]=N.useState(null),y=ce=>{const ye=ce%19,Q=Math.floor(ce/100),ne=ce%100,U=Math.floor(Q/4),V=Q%4,T=Math.floor((Q+8)/25),ie=Math.floor((Q-T+1)/3),ae=(19*ye+Q-U-ie+15)%30,P=Math.floor(ne/4),z=ne%4,B=(32+2*V+2*P-ae-z)%7,q=Math.floor((ye+11*ae+22*B)/451),te=Math.floor((ae+B-7*q+114)/31)-1,he=(ae+B-7*q+114)%31+1;return new Date(ce,te,he)},p=(ce,ye)=>{const Q=new Date(ce,ye+1,0),ne=new Date(Q);for(;ne.getDay()!==1;)ne.setDate(ne.getDate()-1);return ne},F=ce=>{const Q=new Date(2024,1,10),U=(ce-2024)*354,V=new Date(Q);return V.setDate(V.getDate()+U),V.getMonth()===0&&V.getDate()<21?V.setDate(21):V.getMonth()===1&&V.getDate()>20&&V.setDate(20),V},b=ce=>{const Q=new Date(2024,3,10),ne=new Date(2024,5,17),V=(ce-2024)*11,T=new Date(Q);T.setDate(T.getDate()-V);const ie=new Date(ne);return ie.setDate(ie.getDate()-V),{eidAlFitr:T,eidAlAdha:ie}},S=ce=>{const ye=[];ye.push({date:new Date(ce,0,1),name:"New Year's Day",type:"Regular"}),ye.push({date:new Date(ce,3,9),name:"Araw ng Kagitingan",type:"Regular"}),ye.push({date:new Date(ce,4,1),name:"Labor Day",type:"Regular"}),ye.push({date:new Date(ce,5,12),name:"Independence Day",type:"Regular"}),ye.push({date:new Date(ce,10,30),name:"Bonifacio Day",type:"Regular"}),ye.push({date:new Date(ce,11,25),name:"Christmas Day",type:"Regular"}),ye.push({date:new Date(ce,11,30),name:"Rizal Day",type:"Regular"}),ye.push({date:new Date(ce,7,21),name:"Ninoy Aquino Day",type:"Special"}),ye.push({date:new Date(ce,10,1),name:"All Saints' Day",type:"Special"}),ye.push({date:new Date(ce,10,2),name:"All Souls' Day",type:"Special"}),ye.push({date:new Date(ce,11,8),name:"Immaculate Conception",type:"Special"}),ye.push({date:new Date(ce,11,24),name:"Christmas Eve",type:"Special"}),ye.push({date:new Date(ce,11,31),name:"New Year's Eve",type:"Special"}),ye.push({date:new Date(ce,1,25),name:"EDSA Revolution",type:"Special"});const Q=p(ce,7);ye.push({date:Q,name:"National Heroes Day",type:"Regular"});const ne=y(ce),U=new Date(ne);U.setDate(ne.getDate()-3);const V=new Date(ne);V.setDate(ne.getDate()-2);const T=new Date(ne);T.setDate(ne.getDate()-1),ye.push({date:U,name:"Maundy Thursday",type:"Regular"}),ye.push({date:V,name:"Good Friday",type:"Regular"}),ye.push({date:T,name:"Black Saturday",type:"Special"});const ie=F(ce);ye.push({date:ie,name:"Chinese New Year",type:"Special"});const ae=b(ce);return ye.push({date:ae.eidAlFitr,name:"Eid'l Fitr",type:"Regular"}),ye.push({date:ae.eidAlAdha,name:"Eid'l Adha",type:"Regular"}),ye},[f,O]=N.useState([]);N.useEffect(()=>{const ce=r.getFullYear();O(S(ce))},[r]);const M=[{id:1,firstName:"Maria",lastName:"Santos",sacramentType:"Baptism",date:new Date(2025,3,15),time:"9:00 AM",status:"Confirmed"},{id:2,firstName:"Juan",lastName:"Dela Cruz",sacramentType:"Marriage",date:new Date(2025,3,20),time:"3:00 PM",status:"Pending"},{id:3,firstName:"Pedro",lastName:"Reyes",sacramentType:"Communion",date:new Date(2025,3,25),time:"10:30 AM",status:"Confirmed"},{id:4,firstName:"Ana",lastName:"Manalo",sacramentType:"Kumpil",date:new Date(2025,3,28),time:"11:00 AM",status:"Pending"}],J=()=>{c(new Date(r.getFullYear(),r.getMonth()-1,1))},K=()=>{c(new Date(r.getFullYear(),r.getMonth()+1,1))},H=ce=>f.some(ye=>ye.date.getDate()===ce.getDate()&&ye.date.getMonth()===ce.getMonth()&&ye.date.getFullYear()===ce.getFullYear()),k=ce=>f.find(ye=>ye.date.getDate()===ce.getDate()&&ye.date.getMonth()===ce.getMonth()&&ye.date.getFullYear()===ce.getFullYear()),Y=ce=>M.some(ye=>ye.date.getDate()===ce.getDate()&&ye.date.getMonth()===ce.getMonth()&&ye.date.getFullYear()===ce.getFullYear()),D=ce=>ce.toLocaleDateString("en-US",{month:"long",year:"numeric"}),ge=()=>{const ce=r.getFullYear(),ye=r.getMonth(),Q=new Date(ce,ye,1),U=new Date(ce,ye+1,0).getDate(),V=Q.getDay(),T=[];for(let ie=0;ie<V;ie++)T.push(null);for(let ie=1;ie<=U;ie++){const ae=new Date(ce,ye,ie);T.push(ae)}return T},_=ce=>{ce&&(d(ce),H(ce)?(x(k(ce)),u(!0)):(u(!1),x(null)))},X=ce=>ce.toLocaleDateString("en-US",{weekday:"long",month:"long",day:"numeric",year:"numeric"}),re=()=>A?M.filter(ce=>ce.date.getDate()===A.getDate()&&ce.date.getMonth()===A.getMonth()&&ce.date.getFullYear()===A.getFullYear()):[],fe=ce=>{switch(ce.toLowerCase()){case"confirmed":return e.jsx(dt,{icon:ol,style:{marginRight:"5px",color:"#155724"}});case"pending":return e.jsx(dt,{icon:mo,style:{marginRight:"5px",color:"#856404"}});case"cancelled":return e.jsx(dt,{icon:mo,style:{marginRight:"5px",color:"#721c24"}});case"completed":return e.jsx(dt,{icon:ol,style:{marginRight:"5px",color:"#004085"}});default:return null}},Ne=ce=>{const ye=new Date;return ce.getDate()===ye.getDate()&&ce.getMonth()===ye.getMonth()&&ce.getFullYear()===ye.getFullYear()};return e.jsxs("div",{className:"dashboard-container-cd",children:[e.jsx("h1",{className:"title-cd",children:"CLIENT DASHBOARD"}),e.jsxs("div",{className:"calendar-section-cd",children:[e.jsxs("div",{className:"calendar-header-cd",children:[e.jsx("button",{className:"nav-btn-cd",onClick:J,"aria-label":"Previous month",children:e.jsx(dt,{icon:mh})}),e.jsxs("h2",{className:"month-year-cd",children:[e.jsx(dt,{icon:rn,style:{marginRight:"10px"}}),D(r)]}),e.jsx("button",{className:"nav-btn-cd",onClick:K,"aria-label":"Next month",children:e.jsx(dt,{icon:fh})})]}),e.jsxs("div",{className:"calendar-grid-cd",children:[e.jsx("div",{className:"weekday-cd",children:"Sun"}),e.jsx("div",{className:"weekday-cd",children:"Mon"}),e.jsx("div",{className:"weekday-cd",children:"Tue"}),e.jsx("div",{className:"weekday-cd",children:"Wed"}),e.jsx("div",{className:"weekday-cd",children:"Thu"}),e.jsx("div",{className:"weekday-cd",children:"Fri"}),e.jsx("div",{className:"weekday-cd",children:"Sat"}),ge().map((ce,ye)=>e.jsx("div",{className:`calendar-day-cd 
                ${ce?"":"empty-day-cd"} 
                ${ce&&Y(ce)?"has-appointment-cd":""} 
                ${ce&&H(ce)?"holiday-day-cd":""} 
                ${ce&&Ne(ce)?"today-cd":""}
                ${ce&&A&&ce.getDate()===A.getDate()&&ce.getMonth()===A.getMonth()&&ce.getFullYear()===A.getFullYear()?"selected-day-cd":""}`,onClick:()=>_(ce),"aria-label":ce?`${ce.getDate()}, ${H(ce)?"Holiday":""} ${Y(ce)?"Has appointment":""}`:"Empty day",children:ce&&e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"day-number-cd",children:ce.getDate()}),Y(ce)&&e.jsx("div",{className:"appointment-dot-cd"}),H(ce)&&e.jsxs("div",{className:"holiday-indicator-cd",children:[e.jsx("div",{className:"holiday-dot-cd",style:{backgroundColor:k(ce).type==="Regular"?"#e74c3c":"#f39c12"}}),e.jsx("span",{className:"holiday-name-cd",children:k(ce).name})]})]})},ye))]}),h&&v&&e.jsxs("div",{className:"holiday-info-cd",children:[e.jsxs("div",{className:"holiday-info-header-cd",children:[e.jsx(dt,{icon:Pf,className:"holiday-info-icon-cd"}),e.jsx("h3",{children:"Holiday Information"})]}),e.jsxs("div",{className:"holiday-info-content-cd",children:[e.jsxs("p",{children:[e.jsx("strong",{children:"Date:"})," ",X(v.date)]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Holiday:"})," ",v.name]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Type:"})," ",e.jsxs("span",{className:`holiday-type-cd ${v.type.toLowerCase()}-holiday-cd`,children:[v.type," Holiday"]})]})]})]}),A&&e.jsxs("div",{className:"selected-date-info-cd",children:[e.jsxs("h3",{children:[e.jsx(dt,{icon:rn,style:{marginRight:"10px",color:"#b3701f"}}),X(A)]}),re().length>0?e.jsxs("div",{className:"selected-date-appointments-cd",children:[e.jsx("h4",{children:"Your Scheduled Appointments:"}),e.jsx("ul",{className:"appointment-list-cd",children:re().map(ce=>e.jsxs("li",{className:"appointment-item-cd",children:[e.jsx("div",{className:"appointment-time-cd",children:ce.time}),e.jsxs("div",{className:"appointment-details-cd",children:[e.jsxs("span",{className:"appointment-name-cd",children:[ce.firstName," ",ce.lastName]}),e.jsx("span",{className:"appointment-type-cd",children:ce.sacramentType}),e.jsxs("span",{className:`appointment-status-cd ${ce.status.toLowerCase()}-cd`,children:[fe(ce.status),ce.status]})]})]},ce.id))})]}):e.jsx("p",{className:"no-appointments-message-cd",children:"No appointments scheduled for this date. Select a different date or contact the parish office to schedule a new appointment."})]})]})]})},nk=()=>{var ce,ye;const a=oa(),t=Jt(),s=((ce=a.state)==null?void 0:ce.clientID)||((ye=JSON.parse(localStorage.getItem("user")))==null?void 0:ye.clientID),[i,r]=N.useState(null),[c,A]=N.useState(null),[d,h]=N.useState(!1),[u,v]=N.useState(!1),[x,y]=N.useState(!1),[p,F]=N.useState(!1),[b,S]=N.useState(""),[f,O]=N.useState({first_name:"",middle_name:"",last_name:"",sex:"",age:"",date_of_birthday:"",contact_number:"",nationality:"",region:"",place_of_birth:"",email:"",facebook_account:"",barangay:"",street:"",municipality:"",province:""}),[M,J]=N.useState({provinces:[],municipalities:[],barangays:[]}),[K,H]=N.useState({province:!1,municipality:!1,barangay:!1});N.useEffect(()=>{if(!s){t("/client-login");return}k()},[s,t]);const k=async()=>{try{const ne=await(await fetch(`http://parishofdivinemercy.com/backend/client_profile.php?clientID=${s}`)).json();if(ne.success&&ne.profile){if(ne.profile.date_of_birthday){const V=new Date(ne.profile.date_of_birthday).toLocaleDateString("en-GB");ne.profile.date_of_birthday=V}O(ne.profile),ne.profile.profile_image&&r(ne.profile.profile_image)}}catch(Q){console.error("Error fetching profile:",Q)}},Y=async(Q="",ne="",U="",V="")=>{try{let T=`http://parishofdivinemercy.com/backend/get_location.php?search=${Q}&field=${ne}`;U&&(T+=`&province=${encodeURIComponent(U)}`),V&&(T+=`&municipality=${encodeURIComponent(V)}`);const ae=await(await fetch(T)).json();if(ae.success){if(ne==="province"){const P=[...new Set(ae.locations.map(z=>z.province))];J(z=>({...z,provinces:P}))}else if(ne==="municipality"){const P=[...new Set(ae.locations.map(z=>z.municipality))];J(z=>({...z,municipalities:P}))}else if(ne==="barangay"){const P=[...new Set(ae.locations.map(z=>z.barangay))];J(z=>({...z,barangays:P}))}}}catch(T){console.error("Error fetching locations:",T)}},D=Q=>{const ne=Q.target.files[0];if(ne){A(ne);const U=new FileReader;U.onloadend=()=>{r(U.result)},U.readAsDataURL(ne)}},ge=(Q,ne)=>{O(U=>({...U,[Q]:ne}))},_=Q=>{const U=new Date(Q).toLocaleDateString("en-GB");ge("date_of_birthday",U)},X=Q=>{ge("province",Q),Q?(Y(Q,"province"),H(ne=>({...ne,province:!0}))):H(ne=>({...ne,province:!1}))},re=Q=>{ge("municipality",Q),Q?(Y(Q,"municipality",f.province),H(ne=>({...ne,municipality:!0}))):H(ne=>({...ne,municipality:!1}))},fe=Q=>{ge("barangay",Q),Q?(Y(Q,"barangay",f.province,f.municipality),H(ne=>({...ne,barangay:!0}))):H(ne=>({...ne,barangay:!1}))},Ne=(Q,ne)=>{ge(Q,ne),H(U=>({...U,[Q]:!1})),Q==="province"?(ge("municipality",""),ge("barangay","")):Q==="municipality"&&ge("barangay","")},ue=async()=>{try{let Q=f.date_of_birthday;if(Q&&Q.includes("/")){const[T,ie,ae]=Q.split("/");Q=`${ae}-${ie.padStart(2,"0")}-${T.padStart(2,"0")}`}const ne=new FormData;ne.append("clientID",s),Object.keys(f).forEach(T=>{ne.append(T,T==="date_of_birthday"?Q:f[T]||"")}),c?ne.append("profile_image",c):i&&!i.startsWith("data:")&&ne.append("existing_image",i);const V=await(await fetch("http://parishofdivinemercy.com/backend/client_profile.php",{method:"POST",body:ne})).json();V.success?(h(!1),y(!0)):(F(!0),S(V.message||"Failed to update profile"))}catch(Q){console.error("Error updating profile:",Q),F(!0),S("Error updating profile")}},_e=()=>{O({first_name:"",middle_name:"",last_name:"",sex:"",age:"",date_of_birthday:"",contact_number:"",nationality:"",region:"",place_of_birth:"",email:"",facebook_account:"",barangay:"",street:"",municipality:"",province:""}),r(null),A(null),document.getElementById("imageUpload").value="",v(!1)};return e.jsxs("div",{className:"client-profile-container",children:[e.jsx("div",{className:"client-profile-header",children:e.jsx("h1",{className:"title-cp",children:"CLIENT PROFILE"})}),e.jsxs("div",{className:"client-profile-content",children:[e.jsxs("div",{className:"image-upload-container-cp",children:[e.jsx("label",{htmlFor:"imageUpload",className:"image-upload-label",children:i?e.jsx("img",{src:i,alt:"Profile",className:"profile-image-cp"}):e.jsx("div",{className:"image-placeholder-cp",children:"Click to Upload"})}),e.jsx("input",{type:"file",id:"imageUpload",accept:"image/*",onChange:D,className:"hidden-file-input"})]}),e.jsxs("div",{className:"client-profile-fields-cp",children:[e.jsxs("div",{className:"client-profile-row-cp",children:[e.jsxs("div",{className:"cp-fields",children:[e.jsx("label",{children:"First Name"}),e.jsx("input",{type:"text",value:f.first_name,onChange:Q=>ge("first_name",Q.target.value)})]}),e.jsxs("div",{className:"cp-fields",children:[e.jsx("label",{children:"Middle Name"}),e.jsx("input",{type:"text",value:f.middle_name,onChange:Q=>ge("middle_name",Q.target.value)})]}),e.jsxs("div",{className:"cp-fields",children:[e.jsx("label",{children:"Last Name"}),e.jsx("input",{type:"text",value:f.last_name,onChange:Q=>ge("last_name",Q.target.value)})]}),e.jsxs("div",{className:"cp-fields",children:[e.jsx("label",{children:"Sex"}),e.jsxs("select",{value:f.sex,onChange:Q=>ge("sex",Q.target.value),children:[e.jsx("option",{value:"",children:"Select"}),e.jsx("option",{value:"Male",children:"Male"}),e.jsx("option",{value:"Female",children:"Female"})]})]})]}),e.jsxs("div",{className:"client-profile-row-cp",children:[e.jsxs("div",{className:"cp-fields",children:[e.jsx("label",{children:"Age"}),e.jsx("input",{type:"number",value:f.age,onChange:Q=>ge("age",Q.target.value)})]}),e.jsxs("div",{className:"cp-fields",children:[e.jsx("label",{children:"Date of Birth (dd/mm/yyyy)"}),e.jsx("input",{type:"date",value:f.date_of_birthday&&f.date_of_birthday.includes("/")?f.date_of_birthday.split("/").reverse().join("-"):f.date_of_birthday,onChange:Q=>_(Q.target.value)})]}),e.jsxs("div",{className:"cp-fields",children:[e.jsx("label",{children:"Phone Number"}),e.jsx("input",{type:"text",value:f.contact_number,onChange:Q=>ge("contact_number",Q.target.value)})]}),e.jsxs("div",{className:"cp-fields",children:[e.jsx("label",{children:"Nationality"}),e.jsx("input",{type:"text",value:f.nationality,onChange:Q=>ge("nationality",Q.target.value)})]})]}),e.jsxs("div",{className:"client-profile-row-cp",children:[e.jsxs("div",{className:"cp-fields",children:[e.jsx("label",{children:"Region"}),e.jsx("input",{type:"text",value:f.region,onChange:Q=>ge("region",Q.target.value)})]}),e.jsxs("div",{children:[e.jsx("label",{children:"Email Address"}),e.jsx("input",{type:"email",value:f.email,onChange:Q=>ge("email",Q.target.value)})]}),e.jsxs("div",{children:[e.jsx("label",{children:"Facebook Account"}),e.jsx("input",{type:"text",value:f.facebook_account,onChange:Q=>ge("facebook_account",Q.target.value)})]})]})]})]}),e.jsx("div",{className:"client-profile-row-cp",children:e.jsxs("div",{children:[e.jsx("label",{children:"Place of Birth"}),e.jsx("input",{type:"text",className:"cp-pob",value:f.place_of_birth,onChange:Q=>ge("place_of_birth",Q.target.value)})]})}),e.jsx("label",{className:"sub-cc",children:"Home Address"}),e.jsxs("div",{className:"client-profile-row-cp",children:[e.jsxs("div",{className:"location-dropdown-container",children:[e.jsx("label",{children:"Province"}),e.jsx("input",{type:"text",value:f.province,onChange:Q=>X(Q.target.value),onFocus:()=>Y("","province")}),K.province&&M.provinces.length>0&&e.jsx("div",{className:"location-dropdown",children:M.provinces.map((Q,ne)=>e.jsx("div",{onClick:()=>Ne("province",Q),className:"location-dropdown-item",children:Q},ne))})]}),e.jsxs("div",{className:"location-dropdown-container",children:[e.jsx("label",{children:"Municipality"}),e.jsx("input",{type:"text",value:f.municipality,onChange:Q=>re(Q.target.value),onFocus:()=>Y("","municipality",f.province)}),K.municipality&&M.municipalities.length>0&&e.jsx("div",{className:"location-dropdown",children:M.municipalities.map((Q,ne)=>e.jsx("div",{onClick:()=>Ne("municipality",Q),className:"location-dropdown-item",children:Q},ne))})]}),e.jsxs("div",{className:"location-dropdown-container",children:[e.jsx("label",{children:"Barangay"}),e.jsx("input",{type:"text",value:f.barangay,onChange:Q=>fe(Q.target.value),onFocus:()=>Y("","barangay",f.province,f.municipality)}),K.barangay&&M.barangays.length>0&&e.jsx("div",{className:"location-dropdown",children:M.barangays.map((Q,ne)=>e.jsx("div",{onClick:()=>Ne("barangay",Q),className:"location-dropdown-item",children:Q},ne))})]}),e.jsxs("div",{children:[e.jsx("label",{children:"Street"}),e.jsx("input",{type:"text",value:f.street,onChange:Q=>ge("street",Q.target.value)})]})]}),e.jsxs("div",{className:"button-container-cp",children:[e.jsx("button",{className:"update-btn-cp",onClick:()=>h(!0),children:"Update"}),e.jsx("button",{className:"clear-btn-cp",onClick:()=>v(!0),children:"Clear"})]}),d&&e.jsx("div",{className:"modal-overlay",children:e.jsxs("div",{className:"modal-content",children:[e.jsx("h2",{className:"modal-title",children:"Update Profile"}),e.jsx("p",{className:"modal-text",children:"Are you sure you want to update your profile?"}),e.jsxs("div",{className:"modal-buttons",children:[e.jsx("button",{onClick:ue,className:"modal-btn-yes",children:"Yes"}),e.jsx("button",{onClick:()=>h(!1),className:"modal-btn-no",children:"No"})]})]})}),u&&e.jsx("div",{className:"modal-overlay",children:e.jsxs("div",{className:"modal-content",children:[e.jsx("h2",{className:"modal-title",children:"Clear Profile"}),e.jsx("p",{className:"modal-text",children:"Are you sure you want to clear all profile fields?"}),e.jsxs("div",{className:"modal-buttons",children:[e.jsx("button",{onClick:_e,className:"modal-btn-yes",children:"Yes"}),e.jsx("button",{onClick:()=>v(!1),className:"modal-btn-no",children:"No"})]})]})}),x&&e.jsx("div",{className:"modal-overlay",children:e.jsxs("div",{className:"modal-content",children:[e.jsx("h2",{className:"modal-title",children:"Success"}),e.jsx("p",{className:"modal-text",children:"Profile updated successfully!"}),e.jsx("div",{className:"modal-buttons",children:e.jsx("button",{onClick:()=>y(!1),className:"modal-btn-yes",children:"OK"})})]})}),p&&e.jsx("div",{className:"modal-overlay",children:e.jsxs("div",{className:"modal-content",children:[e.jsx("h2",{className:"modal-title",children:"Error"}),e.jsx("p",{className:"modal-text",children:b}),e.jsx("div",{className:"modal-buttons",children:e.jsx("button",{onClick:()=>F(!1),className:"modal-btn-no",children:"OK"})})]})})]})},rk=()=>{const a=Jt(),[t,s]=N.useState(!1),[i,r]=N.useState([]),[c,A]=N.useState(!0),[d,h]=N.useState(""),[u,v]=N.useState(""),x=["Baptism","Marriage","Funeral Mass","Confirmation","Communion","Blessing","Anointing of the Sick and Viaticum"];N.useEffect(()=>{y()},[]);const y=async()=>{try{A(!0);const H=JSON.parse(localStorage.getItem("user")),k=H==null?void 0:H.clientID;if(!k){console.error("No client ID found"),A(!1);return}const[Y,D,ge,_,X,re,fe]=await Promise.all([fetch(`https://parishofdivinemercy.com/backend/fetch_baptisms.php?clientID=${k}`),fetch(`https://parishofdivinemercy.com/backend/fetch_marriages.php?clientID=${k}`),fetch(`https://parishofdivinemercy.com/backend/fetch_funerals.php?clientID=${k}`),fetch(`https://parishofdivinemercy.com/backend/fetch_communions.php?clientID=${k}`),fetch(`https://parishofdivinemercy.com/backend/fetch_confirmations.php?clientID=${k}`),fetch(`https://parishofdivinemercy.com/backend/fetch_anointings.php?clientID=${k}`),fetch(`https://parishofdivinemercy.com/backend/fetch_blessings.php?clientID=${k}`)]),Ne=await Y.json(),ue=await D.json(),_e=await ge.json(),ce=await _.json(),ye=await X.json(),Q=await re.json(),ne=await fe.json(),U=[...Ne.success?Ne.appointments||[]:[],...ue.success?ue.appointments||[]:[],..._e.success?_e.appointments||[]:[],...ce.success?ce.appointments||[]:[],...ye.success?ye.appointments||[]:[],...Q.success?Q.appointments||[]:[],...ne.success?ne.appointments||[]:[]];r(U)}catch(H){console.error("Error fetching appointments:",H)}finally{A(!1)}},p=H=>H.trim().replace(/\s+/g," "),F=(H,k)=>{if(!H||!k)return!1;const Y=k.toLowerCase().replace(/\s/g,""),D=H;if(D.toLowerCase().includes(Y))return!0;const[ge,_]=D.split(":"),X=parseInt(ge,10),re=X===0?12:X>12?X-12:X,fe=X>=12?"pm":"am",Ne=`${re}:${_}${fe}`,ue=`${re}:${_} ${fe}`;return Ne.includes(Y)||ue.includes(Y)||D.includes(Y)},b=(H,k)=>{if(!H||!k)return!1;const Y=k.replace(/\s/g,""),D=[H,H.replace(/\//g,"-"),H.replace(/-/g,"/")];if(H.includes("/")){const[ge,_,X]=H.split("/");D.push(`${X}-${ge.padStart(2,"0")}-${_.padStart(2,"0")}`),D.push(`${X}-${ge.padStart(2,"0")}`),D.push(X)}else if(H.includes("-")){const[ge,_,X]=H.split("-");D.push(`${_}/${X}/${ge}`),D.push(`${ge}-${_}`),D.push(ge)}return D.some(ge=>ge.toLowerCase().includes(Y.toLowerCase()))},S=H=>{if(!H)return"";if(H.match(/^\d{4}-\d{2}-\d{2}$/))return H;if(H.includes("/")){const[k,Y,D]=H.split("/");return`${D}-${k.padStart(2,"0")}-${Y.padStart(2,"0")}`}if(H.includes("/")&&H.split("/")[2].length===4){const k=H.split("/");if(k[0].length<=2&&k[1].length<=2){const[Y,D,ge]=k;return`${ge}-${D.padStart(2,"0")}-${Y.padStart(2,"0")}`}}return H},f=H=>{const k=H.target.value;if(h(k),k.trim()!==""&&u===""){const Y=x.find(D=>D.toLowerCase()===k.toLowerCase());if(Y)v(Y);else if(k.length>=4){const D=x.find(ge=>ge.toLowerCase().startsWith(k.toLowerCase()));k.toLowerCase().startsWith("comm")?v("Communion"):k.toLowerCase().startsWith("conf")?v("Confirmation"):D&&v(D)}}k.trim()===""&&v("")},O=()=>{s(!t)},M=H=>{s(!1);const k=JSON.parse(localStorage.getItem("user")),Y=k==null?void 0:k.clientID;switch(H){case"Baptism":a("/client-baptism",{state:{clientID:Y}});break;case"Marriage":a("/client-marriage",{state:{clientID:Y}});break;case"Funeral Mass":a("/client-funeral-mass",{state:{clientID:Y}});break;case"Blessing":a("/client-blessing",{state:{clientID:Y}});break;case"Communion":a("/client-communion",{state:{clientID:Y}});break;case"Confirmation":a("/client-confirmation",{state:{clientID:Y}});break;case"Anointing of the Sick and Viaticum":a("/client-anointing-of-the-sick",{state:{clientID:Y}});break;default:console.log(`Unknown sacrament: ${H}`)}},J=H=>{const k=JSON.parse(localStorage.getItem("user")),Y=k==null?void 0:k.clientID;switch(H.sacramentType){case"Baptism":a("/client-baptism-view",{state:{viewOnly:!0,appointmentData:H,clientID:Y,baptismID:H.id}});break;case"Marriage":a("/client-marriage-view",{state:{viewOnly:!0,appointmentData:H,clientID:Y,marriageID:H.id}});break;case"Funeral Mass":a("/client-funeral-mass-view",{state:{viewOnly:!0,appointmentData:H,clientID:Y,funeralID:H.id}});break;case"Blessing":a("/client-blessing-view",{state:{viewOnly:!0,appointmentData:H,clientID:Y,blessingID:H.id}});break;case"Communion":a("/client-communion-view",{state:{viewOnly:!0,appointmentData:H,clientID:Y,communionID:H.id}});break;case"Confirmation":a("/client-confirmation-view",{state:{viewOnly:!0,appointmentData:H,clientID:Y,confirmationID:H.id}});break;case"Anointing of the Sick and Viaticum":a("/client-anointing-of-the-sick-view",{state:{viewOnly:!0,appointmentData:H,clientID:Y,anointingID:H.id}});break;default:console.log(`Unknown sacrament: ${H.sacramentType}`)}},K=Xn.useMemo(()=>{const H=i.filter(Y=>{const D=u===""||Y.sacramentType===u;if(d.trim()==="")return D;const ge=p(d),_=x.some(fe=>fe.toLowerCase()===ge.toLowerCase()||ge.length>=4&&fe.toLowerCase().startsWith(ge.toLowerCase())||ge.toLowerCase().startsWith("comm")&&fe==="Communion"||ge.toLowerCase().startsWith("conf")&&fe==="Confirmation");let X=!1,re="";if(_&&u!=="")X=Y.sacramentType===u,re=X?`Included: Sacrament type "${Y.sacramentType}" matches active filter "${u}"`:`Excluded: Sacrament type "${Y.sacramentType}" does not match active filter "${u}"`;else{const fe=Y.firstName||"",Ne=Y.lastName||"",ue=p(`${fe} ${Ne}`),_e=p(`${Ne} ${fe}`),ce=fe.toLowerCase().includes(ge.toLowerCase()),ye=Ne.toLowerCase().includes(ge.toLowerCase()),Q=ue.toLowerCase().includes(ge.toLowerCase()),ne=_e.toLowerCase().includes(ge.toLowerCase()),U=Y.sacramentType.toLowerCase().includes(ge.toLowerCase()),V=Y.status&&Y.status.toLowerCase().includes(ge.toLowerCase()),T=Y.id&&Y.id.toString().includes(ge),ie=b(Y.date,ge),ae=F(Y.time,ge),P=b(Y.createdAt,ge),z=ce||ye||Q||ne||U||V||T||ie||ae||P;if(X=D&&z,!X)D?z||(re=`Excluded: Search mismatch - Search term: "${ge}" not found in any field`):re=`Excluded: Sacrament filter mismatch - Filter: "${u}", Appointment: "${Y.sacramentType}"`;else{let B=[];ce&&B.push(`firstName: "${fe}"`),ye&&B.push(`lastName: "${Ne}"`),Q&&!ce&&!ye&&B.push(`fullName: "${ue}"`),ne&&!Q&&B.push(`reverseFullName: "${_e}"`),U&&B.push(`sacramentType: "${Y.sacramentType}"`),V&&B.push(`status: "${Y.status}"`),T&&B.push(`id: "${Y.id}"`),ie&&B.push(`date: "${Y.date}"`),ae&&B.push(`time: "${Y.time}"`),P&&B.push(`createdAt: "${Y.createdAt}"`),re=`Included: Matches ${B.join(", ")} with search term: "${ge}", filter: "${u}"`}}return console.log(`ID: ${Y.id} | ${re}`),X}),k=H.filter((Y,D,ge)=>D===ge.findIndex(_=>_.id===Y.id));return console.log("=== CLIENT APPOINTMENT RAW DATA DEBUG ==="),console.log("Total raw appointments received:",i.length),console.log("Sample appointments:",i.slice(0,3)),console.log("Sacrament types in data:",[...new Set(i.map(Y=>Y.sacramentType))]),console.log("==========================================="),console.log("=== CLIENT APPOINTMENT SEARCH SUMMARY ==="),console.log(`Search Term: "${d}"`),console.log(`Normalized Search Term: "${p(d)}"`),console.log(`Sacrament Filter: "${u}"`),console.log(`Total Appointments: ${i.length}`),console.log(`Filtered Results (with duplicates): ${H.length}`),console.log(`Unique Filtered Results: ${k.length}`),console.log("Filtered Appointment IDs:",k.map(Y=>Y.id)),console.log("=========================================="),k},[i,d,u,x]);return e.jsxs("div",{className:"appointment-container-ca",children:[e.jsx("h1",{className:"title-ca",children:"APPOINTMENT"}),e.jsxs("div",{className:"appointment-actions-ca",children:[e.jsxs("div",{className:"search-bar-ca",children:[e.jsx("input",{type:"text",placeholder:"Search by name, date (yyyy-mm-dd), time, sacrament type, or status",value:d,onChange:f}),e.jsx(dt,{icon:vs,className:"search-icon-ca"})]}),e.jsxs("div",{className:"filter-pdf-container-ca",children:[e.jsxs("select",{className:"filter-select-ca",value:u,onChange:H=>v(H.target.value),children:[e.jsx("option",{value:"",children:"All Sacraments"}),x.map((H,k)=>e.jsx("option",{value:H,children:H},k))]}),e.jsxs("button",{className:"pdf-btn-ca",onClick:O,children:[e.jsx(dt,{icon:yA})," ADD"]})]})]}),e.jsx("div",{className:"table-container",children:e.jsxs("table",{className:"appointment-table-ca",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"No."}),e.jsx("th",{children:"First Name"}),e.jsx("th",{children:"Last Name"}),e.jsx("th",{children:"Sacrament Type"}),e.jsx("th",{children:"Date"}),e.jsx("th",{children:"Time"}),e.jsx("th",{children:"Status"}),e.jsx("th",{children:"Created At"}),e.jsx("th",{children:"Action"})]})}),e.jsx("tbody",{children:c?e.jsx("tr",{children:e.jsx("td",{colSpan:"9",style:{textAlign:"center"},children:"Loading appointments..."})}):K.length>0?K.map((H,k)=>e.jsxs("tr",{children:[e.jsx("td",{children:k+1}),e.jsx("td",{children:H.firstName}),e.jsx("td",{children:H.lastName}),e.jsx("td",{children:H.sacramentType}),e.jsx("td",{children:S(H.date)}),e.jsx("td",{children:H.time}),e.jsx("td",{children:H.status}),e.jsx("td",{children:S(H.createdAt)}),e.jsx("td",{children:e.jsx("button",{className:"ca-details",onClick:()=>J(H),children:"View"})})]},H.id)):e.jsx("tr",{children:e.jsx("td",{colSpan:"9",style:{textAlign:"center"},children:d.trim()||u?"No appointments match your search criteria":"No appointments found"})})})]})}),t&&e.jsx("div",{className:"sacrament-modal-overlay-ca",children:e.jsxs("div",{className:"sacrament-modal-ca",children:[e.jsxs("div",{className:"sacrament-modal-header-ca",children:[e.jsx("h2",{children:"Select Sacrament"}),e.jsx("button",{className:"close-modal-btn-ca",onClick:O,children:e.jsx(dt,{icon:vo})})]}),e.jsx("hr",{className:"custom-hr"}),e.jsx("div",{className:"sacrament-options-ca",children:e.jsx("div",{className:"sacrament-options-grid",children:x.map((H,k)=>e.jsx("button",{className:"sacrament-option-btn-ca",onClick:()=>M(H),children:H},k))})})]})})]})},lk=()=>{const a=oa(),t=Jt(),{clientID:s}=a.state||{};console.log("Received clientID:",s);const[i,r]=N.useState({dateOfBaptism:"",timeOfBaptism:"",firstName:"",middleName:"",lastName:"",sex:"",age:"",dateOfBirth:"",region:"",placeOfBirth:"",fatherFirstName:"",fatherMiddleName:"",fatherLastName:"",fatherPlaceOfBirth:"",fatherDateOfBirth:"",fatherContact:"",motherFirstName:"",motherMiddleName:"",motherLastName:"",motherPlaceOfBirth:"",motherDateOfBirth:"",motherContact:"",maritalStatus:"",yearsMarried:"",barangay:"",street:"",municipality:"",province:"",addressRegion:"",godFathers:[],godMothers:[]}),[c,A]=N.useState({barangay:"",municipality:"",province:""}),[d,h]=N.useState({barangay:"",municipality:"",province:""}),[u,v]=N.useState({barangay:"",municipality:"",province:""}),[x,y]=N.useState({}),[p,F]=N.useState(!1),[b,S]=N.useState([]),[f,O]=N.useState(!0),[M,J]=N.useState(null),[K,H]=N.useState({barangay:[],municipality:[],province:[],birthBarangay:[],birthMunicipality:[],birthProvince:[],fatherBirthBarangay:[],fatherBirthMunicipality:[],fatherBirthProvince:[],motherBirthBarangay:[],motherBirthMunicipality:[],motherBirthProvince:[],region:[],addressRegion:[]}),[k,Y]=N.useState([]),[D,ge]=N.useState([]),[_,X]=N.useState([]),[re,fe]=N.useState([]),[Ne,ue]=N.useState(!1),[_e,ce]=N.useState(!1),[ye,Q]=N.useState(!1),[ne,U]=N.useState(""),[V,T]=N.useState(!1),[ie,ae]=N.useState({}),[P,z]=N.useState({});N.useRef(null),N.useRef(null),N.useRef(null);const B=N.useMemo(()=>{if(!b.length)return{};const $={},ve={},Pe={},We={},ut={},Ct={};return b.forEach(Kt=>{$[Kt.barangay.toLowerCase()]||($[Kt.barangay.toLowerCase()]=[]),$[Kt.barangay.toLowerCase()].push(Kt),ve[Kt.municipality.toLowerCase()]||(ve[Kt.municipality.toLowerCase()]=[]),ve[Kt.municipality.toLowerCase()].push(Kt),Pe[Kt.province.toLowerCase()]||(Pe[Kt.province.toLowerCase()]=[]),Pe[Kt.province.toLowerCase()].push(Kt);const ya=Kt.municipality.toLowerCase();We[ya]||(We[ya]=new Set),We[ya].add(Kt.barangay);const Ra=Kt.province.toLowerCase();ut[Ra]||(ut[Ra]=new Set),ut[Ra].add(Kt.barangay),Ct[Ra]||(Ct[Ra]=new Set),Ct[Ra].add(Kt.municipality)}),Object.keys(We).forEach(Kt=>{We[Kt]=Array.from(We[Kt])}),Object.keys(ut).forEach(Kt=>{ut[Kt]=Array.from(ut[Kt])}),Object.keys(Ct).forEach(Kt=>{Ct[Kt]=Array.from(Ct[Kt])}),{barangays:$,municipalities:ve,provinces:Pe,barangaysByMunicipality:We,barangaysByProvince:ut,municipalitiesByProvince:Ct}},[b]),q=N.useMemo(()=>b.length?[...new Set(b.map($=>$.province))].sort():[],[b]),te=N.useMemo(()=>b.length?[...new Set(b.map($=>$.municipality))].sort():[],[b]),he=N.useMemo(()=>b.length?[...new Set(b.map($=>$.barangay))].sort():[],[b]);N.useEffect(()=>{C(),W()},[]);const W=async()=>{try{const $=await aa.get("http://parishofdivinemercy.com/backend/get_location.php");$.data.success&&S($.data.locations)}catch($){console.error("Error fetching locations:",$)}finally{O(!1)}},C=async()=>{try{const[$,ve]=await Promise.all([fetch("http://parishofdivinemercy.com/backend/schedule.php"),fetch("http://parishofdivinemercy.com/backend/get_baptism_applications.php")]),Pe=await $.json(),We=await ve.json();if(Pe.success){const ut=Pe.schedules.filter(qa=>qa.sacramentType.toLowerCase()==="baptism"),Ct=new Set;We.success&&We.applications.forEach(qa=>{Ct.add(`${qa.dateOfBaptism}-${qa.timeOfBaptism}`)});const Kt=ut.filter(qa=>{const Qi=`${qa.date}-${qa.time}`;return!Ct.has(Qi)});Y(Kt);const ya=new Set,Ra=[];Kt.forEach(qa=>{ya.has(qa.date)||(ya.add(qa.date),Ra.push(qa.date))}),ge(Ra)}}catch($){console.error("Error fetching schedules:",$)}};N.useEffect(()=>{if(i.dateOfBaptism){const $=k.filter(Pe=>Pe.date===i.dateOfBaptism).map(Pe=>Pe.time),ve=[...new Set($)];X(ve),ve.includes(i.timeOfBaptism)||r(Pe=>({...Pe,timeOfBaptism:""}))}else X([])},[i.dateOfBaptism,k]);const Z=($,ve=null,Pe=null)=>{if(!$||!$.trim()||!B.barangays){if(ve&&B.barangaysByMunicipality){const Ct=ve.toLowerCase();if(B.barangaysByMunicipality[Ct])return B.barangaysByMunicipality[Ct].slice(0,10)}else if(Pe&&B.barangaysByProvince){const Ct=Pe.toLowerCase();if(B.barangaysByProvince[Ct])return B.barangaysByProvince[Ct].slice(0,10)}return he.slice(0,10)}const We=$.toLowerCase();let ut=[];if(ve&&Pe){const Ct=ve.toLowerCase();B.barangaysByMunicipality[Ct]&&(ut=B.barangaysByMunicipality[Ct].filter(Kt=>Kt.toLowerCase().includes(We)))}else if(ve){const Ct=ve.toLowerCase();B.barangaysByMunicipality[Ct]&&(ut=B.barangaysByMunicipality[Ct].filter(Kt=>Kt.toLowerCase().includes(We)))}else if(Pe){const Ct=Pe.toLowerCase();B.barangaysByProvince[Ct]&&(ut=B.barangaysByProvince[Ct].filter(Kt=>Kt.toLowerCase().includes(We)))}else ut=he.filter(Ct=>Ct.toLowerCase().includes(We));return ut.slice(0,10)},se=($,ve=null)=>{if(!$||!$.trim()||!B.municipalities){if(ve&&B.municipalitiesByProvince){const ut=ve.toLowerCase();if(B.municipalitiesByProvince[ut])return B.municipalitiesByProvince[ut].slice(0,10)}return te.slice(0,10)}const Pe=$.toLowerCase();let We=[];if(ve){const ut=ve.toLowerCase();B.municipalitiesByProvince[ut]&&(We=B.municipalitiesByProvince[ut].filter(Ct=>Ct.toLowerCase().includes(Pe)))}else We=te.filter(ut=>ut.toLowerCase().includes(Pe));return We.slice(0,10)},Se=$=>{if(!$||!$.trim()||!q)return q.slice(0,10);const ve=$.toLowerCase();return q.filter(We=>We.toLowerCase().includes(ve)).slice(0,10)},He=($="")=>{const ve=["NCR - National Capital Region","CAR - Cordillera Administrative Region","Region I - Ilocos Region","Region II - Cagayan Valley","Region III - Central Luzon","Region IV-A - CALABARZON","Region IV-B - MIMAROPA","Region V - Bicol Region","Region VI - Western Visayas","Region VII - Central Visayas","Region VIII - Eastern Visayas","Region IX - Zamboanga Peninsula","Region X - Northern Mindanao","Region XI - Davao Region","Region XII - SOCCSKSARGEN","Region XIII - Caraga","BARMM - Bangsamoro Autonomous Region in Muslim Mindanao"];if(!$||!$.trim())return ve.slice(0,10);const Pe=$.toLowerCase();return ve.filter(We=>We.toLowerCase().includes(Pe)).slice(0,10)},Qe=($,ve)=>{r(Pe=>({...Pe,[$]:ve})),x[$]&&y(Pe=>{const We={...Pe};return delete We[$],We})},qe=($,ve)=>{if(!ve){Qe($,"");return}if(Qe($,ve),$==="dateOfBirth"){const Pe=new Date,We=new Date(ve);let ut=Pe.getFullYear()-We.getFullYear();const Ct=Pe.getMonth()-We.getMonth();(Ct<0||Ct===0&&Pe.getDate()<We.getDate())&&ut--,Qe("age",ut.toString())}},Ye=$=>{const ve=$.target.value,Pe={...c,barangay:ve};A(Pe),Mt(Pe),M==="birthBarangay"&&H(We=>({...We,birthBarangay:Z(ve,c.municipality,c.province)}))},st=$=>{const ve=$.target.value,Pe={...c,municipality:ve};if(A(Pe),Mt(Pe),M==="birthMunicipality"&&H(We=>({...We,birthMunicipality:se(ve,c.province)})),ve&&B.municipalities){const We=ve.toLowerCase(),ut=B.municipalities[We];if(ut&&ut.length>0&&!c.province){const Ct={...Pe,province:ut[0].province};A(Ct),Mt(Ct)}}},kt=$=>{const ve=$.target.value,Pe={...c,province:ve};A(Pe),Mt(Pe),M==="birthProvince"&&H(We=>({...We,birthProvince:Se(ve)}))},Mt=$=>{const ve=$.barangay!==void 0?$.barangay:c.barangay,Pe=$.municipality!==void 0?$.municipality:c.municipality,We=$.province!==void 0?$.province:c.province;let ut=[];ve&&ut.push(ve),Pe&&ut.push(Pe),We&&ut.push(We);const Ct=ut.join(", ");Ct&&r(Kt=>({...Kt,placeOfBirth:Ct}))},ke=$=>{const ve={...c,barangay:$};if(A(ve),Mt(ve),J(null),B.barangays){const Pe=$.toLowerCase(),We=B.barangays[Pe];if(We&&We.length>0){const ut=We[0].municipality,Ct=We[0].province,Kt={...ve};let ya=!1;!ve.municipality&&ut&&(Kt.municipality=ut,ya=!0),!ve.province&&Ct&&(Kt.province=Ct,ya=!0),ya&&(A(Kt),Mt(Kt))}}},$e=$=>{const ve={...c,municipality:$};if(A(ve),Mt(ve),B.municipalities){const Pe=$.toLowerCase(),We=B.municipalities[Pe];if(We&&We.length>0&&!c.province){const ut=We[0].province,Ct={...ve,province:ut};A(Ct),Mt(Ct)}}J(null)},Ae=$=>{const ve={...c,province:$};A(ve),Mt(ve),J(null)},Le=$=>{const ve={...d,municipality:$};if(h(ve),Ze(ve),B.municipalities){const Pe=$.toLowerCase(),We=B.municipalities[Pe];if(We&&We.length>0&&!d.province){const ut=We[0].province,Ct={...ve,province:ut};h(Ct),Ze(Ct)}}J(null)},de=$=>{const ve=$.target.value,Pe={...d,barangay:ve};h(Pe),Ze(Pe),M==="fatherBirthBarangay"&&H(We=>({...We,fatherBirthBarangay:Z(ve,d.municipality,d.province)}))},Me=$=>{const ve=$.target.value,Pe={...d,municipality:ve};if(h(Pe),Ze(Pe),M==="fatherBirthMunicipality"&&H(We=>({...We,fatherBirthMunicipality:se(ve,d.province)})),ve&&B.municipalities){const We=ve.toLowerCase(),ut=B.municipalities[We];if(ut&&ut.length>0&&!d.province){const Ct={...Pe,province:ut[0].province};h(Ct),Ze(Ct)}}},Ie=$=>{const ve=$.target.value,Pe={...d,province:ve};h(Pe),Ze(Pe),M==="fatherBirthProvince"&&H(We=>({...We,fatherBirthProvince:Se(ve)}))},Ze=$=>{const ve=$.barangay!==void 0?$.barangay:d.barangay,Pe=$.municipality!==void 0?$.municipality:d.municipality,We=$.province!==void 0?$.province:d.province;let ut=[];ve&&ut.push(ve),Pe&&ut.push(Pe),We&&ut.push(We);const Ct=ut.join(", ");Ct&&r(Kt=>({...Kt,fatherPlaceOfBirth:Ct}))},nt=$=>{const ve={...d,barangay:$};if(h(ve),Ze(ve),J(null),B.barangays){const Pe=$.toLowerCase(),We=B.barangays[Pe];if(We&&We.length>0&&!d.province){const ut=We[0].province,Ct={...ve,province:ut};h(Ct),Ze(Ct)}}J(null)},ot=$=>{const ve={...d,province:$};h(ve),Ze(ve),J(null)},jt=$=>{const ve=$.target.value,Pe={...u,barangay:ve};v(Pe),Ke(Pe),M==="motherBirthBarangay"&&H(We=>({...We,motherBirthBarangay:Z(ve,u.municipality,u.province)}))},ft=$=>{const ve=$.target.value,Pe={...u,municipality:ve};if(v(Pe),Ke(Pe),M==="motherBirthMunicipality"&&H(We=>({...We,motherBirthMunicipality:se(ve,u.province)})),ve&&B.municipalities){const We=ve.toLowerCase(),ut=B.municipalities[We];if(ut&&ut.length>0&&!u.province){const Ct={...Pe,province:ut[0].province};v(Ct),Ke(Ct)}}},It=$=>{const ve=$.target.value,Pe={...u,province:ve};v(Pe),Ke(Pe),M==="motherBirthProvince"&&H(We=>({...We,motherBirthProvince:Se(ve)}))},Ke=$=>{const ve=$.barangay!==void 0?$.barangay:u.barangay,Pe=$.municipality!==void 0?$.municipality:u.municipality,We=$.province!==void 0?$.province:u.province;let ut=[];ve&&ut.push(ve),Pe&&ut.push(Pe),We&&ut.push(We);const Ct=ut.join(", ");Ct&&r(Kt=>({...Kt,motherPlaceOfBirth:Ct}))},it=$=>{const ve={...u,barangay:$};if(v(ve),Ke(ve),J(null),B.barangays){const Pe=$.toLowerCase(),We=B.barangays[Pe];if(We&&We.length>0){const ut=We[0].municipality,Ct=We[0].province,Kt={...ve};let ya=!1;!ve.municipality&&ut&&(Kt.municipality=ut,ya=!0),!ve.province&&Ct&&(Kt.province=Ct,ya=!0),ya&&(v(Kt),Ke(Kt))}}},De=$=>{const ve={...u,municipality:$};if(v(ve),Ke(ve),B.municipalities){const Pe=$.toLowerCase(),We=B.municipalities[Pe];if(We&&We.length>0&&!u.province){const ut=We[0].province,Ct={...ve,province:ut};v(Ct),Ke(Ct)}}J(null)},Be=$=>{const ve={...u,province:$};v(ve),Ke(ve),J(null)},pe=$=>{const ve=$.target.value;if(Qe("barangay",ve),M==="barangay"){const Pe=Z(ve,i.municipality,i.province);H(We=>({...We,barangay:Pe}))}},we=$=>{const ve=$.target.value;if(Qe("municipality",ve),M==="municipality"){const Pe=se(ve,i.province);H(We=>({...We,municipality:Pe}))}if(ve&&B.municipalities){const Pe=ve.toLowerCase(),We=B.municipalities[Pe];We&&We.length>0&&!i.province&&Qe("province",We[0].province)}},ze=$=>{const ve=$.target.value;if(Qe("province",ve),M==="province"){const Pe=Se(ve);H(We=>({...We,province:Pe}))}},Xe=$=>{const ve=$.target.value;Qe("region",ve),M==="region"&&H(Pe=>({...Pe,region:He(ve)}))},wt=$=>{const ve=$.target.value;Qe("addressRegion",ve),M==="addressRegion"&&H(Pe=>({...Pe,addressRegion:He(ve)}))},yt=$=>{if(Qe("barangay",$),J(null),B.barangays){const ve=$.toLowerCase(),Pe=B.barangays[ve];Pe&&Pe.length>0&&(i.municipality||Qe("municipality",Pe[0].municipality),i.province||Qe("province",Pe[0].province))}},Qt=$=>{if(Qe("municipality",$),B.municipalities){const ve=$.toLowerCase(),Pe=B.municipalities[ve];Pe&&Pe.length>0&&!i.province&&Qe("province",Pe[0].province)}J(null)},ta=$=>{Qe("province",$),J(null)},Ft=$=>{Qe("region",$),J(null)},Aa=$=>{Qe("addressRegion",$),J(null)},Ue=$=>{switch(J($),$){case"birthBarangay":H(ve=>({...ve,birthBarangay:Z(c.barangay,c.municipality,c.province)}));break;case"birthMunicipality":H(ve=>({...ve,birthMunicipality:se(c.municipality,c.province)}));break;case"birthProvince":H(ve=>({...ve,birthProvince:Se(c.province)}));break;case"fatherBirthBarangay":H(ve=>({...ve,fatherBirthBarangay:Z(d.barangay,d.municipality,d.province)}));break;case"fatherBirthMunicipality":H(ve=>({...ve,fatherBirthMunicipality:se(d.municipality,d.province)}));break;case"fatherBirthProvince":H(ve=>({...ve,fatherBirthProvince:Se(d.province)}));break;case"motherBirthBarangay":H(ve=>({...ve,motherBirthBarangay:Z(u.barangay,u.municipality,u.province)}));break;case"motherBirthMunicipality":H(ve=>({...ve,motherBirthMunicipality:se(u.municipality,u.province)}));break;case"motherBirthProvince":H(ve=>({...ve,motherBirthProvince:Se(u.province)}));break;case"barangay":H(ve=>({...ve,barangay:Z(i.barangay,i.municipality,i.province)}));break;case"municipality":H(ve=>({...ve,municipality:se(i.municipality,i.province)}));break;case"province":H(ve=>({...ve,province:Se(i.province)}));break;case"region":H(ve=>({...ve,region:He(i.region)}));break;case"addressRegion":H(ve=>({...ve,addressRegion:He(i.addressRegion)}));break}};N.useEffect(()=>{const $=ve=>{const Pe=document.querySelectorAll(".location-dropdown-container");let We=!0;Pe.forEach(ut=>{ut.contains(ve.target)&&(We=!1)}),We&&J(null)};return document.addEventListener("mousedown",$),()=>{document.removeEventListener("mousedown",$)}},[]);const be=()=>{const $={};return["dateOfBaptism","timeOfBaptism","firstName","lastName","sex","dateOfBirth","region","placeOfBirth","fatherFirstName","fatherLastName","fatherPlaceOfBirth","fatherDateOfBirth","motherFirstName","motherLastName","motherPlaceOfBirth","motherDateOfBirth","maritalStatus","barangay","municipality","province","addressRegion"].forEach(Pe=>{(!i[Pe]||i[Pe].trim()==="")&&($[Pe]=!0)}),i.godFathers.length===0&&($.godFathers=!0),i.godMothers.length===0&&($.godMothers=!0),$},R=()=>{const $=be();if(Object.keys($).length>0){y($),U("All fields must be filled"),Q(!0);return}ue(!0)},G=async()=>{ue(!1),T(!0);try{const $={...i,clientID:s};if($.dateOfBirth&&$.dateOfBirth.includes("-")){const Ct=new Date($.dateOfBirth);$.dateOfBirth=Ct.toISOString().split("T")[0]}if($.fatherDateOfBirth&&$.fatherDateOfBirth.includes("-")){const Ct=new Date($.fatherDateOfBirth);$.fatherDateOfBirth=Ct.toISOString().split("T")[0]}if($.motherDateOfBirth&&$.motherDateOfBirth.includes("-")){const Ct=new Date($.motherDateOfBirth);$.motherDateOfBirth=Ct.toISOString().split("T")[0]}if($.dateOfBaptism){const Ct=new Date($.dateOfBaptism);$.dateOfBaptism=Ct.toISOString().split("T")[0]}const ve=new FormData;Object.keys($).forEach(Ct=>{Ct!=="godFathers"&&Ct!=="godMothers"&&ve.append(Ct,$[Ct])}),ve.append("godFathers",JSON.stringify($.godFathers)),ve.append("godMothers",JSON.stringify($.godMothers));const We=await(await fetch("http://parishofdivinemercy.com/backend/baptism_application.php",{method:"POST",body:ve})).text();console.log("Raw response:",We);let ut;try{ut=JSON.parse(We)}catch{throw console.error("Failed to parse response as JSON:",We),new Error("Invalid response from server")}if(console.log("Parsed response:",ut),T(!1),ut.success){try{const Kt=await(await fetch("http://parishofdivinemercy.com/backend/send_email.php",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({clientID:s,baptismData:i})})).json();console.log("Email response:",Kt)}catch(Ct){console.error("Error sending email:",Ct)}ce(!0),setTimeout(()=>{t("/client-appointment")},2e3)}else U(ut.message||"Failed to submit application"),Q(!0)}catch($){console.error("Error submitting form:",$),T(!1),U($.message||"Error submitting application"),Q(!0)}},oe=$=>{if($==="godfather"){const ve=document.getElementById("godfather-input").value;ve&&(r(Pe=>({...Pe,godFathers:[...Pe.godFathers,ve]})),document.getElementById("godfather-input").value="",x.godFathers&&y(Pe=>{const We={...Pe};return delete We.godFathers,We}))}else{const ve=document.getElementById("godmother-input").value;ve&&(r(Pe=>({...Pe,godMothers:[...Pe.godMothers,ve]})),document.getElementById("godmother-input").value="",x.godMothers&&y(Pe=>{const We={...Pe};return delete We.godMothers,We}))}},ee=($,ve)=>{r($==="godfather"?Pe=>({...Pe,godFathers:Pe.godFathers.filter((We,ut)=>ut!==ve)}):Pe=>({...Pe,godMothers:Pe.godMothers.filter((We,ut)=>ut!==ve)}))},me=$=>{const ve=$.target.value;Qe("maritalStatus",ve),ve!=="Married"&&Qe("yearsMarried","0")};return e.jsxs("div",{className:"client-baptism-container",children:[e.jsx("div",{className:"client-baptism-header",children:e.jsx("div",{className:"client-left-section",children:e.jsxs("button",{className:"client-back-button",onClick:()=>t(-1),children:[e.jsx(Oa,{className:"client-back-icon"})," Back"]})})}),e.jsx("h1",{className:"client-title",children:"Baptism Application"}),e.jsxs("div",{className:"client-baptismal-data",children:[e.jsxs("div",{className:"client-baptismal-row-date",children:[e.jsxs("div",{className:"client-baptismal-field-date",children:[e.jsx("label",{children:"Date of Appointment"}),e.jsxs("select",{value:i.dateOfBaptism,onChange:$=>Qe("dateOfBaptism",$.target.value),className:x.dateOfBaptism?"client-error-input":"",children:[e.jsx("option",{value:"",children:"Select Date"}),D.map($=>e.jsx("option",{value:$,children:new Date($).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})},$))]})]}),e.jsxs("div",{className:"client-baptismal-field-time",children:[e.jsx("label",{children:"Time of Appointment"}),e.jsxs("select",{value:i.timeOfBaptism,onChange:$=>Qe("timeOfBaptism",$.target.value),disabled:!i.dateOfBaptism,className:x.timeOfBaptism?"client-error-input":"",children:[e.jsx("option",{value:"",children:"Select Time"}),_.map($=>e.jsx("option",{value:$,children:$},$))]})]})]}),e.jsxs("div",{className:"client-bypart",children:[e.jsx("h3",{className:"client-sub-title",children:"Baptism Information"}),e.jsxs("div",{className:"client-baptismal-row",children:[e.jsxs("div",{className:"client-baptismal-field",children:[e.jsx("label",{children:"First Name of the Baptized"}),e.jsx("input",{type:"text",value:i.firstName,onChange:$=>Qe("firstName",$.target.value),className:x.firstName?"client-error-input":""})]}),e.jsxs("div",{className:"client-baptismal-field",children:[e.jsx("label",{children:"Middle Name of the Baptized"}),e.jsx("input",{type:"text",value:i.middleName,onChange:$=>Qe("middleName",$.target.value)})]}),e.jsxs("div",{className:"client-baptismal-field",children:[e.jsx("label",{children:"Last Name of the Baptized"}),e.jsx("input",{type:"text",value:i.lastName,onChange:$=>Qe("lastName",$.target.value),className:x.lastName?"client-error-input":""})]}),e.jsxs("div",{className:"client-baptismal-field",children:[e.jsx("label",{children:"Date of Birth"}),e.jsx("input",{type:"date",className:`date-input ${x.dateOfBirth?"client-error-input":""}`,onChange:$=>qe("dateOfBirth",$.target.value)})]})]}),e.jsxs("div",{className:"client-baptismal-row",children:[e.jsxs("div",{className:"client-baptismal-field-ga",children:[e.jsx("label",{children:"Sex"}),e.jsxs("select",{value:i.sex,onChange:$=>Qe("sex",$.target.value),className:x.sex?"client-error-input":"",children:[e.jsx("option",{value:"",children:"Select"}),e.jsx("option",{value:"Male",children:"Male"}),e.jsx("option",{value:"Female",children:"Female"})]})]}),e.jsxs("div",{className:"client-baptismal-field-ga",children:[e.jsx("label",{children:"Age"}),e.jsx("input",{type:"text",value:i.age,onChange:$=>Qe("age",$.target.value),readOnly:!0})]}),e.jsxs("div",{className:"client-baptismal-field location-dropdown-container",children:[e.jsx("label",{children:"Birth Region"}),e.jsx("input",{type:"text",value:i.region,onChange:Xe,onFocus:()=>Ue("region"),placeholder:"Enter birth region",className:x.region?"client-error-input":""}),M==="region"&&K.region.length>0&&e.jsx("div",{className:"location-dropdown",children:K.region.map(($,ve)=>e.jsx("div",{onClick:()=>Ft($),className:"location-dropdown-item",children:$},ve))})]})]}),e.jsxs("div",{className:"client-baptismal-row",children:[e.jsxs("div",{className:"client-baptismal-field location-dropdown-container",children:[e.jsx("label",{children:"Birth Barangay"}),e.jsx("input",{type:"text",placeholder:"Type to search",value:c.barangay,onChange:Ye,onFocus:()=>Ue("birthBarangay"),className:x.placeOfBirth?"client-error-input":""}),M==="birthBarangay"&&K.birthBarangay.length>0&&e.jsx("div",{className:"location-dropdown",children:K.birthBarangay.map(($,ve)=>e.jsx("div",{onClick:()=>ke($),className:"location-dropdown-item",children:$},ve))})]}),e.jsxs("div",{className:"client-baptismal-field location-dropdown-container",children:[e.jsx("label",{children:"Birth Municipality"}),e.jsx("input",{type:"text",placeholder:"Type to search",value:c.municipality,onChange:st,onFocus:()=>Ue("birthMunicipality"),className:x.placeOfBirth?"client-error-input":""}),M==="birthMunicipality"&&K.birthMunicipality.length>0&&e.jsx("div",{className:"location-dropdown",children:K.birthMunicipality.map(($,ve)=>e.jsx("div",{onClick:()=>$e($),className:"location-dropdown-item",children:$},ve))})]}),e.jsxs("div",{className:"client-baptismal-field location-dropdown-container",children:[e.jsx("label",{children:"Birth Province"}),e.jsx("input",{type:"text",placeholder:"Type to search",value:c.province,onChange:kt,onFocus:()=>Ue("birthProvince"),className:x.placeOfBirth?"client-error-input":""}),M==="birthProvince"&&K.birthProvince.length>0&&e.jsx("div",{className:"location-dropdown",children:K.birthProvince.map(($,ve)=>e.jsx("div",{onClick:()=>Ae($),className:"location-dropdown-item",children:$},ve))})]})]}),e.jsx("h3",{className:"client-sub-title",children:"Father Information"}),e.jsxs("div",{className:"client-baptismal-row",children:[e.jsxs("div",{className:"client-baptismal-field",children:[e.jsx("label",{children:"Father's First Name"}),e.jsx("input",{type:"text",value:i.fatherFirstName,onChange:$=>Qe("fatherFirstName",$.target.value),className:x.fatherFirstName?"client-error-input":""})]}),e.jsxs("div",{className:"client-baptismal-field",children:[e.jsx("label",{children:"Father's Middle Name"}),e.jsx("input",{type:"text",value:i.fatherMiddleName,onChange:$=>Qe("fatherMiddleName",$.target.value)})]}),e.jsxs("div",{className:"client-baptismal-field",children:[e.jsx("label",{children:"Father's Last Name"}),e.jsx("input",{type:"text",value:i.fatherLastName,onChange:$=>Qe("fatherLastName",$.target.value),className:x.fatherLastName?"client-error-input":""})]})]}),e.jsxs("div",{className:"client-baptismal-row",children:[e.jsxs("div",{className:"client-baptismal-field location-dropdown-container",children:[e.jsx("label",{children:"Father's Birth Barangay"}),e.jsx("input",{type:"text",placeholder:"Type to search",value:d.barangay,onChange:de,onFocus:()=>Ue("fatherBirthBarangay"),className:x.fatherPlaceOfBirth?"client-error-input":""}),M==="fatherBirthBarangay"&&K.fatherBirthBarangay.length>0&&e.jsx("div",{className:"location-dropdown",children:K.fatherBirthBarangay.map(($,ve)=>e.jsx("div",{onClick:()=>nt($),className:"location-dropdown-item",children:$},ve))})]}),e.jsxs("div",{className:"client-baptismal-field location-dropdown-container",children:[e.jsx("label",{children:"Father's Birth Municipality"}),e.jsx("input",{type:"text",placeholder:"Type to search",value:d.municipality,onChange:Me,onFocus:()=>Ue("fatherBirthMunicipality"),className:x.fatherPlaceOfBirth?"client-error-input":""}),M==="fatherBirthMunicipality"&&K.fatherBirthMunicipality.length>0&&e.jsx("div",{className:"location-dropdown",children:K.fatherBirthMunicipality.map(($,ve)=>e.jsx("div",{onClick:()=>Le($),className:"location-dropdown-item",children:$},ve))})]}),e.jsxs("div",{className:"client-baptismal-field location-dropdown-container",children:[e.jsx("label",{children:"Father's Birth Province"}),e.jsx("input",{type:"text",placeholder:"Type to search",value:d.province,onChange:Ie,onFocus:()=>Ue("fatherBirthProvince"),className:x.fatherPlaceOfBirth?"client-error-input":""}),M==="fatherBirthProvince"&&K.fatherBirthProvince.length>0&&e.jsx("div",{className:"location-dropdown",children:K.fatherBirthProvince.map(($,ve)=>e.jsx("div",{onClick:()=>ot($),className:"location-dropdown-item",children:$},ve))})]}),e.jsxs("div",{className:"client-baptismal-field-fpob",children:[e.jsx("label",{children:"Father's Date of Birth"}),e.jsx("input",{type:"date",className:`date-input ${x.fatherDateOfBirth?"client-error-input":""}`,onChange:$=>qe("fatherDateOfBirth",$.target.value)})]})]}),e.jsx("div",{className:"client-baptismal-row",children:e.jsxs("div",{className:"client-baptismal-field",children:[e.jsx("label",{children:"Father's Contact Number"}),e.jsx("input",{type:"text",value:i.fatherContact,onChange:$=>Qe("fatherContact",$.target.value)})]})}),e.jsx("h3",{className:"client-sub-title",children:"Mother Information"}),e.jsxs("div",{className:"client-baptismal-row",children:[e.jsxs("div",{className:"client-baptismal-field",children:[e.jsx("label",{children:"Mother's First Name"}),e.jsx("input",{type:"text",value:i.motherFirstName,onChange:$=>Qe("motherFirstName",$.target.value),className:x.motherFirstName?"client-error-input":""})]}),e.jsxs("div",{className:"client-baptismal-field",children:[e.jsx("label",{children:"Mother's Middle Name"}),e.jsx("input",{type:"text",value:i.motherMiddleName,onChange:$=>Qe("motherMiddleName",$.target.value)})]}),e.jsxs("div",{className:"client-baptismal-field",children:[e.jsx("label",{children:"Mother's Last Name"}),e.jsx("input",{type:"text",value:i.motherLastName,onChange:$=>Qe("motherLastName",$.target.value),className:x.motherLastName?"client-error-input":""})]})]}),e.jsxs("div",{className:"client-baptismal-row",children:[e.jsxs("div",{className:"client-baptismal-field location-dropdown-container",children:[e.jsx("label",{children:"Mother's Birth Barangay"}),e.jsx("input",{type:"text",placeholder:"Type to search",value:u.barangay,onChange:jt,onFocus:()=>Ue("motherBirthBarangay"),className:x.motherPlaceOfBirth?"client-error-input":""}),M==="motherBirthBarangay"&&K.motherBirthBarangay.length>0&&e.jsx("div",{className:"location-dropdown",children:K.motherBirthBarangay.map(($,ve)=>e.jsx("div",{onClick:()=>it($),className:"location-dropdown-item",children:$},ve))})]}),e.jsxs("div",{className:"client-baptismal-field location-dropdown-container",children:[e.jsx("label",{children:"Mother's Birth Municipality"}),e.jsx("input",{type:"text",placeholder:"Type to search",value:u.municipality,onChange:ft,onFocus:()=>Ue("motherBirthMunicipality"),className:x.motherPlaceOfBirth?"client-error-input":""}),M==="motherBirthMunicipality"&&K.motherBirthMunicipality.length>0&&e.jsx("div",{className:"location-dropdown",children:K.motherBirthMunicipality.map(($,ve)=>e.jsx("div",{onClick:()=>De($),className:"location-dropdown-item",children:$},ve))})]}),e.jsxs("div",{className:"client-baptismal-field location-dropdown-container",children:[e.jsx("label",{children:"Mother's Birth Province"}),e.jsx("input",{type:"text",placeholder:"Type to search",value:u.province,onChange:It,onFocus:()=>Ue("motherBirthProvince"),className:x.motherPlaceOfBirth?"client-error-input":""}),M==="motherBirthProvince"&&K.motherBirthProvince.length>0&&e.jsx("div",{className:"location-dropdown",children:K.motherBirthProvince.map(($,ve)=>e.jsx("div",{onClick:()=>Be($),className:"location-dropdown-item",children:$},ve))})]}),e.jsxs("div",{className:"client-baptismal-field-fpob",children:[e.jsx("label",{children:"Mother's Date of Birth"}),e.jsx("input",{type:"date",className:`date-input ${x.motherDateOfBirth?"client-error-input":""}`,onChange:$=>qe("motherDateOfBirth",$.target.value)})]})]}),e.jsx("div",{className:"client-baptismal-row",children:e.jsxs("div",{className:"client-baptismal-field",children:[e.jsx("label",{children:"Mother's Contact Number"}),e.jsx("input",{type:"text",value:i.motherContact,onChange:$=>Qe("motherContact",$.target.value)})]})}),e.jsx("h3",{className:"client-sub-title",children:"Parents Marital Status"}),e.jsxs("div",{className:"client-baptismal-row-pms",children:[e.jsxs("div",{className:"client-marital-status",children:[e.jsx("label",{className:"client-section-label",children:"Select the parent's marital status by choosing one of the following options:"}),e.jsxs("div",{className:"client-marital-options",children:[e.jsxs("div",{className:"client-pms-label",children:[e.jsx("input",{type:"radio",id:"married",name:"maritalStatus",value:"Married",onChange:me,checked:i.maritalStatus==="Married",className:x.maritalStatus?"client-error-input":""}),e.jsx("label",{htmlFor:"married",children:"Married"})]}),e.jsxs("div",{className:"client-pms-label",children:[e.jsx("input",{type:"radio",id:"civil",name:"maritalStatus",value:"Civil",onChange:me,checked:i.maritalStatus==="Civil",className:x.maritalStatus?"client-error-input":""}),e.jsx("label",{htmlFor:"civil",children:"Civil"})]}),e.jsxs("div",{className:"client-pms-label",children:[e.jsx("input",{type:"radio",id:"living-together",name:"maritalStatus",value:"Living Together",onChange:me,checked:i.maritalStatus==="Living Together",className:x.maritalStatus?"client-error-input":""}),e.jsx("label",{htmlFor:"living-together",children:"Living Together"})]})]})]}),e.jsxs("div",{className:"client-years-married",children:[e.jsx("input",{type:"text",className:"client-short-input",value:i.yearsMarried,onChange:$=>Qe("yearsMarried",$.target.value),disabled:i.maritalStatus!=="Married"}),e.jsx("label",{children:"Number of Years Married"})]})]}),e.jsxs("div",{className:"client-baptismal-row client-address-row",children:[e.jsxs("div",{className:"client-baptismal-field",children:[e.jsx("label",{children:"Street"}),e.jsx("input",{type:"text",value:i.street,onChange:$=>Qe("street",$.target.value)})]}),e.jsxs("div",{className:"client-baptismal-field location-dropdown-container",children:[e.jsx("label",{children:"Barangay"}),e.jsx("input",{type:"text",value:i.barangay,onChange:pe,onFocus:()=>Ue("barangay"),placeholder:"Type to search",className:x.barangay?"client-error-input":""}),M==="barangay"&&K.barangay.length>0&&e.jsx("div",{className:"location-dropdown",children:K.barangay.map(($,ve)=>e.jsx("div",{onClick:()=>yt($),className:"location-dropdown-item",children:$},ve))})]}),e.jsxs("div",{className:"client-baptismal-field location-dropdown-container",children:[e.jsx("label",{children:"Municipality"}),e.jsx("input",{type:"text",value:i.municipality,onChange:we,onFocus:()=>Ue("municipality"),placeholder:"Type to search",className:x.municipality?"client-error-input":""}),M==="municipality"&&K.municipality.length>0&&e.jsx("div",{className:"location-dropdown",children:K.municipality.map(($,ve)=>e.jsx("div",{onClick:()=>Qt($),className:"location-dropdown-item",children:$},ve))})]}),e.jsxs("div",{className:"client-baptismal-field location-dropdown-container",children:[e.jsx("label",{children:"Province"}),e.jsx("input",{type:"text",value:i.province,onChange:ze,onFocus:()=>Ue("province"),placeholder:"Type to search",className:x.province?"client-error-input":""}),M==="province"&&K.province.length>0&&e.jsx("div",{className:"location-dropdown",children:K.province.map(($,ve)=>e.jsx("div",{onClick:()=>ta($),className:"location-dropdown-item",children:$},ve))})]}),e.jsxs("div",{className:"client-baptismal-field location-dropdown-container",children:[e.jsx("label",{children:"Address Region"}),e.jsx("input",{type:"text",value:i.addressRegion,onChange:wt,onFocus:()=>Ue("addressRegion"),placeholder:"Enter address region",className:x.addressRegion?"client-error-input":""}),M==="addressRegion"&&K.addressRegion.length>0&&e.jsx("div",{className:"location-dropdown",children:K.addressRegion.map(($,ve)=>e.jsx("div",{onClick:()=>Aa($),className:"location-dropdown-item",children:$},ve))})]})]}),e.jsxs("div",{className:"client-bypart",children:[e.jsx("h3",{className:"client-sub-title",children:"Godparents Information"}),e.jsxs("div",{className:"client-baptismal-row",children:[e.jsxs("div",{className:"client-baptismal-field",children:[e.jsx("label",{children:"God Father Name (Ninong)"}),e.jsx("input",{type:"text",id:"godfather-input",className:x.godFathers?"client-error-input":""})]}),e.jsx("button",{className:"client-add-button",onClick:()=>oe("godfather"),children:"Add"})]}),i.godFathers.map(($,ve)=>e.jsxs("div",{className:"added-godparent",children:[e.jsx("span",{children:$}),e.jsx("button",{className:"remove-godparent-btn",onClick:()=>ee("godfather",ve),children:e.jsx(pf,{})})]},ve)),e.jsxs("div",{className:"client-baptismal-row",children:[e.jsxs("div",{className:"client-baptismal-field",children:[e.jsx("label",{children:"God Mother Name (Ninang)"}),e.jsx("input",{type:"text",id:"godmother-input",className:x.godMothers?"client-error-input":""})]}),e.jsx("button",{className:"client-add-button",onClick:()=>oe("godmother"),children:"Add"})]}),i.godMothers.map(($,ve)=>e.jsxs("div",{className:"added-godparent",children:[e.jsx("span",{children:$}),e.jsx("button",{className:"remove-godparent-btn",onClick:()=>ee("godmother",ve),children:e.jsx(pf,{})})]},ve))]})]})]}),e.jsxs("div",{className:"client-requirements-container",children:[e.jsx("h3",{className:"client-section-header",children:"Documents Required(Bring the following documents)"}),e.jsxs("div",{className:"client-info-list",children:[e.jsx("div",{className:"client-info-item",children:e.jsx("p",{children:"Birth Certificate of the child(PSA or Local Civil Registrar Copy)"})}),e.jsx("div",{className:"client-info-item",children:e.jsx("p",{children:"Parents' Marriage Certificate(If married in the Catholic Church)"})}),e.jsx("div",{className:"client-info-item",children:e.jsx("p",{children:"Valid IDs of Parents and Godparents"})}),e.jsx("div",{className:"client-info-item",children:e.jsx("p",{children:"Certificate of Permission(If outside the Parish)"})})]}),e.jsx("h3",{className:"client-section-header",children:"Requirements for Parent"}),e.jsxs("div",{className:"client-info-list",children:[e.jsx("div",{className:"client-info-item",children:e.jsx("p",{children:"At least one parent must be Catholic"})}),e.jsx("div",{className:"client-info-item",children:e.jsx("p",{children:"Parents should be willing to raise the child in the Catholic faith"})}),e.jsx("div",{className:"client-info-item",children:e.jsx("p",{children:"Must attend Pre-Baptismal Seminar (Required in most parishes)"})})]}),e.jsx("h3",{className:"client-section-header",children:"Requirements for Godparents"}),e.jsxs("div",{className:"client-info-list",children:[e.jsx("div",{className:"client-info-item",children:e.jsx("p",{children:"Must be a practicing Catholic"})}),e.jsx("div",{className:"client-info-item",children:e.jsx("p",{children:"Must have received the Sacraments of Baptism, Confirmation, and Holy Eucharist"})}),e.jsx("div",{className:"client-info-item",children:e.jsx("p",{children:"Must be at least 16 years old"})}),e.jsx("div",{className:"client-info-item",children:e.jsx("p",{children:"If married, must be married in the Catholic Church"})}),e.jsx("div",{className:"client-info-item",children:e.jsx("p",{children:"Confirmation Certificate (Some parishes require this for proof of faith practice)"})}),e.jsx("div",{className:"client-info-item",children:e.jsx("p",{children:"Certificate of Permission (if outside the Parish)"})})]})]}),e.jsxs("div",{className:"client-button-container",children:[e.jsx("button",{className:"client-submit-btn",onClick:R,children:"Submit"}),e.jsx("button",{className:"client-cancel-btn",onClick:()=>t(-1),children:"Cancel"})]}),Ne&&e.jsx("div",{className:"client-modal-overlay",children:e.jsxs("div",{className:"client-modal",children:[e.jsx("h2",{children:"Submit Application"}),e.jsx("hr",{className:"custom-hr-b"}),e.jsx("p",{children:"Are you sure you want to submit your Baptism application?"}),e.jsxs("div",{className:"client-modal-buttons",children:[e.jsx("button",{className:"client-yes-btn",onClick:G,children:"Yes"}),e.jsx("button",{className:"client-modal-no-btn",onClick:()=>ue(!1),children:"No"})]})]})}),_e&&e.jsx("div",{className:"client-modal-overlay",children:e.jsxs("div",{className:"client-modal",children:[e.jsx("h2",{children:"Success"}),e.jsx("hr",{className:"custom-hr-b"}),e.jsx("p",{children:"Your Baptism application has been submitted successfully!"}),e.jsx("div",{className:"client-modal-buttons",children:e.jsx("button",{className:"client-yes-btn",onClick:()=>ce(!1),children:"OK"})})]})}),ye&&e.jsx("div",{className:"client-modal-overlay",children:e.jsxs("div",{className:"client-modal",children:[e.jsx("h2",{children:"Form Validation Error"}),e.jsx("hr",{className:"custom-hr-b"}),e.jsx("p",{children:ne}),e.jsx("div",{className:"client-modal-buttons",children:e.jsx("button",{className:"client-modal-no-btn",onClick:()=>Q(!1),children:"OK"})})]})}),V&&e.jsx("div",{className:"client-modal-overlay",children:e.jsxs("div",{className:"client-modal",children:[e.jsx("h2",{children:"Processing Application"}),e.jsx("hr",{className:"custom-hr-b"}),e.jsx("p",{children:"Please wait while we submit your baptism application..."}),e.jsx("div",{className:"client-loading-spinner",children:e.jsx("div",{className:"client-spinner"})})]})})]})},ck=()=>{const a=Jt(),t=oa(),{clientID:s}=t.state||{},[i,r]=N.useState(!1),[c,A]=N.useState(!1),[d,h]=N.useState(!1),[u,v]=N.useState(""),[x,y]=N.useState(!1),[p,F]=N.useState([]),[b,S]=N.useState([]),[f,O]=N.useState([]),[M,J]=N.useState([]),[K,H]=N.useState(null),[k,Y]=N.useState({}),[D,ge]=N.useState({barangay:[],municipality:[],province:[],placeOfBirth:[],groom_birth_barangay:[],groom_birth_municipality:[],groom_birth_province:[],bride_birth_barangay:[],bride_birth_municipality:[],bride_birth_province:[],groomBarangay:[],groomMunicipality:[],groomProvince:[],groomRegion:[],brideBarangay:[],brideMunicipality:[],brideProvince:[],brideRegion:[],firstWitnessBarangay:[],firstWitnessMunicipality:[],firstWitnessProvince:[],firstWitnessRegion:[],secondWitnessBarangay:[],secondWitnessMunicipality:[],secondWitnessProvince:[],secondWitnessRegion:[]}),[_,X]=N.useState({groom_first_name:"",groom_middle_name:"",groom_last_name:"",groom_age:"",groom_dateOfBirth:"",groom_dateOfBaptism:"",groom_churchOfBaptism:"",groom_placeOfBirth:"",groom_birth_barangay:"",groom_birth_municipality:"",groom_birth_province:"",groom_street:"",groom_barangay:"",groom_municipality:"",groom_province:"",groom_region:"",bride_first_name:"",bride_middle_name:"",bride_last_name:"",bride_age:"",bride_dateOfBirth:"",bride_dateOfBaptism:"",bride_churchOfBaptism:"",bride_placeOfBirth:"",bride_birth_barangay:"",bride_birth_municipality:"",bride_birth_province:"",bride_street:"",bride_barangay:"",bride_municipality:"",bride_province:"",bride_region:"",first_witness_first_name:"",first_witness_middle_name:"",first_witness_last_name:"",first_witness_gender:"",first_witness_age:"",first_witness_dateOfBirth:"",first_witness_contact_number:"",first_witness_street:"",first_witness_barangay:"",first_witness_municipality:"",first_witness_province:"",first_witness_region:"",second_witness_first_name:"",second_witness_middle_name:"",second_witness_last_name:"",second_witness_gender:"",second_witness_age:"",second_witness_dateOfBirth:"",second_witness_contact_number:"",second_witness_street:"",second_witness_barangay:"",second_witness_municipality:"",second_witness_province:"",second_witness_region:"",date:"",time:""});N.useEffect(()=>{re(),fe()},[]);const re=async()=>{try{const R=await aa.get("http://parishofdivinemercy.com/backend/get_location.php");R.data.success?F(R.data.locations):F(R.data)}catch(R){console.error("Error fetching locations:",R)}},fe=async()=>{try{const[R,G]=await Promise.all([fetch("http://parishofdivinemercy.com/backend/schedule.php"),fetch("http://parishofdivinemercy.com/backend/get_marriage_applications.php")]),oe=await R.json(),ee=await G.json();if(oe.success){const me=oe.schedules.filter(ut=>ut.sacramentType.toLowerCase()==="marriage"),$=new Set;ee.success&&ee.applications.forEach(ut=>{$.add(`${ut.date}-${ut.time}`)});const ve=me.filter(ut=>{const Ct=`${ut.date}-${ut.time}`;return!$.has(Ct)});S(ve);const Pe=new Set,We=[];ve.forEach(ut=>{Pe.has(ut.date)||(Pe.add(ut.date),We.push(ut.date))}),O(We)}}catch(R){console.error("Error fetching schedules:",R)}};N.useEffect(()=>{if(_.date){const R=b.filter(oe=>oe.date===_.date).map(oe=>oe.time),G=[...new Set(R)];J(G),G.includes(_.time)||X(oe=>({...oe,time:""}))}else J([])},[_.date,b]);const Ne=(R,G=null,oe=null)=>{if(G&&G.trim()!==""){const me=p.filter(ve=>ve.municipality===G),$=[...new Set(me.map(ve=>ve.barangay))].sort();if(R&&R.trim()){const ve=R.toLowerCase();return $.filter(Pe=>Pe.toLowerCase().includes(ve))}return $}if(oe&&oe.trim()!==""){const me=p.filter(ve=>ve.province===oe),$=[...new Set(me.map(ve=>ve.barangay))].sort();if(R&&R.trim()){const ve=R.toLowerCase();return $.filter(Pe=>Pe.toLowerCase().includes(ve))}return $}if(!R||!R.trim())return[...new Set(p.map(me=>me.barangay))].sort().slice(0,10);const ee=R.toLowerCase();return[...new Set(p.map(me=>me.barangay))].filter(me=>me.toLowerCase().includes(ee)).sort().slice(0,10)},ue=(R,G=null,oe=null)=>{if(oe&&oe.trim()!==""){const me=p.filter(ve=>ve.barangay===oe),$=[...new Set(me.map(ve=>ve.municipality))].sort();if(R&&R.trim()){const ve=R.toLowerCase();return $.filter(Pe=>Pe.toLowerCase().includes(ve))}return $}if(G&&G.trim()!==""){const me=p.filter(ve=>ve.province===G),$=[...new Set(me.map(ve=>ve.municipality))].sort();if(R&&R.trim()){const ve=R.toLowerCase();return $.filter(Pe=>Pe.toLowerCase().includes(ve))}return $}if(!R||!R.trim())return[...new Set(p.map(me=>me.municipality))].sort().slice(0,10);const ee=R.toLowerCase();return[...new Set(p.map(me=>me.municipality))].filter(me=>me.toLowerCase().includes(ee)).sort().slice(0,10)},_e=(R,G=null,oe=null)=>{if(G&&G.trim()!==""){const me=p.filter(ve=>ve.municipality===G),$=[...new Set(me.map(ve=>ve.province))].sort();if(R&&R.trim()){const ve=R.toLowerCase();return $.filter(Pe=>Pe.toLowerCase().includes(ve))}return $}if(oe&&oe.trim()!==""){const me=p.filter(ve=>ve.barangay===oe),$=[...new Set(me.map(ve=>ve.province))].sort();if(R&&R.trim()){const ve=R.toLowerCase();return $.filter(Pe=>Pe.toLowerCase().includes(ve))}return $}if(!R||!R.trim())return[...new Set(p.map(me=>me.province))].sort().slice(0,10);const ee=R.toLowerCase();return[...new Set(p.map(me=>me.province))].filter(me=>me.toLowerCase().includes(ee)).sort().slice(0,10)},ce=(R,G)=>{X(oe=>({...oe,[R]:G}))},ye=(R,G,oe=null)=>{const ee=G?String(G).trim():"";if(ce(R,ee),console.log(`Setting ${R} to:`,ee),R.includes("dateOfBirth")&&oe)try{const me=new Date,$=new Date(ee);if(isNaN($.getTime()))console.error("Invalid date for age calculation:",ee),ce(oe,"");else{let ve=me.getFullYear()-$.getFullYear();const Pe=me.getMonth()-$.getMonth();(Pe<0||Pe===0&&me.getDate()<$.getDate())&&ve--,ce(oe,ve.toString()),console.log(`Calculated age for ${R}:`,ve)}}catch(me){console.error("Error calculating age:",me),ce(oe,"")}},Q=R=>{const G=R.target.value;X(oe=>({...oe,groom_birth_barangay:G})),K==="groom_birth_barangay"&&ge(oe=>({...oe,groom_birth_barangay:Ne(G,_.groom_birth_municipality,_.groom_birth_province)}))},ne=R=>{const G=R.target.value;X(oe=>({...oe,groom_birth_municipality:G})),K==="groom_birth_municipality"&&ge(oe=>({...oe,groom_birth_municipality:ue(G,_.groom_birth_province,_.groom_birth_barangay)}))},U=R=>{const G=R.target.value;X(oe=>({...oe,groom_birth_province:G})),K==="groom_birth_province"&&ge(oe=>({...oe,groom_birth_province:_e(G,_.groom_birth_municipality,_.groom_birth_barangay)}))},V=R=>{const G=R.target.value;X(oe=>({...oe,bride_birth_barangay:G})),K==="bride_birth_barangay"&&ge(oe=>({...oe,bride_birth_barangay:Ne(G,_.bride_birth_municipality,_.bride_birth_province)}))},T=R=>{const G=R.target.value;X(oe=>({...oe,bride_birth_municipality:G})),K==="bride_birth_municipality"&&ge(oe=>({...oe,bride_birth_municipality:ue(G,_.bride_birth_province,_.bride_birth_barangay)}))},ie=R=>{const G=R.target.value;X(oe=>({...oe,bride_birth_province:G})),K==="bride_birth_province"&&ge(oe=>({...oe,bride_birth_province:_e(G,_.bride_birth_municipality,_.bride_birth_barangay)}))},ae=R=>{X(oe=>({...oe,groom_birth_barangay:R})),H(null);const G=it(R,"barangay","groom_birth");Object.keys(G).length>0&&X(oe=>({...oe,...G}))},P=R=>{X(oe=>({...oe,groom_birth_municipality:R})),H(null);const G=it(R,"municipality","groom_birth");Object.keys(G).length>0&&X(oe=>({...oe,...G}))},z=R=>{X(G=>({...G,groom_birth_province:R})),H(null)},B=R=>{X(oe=>({...oe,bride_birth_barangay:R})),H(null);const G=it(R,"barangay","bride_birth");Object.keys(G).length>0&&X(oe=>({...oe,...G}))},q=R=>{X(oe=>({...oe,bride_birth_municipality:R})),H(null);const G=it(R,"municipality","bride_birth");Object.keys(G).length>0&&X(oe=>({...oe,...G}))},te=R=>{X(G=>({...G,bride_birth_province:R})),H(null)},he=R=>{const G=R.target.value;ce("groom_barangay",G),K==="groomBarangay"&&ge(oe=>({...oe,groomBarangay:Ne(G,_.groom_municipality,_.groom_province)}))},W=R=>{const G=R.target.value;ce("groom_municipality",G),K==="groomMunicipality"&&ge(oe=>({...oe,groomMunicipality:ue(G,_.groom_province,_.groom_barangay)}))},C=R=>{const G=R.target.value;ce("groom_province",G),K==="groomProvince"&&ge(oe=>({...oe,groomProvince:_e(G,_.groom_municipality,_.groom_barangay)}))},Z=R=>{ce("groom_barangay",R),H(null);const G=it(R,"barangay","groom");Object.keys(G).length>0&&Object.keys(G).forEach(oe=>{ce(oe,G[oe])})},se=R=>{ce("groom_municipality",R),H(null);const G=it(R,"municipality","groom");Object.keys(G).length>0&&Object.keys(G).forEach(oe=>{ce(oe,G[oe])})},Se=R=>{ce("groom_province",R),H(null)},He=R=>{const G=R.target.value;ce("bride_barangay",G),K==="brideBarangay"&&ge(oe=>({...oe,brideBarangay:Ne(G,_.bride_municipality,_.bride_province)}))},Qe=R=>{const G=R.target.value;ce("bride_municipality",G),K==="brideMunicipality"&&ge(oe=>({...oe,brideMunicipality:ue(G,_.bride_province,_.bride_barangay)}))},qe=R=>{const G=R.target.value;ce("bride_province",G),K==="brideProvince"&&ge(oe=>({...oe,brideProvince:_e(G,_.bride_municipality,_.bride_barangay)}))},Ye=R=>{ce("bride_barangay",R),H(null);const G=it(R,"barangay","bride");Object.keys(G).length>0&&Object.keys(G).forEach(oe=>{ce(oe,G[oe])})},st=R=>{ce("bride_municipality",R),H(null);const G=it(R,"municipality","bride");Object.keys(G).length>0&&Object.keys(G).forEach(oe=>{ce(oe,G[oe])})},kt=R=>{ce("bride_province",R),H(null)},Mt=R=>{const G=R.target.value;ce("first_witness_barangay",G),K==="firstWitnessBarangay"&&ge(oe=>({...oe,firstWitnessBarangay:Ne(G,_.first_witness_municipality,_.first_witness_province)}))},ke=R=>{const G=R.target.value;ce("first_witness_municipality",G),K==="firstWitnessMunicipality"&&ge(oe=>({...oe,firstWitnessMunicipality:ue(G,_.first_witness_province,_.first_witness_barangay)}))},$e=R=>{const G=R.target.value;ce("first_witness_province",G),K==="firstWitnessProvince"&&ge(oe=>({...oe,firstWitnessProvince:_e(G,_.first_witness_municipality,_.first_witness_barangay)}))},Ae=R=>{ce("first_witness_barangay",R),H(null);const G=it(R,"barangay","first_witness");Object.keys(G).length>0&&Object.keys(G).forEach(oe=>{ce(oe,G[oe])})},Le=R=>{ce("first_witness_municipality",R),H(null);const G=it(R,"municipality","first_witness");Object.keys(G).length>0&&Object.keys(G).forEach(oe=>{ce(oe,G[oe])})},de=R=>{ce("first_witness_province",R),H(null)},Me=R=>{const G=R.target.value;ce("second_witness_barangay",G),K==="secondWitnessBarangay"&&ge(oe=>({...oe,secondWitnessBarangay:Ne(G,_.second_witness_municipality,_.second_witness_province)}))},Ie=R=>{const G=R.target.value;ce("second_witness_municipality",G),K==="secondWitnessMunicipality"&&ge(oe=>({...oe,secondWitnessMunicipality:ue(G,_.second_witness_province,_.second_witness_barangay)}))},Ze=R=>{const G=R.target.value;ce("second_witness_province",G),K==="secondWitnessProvince"&&ge(oe=>({...oe,secondWitnessProvince:_e(G,_.second_witness_municipality,_.second_witness_barangay)}))},nt=R=>{ce("second_witness_barangay",R),H(null);const G=it(R,"barangay","second_witness");Object.keys(G).length>0&&Object.keys(G).forEach(oe=>{ce(oe,G[oe])})},ot=R=>{ce("second_witness_municipality",R),H(null);const G=it(R,"municipality","second_witness");Object.keys(G).length>0&&Object.keys(G).forEach(oe=>{ce(oe,G[oe])})},jt=R=>{ce("second_witness_province",R),H(null)},ft=R=>{const G=R.toLowerCase();return["NCR - National Capital Region","CAR - Cordillera Administrative Region","Region I - Ilocos Region","Region II - Cagayan Valley","Region III - Central Luzon","Region IV-A - CALABARZON","Region IV-B - MIMAROPA","Region V - Bicol Region","Region VI - Western Visayas","Region VII - Central Visayas","Region VIII - Eastern Visayas","Region IX - Zamboanga Peninsula","Region X - Northern Mindanao","Region XI - Davao Region","Region XII - SOCCSKSARGEN","Region XIII - Caraga","BARMM - Bangsamoro Autonomous Region in Muslim Mindanao"].filter(ee=>ee.toLowerCase().includes(G))},[It,Ke]=N.useState([]),it=(R,G,oe)=>{let ee={};if(G==="barangay"){const me=p.filter(Pe=>Pe.barangay===R),$=[...new Set(me.map(Pe=>Pe.municipality))],ve=[...new Set(me.map(Pe=>Pe.province))];console.log(`Barangay "${R}" found in:`,{municipalities:$,provinces:ve}),$.length===1&&(ee[`${oe}_municipality`]=$[0],console.log(`Auto-filling municipality: ${$[0]}`)),ve.length===1&&(ee[`${oe}_province`]=ve[0],console.log(`Auto-filling province: ${ve[0]}`))}else if(G==="municipality"){const me=p.filter(ve=>ve.municipality===R),$=[...new Set(me.map(ve=>ve.province))];console.log(`Municipality "${R}" found in provinces:`,$),$.length===1&&(ee[`${oe}_province`]=$[0],console.log(`Auto-filling province: ${$[0]}`))}return ee},De=R=>{H(R),setTimeout(()=>{switch(R){case"groom_birth_barangay":const G=Ne(_.groom_birth_barangay,_.groom_birth_municipality,_.groom_birth_province);ge(ha=>({...ha,groom_birth_barangay:G.length>0?G:Ne("","","")}));break;case"groom_birth_municipality":const oe=ue(_.groom_birth_municipality,_.groom_birth_province,_.groom_birth_barangay);ge(ha=>({...ha,groom_birth_municipality:oe.length>0?oe:ue("","","")}));break;case"groom_birth_province":const ee=_e(_.groom_birth_province,_.groom_birth_municipality,_.groom_birth_barangay);ge(ha=>({...ha,groom_birth_province:ee.length>0?ee:_e("","","")}));break;case"bride_birth_barangay":const me=Ne(_.bride_birth_barangay,_.bride_birth_municipality,_.bride_birth_province);ge(ha=>({...ha,bride_birth_barangay:me.length>0?me:Ne("","","")}));break;case"bride_birth_municipality":const $=ue(_.bride_birth_municipality,_.bride_birth_province,_.bride_birth_barangay);ge(ha=>({...ha,bride_birth_municipality:$.length>0?$:ue("","","")}));break;case"bride_birth_province":const ve=_e(_.bride_birth_province,_.bride_birth_municipality,_.bride_birth_barangay);ge(ha=>({...ha,bride_birth_province:ve.length>0?ve:_e("","","")}));break;case"groomBarangay":const Pe=Ne(_.groom_barangay,_.groom_municipality,_.groom_province);ge(ha=>({...ha,groomBarangay:Pe.length>0?Pe:Ne("","","")}));break;case"groomMunicipality":const We=ue(_.groom_municipality,_.groom_province,_.groom_barangay);ge(ha=>({...ha,groomMunicipality:We.length>0?We:ue("","","")}));break;case"groomProvince":const ut=_e(_.groom_province,_.groom_municipality,_.groom_barangay);ge(ha=>({...ha,groomProvince:ut.length>0?ut:_e("","","")}));break;case"groomRegion":const Ct=ft(_.groom_region);ge(ha=>({...ha,groomRegion:Ct.length>0?Ct:ft("")}));break;case"brideBarangay":const Kt=Ne(_.bride_barangay,_.bride_municipality,_.bride_province);ge(ha=>({...ha,brideBarangay:Kt.length>0?Kt:Ne("","","")}));break;case"brideMunicipality":const ya=ue(_.bride_municipality,_.bride_province,_.bride_barangay);ge(ha=>({...ha,brideMunicipality:ya.length>0?ya:ue("","","")}));break;case"brideProvince":const Ra=_e(_.bride_province,_.bride_municipality,_.bride_barangay);ge(ha=>({...ha,brideProvince:Ra.length>0?Ra:_e("","","")}));break;case"brideRegion":const qa=ft(_.bride_region);ge(ha=>({...ha,brideRegion:qa.length>0?qa:ft("")}));break;case"firstWitnessBarangay":const Qi=Ne(_.first_witness_barangay,_.first_witness_municipality,_.first_witness_province);ge(ha=>({...ha,firstWitnessBarangay:Qi.length>0?Qi:Ne("","","")}));break;case"firstWitnessMunicipality":const ls=ue(_.first_witness_municipality,_.first_witness_province,_.first_witness_barangay);ge(ha=>({...ha,firstWitnessMunicipality:ls.length>0?ls:ue("","","")}));break;case"firstWitnessProvince":const Ga=_e(_.first_witness_province,_.first_witness_municipality,_.first_witness_barangay);ge(ha=>({...ha,firstWitnessProvince:Ga.length>0?Ga:_e("","","")}));break;case"firstWitnessRegion":const Ln=ft(_.first_witness_region);ge(ha=>({...ha,firstWitnessRegion:Ln.length>0?Ln:ft("")}));break;case"secondWitnessBarangay":const ks=Ne(_.second_witness_barangay,_.second_witness_municipality,_.second_witness_province);ge(ha=>({...ha,secondWitnessBarangay:ks.length>0?ks:Ne("","","")}));break;case"secondWitnessMunicipality":const Yi=ue(_.second_witness_municipality,_.second_witness_province,_.second_witness_barangay);ge(ha=>({...ha,secondWitnessMunicipality:Yi.length>0?Yi:ue("","","")}));break;case"secondWitnessProvince":const ra=_e(_.second_witness_province,_.second_witness_municipality,_.second_witness_barangay);ge(ha=>({...ha,secondWitnessProvince:ra.length>0?ra:_e("","","")}));break;case"secondWitnessRegion":const Xi=ft(_.second_witness_region);ge(ha=>({...ha,secondWitnessRegion:Xi.length>0?Xi:ft("")}));break}},0)};N.useEffect(()=>{const R=G=>{const oe=document.querySelectorAll(".location-dropdown-container");let ee=!0;oe.forEach(me=>{me.contains(G.target)&&(ee=!1)}),ee&&H(null)};return document.addEventListener("mousedown",R),()=>{document.removeEventListener("mousedown",R)}},[]);const Be=R=>{R.preventDefault();const oe=["date","time","groom_first_name","groom_last_name","bride_first_name","bride_last_name"].filter(me=>!_[me]),ee={};if(oe.forEach(me=>{ee[me]=!0}),Y(ee),oe.length>0){v("Please fill in the basic required fields (names, date, and time) before submitting."),h(!0);const me=document.querySelector(".error-field");me&&me.scrollIntoView({behavior:"smooth",block:"center"});return}Y({}),r(!0)},pe=async()=>{r(!1),y(!0);try{const R=[_.groom_birth_barangay,_.groom_birth_municipality,_.groom_birth_province].filter(Boolean).join(", "),G=[_.bride_birth_barangay,_.bride_birth_municipality,_.bride_birth_province].filter(Boolean).join(", "),oe={date:_.date,time:_.time,groom_first_name:_.groom_first_name||"",groom_middle_name:_.groom_middle_name||"",groom_last_name:_.groom_last_name||"",groom_age:_.groom_age||"",groom_dateOfBirth:_.groom_dateOfBirth||"",groom_dateOfBaptism:_.groom_dateOfBaptism||"",groom_churchOfBaptism:_.groom_churchOfBaptism||"",groom_placeOfBirth:R||"",bride_first_name:_.bride_first_name||"",bride_middle_name:_.bride_middle_name||"",bride_last_name:_.bride_last_name||"",bride_age:_.bride_age||"",bride_dateOfBirth:_.bride_dateOfBirth||"",bride_dateOfBaptism:_.bride_dateOfBaptism||"",bride_churchOfBaptism:_.bride_churchOfBaptism||"",bride_placeOfBirth:G||""},ee={street:_.groom_street||"",barangay:_.groom_barangay||"",municipality:_.groom_municipality||"",province:_.groom_province||"",region:_.groom_region||""},me={street:_.bride_street||"",barangay:_.bride_barangay||"",municipality:_.bride_municipality||"",province:_.bride_province||"",region:_.bride_region||""},$={first_name:_.first_witness_first_name||"",middle_name:_.first_witness_middle_name||"",last_name:_.first_witness_last_name||"",gender:_.first_witness_gender||"",age:_.first_witness_age||"",dateOfBirth:_.first_witness_dateOfBirth||"",contact_number:_.first_witness_contact_number||"",street:_.first_witness_street||"",barangay:_.first_witness_barangay||"",municipality:_.first_witness_municipality||"",province:_.first_witness_province||"",region:_.first_witness_region||""},ve={first_name:_.second_witness_first_name||"",middle_name:_.second_witness_middle_name||"",last_name:_.second_witness_last_name||"",gender:_.second_witness_gender||"",age:_.second_witness_age||"",dateOfBirth:_.second_witness_dateOfBirth||"",contact_number:_.second_witness_contact_number||"",street:_.second_witness_street||"",barangay:_.second_witness_barangay||"",municipality:_.second_witness_municipality||"",province:_.second_witness_province||"",region:_.second_witness_region||""},Pe=new FormData;Pe.append("clientID",s),Pe.append("applicationData",JSON.stringify(oe)),Pe.append("groomAddressData",JSON.stringify(ee)),Pe.append("brideAddressData",JSON.stringify(me)),Pe.append("firstWitnessData",JSON.stringify($)),Pe.append("secondWitnessData",JSON.stringify(ve)),console.log("Submitting marriage application...");const We=await aa.post("http://parishofdivinemercy.com/backend/marriage_application.php",Pe,{headers:{"Content-Type":"multipart/form-data"}});if(console.log("Application response:",We.data),We.data.success){console.log("Sending confirmation email...");try{const ut=await aa.post("http://parishofdivinemercy.com/backend/send_marriage_email.php",{clientID:s,marriageData:oe});console.log("Email response:",ut.data)}catch(ut){console.log("Email sending failed, but application was submitted successfully:",ut)}A(!0)}else throw new Error(We.data.message||"Failed to submit application")}catch(R){console.error("Error submitting application:",R),v(R.message||"An error occurred while submitting the application"),h(!0)}finally{y(!1)}},we=()=>{r(!1)},ze=()=>{A(!1),a("/client-appointment")},Xe=()=>{h(!1)},wt=R=>{const G=R.target.value;ce("groom_region",G),K==="groomRegion"&&ge(oe=>({...oe,groomRegion:ft(G)}))},yt=R=>{const G=R.target.value;ce("bride_region",G),K==="brideRegion"&&ge(oe=>({...oe,brideRegion:ft(G)}))},Qt=R=>{const G=R.target.value;ce("first_witness_region",G),K==="firstWitnessRegion"&&ge(oe=>({...oe,firstWitnessRegion:ft(G)}))},ta=R=>{const G=R.target.value;ce("second_witness_region",G),K==="secondWitnessRegion"&&ge(oe=>({...oe,secondWitnessRegion:ft(G)}))},Ft=R=>{ce("groom_region",R),H(null)},Aa=R=>{ce("bride_region",R),H(null)},Ue=R=>{ce("first_witness_region",R),H(null)},be=R=>{ce("second_witness_region",R),H(null)};return e.jsxs("div",{className:"client-marriage-container",children:[e.jsx("div",{className:"client-marriage-header",children:e.jsx("div",{className:"client-marriage-left-section",children:e.jsxs("button",{className:"client-marriage-back-button",onClick:()=>window.history.back(),children:[e.jsx(Oa,{className:"client-marriage-back-icon"})," Back"]})})}),e.jsx("h1",{className:"client-marriage-title",children:"Marriage Application Form"}),e.jsxs("div",{className:"client-marriage-data",children:[e.jsxs("div",{className:"client-marriage-row-date",children:[e.jsxs("div",{className:`client-marriage-field-date ${k.date?"error-field":""}`,children:[e.jsxs("label",{children:["Date of Appointment",e.jsx("span",{className:"required-marker",children:"*"})]}),e.jsxs("select",{name:"date",value:_.date,onChange:R=>ce("date",R.target.value),required:!0,children:[e.jsx("option",{value:"",children:"Select Date"}),f.map(R=>e.jsx("option",{value:R,children:new Date(R).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})},R))]}),k.date]}),e.jsxs("div",{className:`client-marriage-field-time ${k.time?"error-field":""}`,children:[e.jsxs("label",{children:["Time of Appointment",e.jsx("span",{className:"required-marker",children:"*"})]}),e.jsxs("select",{name:"time",value:_.time,onChange:R=>ce("time",R.target.value),disabled:!_.date,required:!0,children:[e.jsx("option",{value:"",children:"Select Time"}),M.map(R=>e.jsx("option",{value:R,children:R},R))]}),k.time]})]}),e.jsxs("div",{className:"client-marriage-bypart",children:[e.jsx("h3",{className:"client-marriage-sub-title",children:"Groom Information"}),e.jsxs("div",{className:"client-marriage-row",children:[e.jsxs("div",{className:`client-marriage-field ${k.groom_first_name?"error-field":""}`,children:[e.jsxs("label",{children:["First Name of the Groom",e.jsx("span",{className:"required-marker",children:"*"})]}),e.jsx("input",{type:"text",value:_.groom_first_name,onChange:R=>ce("groom_first_name",R.target.value)}),k.groom_first_name]}),e.jsxs("div",{className:`client-marriage-field ${k.groom_middle_name?"error-field":""}`,children:[e.jsx("label",{children:"Middle Name of the Groom"}),e.jsx("input",{type:"text",value:_.groom_middle_name,onChange:R=>ce("groom_middle_name",R.target.value)}),k.groom_middle_name]}),e.jsxs("div",{className:`client-marriage-field ${k.groom_last_name?"error-field":""}`,children:[e.jsxs("label",{children:["Last Name of the Groom",e.jsx("span",{className:"required-marker",children:"*"})]}),e.jsx("input",{type:"text",value:_.groom_last_name,onChange:R=>ce("groom_last_name",R.target.value)}),k.groom_last_name]}),e.jsxs("div",{className:`client-marriage-field ${k.groom_dateOfBirth?"error-field":""}`,children:[e.jsxs("label",{children:["Date of Birth",e.jsx("span",{className:"required-marker",children:"*"})]}),e.jsx("input",{type:"date",className:"date-input",value:_.groom_dateOfBirth||"",onChange:R=>{ce("groom_dateOfBirth",R.target.value);const G=new Date,oe=new Date(R.target.value);if(!isNaN(oe.getTime())){let ee=G.getFullYear()-oe.getFullYear();const me=G.getMonth()-oe.getMonth();(me<0||me===0&&G.getDate()<oe.getDate())&&ee--,ce("groom_age",ee.toString())}}}),k.groom_dateOfBirth]})]}),e.jsxs("div",{className:"client-marriage-row",children:[e.jsxs("div",{className:"client-marriage-field-dob",children:[e.jsx("label",{children:"Age"}),e.jsx("input",{type:"text",value:_.groom_age,onChange:R=>ce("groom_age",R.target.value),readOnly:!0})]}),e.jsxs("div",{className:`client-marriage-field-dob ${k.groom_dateOfBaptism?"error-field":""}`,children:[e.jsxs("label",{children:["Date of Baptism",e.jsx("span",{className:"required-marker",children:"*"})]}),e.jsx("input",{type:"date",className:"date-input",value:_.groom_dateOfBaptism||"",onChange:R=>ce("groom_dateOfBaptism",R.target.value)}),k.groom_dateOfBaptism]}),e.jsxs("div",{className:`client-marriage-field ${k.groom_churchOfBaptism?"error-field":""}`,children:[e.jsxs("label",{children:["Church of Baptism",e.jsx("span",{className:"required-marker",children:"*"})]}),e.jsx("input",{type:"text",value:_.groom_churchOfBaptism,onChange:R=>ce("groom_churchOfBaptism",R.target.value)}),k.groom_churchOfBaptism]})]}),e.jsx("label",{className:"mini-title",children:"Place of Birth"}),e.jsxs("div",{className:"client-marriage-row",children:[e.jsxs("div",{className:`client-marriage-field location-dropdown-container ${k.groom_birth_barangay?"error-field":""}`,children:[e.jsxs("label",{children:["Birth Barangay",e.jsx("span",{className:"required-marker",children:"*"})]}),e.jsx("input",{type:"text",placeholder:"Type to search",name:"groom_birth_barangay",value:_.groom_birth_barangay||"",onChange:Q,onFocus:()=>De("groom_birth_barangay"),autoComplete:"off"}),k.groom_birth_barangay,K==="groom_birth_barangay"&&D.groom_birth_barangay&&D.groom_birth_barangay.length>0&&e.jsx("div",{className:"location-dropdown",children:D.groom_birth_barangay.map((R,G)=>e.jsx("div",{onClick:()=>ae(R),className:"location-dropdown-item",children:R},G))})]}),e.jsxs("div",{className:`client-marriage-field location-dropdown-container ${k.groom_birth_municipality?"error-field":""}`,children:[e.jsxs("label",{children:["Birth Municipality",e.jsx("span",{className:"required-marker",children:"*"})]}),e.jsx("input",{type:"text",placeholder:"Type to search",name:"groom_birth_municipality",value:_.groom_birth_municipality||"",onChange:ne,onFocus:()=>De("groom_birth_municipality"),autoComplete:"off"}),k.groom_birth_municipality,K==="groom_birth_municipality"&&D.groom_birth_municipality&&D.groom_birth_municipality.length>0&&e.jsx("div",{className:"location-dropdown",children:D.groom_birth_municipality.map((R,G)=>e.jsx("div",{onClick:()=>P(R),className:"location-dropdown-item",children:R},G))})]}),e.jsxs("div",{className:`client-marriage-field location-dropdown-container ${k.groom_birth_province?"error-field":""}`,children:[e.jsxs("label",{children:["Birth Province",e.jsx("span",{className:"required-marker",children:"*"})]}),e.jsx("input",{type:"text",placeholder:"Type to search",name:"groom_birth_province",value:_.groom_birth_province||"",onChange:U,onFocus:()=>De("groom_birth_province"),autoComplete:"off"}),k.groom_birth_province,K==="groom_birth_province"&&D.groom_birth_province&&D.groom_birth_province.length>0&&e.jsx("div",{className:"location-dropdown",children:D.groom_birth_province.map((R,G)=>e.jsx("div",{onClick:()=>z(R),className:"location-dropdown-item",children:R},G))})]})]}),e.jsx("label",{className:"mini-title",children:"Home Address"}),e.jsxs("div",{className:"client-marriage-row",children:[e.jsxs("div",{className:`client-marriage-field ${k.groom_street?"error-field":""}`,children:[e.jsxs("label",{children:["Street",e.jsx("span",{className:"required-marker",children:"*"})]}),e.jsx("input",{type:"text",value:_.groom_street,onChange:R=>ce("groom_street",R.target.value)}),k.groom_street]}),e.jsxs("div",{className:`client-marriage-field location-dropdown-container ${k.groom_barangay?"error-field":""}`,children:[e.jsxs("label",{children:["Barangay",e.jsx("span",{className:"required-marker",children:"*"})]}),e.jsx("input",{type:"text",placeholder:"Type to search",value:_.groom_barangay,onChange:he,onFocus:()=>De("groomBarangay")}),k.groom_barangay,K==="groomBarangay"&&D.groomBarangay&&D.groomBarangay.length>0&&e.jsx("div",{className:"location-dropdown",children:D.groomBarangay.map((R,G)=>e.jsx("div",{onClick:()=>Z(R),className:"location-dropdown-item",children:R},G))})]}),e.jsxs("div",{className:`client-marriage-field location-dropdown-container ${k.groom_municipality?"error-field":""}`,children:[e.jsxs("label",{children:["Municipality",e.jsx("span",{className:"required-marker",children:"*"})]}),e.jsx("input",{type:"text",placeholder:"Type to search",value:_.groom_municipality,onChange:W,onFocus:()=>De("groomMunicipality")}),k.groom_municipality,K==="groomMunicipality"&&D.groomMunicipality&&D.groomMunicipality.length>0&&e.jsx("div",{className:"location-dropdown",children:D.groomMunicipality.map((R,G)=>e.jsx("div",{onClick:()=>se(R),className:"location-dropdown-item",children:R},G))})]}),e.jsxs("div",{className:`client-marriage-field location-dropdown-container ${k.groom_province?"error-field":""}`,children:[e.jsxs("label",{children:["Province",e.jsx("span",{className:"required-marker",children:"*"})]}),e.jsx("input",{type:"text",placeholder:"Type to search",value:_.groom_province,onChange:C,onFocus:()=>De("groomProvince")}),k.groom_province,K==="groomProvince"&&D.groomProvince&&D.groomProvince.length>0&&e.jsx("div",{className:"location-dropdown",children:D.groomProvince.map((R,G)=>e.jsx("div",{onClick:()=>Se(R),className:"location-dropdown-item",children:R},G))})]}),e.jsxs("div",{className:`client-marriage-field location-dropdown-container ${k.groom_region?"error-field":""}`,children:[e.jsxs("label",{children:["Region",e.jsx("span",{className:"required-marker",children:"*"})]}),e.jsx("input",{type:"text",value:_.groom_region,onChange:wt,onFocus:()=>De("groomRegion"),placeholder:"Type to search"}),k.groom_region,K==="groomRegion"&&D.groomRegion&&D.groomRegion.length>0&&e.jsx("div",{className:"location-dropdown",children:D.groomRegion.map((R,G)=>e.jsx("div",{onClick:()=>Ft(R),className:"location-dropdown-item",children:R},G))})]})]}),e.jsx("h3",{className:"client-marriage-sub-title",children:"Bride Information"}),e.jsxs("div",{className:"client-marriage-row",children:[e.jsxs("div",{className:`client-marriage-field ${k.bride_first_name?"error-field":""}`,children:[e.jsxs("label",{children:["First Name of the Bride",e.jsx("span",{className:"required-marker",children:"*"})]}),e.jsx("input",{type:"text",value:_.bride_first_name,onChange:R=>ce("bride_first_name",R.target.value)}),k.bride_first_name]}),e.jsxs("div",{className:`client-marriage-field ${k.bride_middle_name?"error-field":""}`,children:[e.jsx("label",{children:"Middle Name of the Bride"}),e.jsx("input",{type:"text",value:_.bride_middle_name,onChange:R=>ce("bride_middle_name",R.target.value)}),k.bride_middle_name]}),e.jsxs("div",{className:`client-marriage-field ${k.bride_last_name?"error-field":""}`,children:[e.jsxs("label",{children:["Last Name of the Bride",e.jsx("span",{className:"required-marker",children:"*"})]}),e.jsx("input",{type:"text",value:_.bride_last_name,onChange:R=>ce("bride_last_name",R.target.value)}),k.bride_last_name]}),e.jsxs("div",{className:`client-marriage-field ${k.bride_dateOfBirth?"error-field":""}`,children:[e.jsxs("label",{children:["Date of Birth",e.jsx("span",{className:"required-marker",children:"*"})]}),e.jsx("input",{type:"date",className:"date-input",value:_.bride_dateOfBirth||"",onChange:R=>{ce("bride_dateOfBirth",R.target.value);const G=new Date,oe=new Date(R.target.value);if(!isNaN(oe.getTime())){let ee=G.getFullYear()-oe.getFullYear();const me=G.getMonth()-oe.getMonth();(me<0||me===0&&G.getDate()<oe.getDate())&&ee--,ce("bride_age",ee.toString())}}}),k.bride_dateOfBirth]})]}),e.jsxs("div",{className:"client-marriage-row",children:[e.jsxs("div",{className:"client-marriage-field-dob",children:[e.jsx("label",{children:"Age"}),e.jsx("input",{type:"text",value:_.bride_age,onChange:R=>ce("bride_age",R.target.value),readOnly:!0})]}),e.jsxs("div",{className:`client-marriage-field-dob ${k.bride_dateOfBaptism?"error-field":""}`,children:[e.jsxs("label",{children:["Date of Baptism",e.jsx("span",{className:"required-marker",children:"*"})]}),e.jsx("input",{type:"date",className:"date-input",value:_.bride_dateOfBaptism||"",onChange:R=>ce("bride_dateOfBaptism",R.target.value)}),k.bride_dateOfBaptism]}),e.jsxs("div",{className:`client-marriage-field ${k.bride_churchOfBaptism?"error-field":""}`,children:[e.jsxs("label",{children:["Church of Baptism",e.jsx("span",{className:"required-marker",children:"*"})]}),e.jsx("input",{type:"text",value:_.bride_churchOfBaptism,onChange:R=>ce("bride_churchOfBaptism",R.target.value)}),k.bride_churchOfBaptism]})]}),e.jsx("label",{className:"mini-title",children:"Place of Birth"}),e.jsxs("div",{className:"client-marriage-row",children:[e.jsxs("div",{className:`client-marriage-field location-dropdown-container ${k.bride_birth_barangay?"error-field":""}`,children:[e.jsxs("label",{children:["Birth Barangay",e.jsx("span",{className:"required-marker",children:"*"})]}),e.jsx("input",{type:"text",placeholder:"Type to search",name:"bride_birth_barangay",value:_.bride_birth_barangay||"",onChange:V,onFocus:()=>De("bride_birth_barangay"),autoComplete:"off"}),k.bride_birth_barangay,K==="bride_birth_barangay"&&D.bride_birth_barangay&&D.bride_birth_barangay.length>0&&e.jsx("div",{className:"location-dropdown",children:D.bride_birth_barangay.map((R,G)=>e.jsx("div",{onClick:()=>B(R),className:"location-dropdown-item",children:R},G))})]}),e.jsxs("div",{className:`client-marriage-field location-dropdown-container ${k.bride_birth_municipality?"error-field":""}`,children:[e.jsxs("label",{children:["Birth Municipality",e.jsx("span",{className:"required-marker",children:"*"})]}),e.jsx("input",{type:"text",placeholder:"Type to search",name:"bride_birth_municipality",value:_.bride_birth_municipality||"",onChange:T,onFocus:()=>De("bride_birth_municipality"),autoComplete:"off"}),k.bride_birth_municipality,K==="bride_birth_municipality"&&D.bride_birth_municipality&&D.bride_birth_municipality.length>0&&e.jsx("div",{className:"location-dropdown",children:D.bride_birth_municipality.map((R,G)=>e.jsx("div",{onClick:()=>q(R),className:"location-dropdown-item",children:R},G))})]}),e.jsxs("div",{className:`client-marriage-field location-dropdown-container ${k.bride_birth_province?"error-field":""}`,children:[e.jsxs("label",{children:["Birth Province",e.jsx("span",{className:"required-marker",children:"*"})]}),e.jsx("input",{type:"text",placeholder:"Type to search",name:"bride_birth_province",value:_.bride_birth_province||"",onChange:ie,onFocus:()=>De("bride_birth_province"),autoComplete:"off"}),k.bride_birth_province,K==="bride_birth_province"&&D.bride_birth_province&&D.bride_birth_province.length>0&&e.jsx("div",{className:"location-dropdown",children:D.bride_birth_province.map((R,G)=>e.jsx("div",{onClick:()=>te(R),className:"location-dropdown-item",children:R},G))})]})]}),e.jsx("label",{className:"mini-title",children:"Home Address"}),e.jsxs("div",{className:"client-marriage-row",children:[e.jsxs("div",{className:"client-marriage-field",children:[e.jsxs("label",{children:["Street",e.jsx("span",{className:"required-marker",children:"*"})]}),e.jsx("input",{type:"text",value:_.bride_street,onChange:R=>ce("bride_street",R.target.value)}),k.bride_street]}),e.jsxs("div",{className:`client-marriage-field location-dropdown-container ${k.bride_barangay?"error-field":""}`,children:[e.jsxs("label",{children:["Barangay",e.jsx("span",{className:"required-marker",children:"*"})]}),e.jsx("input",{type:"text",placeholder:"Type to search",value:_.bride_barangay,onChange:He,onFocus:()=>De("brideBarangay")}),k.bride_barangay,K==="brideBarangay"&&D.brideBarangay&&D.brideBarangay.length>0&&e.jsx("div",{className:"location-dropdown",children:D.brideBarangay.map((R,G)=>e.jsx("div",{onClick:()=>Ye(R),className:"location-dropdown-item",children:R},G))})]}),e.jsxs("div",{className:`client-marriage-field location-dropdown-container ${k.bride_municipality?"error-field":""}`,children:[e.jsxs("label",{children:["Municipality",e.jsx("span",{className:"required-marker",children:"*"})]}),e.jsx("input",{type:"text",placeholder:"Type to search",value:_.bride_municipality,onChange:Qe,onFocus:()=>De("brideMunicipality")}),k.bride_municipality,K==="brideMunicipality"&&D.brideMunicipality&&D.brideMunicipality.length>0&&e.jsx("div",{className:"location-dropdown",children:D.brideMunicipality.map((R,G)=>e.jsx("div",{onClick:()=>st(R),className:"location-dropdown-item",children:R},G))})]}),e.jsxs("div",{className:`client-marriage-field location-dropdown-container ${k.bride_province?"error-field":""}`,children:[e.jsxs("label",{children:["Province",e.jsx("span",{className:"required-marker",children:"*"})]}),e.jsx("input",{type:"text",placeholder:"Type to search",value:_.bride_province,onChange:qe,onFocus:()=>De("brideProvince")}),k.bride_province,K==="brideProvince"&&D.brideProvince&&D.brideProvince.length>0&&e.jsx("div",{className:"location-dropdown",children:D.brideProvince.map((R,G)=>e.jsx("div",{onClick:()=>kt(R),className:"location-dropdown-item",children:R},G))})]}),e.jsxs("div",{className:`client-marriage-field location-dropdown-container ${k.bride_region?"error-field":""}`,children:[e.jsxs("label",{children:["Region",e.jsx("span",{className:"required-marker",children:"*"})]}),e.jsx("input",{type:"text",value:_.bride_region,onChange:yt,onFocus:()=>De("brideRegion"),placeholder:"Type to search"}),k.bride_region,K==="brideRegion"&&D.brideRegion&&D.brideRegion.length>0&&e.jsx("div",{className:"location-dropdown",children:D.brideRegion.map((R,G)=>e.jsx("div",{onClick:()=>Aa(R),className:"location-dropdown-item",children:R},G))})]})]})]}),e.jsxs("div",{className:"client-marriage-witness-container",children:[e.jsx("h2",{className:"client-marriage-witness-title",children:"First Witness Information"}),e.jsxs("div",{className:"client-marriage-witness-box",children:[e.jsxs("div",{className:"client-marriage-row",children:[e.jsxs("div",{className:"client-marriage-field",children:[e.jsx("label",{children:"First Witness First Name"}),e.jsx("input",{type:"text",value:_.first_witness_first_name,onChange:R=>ce("first_witness_first_name",R.target.value)})]}),e.jsxs("div",{className:"client-marriage-field",children:[e.jsx("label",{children:"First Witness Middle Name"}),e.jsx("input",{type:"text",value:_.first_witness_middle_name,onChange:R=>ce("first_witness_middle_name",R.target.value)})]}),e.jsxs("div",{className:"client-marriage-field",children:[e.jsx("label",{children:"First Witness Last Name"}),e.jsx("input",{type:"text",value:_.first_witness_last_name,onChange:R=>ce("first_witness_last_name",R.target.value)})]}),e.jsxs("div",{className:"client-marriage-field",children:[e.jsx("label",{children:"First Witness Date of Birth"}),e.jsx("input",{type:"date",className:"date-input",value:_.first_witness_dateOfBirth||"",onChange:R=>{try{ye("first_witness_dateOfBirth",R.target.value,"first_witness_age")}catch(G){console.error("Error handling first witness date:",G),ce("first_witness_dateOfBirth",""),ce("first_witness_age","")}}})]})]}),e.jsxs("div",{className:"client-marriage-row",children:[e.jsxs("div",{className:"client-marriage-field-ga",children:[e.jsx("label",{children:"Age"}),e.jsx("input",{type:"text",value:_.first_witness_age,onChange:R=>ce("first_witness_age",R.target.value),readOnly:!0})]}),e.jsxs("div",{className:"client-marriage-field-ga",children:[e.jsx("label",{children:"Gender"}),e.jsxs("select",{value:_.first_witness_gender,onChange:R=>ce("first_witness_gender",R.target.value),children:[e.jsx("option",{value:"",children:"Select Gender"}),e.jsx("option",{value:"Male",children:"Male"}),e.jsx("option",{value:"Female",children:"Female"})]})]}),e.jsxs("div",{className:"client-marriage-field",children:[e.jsx("label",{children:"First Witness Contact Number"}),e.jsx("input",{type:"text",value:_.first_witness_contact_number,onChange:R=>ce("first_witness_contact_number",R.target.value)})]})]}),e.jsxs("div",{className:"client-marriage-row",children:[e.jsxs("div",{className:"client-marriage-field",children:[e.jsx("label",{children:"Street"}),e.jsx("input",{type:"text",value:_.first_witness_street,onChange:R=>ce("first_witness_street",R.target.value)})]}),e.jsxs("div",{className:"client-marriage-field location-dropdown-container",children:[e.jsx("label",{children:"Barangay"}),e.jsx("input",{type:"text",placeholder:"Type to search",value:_.first_witness_barangay,onChange:Mt,onFocus:()=>De("firstWitnessBarangay")}),K==="firstWitnessBarangay"&&D.firstWitnessBarangay&&D.firstWitnessBarangay.length>0&&e.jsx("div",{className:"location-dropdown",children:D.firstWitnessBarangay.map((R,G)=>e.jsx("div",{onClick:()=>Ae(R),className:"location-dropdown-item",children:R},G))})]}),e.jsxs("div",{className:"client-marriage-field location-dropdown-container",children:[e.jsx("label",{children:"Municipality"}),e.jsx("input",{type:"text",placeholder:"Type to search",value:_.first_witness_municipality,onChange:ke,onFocus:()=>De("firstWitnessMunicipality")}),K==="firstWitnessMunicipality"&&D.firstWitnessMunicipality&&D.firstWitnessMunicipality.length>0&&e.jsx("div",{className:"location-dropdown",children:D.firstWitnessMunicipality.map((R,G)=>e.jsx("div",{onClick:()=>Le(R),className:"location-dropdown-item",children:R},G))})]}),e.jsxs("div",{className:"client-marriage-field location-dropdown-container",children:[e.jsx("label",{children:"Province"}),e.jsx("input",{type:"text",placeholder:"Type to search",value:_.first_witness_province,onChange:$e,onFocus:()=>De("firstWitnessProvince")}),K==="firstWitnessProvince"&&D.firstWitnessProvince&&D.firstWitnessProvince.length>0&&e.jsx("div",{className:"location-dropdown",children:D.firstWitnessProvince.map((R,G)=>e.jsx("div",{onClick:()=>de(R),className:"location-dropdown-item",children:R},G))})]}),e.jsxs("div",{className:"client-marriage-field location-dropdown-container",children:[e.jsx("label",{children:"Region"}),e.jsx("input",{type:"text",value:_.first_witness_region,onChange:Qt,onFocus:()=>De("firstWitnessRegion"),placeholder:"Type to search"}),K==="firstWitnessRegion"&&D.firstWitnessRegion&&D.firstWitnessRegion.length>0&&e.jsx("div",{className:"location-dropdown",children:D.firstWitnessRegion.map((R,G)=>e.jsx("div",{onClick:()=>Ue(R),className:"location-dropdown-item",children:R},G))})]})]})]})]}),e.jsxs("div",{className:"client-marriage-witness-container",children:[e.jsx("h2",{className:"client-marriage-witness-title",children:"Second Witness Information"}),e.jsxs("div",{className:"client-marriage-witness-box",children:[e.jsxs("div",{className:"client-marriage-row",children:[e.jsxs("div",{className:"client-marriage-field",children:[e.jsx("label",{children:"Second Witness First Name"}),e.jsx("input",{type:"text",value:_.second_witness_first_name,onChange:R=>ce("second_witness_first_name",R.target.value)})]}),e.jsxs("div",{className:"client-marriage-field",children:[e.jsx("label",{children:"Second Witness Middle Name"}),e.jsx("input",{type:"text",value:_.second_witness_middle_name,onChange:R=>ce("second_witness_middle_name",R.target.value)})]}),e.jsxs("div",{className:"client-marriage-field",children:[e.jsx("label",{children:"Second Witness Last Name"}),e.jsx("input",{type:"text",value:_.second_witness_last_name,onChange:R=>ce("second_witness_last_name",R.target.value)})]}),e.jsxs("div",{className:"client-marriage-field",children:[e.jsx("label",{children:"Second Witness Date of Birth"}),e.jsx("input",{type:"date",className:"date-input",value:_.second_witness_dateOfBirth||"",onChange:R=>{try{ye("second_witness_dateOfBirth",R.target.value,"second_witness_age")}catch(G){console.error("Error handling second witness date:",G),ce("second_witness_dateOfBirth",""),ce("second_witness_age","")}}})]})]}),e.jsxs("div",{className:"client-marriage-row",children:[e.jsxs("div",{className:"client-marriage-field-ga",children:[e.jsx("label",{children:"Age"}),e.jsx("input",{type:"text",value:_.second_witness_age,onChange:R=>ce("second_witness_age",R.target.value),readOnly:!0})]}),e.jsxs("div",{className:"client-marriage-field-ga",children:[e.jsx("label",{children:"Gender"}),e.jsxs("select",{value:_.second_witness_gender,onChange:R=>ce("second_witness_gender",R.target.value),children:[e.jsx("option",{value:"",children:"Select Gender"}),e.jsx("option",{value:"Male",children:"Male"}),e.jsx("option",{value:"Female",children:"Female"})]})]}),e.jsxs("div",{className:"client-marriage-field",children:[e.jsx("label",{children:"Second Witness Contact Number"}),e.jsx("input",{type:"text",value:_.second_witness_contact_number,onChange:R=>ce("second_witness_contact_number",R.target.value)})]})]}),e.jsxs("div",{className:"client-marriage-row",children:[e.jsxs("div",{className:"client-marriage-field",children:[e.jsx("label",{children:"Street"}),e.jsx("input",{type:"text",value:_.second_witness_street,onChange:R=>ce("second_witness_street",R.target.value)})]}),e.jsxs("div",{className:"client-marriage-field location-dropdown-container",children:[e.jsx("label",{children:"Barangay"}),e.jsx("input",{type:"text",placeholder:"Type to search",value:_.second_witness_barangay,onChange:Me,onFocus:()=>De("secondWitnessBarangay")}),K==="secondWitnessBarangay"&&D.secondWitnessBarangay&&D.secondWitnessBarangay.length>0&&e.jsx("div",{className:"location-dropdown",children:D.secondWitnessBarangay.map((R,G)=>e.jsx("div",{onClick:()=>nt(R),className:"location-dropdown-item",children:R},G))})]}),e.jsxs("div",{className:"client-marriage-field location-dropdown-container",children:[e.jsx("label",{children:"Municipality"}),e.jsx("input",{type:"text",placeholder:"Type to search",value:_.second_witness_municipality,onChange:Ie,onFocus:()=>De("secondWitnessMunicipality")}),K==="secondWitnessMunicipality"&&D.secondWitnessMunicipality&&D.secondWitnessMunicipality.length>0&&e.jsx("div",{className:"location-dropdown",children:D.secondWitnessMunicipality.map((R,G)=>e.jsx("div",{onClick:()=>ot(R),className:"location-dropdown-item",children:R},G))})]}),e.jsxs("div",{className:"client-marriage-field location-dropdown-container",children:[e.jsx("label",{children:"Province"}),e.jsx("input",{type:"text",placeholder:"Type to search",value:_.second_witness_province,onChange:Ze,onFocus:()=>De("secondWitnessProvince")}),K==="secondWitnessProvince"&&D.secondWitnessProvince&&D.secondWitnessProvince.length>0&&e.jsx("div",{className:"location-dropdown",children:D.secondWitnessProvince.map((R,G)=>e.jsx("div",{onClick:()=>jt(R),className:"location-dropdown-item",children:R},G))})]}),e.jsxs("div",{className:"client-marriage-field location-dropdown-container",children:[e.jsx("label",{children:"Region"}),e.jsx("input",{type:"text",value:_.second_witness_region,onChange:ta,onFocus:()=>De("secondWitnessRegion"),placeholder:"Type to search"}),K==="secondWitnessRegion"&&D.secondWitnessRegion&&D.secondWitnessRegion.length>0&&e.jsx("div",{className:"location-dropdown",children:D.secondWitnessRegion.map((R,G)=>e.jsx("div",{onClick:()=>be(R),className:"location-dropdown-item",children:R},G))})]})]})]})]}),e.jsxs("div",{className:"client-marriage-requirements-container",children:[e.jsx("h2",{className:"client-marriage-requirements-title",children:"Requirements"}),e.jsxs("div",{className:"client-marriage-requirements-box",children:[e.jsx("h3",{className:"client-marriage-section-header",children:"Documents Needed"}),e.jsxs("div",{className:"client-marriage-info-list",children:[e.jsx("div",{className:"client-marriage-info-item",children:e.jsx("p",{children:"Baptismal Certificate"})}),e.jsx("div",{className:"client-marriage-info-item",children:e.jsx("p",{children:"Confirmation Certificate"})}),e.jsx("div",{className:"client-marriage-info-item",children:e.jsx("p",{children:"Birth Certificate"})}),e.jsx("div",{className:"client-marriage-info-item",children:e.jsx("p",{children:"Marriage License"})}),e.jsx("div",{className:"client-marriage-info-item",children:e.jsx("p",{children:"Certificate of No Marriage"})}),e.jsx("div",{className:"client-marriage-info-item",children:e.jsx("p",{children:"Publication of Banns"})}),e.jsx("div",{className:"client-marriage-info-item",children:e.jsx("p",{children:"Parish Permit from the Parish Priest"})}),e.jsx("div",{className:"client-marriage-info-item",children:e.jsx("p",{children:"Pre-Cana Seminar or Marriage Preparation Program"})}),e.jsx("div",{className:"client-marriage-info-item",children:e.jsx("p",{children:"Sponsors List"})}),e.jsx("div",{className:"client-marriage-info-item",children:e.jsx("p",{children:"Canonical Interview"})}),e.jsx("div",{className:"client-marriage-info-item",children:e.jsx("p",{children:"Certificate of Permission (if outside the Parish)"})})]}),e.jsx("h3",{className:"client-marriage-section-header",children:"Requirements for the Couple"}),e.jsxs("div",{className:"client-marriage-info-list",children:[e.jsx("div",{className:"client-marriage-info-item",children:e.jsx("p",{children:"Must be a baptized Catholic (at least one of the partners)"})}),e.jsx("div",{className:"client-marriage-info-item",children:e.jsx("p",{children:"Must have received the Sacrament of Confirmation"})}),e.jsx("div",{className:"client-marriage-info-item",children:e.jsx("p",{children:"Must undergo a Pre-Cana Seminar or Marriage Preparation Program"})}),e.jsx("div",{className:"client-marriage-info-item",children:e.jsx("p",{children:"Must be of legal age (as required by civil law)"})}),e.jsx("div",{className:"client-marriage-info-item",children:e.jsx("p",{children:"Must provide proof of freedom to marry (e.g., no previous valid marriage in the Church)"})})]}),e.jsx("h3",{className:"client-marriage-section-header",children:"Parish Requirements"}),e.jsxs("div",{className:"client-marriage-info-list",children:[e.jsx("div",{className:"client-marriage-info-item",children:e.jsx("p",{children:"Must schedule an interview with the parish priest"})}),e.jsx("div",{className:"client-marriage-info-item",children:e.jsx("p",{children:"Must submit all required documents at least 3 months before the wedding"})}),e.jsx("div",{className:"client-marriage-info-item",children:e.jsx("p",{children:"Must attend marriage banns (announcements made in the parish for three consecutive Sundays)"})}),e.jsx("div",{className:"client-marriage-info-item",children:e.jsx("p",{children:"Must choose sponsors (Ninong & Ninang) who are practicing Catholics"})})]}),e.jsx("h3",{className:"client-marriage-section-header",children:"Dress Code (If Specified by Parish)"}),e.jsxs("div",{className:"client-marriage-info-list",children:[e.jsx("div",{className:"client-marriage-info-item",children:e.jsx("p",{children:"Groom: Formal attire (barong or suit)"})}),e.jsx("div",{className:"client-marriage-info-item",children:e.jsx("p",{children:"Bride: Modest wedding gown (with sleeves or shawl for Church ceremony)"})}),e.jsx("div",{className:"client-marriage-info-item",children:e.jsx("p",{children:"Sponsors: Formal attire, respectful and modest"})})]})]})]}),e.jsxs("div",{className:"client-marriage-button-container",children:[e.jsx("button",{className:"client-marriage-submit-btn",onClick:Be,children:"Submit"}),e.jsx("button",{className:"client-marriage-cancel-btn",children:"Cancel"})]})]}),i&&e.jsx("div",{className:"client-marriage-modal-overlay",children:e.jsxs("div",{className:"client-marriage-modal",children:[e.jsx("h2",{children:"Submit Application"}),e.jsx("hr",{class:"custom-hr-b"}),e.jsx("p",{children:"Are you sure you want to submit your Holy Matrimony application?"}),e.jsxs("div",{className:"client-marriage-modal-buttons",children:[e.jsx("button",{className:"client-marriage-yes-btn",onClick:pe,children:"Yes"}),e.jsx("button",{className:"client-marriage-modal-no-btn",onClick:we,children:"No"})]})]})}),c&&e.jsx("div",{className:"client-marriage-modal-overlay",children:e.jsxs("div",{className:"client-marriage-modal",children:[e.jsx("h2",{children:"Success!"}),e.jsx("hr",{className:"custom-hr-b"}),e.jsx("p",{children:"Your marriage application has been submitted successfully."}),e.jsx("div",{className:"client-marriage-modal-buttons",children:e.jsx("button",{className:"client-marriage-yes-btn",onClick:ze,children:"OK"})})]})}),d&&e.jsx("div",{className:"client-marriage-modal-overlay",children:e.jsxs("div",{className:"client-marriage-modal",children:[e.jsx("h2",{children:"Error"}),e.jsx("hr",{className:"custom-hr-b"}),e.jsx("p",{children:u}),e.jsx("div",{className:"client-marriage-modal-buttons",children:e.jsx("button",{className:"client-marriage-modal-no-btn",onClick:Xe,children:"OK"})})]})}),x&&e.jsx("div",{className:"client-marriage-modal-overlay",children:e.jsxs("div",{className:"client-marriage-modal",children:[e.jsx("h2",{children:"Processing Application"}),e.jsx("hr",{className:"custom-hr-b"}),e.jsx("p",{children:"Please wait while we submit your Holy Matrimony application..."}),e.jsx("div",{className:"client-marriage-loading-spinner",children:e.jsx("div",{className:"client-marriage-spinner"})})]})})]})},ok=()=>{const a=oa(),t=Jt(),{clientID:s}=a.state||{},[i,r]=N.useState({date:"",time:"",first_name:"",middle_name:"",last_name:"",gender:"",age:"",dateOfBirth:"",dateOfBaptism:"",churchOfBaptism:"",placeOfBirth:"",birth_barangay:"",birth_municipality:"",birth_province:"",street:"",barangay:"",municipality:"",province:"",region:"",father_first_name:"",father_middle_name:"",father_last_name:"",father_dateOfBirth:"",father_placeOfBirth:"",father_birth_barangay:"",father_birth_municipality:"",father_birth_province:"",father_contact:"",mother_first_name:"",mother_middle_name:"",mother_last_name:"",mother_dateOfBirth:"",mother_placeOfBirth:"",mother_birth_barangay:"",mother_birth_municipality:"",mother_birth_province:"",mother_contact:""}),[c,A]=N.useState({baptism_cert:{file:null,status:"Not Submitted"},birth_cert:{file:null,status:"Not Submitted"},valid_ids:{file:null,status:"Not Submitted"}});N.useRef(null),N.useRef(null),N.useRef(null);const[d,h]=N.useState([]),[u,v]=N.useState(!0),[x,y]=N.useState(null),[p,F]=N.useState([]),[b,S]=N.useState({barangay:[],municipality:[],province:[],birth_barangay:[],birth_municipality:[],birth_province:[],father_birth_barangay:[],father_birth_municipality:[],father_birth_province:[],mother_birth_barangay:[],mother_birth_municipality:[],mother_birth_province:[],region:[]}),[f,O]=N.useState([]),[M,J]=N.useState([]),[K,H]=N.useState([]),[k,Y]=N.useState(!1),[D,ge]=N.useState(!1),[_,X]=N.useState(!1),[re,fe]=N.useState(""),[Ne,ue]=N.useState(!1),[_e,ce]=N.useState({}),[ye,Q]=N.useState(!1),[ne,U]=N.useState(null),V=async()=>{try{const Be=await aa.get("http://parishofdivinemercy.com/backend/get_location.php");Be.data.success&&h(Be.data.locations)}catch(Be){console.error("Error fetching locations:",Be)}finally{v(!1)}};N.useEffect(()=>{T(),V()},[]);const T=async()=>{try{const[Be,pe]=await Promise.all([fetch("http://parishofdivinemercy.com/backend/schedule.php"),fetch("http://parishofdivinemercy.com/backend/get_confirmation_applications.php")]),we=await Be.json(),ze=await pe.json();if(we.success){const Xe=we.schedules.filter(Ft=>Ft.sacramentType.toLowerCase()==="confirmation"),wt=new Set;ze.success&&ze.applications.forEach(Ft=>{const Aa=`${Ft.date}-${Ft.time}`;wt.add(Aa)});const yt=Xe.filter(Ft=>{const Aa=`${Ft.date}-${Ft.time}`;return!wt.has(Aa)});O(yt);const Qt=new Set,ta=[];yt.forEach(Ft=>{Qt.has(Ft.date)||(Qt.add(Ft.date),ta.push(Ft.date))}),J(ta)}}catch(Be){console.error("Error fetching confirmation schedules:",Be)}};N.useEffect(()=>{if(i.date){const Be=f.filter(we=>we.date===i.date).map(we=>we.time),pe=[...new Set(Be)];H(pe),pe.includes(i.time)||r(we=>({...we,time:""}))}else H([])},[i.date,f]);const ie=(Be,pe=null,we=null)=>{if(pe&&pe.trim()!==""){const Xe=d.filter(yt=>yt.municipality===pe),wt=[...new Set(Xe.map(yt=>yt.barangay))].sort();if(Be&&Be.trim()){const yt=Be.toLowerCase();return wt.filter(Qt=>Qt.toLowerCase().includes(yt))}return wt.slice(0,20)}if(we&&we.trim()!==""){const Xe=d.filter(yt=>yt.province===we),wt=[...new Set(Xe.map(yt=>yt.barangay))].sort();if(Be&&Be.trim()){const yt=Be.toLowerCase();return wt.filter(Qt=>Qt.toLowerCase().includes(yt))}return wt.slice(0,20)}if(!Be||!Be.trim())return[...new Set(d.map(Xe=>Xe.barangay))].sort().slice(0,10);const ze=Be.toLowerCase();return[...new Set(d.map(Xe=>Xe.barangay))].filter(Xe=>Xe.toLowerCase().includes(ze)).sort().slice(0,10)},ae=(Be,pe=null,we=null)=>{if(we&&we.trim()!==""){const Xe=d.filter(yt=>yt.barangay===we),wt=[...new Set(Xe.map(yt=>yt.municipality))].sort();if(Be&&Be.trim()){const yt=Be.toLowerCase();return wt.filter(Qt=>Qt.toLowerCase().includes(yt))}return wt}if(pe&&pe.trim()!==""){const Xe=d.filter(yt=>yt.province===pe),wt=[...new Set(Xe.map(yt=>yt.municipality))].sort();if(Be&&Be.trim()){const yt=Be.toLowerCase();return wt.filter(Qt=>Qt.toLowerCase().includes(yt))}return wt}if(!Be||!Be.trim())return[...new Set(d.map(Xe=>Xe.municipality))].sort().slice(0,10);const ze=Be.toLowerCase();return[...new Set(d.map(Xe=>Xe.municipality))].filter(Xe=>Xe.toLowerCase().includes(ze)).sort().slice(0,10)},P=(Be,pe=null,we=null)=>{if(pe&&pe.trim()!==""){const Xe=d.filter(yt=>yt.municipality===pe),wt=[...new Set(Xe.map(yt=>yt.province))].sort();if(Be&&Be.trim()){const yt=Be.toLowerCase();return wt.filter(Qt=>Qt.toLowerCase().includes(yt))}return wt}if(we&&we.trim()!==""){const Xe=d.filter(yt=>yt.barangay===we),wt=[...new Set(Xe.map(yt=>yt.province))].sort();if(Be&&Be.trim()){const yt=Be.toLowerCase();return wt.filter(Qt=>Qt.toLowerCase().includes(yt))}return wt}if(!Be||!Be.trim())return[...new Set(d.map(Xe=>Xe.province))].sort().slice(0,10);const ze=Be.toLowerCase();return[...new Set(d.map(Xe=>Xe.province))].filter(Xe=>Xe.toLowerCase().includes(ze)).sort().slice(0,10)},z=(Be="")=>{const pe=Be.toLowerCase(),we=["NCR - National Capital Region","CAR - Cordillera Administrative Region","Region I - Ilocos Region","Region II - Cagayan Valley","Region III - Central Luzon","Region IV-A - CALABARZON","Region IV-B - MIMAROPA","Region V - Bicol Region","Region VI - Western Visayas","Region VII - Central Visayas","Region VIII - Eastern Visayas","Region IX - Zamboanga Peninsula","Region X - Northern Mindanao","Region XI - Davao Region","Region XII - SOCCSKSARGEN","Region XIII - Caraga","BARMM - Bangsamoro Autonomous Region in Muslim Mindanao"];return Be?we.filter(ze=>ze.toLowerCase().includes(pe)):we},B=Be=>{const pe=Be.target.value;r(we=>({...we,barangay:pe})),x==="barangay"&&S(we=>({...we,barangay:ie(pe,i.municipality,i.province)}))},q=Be=>{const pe=Be.target.value;r(we=>({...we,municipality:pe})),x==="municipality"&&S(we=>({...we,municipality:ae(pe,i.province,i.barangay)}))},te=Be=>{const pe=Be.target.value;r(we=>({...we,province:pe})),x==="province"&&S(we=>({...we,province:P(pe,i.municipality,i.barangay)}))},he=Be=>{const pe=Be.target.value;r(we=>({...we,region:pe})),x==="region"&&S(we=>({...we,region:z(pe)}))},W=Be=>{r(pe=>({...pe,region:Be})),y(null)},C=Be=>{const pe=Be.target.value;r(we=>({...we,birth_barangay:pe})),x==="birth_barangay"&&S(we=>({...we,birth_barangay:ie(pe,i.birth_municipality,i.birth_province)}))},Z=Be=>{const pe=Be.target.value;r(we=>({...we,birth_municipality:pe})),x==="birth_municipality"&&S(we=>({...we,birth_municipality:ae(pe,i.birth_province,i.birth_barangay)}))},se=Be=>{const pe=Be.target.value;r(we=>({...we,birth_province:pe})),x==="birth_province"&&S(we=>({...we,birth_province:P(pe,i.birth_municipality,i.birth_barangay)}))},Se=Be=>{const pe=Be.target.value;r(we=>({...we,father_birth_barangay:pe})),x==="father_birth_barangay"&&S(we=>({...we,father_birth_barangay:ie(pe,i.father_birth_municipality,i.father_birth_province)}))},He=Be=>{const pe=Be.target.value;r(we=>({...we,father_birth_municipality:pe})),x==="father_birth_municipality"&&S(we=>({...we,father_birth_municipality:ae(pe,i.father_birth_province,i.father_birth_barangay)}))},Qe=Be=>{const pe=Be.target.value;r(we=>({...we,father_birth_province:pe})),x==="father_birth_province"&&S(we=>({...we,father_birth_province:P(pe,i.father_birth_municipality,i.father_birth_barangay)}))},qe=Be=>{const pe=Be.target.value;r(we=>({...we,mother_birth_barangay:pe})),x==="mother_birth_barangay"&&S(we=>({...we,mother_birth_barangay:ie(pe,i.mother_birth_municipality,i.mother_birth_province)}))},Ye=Be=>{const pe=Be.target.value;r(we=>({...we,mother_birth_municipality:pe})),x==="mother_birth_municipality"&&S(we=>({...we,mother_birth_municipality:ae(pe,i.mother_birth_province,i.mother_birth_barangay)}))},st=Be=>{const pe=Be.target.value;r(we=>({...we,mother_birth_province:pe})),x==="mother_birth_province"&&S(we=>({...we,mother_birth_province:P(pe,i.mother_birth_municipality,i.mother_birth_barangay)}))},kt=Be=>{r(we=>({...we,barangay:Be})),y(null);const pe=d.find(we=>we.barangay===Be);pe&&(i.municipality||r(we=>({...we,municipality:pe.municipality})),i.province||r(we=>({...we,province:pe.province})))},Mt=Be=>{r(ze=>({...ze,municipality:Be})),y(null);const pe=d.filter(ze=>ze.municipality===Be),we=[...new Set(pe.map(ze=>ze.province))];we.length===1&&!i.province&&r(ze=>({...ze,province:we[0]}))},ke=Be=>{r(pe=>({...pe,province:Be})),y(null)},$e=Be=>{r(we=>({...we,birth_barangay:Be})),y(null);const pe=d.find(we=>we.barangay===Be);pe&&(i.birth_municipality||r(we=>({...we,birth_municipality:pe.municipality})),i.birth_province||r(we=>({...we,birth_province:pe.province})))},Ae=Be=>{r(ze=>({...ze,birth_municipality:Be})),y(null);const pe=d.filter(ze=>ze.municipality===Be),we=[...new Set(pe.map(ze=>ze.province))];we.length===1&&!i.birth_province&&r(ze=>({...ze,birth_province:we[0]}))},Le=Be=>{r(pe=>({...pe,birth_province:Be})),y(null)},de=Be=>{r(we=>({...we,father_birth_barangay:Be})),y(null);const pe=d.find(we=>we.barangay===Be);pe&&(i.father_birth_municipality||r(we=>({...we,father_birth_municipality:pe.municipality})),i.father_birth_province||r(we=>({...we,father_birth_province:pe.province})))},Me=Be=>{r(ze=>({...ze,father_birth_municipality:Be})),y(null);const pe=d.filter(ze=>ze.municipality===Be),we=[...new Set(pe.map(ze=>ze.province))];we.length===1&&!i.father_birth_province&&r(ze=>({...ze,father_birth_province:we[0]}))},Ie=Be=>{r(pe=>({...pe,father_birth_province:Be})),y(null)},Ze=Be=>{r(we=>({...we,mother_birth_barangay:Be})),y(null);const pe=d.find(we=>we.barangay===Be);pe&&(i.mother_birth_municipality||r(we=>({...we,mother_birth_municipality:pe.municipality})),i.mother_birth_province||r(we=>({...we,mother_birth_province:pe.province})))},nt=Be=>{r(ze=>({...ze,mother_birth_municipality:Be})),y(null);const pe=d.filter(ze=>ze.municipality===Be),we=[...new Set(pe.map(ze=>ze.province))];we.length===1&&!i.mother_birth_province&&r(ze=>({...ze,mother_birth_province:we[0]}))},ot=Be=>{r(pe=>({...pe,mother_birth_province:Be})),y(null)},jt=Be=>{switch(y(Be),Be){case"barangay":S(pe=>({...pe,barangay:ie(i.barangay||"",i.municipality,i.province)}));break;case"municipality":S(pe=>({...pe,municipality:ae(i.municipality||"",i.province,i.barangay)}));break;case"province":S(pe=>({...pe,province:P(i.province||"",i.municipality,i.barangay)}));break;case"region":S(pe=>({...pe,region:z(i.region||"")}));break;case"birth_barangay":S(pe=>({...pe,birth_barangay:ie(i.birth_barangay||"",i.birth_municipality,i.birth_province)}));break;case"birth_municipality":S(pe=>({...pe,birth_municipality:ae(i.birth_municipality||"",i.birth_province,i.birth_barangay)}));break;case"birth_province":S(pe=>({...pe,birth_province:P(i.birth_province||"",i.birth_municipality,i.birth_barangay)}));break;case"father_birth_barangay":S(pe=>({...pe,father_birth_barangay:ie(i.father_birth_barangay||"",i.father_birth_municipality,i.father_birth_province)}));break;case"father_birth_municipality":S(pe=>({...pe,father_birth_municipality:ae(i.father_birth_municipality||"",i.father_birth_province,i.father_birth_barangay)}));break;case"father_birth_province":S(pe=>({...pe,father_birth_province:P(i.father_birth_province||"",i.father_birth_municipality,i.father_birth_barangay)}));break;case"mother_birth_barangay":S(pe=>({...pe,mother_birth_barangay:ie(i.mother_birth_barangay||"",i.mother_birth_municipality,i.mother_birth_province)}));break;case"mother_birth_municipality":S(pe=>({...pe,mother_birth_municipality:ae(i.mother_birth_municipality||"",i.mother_birth_province,i.mother_birth_barangay)}));break;case"mother_birth_province":S(pe=>({...pe,mother_birth_province:P(i.mother_birth_province||"",i.mother_birth_municipality,i.mother_birth_barangay)}));break}};N.useEffect(()=>{const Be=pe=>{const we=document.querySelectorAll(".location-dropdown-container");let ze=!0;we.forEach(Xe=>{Xe.contains(pe.target)&&(ze=!1)}),ze&&y(null)};return document.addEventListener("mousedown",Be),()=>{document.removeEventListener("mousedown",Be)}},[]);const ft=Be=>{const{name:pe,value:we}=Be.target;r(ze=>({...ze,[pe]:we}))},It=(Be,pe)=>{if(r(we=>({...we,[Be]:pe})),Be==="dateOfBirth"){const we=new Date,ze=new Date(pe);let Xe=we.getFullYear()-ze.getFullYear();const wt=we.getMonth()-ze.getMonth();(wt<0||wt===0&&we.getDate()<ze.getDate())&&Xe--,r(yt=>({...yt,age:Xe.toString()}))}},Ke=()=>{const Be={};return[{name:"date",label:"Date of Confirmation"},{name:"time",label:"Time of Confirmation"},{name:"first_name",label:"First Name"},{name:"last_name",label:"Last Name"},{name:"gender",label:"Gender"},{name:"dateOfBirth",label:"Date of Birth"},{name:"dateOfBaptism",label:"Date of Baptism"},{name:"churchOfBaptism",label:"Church of Baptism"},{name:"birth_barangay",label:"Birth Barangay"},{name:"birth_municipality",label:"Birth Municipality"},{name:"birth_province",label:"Birth Province"},{name:"barangay",label:"Barangay"},{name:"street",label:"Street"},{name:"municipality",label:"Municipality"},{name:"province",label:"Province"},{name:"father_first_name",label:"Father's First Name"},{name:"father_last_name",label:"Father's Last Name"},{name:"mother_first_name",label:"Mother's First Name"},{name:"mother_last_name",label:"Mother's Last Name"}].forEach(we=>{(!i[we.name]||i[we.name].trim()==="")&&(Be[we.name]=`${we.label} is required`)}),Be},it=async()=>{[i.birth_barangay,i.birth_municipality,i.birth_province].filter(Boolean).join(", "),[i.father_birth_barangay,i.father_birth_municipality,i.father_birth_province].filter(Boolean).join(", "),[i.mother_birth_barangay,i.mother_birth_municipality,i.mother_birth_province].filter(Boolean).join(", "),{...i};const Be=Ke();if(Object.keys(Be).length>0){ce(Be),Q(!0),setTimeout(()=>{const we=Object.keys(Be)[0],ze=document.querySelector(`[name="${we}"]`);ze&&(ze.scrollIntoView({behavior:"smooth",block:"center"}),U(ze))},100),fe("Please fill in all required fields"),X(!0);return}ce({}),Y(!0)},De=async()=>{ue(!0),Y(!1);try{const Be=Ft=>{if(!Ft)return"";try{if(/^\d{4}-\d{2}-\d{2}$/.test(Ft))return Ft;const Aa=new Date(Ft);return isNaN(Aa.getTime())?(console.error("Invalid date:",Ft),""):Aa.toISOString().split("T")[0]}catch(Aa){return console.error("Error formatting date:",Aa),""}},pe=[i.birth_barangay,i.birth_municipality,i.birth_province].filter(Boolean).join(", "),we=[i.father_birth_barangay,i.father_birth_municipality,i.father_birth_province].filter(Boolean).join(", "),ze=[i.mother_birth_barangay,i.mother_birth_municipality,i.mother_birth_province].filter(Boolean).join(", "),Xe={...i,placeOfBirth:pe,father_placeOfBirth:we,mother_placeOfBirth:ze,dateOfBirth:Be(i.dateOfBirth),dateOfBaptism:Be(i.dateOfBaptism),father_dateOfBirth:Be(i.father_dateOfBirth),mother_dateOfBirth:Be(i.mother_dateOfBirth)},wt=new FormData;wt.append("clientID",s),wt.append("applicationData",JSON.stringify(Xe)),wt.append("addressData",JSON.stringify({street:i.street,barangay:i.barangay,municipality:i.municipality,province:i.province,region:i.region})),wt.append("fatherData",JSON.stringify({first_name:Xe.father_first_name,middle_name:Xe.father_middle_name,last_name:Xe.father_last_name,placeOfBirth:we,dateOfBirth:Xe.father_dateOfBirth,contact_number:Xe.father_contact})),wt.append("motherData",JSON.stringify({first_name:Xe.mother_first_name,middle_name:Xe.mother_middle_name,last_name:Xe.mother_last_name,placeOfBirth:ze,dateOfBirth:Xe.mother_dateOfBirth,contact_number:Xe.mother_contact})),Object.keys(c).forEach(Ft=>{c[Ft].file&&wt.append(Ft,c[Ft].file),wt.append(`${Ft}_status`,c[Ft].status)}),console.log("Sending form data to backend...");const Qt=await(await fetch("http://parishofdivinemercy.com/backend/confirmation_application.php",{method:"POST",body:wt})).text();console.log("Raw response:",Qt);let ta;try{ta=JSON.parse(Qt)}catch{throw console.error("Failed to parse response as JSON:",Qt),new Error("Invalid response from server")}if(console.log("Parsed response:",ta),ue(!1),ta.success){console.log("Application submitted successfully, sending email...");try{const Aa=await(await fetch("http://parishofdivinemercy.com/backend/send_confirmation_email.php",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({clientID:s,confirmationData:{...Xe,address:{street:i.street,barangay:i.barangay,municipality:i.municipality,province:i.province,region:i.region},father:{firstName:i.father_first_name,middleName:i.father_middle_name,lastName:i.father_last_name,dateOfBirth:Xe.father_dateOfBirth,placeOfBirth:we,contact:i.father_contact},mother:{firstName:i.mother_first_name,middleName:i.mother_middle_name,lastName:i.mother_last_name,dateOfBirth:Xe.mother_dateOfBirth,placeOfBirth:ze,contact:i.mother_contact}}})})).text();console.log("Raw email response:",Aa);let Ue;try{Ue=JSON.parse(Aa),console.log("Parsed email response:",Ue)}catch{console.error("Failed to parse email response as JSON:",Aa)}}catch(Ft){console.error("Error sending email:",Ft)}ge(!0),setTimeout(()=>{t("/client-appointment")},2e3)}else console.error("Application submission failed:",ta.message),fe(ta.message||"Failed to submit application"),X(!0)}catch(Be){ue(!1),console.error("Error submitting form:",Be),fe(Be.message||"An error occurred while submitting your application. Please try again."),X(!0)}};return e.jsxs("div",{className:"client-kumpil-container",children:[e.jsx("div",{className:"client-kumpil-header",children:e.jsx("div",{className:"client-kumpil-left-section",children:e.jsxs("button",{className:"client-kumpil-back-button",onClick:()=>window.history.back(),children:[e.jsx(Oa,{className:"client-kumpil-back-icon"})," Back"]})})}),e.jsx("h1",{className:"client-kumpil-title",children:"Confirmation Application Form"}),e.jsxs("div",{className:"client-kumpil-data",children:[e.jsxs("div",{className:"client-kumpil-row-date",children:[e.jsxs("div",{className:"client-kumpil-field-date",children:[e.jsxs("label",{children:["Date of Appointment ",e.jsx("span",{className:"required-marker",children:"*"})]}),e.jsxs("select",{name:"date",value:i.date,onChange:Be=>r(pe=>({...pe,date:Be.target.value})),className:ye&&_e.date?"input-error":"",children:[e.jsx("option",{value:"",children:"Select Date"}),M.map(Be=>e.jsx("option",{value:Be,children:new Date(Be).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})},Be))]})]}),e.jsxs("div",{className:"client-kumpil-field-time",children:[e.jsxs("label",{children:["Time of Appointment ",e.jsx("span",{className:"required-marker",children:"*"})]}),e.jsxs("select",{name:"time",value:i.time,onChange:Be=>r(pe=>({...pe,time:Be.target.value})),disabled:!i.date,className:ye&&_e.time?"input-error":"",children:[e.jsx("option",{value:"",children:"Select Time"}),K.map(Be=>e.jsx("option",{value:Be,children:Be},Be))]})]})]}),e.jsxs("div",{className:"client-kumpil-bypart",children:[e.jsx("h3",{className:"client-kumpil-sub-title",children:"Personal Information"}),e.jsxs("div",{className:"client-kumpil-row",children:[e.jsxs("div",{className:`client-kumpil-field ${ye&&_e.first_name?"field-error":""}`,children:[e.jsxs("label",{children:["First Name ",e.jsx("span",{className:"required-marker",children:"*"})]}),e.jsx("input",{name:"first_name",value:i.first_name,onChange:ft,className:ye&&_e.first_name?"input-error":""})]}),e.jsxs("div",{className:"client-kumpil-field",children:[e.jsx("label",{children:"Middle Name"}),e.jsx("input",{name:"middle_name",value:i.middle_name,onChange:ft})]}),e.jsxs("div",{className:`client-kumpil-field ${ye&&_e.last_name?"field-error":""}`,children:[e.jsxs("label",{children:["Last Name ",e.jsx("span",{className:"required-marker",children:"*"})]}),e.jsx("input",{name:"last_name",value:i.last_name,onChange:ft,className:ye&&_e.last_name?"input-error":""})]}),e.jsxs("div",{className:`client-kumpil-field ${ye&&_e.dateOfBirth?"field-error":""}`,children:[e.jsxs("label",{children:["Date of Birth ",e.jsx("span",{className:"required-marker",children:"*"})]}),e.jsx("input",{name:"dateOfBirth",type:"date",onChange:Be=>It("dateOfBirth",Be.target.value),className:`date-input ${ye&&_e.dateOfBirth?"input-error":""}`})]})]}),e.jsxs("div",{className:"client-kumpil-row",children:[e.jsxs("div",{className:"client-kumpil-field",children:[e.jsx("label",{children:"Age"}),e.jsx("input",{name:"age",value:i.age,onChange:ft})]}),e.jsxs("div",{className:`client-kumpil-field ${ye&&_e.gender?"field-error":""}`,children:[e.jsxs("label",{children:["Gender ",e.jsx("span",{className:"required-marker",children:"*"})]}),e.jsxs("select",{name:"gender",value:i.gender,onChange:ft,className:ye&&_e.gender?"input-error":"",children:[e.jsx("option",{value:"",children:"Select"}),e.jsx("option",{value:"Male",children:"Male"}),e.jsx("option",{value:"Female",children:"Female"})]})]}),e.jsxs("div",{className:`client-kumpil-field ${ye&&_e.dateOfBaptism?"field-error":""}`,children:[e.jsxs("label",{children:["Date of Baptism ",e.jsx("span",{className:"required-marker",children:"*"})]}),e.jsx("input",{name:"dateOfBaptism",type:"date",onChange:Be=>It("dateOfBaptism",Be.target.value),className:`date-input ${ye&&_e.dateOfBaptism?"input-error":""}`})]}),e.jsxs("div",{className:`client-kumpil-field ${ye&&_e.churchOfBaptism?"field-error":""}`,children:[e.jsxs("label",{children:["Church of Baptism ",e.jsx("span",{className:"required-marker",children:"*"})]}),e.jsx("input",{name:"churchOfBaptism",value:i.churchOfBaptism,onChange:ft,className:ye&&_e.churchOfBaptism?"input-error":""})]})]}),e.jsxs("label",{className:"sub-cc",children:["Place of Birth ",e.jsx("span",{className:"required-marker",children:"*"})]}),e.jsxs("div",{className:"client-kumpil-row",children:[e.jsxs("div",{className:`client-kumpil-field location-dropdown-container ${ye&&_e.birth_barangay?"field-error":""}`,children:[e.jsxs("label",{children:["Birth Barangay ",e.jsx("span",{className:"required-marker",children:"*"})]}),e.jsx("input",{name:"birth_barangay",value:i.birth_barangay||"",onChange:C,onFocus:()=>jt("birth_barangay"),placeholder:"Type to search",autoComplete:"off",className:ye&&_e.birth_barangay?"input-error":""}),x==="birth_barangay"&&e.jsx("div",{className:"location-dropdown",children:b.birth_barangay&&b.birth_barangay.length>0?b.birth_barangay.map((Be,pe)=>e.jsx("div",{onClick:()=>$e(Be),className:"location-dropdown-item",children:Be},pe)):e.jsx("div",{className:"location-dropdown-item",children:"No barangays found"})})]}),e.jsxs("div",{className:`client-kumpil-field location-dropdown-container ${ye&&_e.birth_municipality?"field-error":""}`,children:[e.jsxs("label",{children:["Birth Municipality ",e.jsx("span",{className:"required-marker",children:"*"})]}),e.jsx("input",{name:"birth_municipality",value:i.birth_municipality||"",onChange:Z,onFocus:()=>jt("birth_municipality"),placeholder:"Type to search",autoComplete:"off",className:ye&&_e.birth_municipality?"input-error":""}),x==="birth_municipality"&&e.jsx("div",{className:"location-dropdown",children:b.birth_municipality&&b.birth_municipality.length>0?b.birth_municipality.map((Be,pe)=>e.jsx("div",{onClick:()=>Ae(Be),className:"location-dropdown-item",children:Be},pe)):e.jsx("div",{className:"location-dropdown-item",children:"No municipalities found"})})]}),e.jsxs("div",{className:`client-kumpil-field location-dropdown-container ${ye&&_e.birth_province?"field-error":""}`,children:[e.jsxs("label",{children:["Birth Province ",e.jsx("span",{className:"required-marker",children:"*"})]}),e.jsx("input",{name:"birth_province",value:i.birth_province||"",onChange:se,onFocus:()=>jt("birth_province"),placeholder:"Type to search",autoComplete:"off",className:ye&&_e.birth_province?"input-error":""}),x==="birth_province"&&e.jsx("div",{className:"location-dropdown",children:b.birth_province&&b.birth_province.length>0?b.birth_province.map((Be,pe)=>e.jsx("div",{onClick:()=>Le(Be),className:"location-dropdown-item",children:Be},pe)):e.jsx("div",{className:"location-dropdown-item",children:"No provinces found"})})]}),e.jsx("div",{className:"client-kumpil-field location-dropdown-container"})]}),e.jsxs("label",{className:"sub-cc",children:["Home Address ",e.jsx("span",{className:"required-marker",children:"*"})]}),e.jsxs("div",{className:"client-kumpil-row",children:[e.jsxs("div",{className:`client-kumpil-field ${ye&&_e.street?"field-error":""}`,children:[e.jsxs("label",{children:["Street ",e.jsx("span",{className:"required-marker",children:"*"})]}),e.jsx("input",{name:"street",value:i.street||"",onChange:Be=>r(pe=>({...pe,street:Be.target.value})),placeholder:"Street",autoComplete:"off",className:ye&&_e.street?"input-error":""})]}),e.jsxs("div",{className:`client-kumpil-field location-dropdown-container ${ye&&_e.barangay?"field-error":""}`,children:[e.jsxs("label",{children:["Barangay ",e.jsx("span",{className:"required-marker",children:"*"})]}),e.jsx("input",{name:"barangay",value:i.barangay||"",onChange:B,onFocus:()=>jt("barangay"),placeholder:"Type to search",autoComplete:"off",className:ye&&_e.barangay?"input-error":""}),x==="barangay"&&e.jsx("div",{className:"location-dropdown",children:b.barangay&&b.barangay.length>0?b.barangay.map((Be,pe)=>e.jsx("div",{onClick:()=>kt(Be),className:"location-dropdown-item",children:Be},pe)):e.jsx("div",{className:"location-dropdown-item",children:"No barangays found"})})]}),e.jsxs("div",{className:`client-kumpil-field location-dropdown-container ${ye&&_e.municipality?"field-error":""}`,children:[e.jsxs("label",{children:["Municipality ",e.jsx("span",{className:"required-marker",children:"*"})]}),e.jsx("input",{name:"municipality",value:i.municipality||"",onChange:q,onFocus:()=>jt("municipality"),placeholder:"Type to search",autoComplete:"off",className:ye&&_e.municipality?"input-error":""}),x==="municipality"&&e.jsx("div",{className:"location-dropdown",children:b.municipality&&b.municipality.length>0?b.municipality.map((Be,pe)=>e.jsx("div",{onClick:()=>Mt(Be),className:"location-dropdown-item",children:Be},pe)):e.jsx("div",{className:"location-dropdown-item",children:"No municipalities found"})})]}),e.jsxs("div",{className:`client-kumpil-field location-dropdown-container ${ye&&_e.province?"field-error":""}`,children:[e.jsxs("label",{children:["Province ",e.jsx("span",{className:"required-marker",children:"*"})]}),e.jsx("input",{name:"province",value:i.province||"",onChange:te,onFocus:()=>jt("province"),placeholder:"Type to search",autoComplete:"off",className:ye&&_e.province?"input-error":""}),x==="province"&&e.jsx("div",{className:"location-dropdown",children:b.province&&b.province.length>0?b.province.map((Be,pe)=>e.jsx("div",{onClick:()=>ke(Be),className:"location-dropdown-item",children:Be},pe)):e.jsx("div",{className:"location-dropdown-item",children:"No provinces found"})})]}),e.jsxs("div",{className:"client-kumpil-field location-dropdown-container",children:[e.jsx("label",{children:"Region"}),e.jsx("input",{name:"region",value:i.region||"",onChange:he,onFocus:()=>jt("region"),placeholder:"Type to search",autoComplete:"off"}),x==="region"&&e.jsx("div",{className:"location-dropdown",children:b.region&&b.region.length>0?b.region.map((Be,pe)=>e.jsx("div",{onClick:()=>W(Be),className:"location-dropdown-item",children:Be},pe)):e.jsx("div",{className:"location-dropdown-item",children:"No regions found"})})]})]}),e.jsx("h3",{className:"client-kumpil-sub-title",children:"Father's Information"}),e.jsxs("div",{className:"client-kumpil-row",children:[e.jsxs("div",{className:`client-kumpil-field ${ye&&_e.father_first_name?"field-error":""}`,children:[e.jsxs("label",{children:["Father's First Name ",e.jsx("span",{className:"required-marker",children:"*"})]}),e.jsx("input",{name:"father_first_name",value:i.father_first_name,onChange:ft,className:ye&&_e.father_first_name?"input-error":""})]}),e.jsxs("div",{className:"client-kumpil-field",children:[e.jsx("label",{children:"Father's Middle Name"}),e.jsx("input",{name:"father_middle_name",value:i.father_middle_name,onChange:ft})]}),e.jsxs("div",{className:`client-kumpil-field ${ye&&_e.father_last_name?"field-error":""}`,children:[e.jsxs("label",{children:["Father's Last Name ",e.jsx("span",{className:"required-marker",children:"*"})]}),e.jsx("input",{name:"father_last_name",value:i.father_last_name,onChange:ft,className:ye&&_e.father_last_name?"input-error":""})]})]}),e.jsxs("div",{className:"client-kumpil-row",children:[e.jsxs("div",{className:"client-kumpil-field",children:[e.jsx("label",{children:"Father's Date of Birth"}),e.jsx("input",{name:"father_dateOfBirth",type:"date",value:i.father_dateOfBirth||"",onChange:Be=>It("father_dateOfBirth",Be.target.value),className:"date-input"})]}),e.jsxs("div",{className:"client-kumpil-field",children:[e.jsx("label",{children:"Father's Contact Number"}),e.jsx("input",{name:"father_contact",value:i.father_contact,onChange:ft})]}),e.jsx("div",{className:"client-kumpil-field location-dropdown-container"})]}),e.jsx("label",{className:"sub-cc",children:"Father's Place of Birth"}),e.jsxs("div",{className:"client-kumpil-row",children:[e.jsxs("div",{className:"client-kumpil-field location-dropdown-container",children:[e.jsx("label",{children:"Father's Birth Barangay"}),e.jsx("input",{name:"father_birth_barangay",value:i.father_birth_barangay||"",onChange:Se,onFocus:()=>jt("father_birth_barangay"),placeholder:"Type to search",autoComplete:"off"}),x==="father_birth_barangay"&&e.jsx("div",{className:"location-dropdown",children:b.father_birth_barangay&&b.father_birth_barangay.length>0?b.father_birth_barangay.map((Be,pe)=>e.jsx("div",{onClick:()=>de(Be),className:"location-dropdown-item",children:Be},pe)):e.jsx("div",{className:"location-dropdown-item",children:"No barangays found"})})]}),e.jsxs("div",{className:"client-kumpil-field location-dropdown-container",children:[e.jsx("label",{children:"Father's Birth Municipality"}),e.jsx("input",{name:"father_birth_municipality",value:i.father_birth_municipality||"",onChange:He,onFocus:()=>jt("father_birth_municipality"),placeholder:"Type to search",autoComplete:"off"}),x==="father_birth_municipality"&&e.jsx("div",{className:"location-dropdown",children:b.father_birth_municipality&&b.father_birth_municipality.length>0?b.father_birth_municipality.map((Be,pe)=>e.jsx("div",{onClick:()=>Me(Be),className:"location-dropdown-item",children:Be},pe)):e.jsx("div",{className:"location-dropdown-item",children:"No municipalities found"})})]}),e.jsxs("div",{className:"client-kumpil-field location-dropdown-container",children:[e.jsx("label",{children:"Father's Birth Province"}),e.jsx("input",{name:"father_birth_province",value:i.father_birth_province||"",onChange:Qe,onFocus:()=>jt("father_birth_province"),placeholder:"Type to search",autoComplete:"off"}),x==="father_birth_province"&&e.jsx("div",{className:"location-dropdown",children:b.father_birth_province&&b.father_birth_province.length>0?b.father_birth_province.map((Be,pe)=>e.jsx("div",{onClick:()=>Ie(Be),className:"location-dropdown-item",children:Be},pe)):e.jsx("div",{className:"location-dropdown-item",children:"No provinces found"})})]})]}),e.jsx("h3",{className:"client-kumpil-sub-title",children:"Mother's Information"}),e.jsxs("div",{className:"client-kumpil-row",children:[e.jsxs("div",{className:`client-kumpil-field ${ye&&_e.mother_first_name?"field-error":""}`,children:[e.jsxs("label",{children:["Mother's First Name ",e.jsx("span",{className:"required-marker",children:"*"})]}),e.jsx("input",{name:"mother_first_name",value:i.mother_first_name,onChange:ft,className:ye&&_e.mother_first_name?"input-error":""})]}),e.jsxs("div",{className:"client-kumpil-field",children:[e.jsx("label",{children:"Mother's Middle Name"}),e.jsx("input",{name:"mother_middle_name",value:i.mother_middle_name,onChange:ft})]}),e.jsxs("div",{className:`client-kumpil-field ${ye&&_e.mother_last_name?"field-error":""}`,children:[e.jsxs("label",{children:["Mother's Last Name ",e.jsx("span",{className:"required-marker",children:"*"})]}),e.jsx("input",{name:"mother_last_name",value:i.mother_last_name,onChange:ft,className:ye&&_e.mother_last_name?"input-error":""})]})]}),e.jsxs("div",{className:"client-kumpil-row",children:[e.jsxs("div",{className:"client-kumpil-field",children:[e.jsx("label",{children:"Mother's Date of Birth"}),e.jsx("input",{name:"mother_dateOfBirth",type:"date",value:i.mother_dateOfBirth||"",onChange:Be=>It("mother_dateOfBirth",Be.target.value),className:"date-input"})]}),e.jsxs("div",{className:"client-kumpil-field",children:[e.jsx("label",{children:"Mother's Contact Number"}),e.jsx("input",{name:"mother_contact",value:i.mother_contact,onChange:ft})]}),e.jsx("div",{className:"client-kumpil-field location-dropdown-container"})]}),e.jsx("label",{className:"sub-cc",children:"Mother's Place of Birth"}),e.jsxs("div",{className:"client-kumpil-row",children:[e.jsxs("div",{className:"client-kumpil-field location-dropdown-container",children:[e.jsx("label",{children:"Mother's Birth Barangay"}),e.jsx("input",{name:"mother_birth_barangay",value:i.mother_birth_barangay||"",onChange:qe,onFocus:()=>jt("mother_birth_barangay"),placeholder:"Type to search",autoComplete:"off"}),x==="mother_birth_barangay"&&e.jsx("div",{className:"location-dropdown",children:b.mother_birth_barangay&&b.mother_birth_barangay.length>0?b.mother_birth_barangay.map((Be,pe)=>e.jsx("div",{onClick:()=>Ze(Be),className:"location-dropdown-item",children:Be},pe)):e.jsx("div",{className:"location-dropdown-item",children:"No barangays found"})})]}),e.jsxs("div",{className:"client-kumpil-field location-dropdown-container",children:[e.jsx("label",{children:"Mother's Birth Municipality"}),e.jsx("input",{name:"mother_birth_municipality",value:i.mother_birth_municipality||"",onChange:Ye,onFocus:()=>jt("mother_birth_municipality"),placeholder:"Type to search",autoComplete:"off"}),x==="mother_birth_municipality"&&e.jsx("div",{className:"location-dropdown",children:b.mother_birth_municipality&&b.mother_birth_municipality.length>0?b.mother_birth_municipality.map((Be,pe)=>e.jsx("div",{onClick:()=>nt(Be),className:"location-dropdown-item",children:Be},pe)):e.jsx("div",{className:"location-dropdown-item",children:"No municipalities found"})})]}),e.jsxs("div",{className:"client-kumpil-field location-dropdown-container",children:[e.jsx("label",{children:"Mother's Birth Province"}),e.jsx("input",{name:"mother_birth_province",value:i.mother_birth_province||"",onChange:st,onFocus:()=>jt("mother_birth_province"),placeholder:"Type to search",autoComplete:"off"}),x==="mother_birth_province"&&e.jsx("div",{className:"location-dropdown",children:b.mother_birth_province&&b.mother_birth_province.length>0?b.mother_birth_province.map((Be,pe)=>e.jsx("div",{onClick:()=>ot(Be),className:"location-dropdown-item",children:Be},pe)):e.jsx("div",{className:"location-dropdown-item",children:"No provinces found"})})]})]})]}),e.jsxs("div",{className:"client-kumpil-requirements-container",children:[e.jsx("h2",{className:"client-kumpil-requirements-title",children:"Requirements"}),e.jsxs("div",{className:"client-kumpil-requirements-box",children:[e.jsx("h3",{className:"client-kumpil-section-header",children:"Requirements Documents(Bring the following documents)"}),e.jsxs("div",{className:"client-kumpil-info-list",children:[e.jsx("div",{className:"client-kumpil-info-item",children:e.jsx("p",{children:"Baptismal Certificate"})}),e.jsx("div",{className:"client-kumpil-info-item",children:e.jsx("p",{children:"Birth Certificate"})}),e.jsx("div",{className:"client-kumpil-info-item",children:e.jsx("p",{children:"Valid ID for the candidate"})}),e.jsx("div",{className:"client-kumpil-info-item",children:e.jsx("p",{children:"Certificate of Permission(if the candidate is not a resident of the parish)"})})]}),e.jsx("h3",{className:"client-kumpil-section-header",children:"Requirements for Candidate"}),e.jsxs("div",{className:"client-kumpil-info-list",children:[e.jsx("div",{className:"client-kumpil-info-item",children:e.jsx("p",{children:"Must have received the Sacraments of Baptism and Holy Eucharist"})}),e.jsx("div",{className:"client-kumpil-info-item",children:e.jsx("p",{children:"Must be at least 12 years old (Age requirement may vary by parish)"})}),e.jsx("div",{className:"client-kumpil-info-item",children:e.jsx("p",{children:"Must attend Catechism Classes or Confirmation Seminar"})}),e.jsx("div",{className:"client-kumpil-info-item",children:e.jsx("p",{children:"Must receive the Sacrament of Confession before Confirmation"})}),e.jsx("div",{className:"client-kumpil-info-item",children:e.jsx("p",{children:"Must attend a Confirmation Retreat (if required by parish)"})})]})]})]}),e.jsxs("div",{className:"client-kumpil-button-container",children:[e.jsx("button",{className:"client-kumpil-submit-btn",onClick:it,children:"Submit"}),e.jsx("button",{className:"client-kumpil-cancel-btn",children:"Cancel"})]})]}),k&&e.jsx("div",{className:"client-kumpil-modal-overlay",children:e.jsxs("div",{className:"client-kumpil-modal",children:[e.jsx("h2",{children:"Submit Application"}),e.jsx("p",{children:"Are you sure you want to submit your Confirmation application?"}),e.jsxs("div",{className:"client-kumpil-modal-buttons",children:[e.jsx("button",{className:"client-kumpil-yes-btn",onClick:De,children:"Yes"}),e.jsx("button",{className:"client-kumpil-modal-no-btn",onClick:()=>Y(!1),children:"No"})]})]})}),D&&e.jsx("div",{className:"client-kumpil-modal-overlay",children:e.jsxs("div",{className:"client-kumpil-modal",children:[e.jsx("h2",{children:"Success"}),e.jsx("p",{children:"Your Confirmation application has been submitted successfully!"}),e.jsx("div",{className:"client-kumpil-modal-buttons",children:e.jsx("button",{className:"client-kumpil-yes-btn",onClick:()=>ge(!1),children:"OK"})})]})}),_&&e.jsx("div",{className:"client-kumpil-modal-overlay",children:e.jsxs("div",{className:"client-kumpil-modal",children:[e.jsx("h2",{children:"Error"}),e.jsx("p",{children:re}),e.jsx("div",{className:"client-kumpil-modal-buttons",children:e.jsx("button",{className:"client-kumpil-modal-no-btn",onClick:()=>X(!1),children:"OK"})})]})}),Ne&&e.jsx("div",{className:"client-kumpil-modal-overlay",children:e.jsxs("div",{className:"client-kumpil-modal",children:[e.jsx("h2",{children:"Processing Application"}),e.jsx("p",{children:"Please wait while we submit your confirmation application..."}),e.jsx("div",{className:"client-kumpil-loading-spinner",children:e.jsx("div",{className:"client-kumpil-spinner"})})]})})]})},Ak=()=>{const a=oa(),t=Jt(),{clientID:s}=a.state||{};console.log("Received clientID:",s);const[i,r]=N.useState({date:"",time:"",first_name:"",middle_name:"",last_name:"",gender:"",age:"",dateOfBirth:"",dateOfBaptism:"",churchOfBaptism:"",placeOfBirth:"",street:"",barangay:"",municipality:"",province:"",region:"",father_first_name:"",father_middle_name:"",father_last_name:"",father_dateOfBirth:"",father_placeOfBirth:"",father_contact:"",mother_first_name:"",mother_middle_name:"",mother_last_name:"",mother_dateOfBirth:"",mother_placeOfBirth:"",mother_contact:""}),[c,A]=N.useState({barangay:"",municipality:"",province:""}),[d,h]=N.useState({barangay:"",municipality:"",province:""}),[u,v]=N.useState({barangay:"",municipality:"",province:""}),[x,y]=N.useState({baptism_cert:{file:null,status:"Not Submitted"},first_communion_cert:{file:null,status:"Not Submitted"},birth_cert:{file:null,status:"Not Submitted"}});N.useRef(null),N.useRef(null),N.useRef(null);const[p,F]=N.useState([]),[b,S]=N.useState(!0),[f,O]=N.useState(null),[M,J]=N.useState({barangay:[],municipality:[],province:[],birthBarangay:[],birthMunicipality:[],birthProvince:[],fatherBirthBarangay:[],fatherBirthMunicipality:[],fatherBirthProvince:[],motherBirthBarangay:[],motherBirthMunicipality:[],motherBirthProvince:[],region:[]}),[K,H]=N.useState([]),[k,Y]=N.useState([]),[D,ge]=N.useState([]),[_,X]=N.useState([]),[re,fe]=N.useState([]),[Ne,ue]=N.useState([]),[_e,ce]=N.useState(!1),[ye,Q]=N.useState(!1),[ne,U]=N.useState(!1),[V,T]=N.useState(""),[ie,ae]=N.useState(!1),[P,z]=N.useState({}),[B,q]=N.useState(!1),[te,he]=N.useState(null),W=async()=>{try{const G=await aa.get("http://parishofdivinemercy.com/backend/get_location.php");G.data.success&&F(G.data.locations)}catch(G){console.error("Error fetching locations:",G)}finally{S(!1)}};N.useEffect(()=>{C(),Z(),W()},[]);const C=async()=>{try{const[G,oe]=await Promise.all([fetch("http://parishofdivinemercy.com/backend/schedule.php"),fetch("http://parishofdivinemercy.com/backend/get_communion_applications.php")]),ee=await G.json(),me=await oe.json();if(ee.success){const $=ee.schedules.filter(Ct=>Ct.sacramentType.toLowerCase()==="communion");me.success&&ue(me.applications);const ve=new Set;me.success&&me.applications.forEach(Ct=>{ve.add(`${Ct.date}-${Ct.time}`)});const Pe=$.filter(Ct=>{const Kt=`${Ct.date}-${Ct.time}`;return!ve.has(Kt)});H(Pe);const We=new Set,ut=[];Pe.forEach(Ct=>{We.has(Ct.date)||(We.add(Ct.date),ut.push(Ct.date))}),ge(ut)}}catch(G){console.error("Error fetching communion schedules:",G)}},Z=async()=>{try{const oe=await(await fetch("http://parishofdivinemercy.com/backend/parish.php")).json();oe.success&&Y(oe.parishes)}catch(G){console.error("Error fetching priests:",G)}};N.useEffect(()=>{if(i.date){const G=K.filter(ee=>ee.date===i.date).map(ee=>ee.time),oe=[...new Set(G)];X(oe),oe.includes(i.time)||r(ee=>({...ee,time:""}))}else X([])},[i.date,K]),N.useEffect(()=>{if(i.date&&i.time){const G=K.filter(ee=>ee.date===i.date&&ee.time===i.time).map(ee=>ee.parishName),oe=[...new Set(G)];fe(oe),oe.includes(i.priest)||r(ee=>({...ee,priest:""}))}else fe([])},[i.date,i.time,K]);const se=(G,oe=null,ee=null)=>{if(oe&&oe.trim()!==""){const $=p.filter(Pe=>Pe.municipality===oe),ve=[...new Set($.map(Pe=>Pe.barangay))].sort();if(G&&G.trim()){const Pe=G.toLowerCase();return ve.filter(We=>We.toLowerCase().includes(Pe))}return ve}if(ee&&ee.trim()!==""){const $=p.filter(Pe=>Pe.province===ee),ve=[...new Set($.map(Pe=>Pe.barangay))].sort();if(G&&G.trim()){const Pe=G.toLowerCase();return ve.filter(We=>We.toLowerCase().includes(Pe))}return ve}if(!G||!G.trim())return[...new Set(p.map($=>$.barangay))].sort().slice(0,10);const me=G.toLowerCase();return[...new Set(p.map($=>$.barangay))].filter($=>$.toLowerCase().includes(me)).sort().slice(0,10)},Se=(G,oe=null,ee=null)=>{if(ee&&ee.trim()!==""){const $=p.filter(Pe=>Pe.barangay===ee),ve=[...new Set($.map(Pe=>Pe.municipality))].sort();if(G&&G.trim()){const Pe=G.toLowerCase();return ve.filter(We=>We.toLowerCase().includes(Pe))}return ve}if(oe&&oe.trim()!==""){const $=p.filter(Pe=>Pe.province===oe),ve=[...new Set($.map(Pe=>Pe.municipality))].sort();if(G&&G.trim()){const Pe=G.toLowerCase();return ve.filter(We=>We.toLowerCase().includes(Pe))}return ve}if(!G||!G.trim())return[...new Set(p.map($=>$.municipality))].sort().slice(0,10);const me=G.toLowerCase();return[...new Set(p.map($=>$.municipality))].filter($=>$.toLowerCase().includes(me)).sort().slice(0,10)},He=(G,oe=null,ee=null)=>{if(oe&&oe.trim()!==""){const $=p.filter(Pe=>Pe.municipality===oe),ve=[...new Set($.map(Pe=>Pe.province))].sort();if(G&&G.trim()){const Pe=G.toLowerCase();return ve.filter(We=>We.toLowerCase().includes(Pe))}return ve}if(ee&&ee.trim()!==""){const $=p.filter(Pe=>Pe.barangay===ee),ve=[...new Set($.map(Pe=>Pe.province))].sort();if(G&&G.trim()){const Pe=G.toLowerCase();return ve.filter(We=>We.toLowerCase().includes(Pe))}return ve}if(!G||!G.trim())return[...new Set(p.map($=>$.province))].sort().slice(0,10);const me=G.toLowerCase();return[...new Set(p.map($=>$.province))].filter($=>$.toLowerCase().includes(me)).sort().slice(0,10)},Qe=(G="")=>{const oe=G.toLowerCase(),ee=["NCR - National Capital Region","CAR - Cordillera Administrative Region","Region I - Ilocos Region","Region II - Cagayan Valley","Region III - Central Luzon","Region IV-A - CALABARZON","Region IV-B - MIMAROPA","Region V - Bicol Region","Region VI - Western Visayas","Region VII - Central Visayas","Region VIII - Eastern Visayas","Region IX - Zamboanga Peninsula","Region X - Northern Mindanao","Region XI - Davao Region","Region XII - SOCCSKSARGEN","Region XIII - Caraga","BARMM - Bangsamoro Autonomous Region in Muslim Mindanao"];return!G||!G.trim()?ee.slice(0,10):ee.filter(me=>me.toLowerCase().includes(oe)).slice(0,10)},qe=G=>{const oe=G.barangay!==void 0?G.barangay:c.barangay,ee=G.municipality!==void 0?G.municipality:c.municipality,me=G.province!==void 0?G.province:c.province;let $=[];oe&&$.push(oe),ee&&$.push(ee),me&&$.push(me);const ve=$.join(", ");ve&&r(Pe=>({...Pe,placeOfBirth:ve}))},Ye=G=>{const oe=G.barangay!==void 0?G.barangay:d.barangay,ee=G.municipality!==void 0?G.municipality:d.municipality,me=G.province!==void 0?G.province:d.province;let $=[];oe&&$.push(oe),ee&&$.push(ee),me&&$.push(me);const ve=$.join(", ");ve&&r(Pe=>({...Pe,father_placeOfBirth:ve}))},st=G=>{const oe=G.barangay!==void 0?G.barangay:u.barangay,ee=G.municipality!==void 0?G.municipality:u.municipality,me=G.province!==void 0?G.province:u.province;let $=[];oe&&$.push(oe),ee&&$.push(ee),me&&$.push(me);const ve=$.join(", ");ve&&r(Pe=>({...Pe,mother_placeOfBirth:ve}))},kt=G=>{const oe=G.target.value,ee={...c,barangay:oe};A(ee),qe(ee),f==="birthBarangay"&&J(me=>({...me,birthBarangay:se(oe,c.municipality,c.province)}))},Mt=G=>{const oe=G.target.value,ee={...c,municipality:oe};A(ee),qe(ee),f==="birthMunicipality"&&J(me=>({...me,birthMunicipality:Se(oe,c.province,c.barangay)}))},ke=G=>{const oe=G.target.value,ee={...c,province:oe};A(ee),qe(ee),f==="birthProvince"&&J(me=>({...me,birthProvince:He(oe)}))},$e=G=>{const oe={...c,barangay:G};A(oe),qe(oe),O(null);const ee=p.find(me=>me.barangay===G);if(ee){const me={...oe};let $=!1;!oe.municipality&&ee.municipality&&(me.municipality=ee.municipality,$=!0),!oe.province&&ee.province&&(me.province=ee.province,$=!0),$&&(A(me),qe(me))}},Ae=G=>{const oe={...c,municipality:G};A(oe),qe(oe),O(null);const ee=p.filter($=>$.municipality===G),me=[...new Set(ee.map($=>$.province))];if(me.length===1&&!c.province){const $={...oe,province:me[0]};A($),qe($)}},Le=G=>{const oe={...c,province:G};A(oe),qe(oe),O(null)},de=G=>{const oe=G.target.value,ee={...d,barangay:oe};h(ee),Ye(ee),f==="fatherBirthBarangay"&&J(me=>({...me,fatherBirthBarangay:se(oe,d.municipality,d.province)}))},Me=G=>{const oe=G.target.value,ee={...d,municipality:oe};h(ee),Ye(ee),f==="fatherBirthMunicipality"&&J(me=>({...me,fatherBirthMunicipality:Se(oe,d.province,d.barangay)}))},Ie=G=>{const oe=G.target.value,ee={...d,province:oe};h(ee),Ye(ee),f==="fatherBirthProvince"&&J(me=>({...me,fatherBirthProvince:He(oe)}))},Ze=G=>{const oe={...d,barangay:G};h(oe),Ye(oe),O(null);const ee=p.find(me=>me.barangay===G);if(ee){const me={...oe};let $=!1;!oe.municipality&&ee.municipality&&(me.municipality=ee.municipality,$=!0),!oe.province&&ee.province&&(me.province=ee.province,$=!0),$&&(h(me),Ye(me))}},nt=G=>{const oe={...d,municipality:G};h(oe),Ye(oe);const ee=p.find(me=>me.municipality===G);if(ee&&!d.province){const me={...oe,province:ee.province};h(me),Ye(me)}O(null)},ot=G=>{const oe={...d,province:G};h(oe),Ye(oe),O(null)},jt=G=>{const oe=G.target.value,ee={...u,barangay:oe};v(ee),st(ee),f==="motherBirthBarangay"&&J(me=>({...me,motherBirthBarangay:se(oe,u.municipality,u.province)}))},ft=G=>{const oe=G.target.value,ee={...u,municipality:oe};v(ee),st(ee),f==="motherBirthMunicipality"&&J(me=>({...me,motherBirthMunicipality:Se(oe,u.province,u.barangay)}))},It=G=>{const oe=G.target.value,ee={...u,province:oe};v(ee),st(ee),f==="motherBirthProvince"&&J(me=>({...me,motherBirthProvince:He(oe)}))},Ke=G=>{const oe={...u,barangay:G};v(oe),st(oe),O(null);const ee=p.find(me=>me.barangay===G);if(ee){const me={...oe};let $=!1;!oe.municipality&&ee.municipality&&(me.municipality=ee.municipality,$=!0),!oe.province&&ee.province&&(me.province=ee.province,$=!0),$&&(v(me),st(me))}},it=G=>{const oe={...u,municipality:G};v(oe),st(oe);const ee=p.find(me=>me.municipality===G);if(ee&&!u.province){const me={...oe,province:ee.province};v(me),st(me)}O(null)},De=G=>{const oe={...u,province:G};v(oe),st(oe),O(null)},Be=G=>{const oe=G.target.value;r(ee=>({...ee,region:oe})),f==="region"&&J(ee=>({...ee,region:Qe(oe)}))},pe=G=>{r(oe=>({...oe,region:G})),O(null)},we=G=>{switch(O(G),G){case"birthBarangay":J(oe=>({...oe,birthBarangay:se(c.barangay,c.municipality,c.province)}));break;case"birthMunicipality":J(oe=>({...oe,birthMunicipality:Se(c.municipality,c.province)}));break;case"birthProvince":J(oe=>({...oe,birthProvince:He(c.province)}));break;case"fatherBirthBarangay":J(oe=>({...oe,fatherBirthBarangay:se(d.barangay,d.municipality,d.province)}));break;case"fatherBirthMunicipality":J(oe=>({...oe,fatherBirthMunicipality:Se(d.municipality,d.province)}));break;case"fatherBirthProvince":J(oe=>({...oe,fatherBirthProvince:He(d.province)}));break;case"motherBirthBarangay":J(oe=>({...oe,motherBirthBarangay:se(u.barangay,u.municipality,u.province)}));break;case"motherBirthMunicipality":J(oe=>({...oe,motherBirthMunicipality:Se(u.municipality,u.province)}));break;case"motherBirthProvince":J(oe=>({...oe,motherBirthProvince:He(u.province)}));break;case"barangay":J(oe=>({...oe,barangay:se(i.barangay||"",i.municipality,i.province)}));break;case"municipality":J(oe=>({...oe,municipality:Se(i.municipality||"",i.province)}));break;case"province":J(oe=>({...oe,province:He(i.province||"")}));break;case"region":J(oe=>({...oe,region:Qe(i.region||"")}));break;case"father_region":J(oe=>({...oe,father_region:Qe(i.father_region||"")}));break;case"mother_region":J(oe=>({...oe,mother_region:Qe(i.mother_region||"")}));break;case"pob_region":J(oe=>({...oe,pob_region:Qe(i.pob_region||"")}));break}};N.useEffect(()=>{const G=oe=>{const ee=document.querySelectorAll(".location-dropdown-container");let me=!0;ee.forEach($=>{$.contains(oe.target)&&(me=!1)}),me&&O(null)};return document.addEventListener("mousedown",G),()=>{document.removeEventListener("mousedown",G)}},[]);const ze=(G,oe)=>{if(r(ee=>({...ee,[G]:oe})),G==="dateOfBirth"){const ee=new Date,me=new Date(oe);let $=ee.getFullYear()-me.getFullYear();const ve=ee.getMonth()-me.getMonth();(ve<0||ve===0&&ee.getDate()<me.getDate())&&$--,r(Pe=>({...Pe,age:$.toString()}))}},Xe=G=>{const{name:oe,value:ee}=G.target;r(me=>({...me,[oe]:ee}))},wt=G=>{const oe=G.target.value;r(ee=>({...ee,barangay:oe})),f==="barangay"&&J(ee=>({...ee,barangay:se(oe,i.municipality,i.province)}))},yt=G=>{const oe=G.target.value;r(ee=>({...ee,municipality:oe})),f==="municipality"&&J(ee=>({...ee,municipality:Se(oe,i.province,i.barangay)}))},Qt=G=>{const oe=G.target.value;r(ee=>({...ee,province:oe})),f==="province"&&J(ee=>({...ee,province:He(oe)}))},ta=G=>{r(ee=>({...ee,barangay:G})),O(null);const oe=p.find(ee=>ee.barangay===G);oe&&(i.municipality||r(ee=>({...ee,municipality:oe.municipality})),i.province||r(ee=>({...ee,province:oe.province})))},Ft=G=>{r(me=>({...me,municipality:G})),O(null);const oe=p.filter(me=>me.municipality===G),ee=[...new Set(oe.map(me=>me.province))];ee.length===1&&!i.province&&r(me=>({...me,province:ee[0]}))},Aa=G=>{r(oe=>({...oe,province:G})),O(null)},Ue=()=>{const G={};return[{name:"date",label:"Date of Holy Communion"},{name:"time",label:"Time of Holy Communion"},{name:"first_name",label:"First Name"},{name:"last_name",label:"Last Name"},{name:"gender",label:"Gender"},{name:"dateOfBirth",label:"Date of Birth"},{name:"dateOfBaptism",label:"Date of Baptism"},{name:"churchOfBaptism",label:"Church of Baptism"},{name:"placeOfBirth",label:"Place of Birth"},{name:"barangay",label:"Barangay"},{name:"street",label:"Street"},{name:"municipality",label:"Municipality"},{name:"province",label:"Province"},{name:"father_first_name",label:"Father's First Name"},{name:"father_last_name",label:"Father's Last Name"},{name:"mother_first_name",label:"Mother's First Name"},{name:"mother_last_name",label:"Mother's Last Name"}].forEach(ee=>{(!i[ee.name]||i[ee.name].trim()==="")&&(G[ee.name]=`${ee.label} is required`)}),G},be=()=>{const G=Ue();if(Object.keys(G).length>0){z(G),q(!0),setTimeout(()=>{const ve=Object.keys(G)[0],Pe=document.querySelector(`[name="${ve}"]`);Pe&&(Pe.scrollIntoView({behavior:"smooth",block:"center"}),he(Pe))},100);return}const ee=i.date,me=i.time;if(Ne.find(ve=>ve.date===ee&&ve.time===me)){T("This schedule is already booked. Please select a different date or time."),U(!0);return}ce(!0)},R=async()=>{ce(!1),ae(!0),console.log("Starting form submission...");try{const G=new FormData;G.append("clientID",s),G.append("applicationData",JSON.stringify(i)),G.append("addressData",JSON.stringify({street:i.street,barangay:i.barangay,municipality:i.municipality,province:i.province,region:i.region})),G.append("fatherData",JSON.stringify({first_name:i.father_first_name,middle_name:i.father_middle_name,last_name:i.father_last_name,dateOfBirth:i.father_dateOfBirth,placeOfBirth:i.father_placeOfBirth,contact_number:i.father_contact})),G.append("motherData",JSON.stringify({first_name:i.mother_first_name,middle_name:i.mother_middle_name,last_name:i.mother_last_name,dateOfBirth:i.mother_dateOfBirth,placeOfBirth:i.mother_placeOfBirth,contact_number:i.mother_contact})),Object.keys(x).forEach($=>{x[$].file&&G.append($,x[$].file),G.append(`${$}_status`,x[$].status)}),console.log("Sending form data to backend...");const ee=await(await fetch("http://parishofdivinemercy.com/backend/communion_application.php",{method:"POST",body:G})).text();console.log("Raw response:",ee);let me;try{me=JSON.parse(ee)}catch{throw console.error("Failed to parse response as JSON:",ee),new Error("Invalid response from server")}if(console.log("Parsed response:",me),me.success){console.log("Application submitted successfully, sending email...");try{const ve=await(await fetch("http://parishofdivinemercy.com/backend/send_communion_email.php",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({clientID:s,communionData:{...i,date:i.date,time:i.time,firstName:i.first_name,middleName:i.middle_name,lastName:i.last_name,gender:i.gender,age:i.age,dateOfBirth:i.dateOfBirth,dateOfBaptism:i.dateOfBaptism,churchOfBaptism:i.churchOfBaptism,placeOfBirth:i.placeOfBirth,address:{street:i.street,barangay:i.barangay,municipality:i.municipality,province:i.province,region:i.region},father:{firstName:i.father_first_name,middleName:i.father_middle_name,lastName:i.father_last_name,dateOfBirth:i.father_dateOfBirth,placeOfBirth:i.father_placeOfBirth,contact:i.father_contact},mother:{firstName:i.mother_first_name,middleName:i.mother_middle_name,lastName:i.mother_last_name,dateOfBirth:i.mother_dateOfBirth,placeOfBirth:i.mother_placeOfBirth,contact:i.mother_contact}}})})).text();console.log("Raw email response:",ve);let Pe;try{Pe=JSON.parse(ve),console.log("Parsed email response:",Pe)}catch{console.error("Failed to parse email response as JSON:",ve)}}catch($){console.error("Error sending email:",$)}Q(!0),ae(!1),setTimeout(()=>{t("/client-appointment")},2e3)}else console.error("Application submission failed:",me.message),T(me.message||"Failed to submit application"),U(!0),ae(!1)}catch(G){console.error("Error submitting form:",G),T(G.message||"Error submitting application"),U(!0),ae(!1)}};return e.jsxs("div",{className:"client-communion-container",children:[e.jsx("div",{className:"client-communion-header",children:e.jsx("div",{className:"client-communion-left-section",children:e.jsxs("button",{className:"client-communion-back-button",onClick:()=>window.history.back(),children:[e.jsx(Oa,{className:"client-communion-back-icon"})," Back"]})})}),e.jsx("h1",{className:"client-communion-title",children:"Holy Communion Application Form"}),e.jsxs("div",{className:"client-communion-data",children:[e.jsxs("div",{className:"client-communion-row-date",children:[e.jsxs("div",{className:"client-communion-field-date",children:[e.jsxs("label",{children:["Date of Appointment ",e.jsx("span",{className:"required-marker",children:"*"})]}),e.jsxs("select",{name:"date",value:i.date,onChange:G=>r(oe=>({...oe,date:G.target.value})),className:B&&P.date?"input-error":"",children:[e.jsx("option",{value:"",children:"Select Date"}),D.map(G=>e.jsx("option",{value:G,children:new Date(G).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})},G))]})]}),e.jsxs("div",{className:"client-communion-field-time",children:[e.jsxs("label",{children:["Time of Appointment ",e.jsx("span",{className:"required-marker",children:"*"})]}),e.jsxs("select",{name:"time",value:i.time,onChange:G=>r(oe=>({...oe,time:G.target.value})),disabled:!i.date,className:B&&P.time?"input-error":"",children:[e.jsx("option",{value:"",children:"Select Time"}),_.map(G=>e.jsx("option",{value:G,children:G},G))]})]})]}),e.jsxs("div",{className:"client-communion-bypart",children:[e.jsx("h3",{className:"client-communion-sub-title",children:"Personal Information"}),e.jsxs("div",{className:"client-communion-row",children:[e.jsxs("div",{className:`client-communion-field ${B&&P.first_name?"field-error":""}`,children:[e.jsxs("label",{children:["First Name ",e.jsx("span",{className:"required-marker",children:"*"})]}),e.jsx("input",{name:"first_name",value:i.first_name,onChange:Xe,className:B&&P.first_name?"input-error":""})]}),e.jsxs("div",{className:"client-communion-field",children:[e.jsx("label",{children:"Middle Name"}),e.jsx("input",{name:"middle_name",value:i.middle_name,onChange:Xe})]}),e.jsxs("div",{className:`client-communion-field ${B&&P.last_name?"field-error":""}`,children:[e.jsxs("label",{children:["Last Name ",e.jsx("span",{className:"required-marker",children:"*"})]}),e.jsx("input",{name:"last_name",value:i.last_name,onChange:Xe,className:B&&P.last_name?"input-error":""})]}),e.jsxs("div",{className:`client-communion-field ${B&&P.dateOfBirth?"field-error":""}`,children:[e.jsxs("label",{children:["Date of Birth ",e.jsx("span",{className:"required-marker",children:"*"})]}),e.jsx("input",{name:"dateOfBirth",type:"date",onChange:G=>ze("dateOfBirth",G.target.value),className:`date-input ${B&&P.dateOfBirth?"input-error":""}`})]})]}),e.jsxs("div",{className:"client-communion-row",children:[e.jsxs("div",{className:"client-communion-field",children:[e.jsx("label",{children:"Age"}),e.jsx("input",{name:"age",value:i.age,onChange:Xe})]}),e.jsxs("div",{className:`client-communion-field ${B&&P.gender?"field-error":""}`,children:[e.jsxs("label",{children:["Gender ",e.jsx("span",{className:"required-marker",children:"*"})]}),e.jsxs("select",{name:"gender",value:i.gender,onChange:Xe,className:B&&P.gender?"input-error":"",children:[e.jsx("option",{value:"",children:"Select"}),e.jsx("option",{value:"Male",children:"Male"}),e.jsx("option",{value:"Female",children:"Female"})]})]}),e.jsxs("div",{className:`client-communion-field ${B&&P.dateOfBaptism?"field-error":""}`,children:[e.jsxs("label",{children:["Date of Baptism ",e.jsx("span",{className:"required-marker",children:"*"})]}),e.jsx("input",{name:"dateOfBaptism",type:"date",onChange:G=>ze("dateOfBaptism",G.target.value),className:`date-input ${B&&P.dateOfBaptism?"input-error":""}`})]}),e.jsxs("div",{className:`client-communion-field ${B&&P.churchOfBaptism?"field-error":""}`,children:[e.jsxs("label",{children:["Church of Baptism ",e.jsx("span",{className:"required-marker",children:"*"})]}),e.jsx("input",{name:"churchOfBaptism",value:i.churchOfBaptism,onChange:Xe,className:B&&P.churchOfBaptism?"input-error":""})]})]}),e.jsxs("label",{className:"sub-cc",children:["Place of Birth ",e.jsx("span",{className:"required-marker",children:"*"})]}),e.jsxs("div",{className:"client-communion-row",children:[e.jsxs("div",{className:`client-communion-field location-dropdown-container ${B&&P.placeOfBirth?"field-error":""}`,children:[e.jsx("label",{children:"Birth Barangay"}),e.jsx("input",{type:"text",placeholder:"Type to search",value:c.barangay,onChange:kt,onFocus:()=>we("birthBarangay"),className:B&&P.placeOfBirth?"input-error":""}),f==="birthBarangay"&&M.birthBarangay.length>0&&e.jsx("div",{className:"location-dropdown",children:M.birthBarangay.map((G,oe)=>e.jsx("div",{onClick:()=>$e(G),className:"location-dropdown-item",children:G},oe))})]}),e.jsxs("div",{className:`client-communion-field location-dropdown-container ${B&&P.placeOfBirth?"field-error":""}`,children:[e.jsx("label",{children:"Birth Municipality"}),e.jsx("input",{type:"text",placeholder:"Type to search",value:c.municipality,onChange:Mt,onFocus:()=>we("birthMunicipality"),className:B&&P.placeOfBirth?"input-error":""}),f==="birthMunicipality"&&M.birthMunicipality.length>0&&e.jsx("div",{className:"location-dropdown",children:M.birthMunicipality.map((G,oe)=>e.jsx("div",{onClick:()=>Ae(G),className:"location-dropdown-item",children:G},oe))})]}),e.jsxs("div",{className:`client-communion-field location-dropdown-container ${B&&P.placeOfBirth?"field-error":""}`,children:[e.jsx("label",{children:"Birth Province"}),e.jsx("input",{type:"text",placeholder:"Type to search",value:c.province,onChange:ke,onFocus:()=>we("birthProvince"),className:B&&P.placeOfBirth?"input-error":""}),f==="birthProvince"&&M.birthProvince.length>0&&e.jsx("div",{className:"location-dropdown",children:M.birthProvince.map((G,oe)=>e.jsx("div",{onClick:()=>Le(G),className:"location-dropdown-item",children:G},oe))})]}),e.jsx("div",{className:"client-communion-field location-dropdown-container"})]}),e.jsxs("label",{className:"sub-cc",children:["Home Address ",e.jsx("span",{className:"required-marker",children:"*"})]}),e.jsxs("div",{className:"client-communion-row",children:[e.jsxs("div",{className:`client-communion-field ${B&&P.street?"field-error":""}`,children:[e.jsxs("label",{children:["Street ",e.jsx("span",{className:"required-marker",children:"*"})]}),e.jsx("input",{name:"street",value:i.street||"",onChange:G=>r(oe=>({...oe,street:G.target.value})),placeholder:"Street",autoComplete:"off",className:B&&P.street?"input-error":""})]}),e.jsxs("div",{className:`client-communion-field location-dropdown-container ${B&&P.barangay?"field-error":""}`,children:[e.jsxs("label",{children:["Barangay ",e.jsx("span",{className:"required-marker",children:"*"})]}),e.jsx("input",{name:"barangay",value:i.barangay||"",onChange:wt,onFocus:()=>we("barangay"),placeholder:"Type to search",autoComplete:"off",className:B&&P.barangay?"input-error":""}),f==="barangay"&&e.jsx("div",{className:"location-dropdown",children:M.barangay&&M.barangay.length>0?M.barangay.map((G,oe)=>e.jsx("div",{onClick:()=>ta(G),className:"location-dropdown-item",children:G},oe)):e.jsx("div",{className:"location-dropdown-item",children:"No barangays found"})})]}),e.jsxs("div",{className:`client-communion-field location-dropdown-container ${B&&P.municipality?"field-error":""}`,children:[e.jsxs("label",{children:["Municipality ",e.jsx("span",{className:"required-marker",children:"*"})]}),e.jsx("input",{name:"municipality",value:i.municipality||"",onChange:yt,onFocus:()=>we("municipality"),placeholder:"Type to search",autoComplete:"off",className:B&&P.municipality?"input-error":""}),f==="municipality"&&e.jsx("div",{className:"location-dropdown",children:M.municipality&&M.municipality.length>0?M.municipality.map((G,oe)=>e.jsx("div",{onClick:()=>Ft(G),className:"location-dropdown-item",children:G},oe)):e.jsx("div",{className:"location-dropdown-item",children:"No municipalities found"})})]}),e.jsxs("div",{className:`client-communion-field location-dropdown-container ${B&&P.province?"field-error":""}`,children:[e.jsxs("label",{children:["Province ",e.jsx("span",{className:"required-marker",children:"*"})]}),e.jsx("input",{name:"province",value:i.province||"",onChange:Qt,onFocus:()=>we("province"),placeholder:"Type to search",autoComplete:"off",className:B&&P.province?"input-error":""}),f==="province"&&e.jsx("div",{className:"location-dropdown",children:M.province&&M.province.length>0?M.province.map((G,oe)=>e.jsx("div",{onClick:()=>Aa(G),className:"location-dropdown-item",children:G},oe)):e.jsx("div",{className:"location-dropdown-item",children:"No provinces found"})})]}),e.jsxs("div",{className:"client-communion-field location-dropdown-container",children:[e.jsx("label",{children:"Region"}),e.jsx("input",{name:"region",value:i.region||"",onChange:Be,onFocus:()=>we("region"),placeholder:"Type to search",autoComplete:"off"}),f==="region"&&e.jsx("div",{className:"location-dropdown",children:M.region&&M.region.length>0?M.region.map((G,oe)=>e.jsx("div",{onClick:()=>pe(G),className:"location-dropdown-item",children:G},oe)):e.jsx("div",{className:"location-dropdown-item",children:"No regions found"})})]})]}),e.jsx("h3",{className:"client-communion-sub-title",children:"Father's Information"}),e.jsxs("div",{className:"client-communion-row",children:[e.jsxs("div",{className:`client-communion-field ${B&&P.father_first_name?"field-error":""}`,children:[e.jsxs("label",{children:["Father's First Name ",e.jsx("span",{className:"required-marker",children:"*"})]}),e.jsx("input",{name:"father_first_name",value:i.father_first_name,onChange:Xe,className:B&&P.father_first_name?"input-error":""})]}),e.jsxs("div",{className:"client-communion-field",children:[e.jsx("label",{children:"Father's Middle Name"}),e.jsx("input",{name:"father_middle_name",value:i.father_middle_name,onChange:Xe})]}),e.jsxs("div",{className:`client-communion-field ${B&&P.father_last_name?"field-error":""}`,children:[e.jsxs("label",{children:["Father's Last Name ",e.jsx("span",{className:"required-marker",children:"*"})]}),e.jsx("input",{name:"father_last_name",value:i.father_last_name,onChange:Xe,className:B&&P.father_last_name?"input-error":""})]})]}),e.jsxs("div",{className:"client-communion-row",children:[e.jsxs("div",{className:"client-communion-field",children:[e.jsx("label",{children:"Father's Date of Birth"}),e.jsx("input",{name:"father_dateOfBirth",type:"date",value:i.father_dateOfBirth,onChange:Xe,className:"date-input"})]}),e.jsxs("div",{className:"client-communion-field",children:[e.jsx("label",{children:"Father's Contact Number"}),e.jsx("input",{name:"father_contact",value:i.father_contact,onChange:Xe})]}),e.jsx("div",{className:"client-communion-field location-dropdown-container"})]}),e.jsx("label",{className:"sub-cc",children:"Father's Place of Birth"}),e.jsxs("div",{className:"client-communion-row",children:[e.jsxs("div",{className:"client-communion-field location-dropdown-container",children:[e.jsx("label",{children:"Father's Birth Barangay"}),e.jsx("input",{type:"text",placeholder:"Type to search",value:d.barangay,onChange:de,onFocus:()=>we("fatherBirthBarangay")}),f==="fatherBirthBarangay"&&M.fatherBirthBarangay.length>0&&e.jsx("div",{className:"location-dropdown",children:M.fatherBirthBarangay.map((G,oe)=>e.jsx("div",{onClick:()=>Ze(G),className:"location-dropdown-item",children:G},oe))})]}),e.jsxs("div",{className:"client-communion-field location-dropdown-container",children:[e.jsx("label",{children:"Father's Birth Municipality"}),e.jsx("input",{type:"text",placeholder:"Type to search",value:d.municipality,onChange:Me,onFocus:()=>we("fatherBirthMunicipality")}),f==="fatherBirthMunicipality"&&M.fatherBirthMunicipality.length>0&&e.jsx("div",{className:"location-dropdown",children:M.fatherBirthMunicipality.map((G,oe)=>e.jsx("div",{onClick:()=>nt(G),className:"location-dropdown-item",children:G},oe))})]}),e.jsxs("div",{className:"client-communion-field location-dropdown-container",children:[e.jsx("label",{children:"Father's Birth Province"}),e.jsx("input",{type:"text",placeholder:"Type to search",value:d.province,onChange:Ie,onFocus:()=>we("fatherBirthProvince")}),f==="fatherBirthProvince"&&M.fatherBirthProvince.length>0&&e.jsx("div",{className:"location-dropdown",children:M.fatherBirthProvince.map((G,oe)=>e.jsx("div",{onClick:()=>ot(G),className:"location-dropdown-item",children:G},oe))})]})]}),e.jsx("h3",{className:"client-communion-sub-title",children:"Mother's Information"}),e.jsxs("div",{className:"client-communion-row",children:[e.jsxs("div",{className:`client-communion-field ${B&&P.mother_first_name?"field-error":""}`,children:[e.jsxs("label",{children:["Mother's First Name ",e.jsx("span",{className:"required-marker",children:"*"})]}),e.jsx("input",{name:"mother_first_name",value:i.mother_first_name,onChange:Xe,className:B&&P.mother_first_name?"input-error":""})]}),e.jsxs("div",{className:"client-communion-field",children:[e.jsx("label",{children:"Mother's Middle Name"}),e.jsx("input",{name:"mother_middle_name",value:i.mother_middle_name,onChange:Xe})]}),e.jsxs("div",{className:`client-communion-field ${B&&P.mother_last_name?"field-error":""}`,children:[e.jsxs("label",{children:["Mother's Last Name ",e.jsx("span",{className:"required-marker",children:"*"})]}),e.jsx("input",{name:"mother_last_name",value:i.mother_last_name,onChange:Xe,className:B&&P.mother_last_name?"input-error":""})]})]}),e.jsxs("div",{className:"client-communion-row",children:[e.jsxs("div",{className:"client-communion-field",children:[e.jsx("label",{children:"Mother's Date of Birth"}),e.jsx("input",{name:"mother_dateOfBirth",type:"date",value:i.mother_dateOfBirth,onChange:Xe,className:"date-input"})]}),e.jsxs("div",{className:"client-communion-field",children:[e.jsx("label",{children:"Mother's Contact Number"}),e.jsx("input",{name:"mother_contact",value:i.mother_contact,onChange:Xe})]}),e.jsx("div",{className:"client-communion-field location-dropdown-container"})]}),e.jsx("label",{className:"sub-cc",children:"Mother's Place of Birth"}),e.jsxs("div",{className:"client-communion-row",children:[e.jsxs("div",{className:"client-communion-field location-dropdown-container",children:[e.jsx("label",{children:"Mother's Birth Barangay"}),e.jsx("input",{type:"text",placeholder:"Type to search",value:u.barangay,onChange:jt,onFocus:()=>we("motherBirthBarangay")}),f==="motherBirthBarangay"&&M.motherBirthBarangay.length>0&&e.jsx("div",{className:"location-dropdown",children:M.motherBirthBarangay.map((G,oe)=>e.jsx("div",{onClick:()=>Ke(G),className:"location-dropdown-item",children:G},oe))})]}),e.jsxs("div",{className:"client-communion-field location-dropdown-container",children:[e.jsx("label",{children:"Mother's Birth Municipality"}),e.jsx("input",{type:"text",placeholder:"Type to search",value:u.municipality,onChange:ft,onFocus:()=>we("motherBirthMunicipality")}),f==="motherBirthMunicipality"&&M.motherBirthMunicipality.length>0&&e.jsx("div",{className:"location-dropdown",children:M.motherBirthMunicipality.map((G,oe)=>e.jsx("div",{onClick:()=>it(G),className:"location-dropdown-item",children:G},oe))})]}),e.jsxs("div",{className:"client-communion-field location-dropdown-container",children:[e.jsx("label",{children:"Mother's Birth Province"}),e.jsx("input",{type:"text",placeholder:"Type to search",value:u.province,onChange:It,onFocus:()=>we("motherBirthProvince")}),f==="motherBirthProvince"&&M.motherBirthProvince.length>0&&e.jsx("div",{className:"location-dropdown",children:M.motherBirthProvince.map((G,oe)=>e.jsx("div",{onClick:()=>De(G),className:"location-dropdown-item",children:G},oe))})]})]})]}),e.jsxs("div",{className:"client-communion-requirements-container",children:[e.jsx("h2",{className:"client-communion-requirements-title",children:"Requirements(Bring the following documents)"}),e.jsxs("div",{className:"client-communion-requirements-box",children:[e.jsx("h3",{className:"client-communion-section-header",children:"Documents Needed"}),e.jsxs("div",{className:"client-communion-info-list",children:[e.jsx("div",{className:"client-communion-info-item",children:e.jsx("p",{children:"Certificate of Baptism(Proof of Catholic Baptism)"})}),e.jsx("div",{className:"client-communion-info-item",children:e.jsx("p",{children:"First Communion Certificate(If Applicable, for record purposes)"})}),e.jsx("div",{className:"client-communion-info-item",children:e.jsx("p",{children:"Birth Certificate(For verification purposes)"})}),e.jsx("div",{className:"client-communion-info-item",children:e.jsx("p",{children:"Certificate of Permission(If outside the Parish)"})})]}),e.jsx("h3",{className:"client-communion-section-header",children:"Requirements for Candidate"}),e.jsxs("div",{className:"client-communion-info-list",children:[e.jsx("div",{className:"client-communion-info-item",children:e.jsx("p",{children:"Must be a baptized Catholic"})}),e.jsx("div",{className:"client-communion-info-item",children:e.jsx("p",{children:"Must have reached the age of reason (usually around 7 years old)"})}),e.jsx("div",{className:"client-communion-info-item",children:e.jsx("p",{children:"Must have received the Sacrament of Reconciliation (Confession) before First Communion"})}),e.jsx("div",{className:"client-communion-info-item",children:e.jsx("p",{children:"Must attend a First Communion Catechesis or Religious Instruction Program"})}),e.jsx("div",{className:"client-communion-info-item",children:e.jsx("p",{children:"Must understand the significance of the Holy Eucharist and believe in the real presence of Christ in the sacrament"})}),e.jsx("div",{className:"client-communion-info-item",children:e.jsx("p",{children:"Must attend a First Communion Retreat (if required by the parish)"})})]}),e.jsx("h3",{className:"client-communion-section-header",children:"Parish Requirements"}),e.jsxs("div",{className:"client-communion-info-list",children:[e.jsx("div",{className:"client-communion-info-item",children:e.jsx("p",{children:"Must be registered in the parish where First Communion will be received"})}),e.jsx("div",{className:"client-communion-info-item",children:e.jsx("p",{children:"Must attend the required preparation classes and rehearsals"})}),e.jsx("div",{className:"client-communion-info-item",children:e.jsx("p",{children:"Must participate in a First Communion Retreat (if required by the parish)"})})]}),e.jsx("h3",{className:"client-communion-section-header",children:"Dress Code (If Specified by Parish)"}),e.jsxs("div",{className:"client-communion-info-list",children:[e.jsx("div",{className:"client-communion-info-item",children:e.jsx("p",{children:"Boys: White polo or barong, black pants, and formal shoes"})}),e.jsx("div",{className:"client-communion-info-item",children:e.jsx("p",{children:"Girls: White dress with sleeves (modest), white veil (optional), and formal shoes"})})]})]})]}),e.jsxs("div",{className:"client-communion-button-container",children:[e.jsx("button",{className:"client-communion-submit-btn",onClick:be,children:"Submit"}),e.jsx("button",{className:"client-communion-cancel-btn",children:"Cancel"})]})]}),_e&&e.jsx("div",{className:"client-communion-modal-overlay",children:e.jsxs("div",{className:"client-communion-modal",children:[e.jsx("h2",{children:"Submit Application"}),e.jsx("hr",{className:"client-communion-custom-hr"}),e.jsx("p",{children:"Are you sure you want to submit your Holy Communion application?"}),e.jsxs("div",{className:"client-communion-modal-buttons",children:[e.jsx("button",{className:"client-communion-yes-btn",onClick:R,children:"Yes"}),e.jsx("button",{className:"client-communion-modal-no-btn",onClick:()=>ce(!1),children:"No"})]})]})}),ye&&e.jsx("div",{className:"client-communion-modal-overlay",children:e.jsxs("div",{className:"client-communion-modal",children:[e.jsx("h2",{children:"Success"}),e.jsx("hr",{className:"client-communion-custom-hr"}),e.jsx("p",{children:"Your Holy Communion application has been submitted successfully!"}),e.jsx("div",{className:"client-communion-modal-buttons",children:e.jsx("button",{className:"client-communion-yes-btn",onClick:()=>Q(!1),children:"OK"})})]})}),ne&&e.jsx("div",{className:"client-communion-modal-overlay",children:e.jsxs("div",{className:"client-communion-modal",children:[e.jsx("h2",{children:"Error"}),e.jsx("hr",{className:"client-communion-custom-hr"}),e.jsx("p",{children:V}),e.jsx("div",{className:"client-communion-modal-buttons",children:e.jsx("button",{className:"client-communion-modal-no-btn",onClick:()=>U(!1),children:"OK"})})]})}),ie&&e.jsx("div",{className:"client-communion-modal-overlay",children:e.jsxs("div",{className:"client-communion-modal",children:[e.jsx("h2",{children:"Processing Application"}),e.jsx("hr",{className:"client-communion-custom-hr"}),e.jsx("p",{children:"Please wait while we submit your Holy Communion application..."}),e.jsx("div",{className:"client-communion-loading-spinner",children:e.jsx("div",{className:"client-communion-spinner"})})]})})]})},dk=()=>{const a=oa(),t=Jt(),{clientID:s}=a.state||{};N.useEffect(()=>{s||(console.error("No clientID provided"),t(-1))},[s,t]),console.log("Received clientID:",s);const[i,r]=N.useState({dateOfFuneralMass:"",timeOfFuneralMass:"",deceasedFirstName:"",deceasedMiddleName:"",deceasedLastName:"",deceasedSex:"",deceasedAge:"",deceasedDateOfBirth:"",deceasedDateOfDeath:"",causeOfDeath:"",wakeLocation:"",wake_barangay:"",wake_municipality:"",wake_province:"",burialLocation:"",burial_barangay:"",burial_municipality:"",burial_province:"",requesterFirstName:"",requesterMiddleName:"",requesterLastName:"",relationship:"",contactNumber:"",email:"",barangay:"",street:"",municipality:"",province:"",region:""}),[c,A]=N.useState([]),[d,h]=N.useState(!0),[u,v]=N.useState(null),[x,y]=N.useState({barangay:[],municipality:[],province:[],region:[],wake_barangay:[],wake_municipality:[],wake_province:[],burial_barangay:[],burial_municipality:[],burial_province:[]}),[p,F]=N.useState([]),[b,S]=N.useState([]),[f,O]=N.useState([]),[M,J]=N.useState(!1),[K,H]=N.useState(!1),[k,Y]=N.useState(!1),[D,ge]=N.useState(""),[_,X]=N.useState(!1),[re,fe]=N.useState({}),[Ne,ue]=N.useState([]);N.useRef(null),N.useRef(null),N.useRef(null),N.useRef(null),N.useRef(null),N.useEffect(()=>{ce(),_e()},[]);const _e=async()=>{try{const de=await aa.get("http://parishofdivinemercy.com/backend/get_location.php");de.data.success&&A(de.data.locations)}catch(de){console.error("Error fetching locations:",de)}finally{h(!1)}},ce=async()=>{try{const[de,Me]=await Promise.all([fetch("http://parishofdivinemercy.com/backend/schedule.php"),fetch("http://parishofdivinemercy.com/backend/get_funeral_applications.php")]),Ie=await de.json(),Ze=await Me.json();if(Ie.success){const nt=Ie.schedules.filter(Ke=>Ke.sacramentType.toLowerCase()==="funeral mass"),ot=new Set;Ze.success&&Ze.applications.forEach(Ke=>{const it=`${Ke.dateOfFuneral}-${Ke.timeOfFuneral}`;ot.add(it)});const jt=nt.filter(Ke=>{const it=`${Ke.date}-${Ke.time}`;return!ot.has(it)});F(jt);const ft=new Set,It=[];jt.forEach(Ke=>{ft.has(Ke.date)||(ft.add(Ke.date),It.push(Ke.date))}),S(It)}}catch(de){console.error("Error fetching schedules:",de)}};N.useEffect(()=>{if(i.dateOfFuneralMass){const de=p.filter(Ie=>Ie.date===i.dateOfFuneralMass).map(Ie=>Ie.time),Me=[...new Set(de)];O(Me),Me.includes(i.timeOfFuneralMass)||r(Ie=>({...Ie,timeOfFuneralMass:""}))}else O([])},[i.dateOfFuneralMass,p]);const ye=(de,Me=null,Ie=null)=>{if(Me&&Me.trim()!==""){const ot=c.filter(ft=>ft.municipality===Me),jt=[...new Set(ot.map(ft=>ft.barangay))].sort();if(de&&de.trim()){const ft=de.toLowerCase();return jt.filter(It=>It.toLowerCase().includes(ft))}return jt}if(Ie&&Ie.trim()!==""){const ot=c.filter(ft=>ft.province===Ie),jt=[...new Set(ot.map(ft=>ft.barangay))].sort();if(de&&de.trim()){const ft=de.toLowerCase();return jt.filter(It=>It.toLowerCase().includes(ft))}return jt}const Ze=de?de.toLowerCase():"",nt=[...new Set(c.map(ot=>ot.barangay))].sort();return!de||de.trim()===""?nt.slice(0,10):nt.filter(ot=>ot.toLowerCase().includes(Ze)).slice(0,10)},Q=(de,Me=null,Ie=null)=>{if(Ie&&Ie.trim()!==""){const ot=c.filter(ft=>ft.barangay===Ie),jt=[...new Set(ot.map(ft=>ft.municipality))].sort();if(de&&de.trim()){const ft=de.toLowerCase();return jt.filter(It=>It.toLowerCase().includes(ft))}return jt}if(Me&&Me.trim()!==""){const ot=c.filter(ft=>ft.province===Me),jt=[...new Set(ot.map(ft=>ft.municipality))].sort();if(de&&de.trim()){const ft=de.toLowerCase();return jt.filter(It=>It.toLowerCase().includes(ft))}return jt}const Ze=de?de.toLowerCase():"",nt=[...new Set(c.map(ot=>ot.municipality))].sort();return!de||de.trim()===""?nt.slice(0,10):nt.filter(ot=>ot.toLowerCase().includes(Ze)).slice(0,10)},ne=(de,Me=null,Ie=null)=>{if(Me&&Me.trim()!==""){const ot=c.filter(ft=>ft.municipality===Me),jt=[...new Set(ot.map(ft=>ft.province))].sort();if(de&&de.trim()){const ft=de.toLowerCase();return jt.filter(It=>It.toLowerCase().includes(ft))}return jt}if(Ie&&Ie.trim()!==""){const ot=c.filter(ft=>ft.barangay===Ie),jt=[...new Set(ot.map(ft=>ft.province))].sort();if(de&&de.trim()){const ft=de.toLowerCase();return jt.filter(It=>It.toLowerCase().includes(ft))}return jt}const Ze=de?de.toLowerCase():"",nt=[...new Set(c.map(ot=>ot.province))].sort();return!de||de.trim()===""?nt.slice(0,10):nt.filter(ot=>ot.toLowerCase().includes(Ze)).slice(0,10)},U=de=>{const Me=de.toLowerCase();return["Region I - Ilocos Region","Region II - Cagayan Valley","Region III - Central Luzon","Region IV-A - CALABARZON","Region IV-B - MIMAROPA","Region V - Bicol Region","Region VI - Western Visayas","Region VII - Central Visayas","Region VIII - Eastern Visayas","Region IX - Zamboanga Peninsula","Region X - Northern Mindanao","Region XI - Davao Region","Region XII - SOCCSKSARGEN","Region XIII - Caraga","NCR - National Capital Region","CAR - Cordillera Administrative Region","BARMM - Bangsamoro Autonomous Region in Muslim Mindanao"].filter(Ze=>Ze.toLowerCase().includes(Me))},V=(de,Me,Ie)=>{let Ze={};if(Me==="barangay"){const nt=c.filter(ft=>ft.barangay===de),ot=[...new Set(nt.map(ft=>ft.municipality))],jt=[...new Set(nt.map(ft=>ft.province))];console.log(`Barangay "${de}" found in:`,{municipalities:ot,provinces:jt}),ot.length===1&&(Ze[`${Ie}_municipality`]=ot[0],console.log(`Auto-filling municipality: ${ot[0]}`)),jt.length===1&&(Ze[`${Ie}_province`]=jt[0],console.log(`Auto-filling province: ${jt[0]}`))}else if(Me==="municipality"){const nt=c.filter(jt=>jt.municipality===de),ot=[...new Set(nt.map(jt=>jt.province))];console.log(`Municipality "${de}" found in provinces:`,ot),ot.length===1&&(Ze[`${Ie}_province`]=ot[0],console.log(`Auto-filling province: ${ot[0]}`))}return Ze};N.useEffect(()=>{if(i.deceasedDateOfBirth){const de=new Date(i.deceasedDateOfBirth),Me=new Date;let Ie=Me.getFullYear()-de.getFullYear();const Ze=Me.getMonth()-de.getMonth();(Ze<0||Ze===0&&Me.getDate()<de.getDate())&&Ie--,isNaN(Ie)||r(nt=>({...nt,deceasedAge:Ie.toString()}))}},[i.deceasedDateOfBirth]);const T=de=>{const Me=de.target.value;r(Ie=>({...Ie,wake_barangay:Me})),u==="wake_barangay"&&y(Ie=>({...Ie,wake_barangay:ye(Me,i.wake_municipality,i.wake_province)}))},ie=de=>{const Me=de.target.value;r(Ie=>({...Ie,wake_municipality:Me})),u==="wake_municipality"&&y(Ie=>({...Ie,wake_municipality:Q(Me,i.wake_province,i.wake_barangay)}))},ae=de=>{const Me=de.target.value;r(Ie=>({...Ie,wake_province:Me})),u==="wake_province"&&y(Ie=>({...Ie,wake_province:ne(Me,i.wake_municipality,i.wake_barangay)}))},P=de=>{const Me=de.target.value;r(Ie=>({...Ie,burial_barangay:Me})),u==="burial_barangay"&&y(Ie=>({...Ie,burial_barangay:ye(Me,i.burial_municipality,i.burial_province)}))},z=de=>{const Me=de.target.value;r(Ie=>({...Ie,burial_municipality:Me})),u==="burial_municipality"&&y(Ie=>({...Ie,burial_municipality:Q(Me,i.burial_province,i.burial_barangay)}))},B=de=>{const Me=de.target.value;r(Ie=>({...Ie,burial_province:Me})),u==="burial_province"&&y(Ie=>({...Ie,burial_province:ne(Me,i.burial_municipality,i.burial_barangay)}))},q=de=>{r(Ie=>({...Ie,wake_municipality:de})),v(null);const Me=V(de,"municipality","wake");Object.keys(Me).length>0&&r(Ie=>({...Ie,...Me}))},te=de=>{r(Ie=>({...Ie,wake_barangay:de})),v(null);const Me=V(de,"barangay","wake");Object.keys(Me).length>0&&r(Ie=>({...Ie,...Me}))},he=de=>{r(Me=>({...Me,wake_province:de})),v(null)},W=de=>{r(Ie=>({...Ie,burial_municipality:de})),v(null);const Me=V(de,"municipality","burial");Object.keys(Me).length>0&&r(Ie=>({...Ie,...Me}))},C=de=>{r(Ie=>({...Ie,burial_barangay:de})),v(null);const Me=V(de,"barangay","burial");Object.keys(Me).length>0&&r(Ie=>({...Ie,...Me}))},Z=de=>{r(Me=>({...Me,burial_province:de})),v(null)},se=(de,Me)=>{r(Ie=>({...Ie,[de]:Me})),de==="dateOfFuneralMass"&&updateAvailableTimes(Me)},Se=(de,Me)=>{se(de,Me)},He=de=>{const Me=de.target.value;se("barangay",Me),u==="barangay"&&y({...x,barangay:ye(Me,i.municipality,i.province)})},Qe=de=>{const Me=de.target.value;se("municipality",Me),u==="municipality"&&y({...x,municipality:Q(Me,i.province,i.barangay)})},qe=de=>{const Me=de.target.value;se("province",Me),u==="province"&&y({...x,province:ne(Me,i.municipality,i.barangay)})},Ye=de=>{const Me=de.target.value;se("region",Me),u==="region"&&y({...x,region:U(Me)})},st=de=>{var Ze;se("municipality",de),v(null);const Me=c.filter(nt=>nt.municipality===de),Ie=[...new Set(Me.map(nt=>nt.province))];Ie.length===1&&!i.province&&se("province",Ie[0]),(Ze=document.querySelector('input[name="municipality"]'))==null||Ze.blur()},kt=de=>{var nt;se("barangay",de),v(null);const Me=c.filter(ot=>ot.barangay===de),Ie=[...new Set(Me.map(ot=>ot.municipality))],Ze=[...new Set(Me.map(ot=>ot.province))];Ie.length===1&&!i.municipality&&se("municipality",Ie[0]),Ze.length===1&&!i.province&&se("province",Ze[0]),(nt=document.querySelector('input[name="barangay"]'))==null||nt.blur()},Mt=de=>{var Me;se("province",de),v(null),(Me=document.querySelector('input[name="province"]'))==null||Me.blur()},ke=de=>{var Me;se("region",de),v(null),(Me=document.querySelector('input[name="region"]'))==null||Me.blur()},$e=de=>{switch(v(de),de){case"wake_barangay":y(Me=>({...Me,wake_barangay:ye(i.wake_barangay||"",i.wake_municipality,i.wake_province)}));break;case"wake_municipality":y(Me=>({...Me,wake_municipality:Q(i.wake_municipality||"",i.wake_province,i.wake_barangay)}));break;case"wake_province":y(Me=>({...Me,wake_province:ne(i.wake_province||"",i.wake_municipality,i.wake_barangay)}));break;case"burial_barangay":y(Me=>({...Me,burial_barangay:ye(i.burial_barangay||"",i.burial_municipality,i.burial_province)}));break;case"burial_municipality":y(Me=>({...Me,burial_municipality:Q(i.burial_municipality||"",i.burial_province,i.burial_barangay)}));break;case"burial_province":y(Me=>({...Me,burial_province:ne(i.burial_province||"",i.burial_municipality,i.burial_barangay)}));break;case"barangay":y(Me=>({...Me,barangay:ye(i.barangay||"",i.municipality,i.province)}));break;case"municipality":y(Me=>({...Me,municipality:Q(i.municipality||"",i.province,i.barangay)}));break;case"province":y(Me=>({...Me,province:ne(i.province||"",i.municipality,i.barangay)}));break;case"region":y(Me=>({...Me,region:U(i.region||"")}));break}};N.useEffect(()=>{const de=Me=>{var Ie;if(u){const Ze=Me.target.tagName==="INPUT"||Me.target.tagName==="SELECT",nt=Me.target.classList.contains("location-dropdown-item"),ot=(Ie=document.querySelector(`input[name="${u}"]`))==null?void 0:Ie.closest(".location-dropdown-container"),jt=ot&&ot.contains(Me.target);(Ze&&!jt||!jt&&!nt)&&v(null)}};return document.addEventListener("mousedown",de),()=>{document.removeEventListener("mousedown",de)}},[u]);const Ae=()=>{const Me=["dateOfFuneralMass","timeOfFuneralMass","deceasedFirstName","deceasedLastName","deceasedSex","deceasedDateOfBirth","deceasedDateOfDeath","causeOfDeath","wake_barangay","wake_municipality","wake_province","burial_barangay","burial_municipality","burial_province","requesterFirstName","requesterLastName","relationship","contactNumber","email","barangay","street","municipality","province","region"].filter(Ze=>!i[Ze]),Ie={};if(Me.forEach(Ze=>{Ie[Ze]=!0}),fe(Ie),Me.length>0){ge("Please fill in all required fields before submitting."),Y(!0);const Ze=document.querySelector(".error-field");Ze&&Ze.scrollIntoView({behavior:"smooth",block:"center"});return}fe({}),J(!0)},Le=async()=>{J(!1),X(!0);try{const de=[i.wake_barangay,i.wake_municipality,i.wake_province].filter(Boolean).join(", "),Me=[i.burial_barangay,i.burial_municipality,i.burial_province].filter(Boolean).join(", ");let Ie={...i,wakeLocation:de,burialLocation:Me};if(Ie.deceasedDateOfBirth){const jt=Ie.deceasedDateOfBirth.split("/");if(jt.length===3){const[ft,It,Ke]=jt;Ie.deceasedDateOfBirth=`${Ke}-${It.padStart(2,"0")}-${ft.padStart(2,"0")}`}}if(Ie.deceasedDateOfDeath){const jt=Ie.deceasedDateOfDeath.split("/");if(jt.length===3){const[ft,It,Ke]=jt;Ie.deceasedDateOfDeath=`${Ke}-${It.padStart(2,"0")}-${ft.padStart(2,"0")}`}}const Ze=new FormData;Ze.append("clientID",s),Object.keys(Ie).forEach(jt=>{Ze.append(jt,Ie[jt])});const ot=await(await fetch("http://parishofdivinemercy.com/backend/funeral_mass_application.php",{method:"POST",body:Ze})).json();if(X(!1),ot.success){try{const jt=await fetch("http://parishofdivinemercy.com/backend/send_funeral_email.php",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({clientID:s,funeralData:{...i,wakeLocation:de,burialLocation:Me}})});console.log("Email response:",await jt.json())}catch(jt){console.error("Error sending email:",jt)}H(!0),setTimeout(()=>{t("/client-appointment")},2e3)}else ge(ot.message||"Failed to submit application"),Y(!0)}catch(de){X(!1),console.error("Error submitting form:",de),ge("An error occurred while submitting the application"),Y(!0)}};return e.jsxs("div",{className:"client-funeral-container",children:[e.jsx("div",{className:"client-funeral-header",children:e.jsx("div",{className:"client-funeral-left-section",children:e.jsxs("button",{className:"client-funeral-back-button",onClick:()=>t(-1),children:[e.jsx(Oa,{className:"client-funeral-back-icon"})," Back"]})})}),e.jsx("h1",{className:"client-funeral-title",children:"Funeral Mass Application Form"}),e.jsxs("div",{className:"client-funeral-data",children:[e.jsxs("div",{className:"client-funeral-row-date",children:[e.jsxs("div",{className:`client-funeral-field-date ${re.dateOfFuneralMass?"error-field":""}`,children:[e.jsxs("label",{children:["Date of Funeral Mass",e.jsx("span",{className:"required-marker",children:"*"})]}),e.jsxs("select",{value:i.dateOfFuneralMass,onChange:de=>se("dateOfFuneralMass",de.target.value),children:[e.jsx("option",{value:"",children:"Select Date"}),b.map(de=>e.jsx("option",{value:de,children:new Date(de).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})},de))]}),re.dateOfFuneralMass]}),e.jsxs("div",{className:`client-funeral-field-time ${re.timeOfFuneralMass?"error-field":""}`,children:[e.jsxs("label",{children:["Time of Funeral Mass",e.jsx("span",{className:"required-marker",children:"*"})]}),e.jsxs("select",{value:i.timeOfFuneralMass,onChange:de=>se("timeOfFuneralMass",de.target.value),disabled:!i.dateOfFuneralMass,children:[e.jsx("option",{value:"",children:"Select Time"}),f.map(de=>e.jsx("option",{value:de,children:de},de))]}),re.timeOfFuneralMass]})]}),e.jsxs("div",{className:"client-funeral-bypart",children:[e.jsx("h3",{className:"client-funeral-sub-title",children:"Deceased Information"}),e.jsxs("div",{className:"client-funeral-row",children:[e.jsxs("div",{className:`client-funeral-field ${re.deceasedFirstName?"error-field":""}`,children:[e.jsxs("label",{children:["First Name",e.jsx("span",{className:"required-marker",children:"*"})]}),e.jsx("input",{type:"text",value:i.deceasedFirstName,onChange:de=>se("deceasedFirstName",de.target.value)}),re.deceasedFirstName]}),e.jsxs("div",{className:"client-funeral-field",children:[e.jsx("label",{children:"Middle Name"}),e.jsx("input",{type:"text",value:i.deceasedMiddleName,onChange:de=>se("deceasedMiddleName",de.target.value)})]}),e.jsxs("div",{className:`client-funeral-field ${re.deceasedLastName?"error-field":""}`,children:[e.jsxs("label",{children:["Last Name",e.jsx("span",{className:"required-marker",children:"*"})]}),e.jsx("input",{type:"text",value:i.deceasedLastName,onChange:de=>se("deceasedLastName",de.target.value)}),re.deceasedLastName]})]}),e.jsxs("div",{className:"client-funeral-row",children:[e.jsxs("div",{className:`client-funeral-field ${re.deceasedDateOfBirth?"error-field":""}`,children:[e.jsxs("label",{children:["Date of Birth",e.jsx("span",{className:"required-marker",children:"*"})]}),e.jsx("input",{type:"date",className:"date-input",value:i.deceasedDateOfBirth,onChange:de=>Se("deceasedDateOfBirth",de.target.value)}),re.deceasedDateOfBirth]}),e.jsxs("div",{className:"client-funeral-field",children:[e.jsx("label",{children:"Age"}),e.jsx("input",{type:"text",value:i.deceasedAge,readOnly:!0})]}),e.jsxs("div",{className:`client-funeral-field ${re.deceasedSex?"error-field":""}`,children:[e.jsxs("label",{children:["Gender",e.jsx("span",{className:"required-marker",children:"*"})]}),e.jsxs("select",{value:i.deceasedSex,onChange:de=>se("deceasedSex",de.target.value),children:[e.jsx("option",{value:"",children:"Select"}),e.jsx("option",{value:"Male",children:"Male"}),e.jsx("option",{value:"Female",children:"Female"})]}),re.deceasedSex]}),e.jsxs("div",{className:`client-funeral-field ${re.deceasedDateOfDeath?"error-field":""}`,children:[e.jsxs("label",{children:["Date of Death",e.jsx("span",{className:"required-marker",children:"*"})]}),e.jsx("input",{type:"date",className:"date-input",value:i.deceasedDateOfDeath,onChange:de=>Se("deceasedDateOfDeath",de.target.value)}),re.deceasedDateOfDeath]})]}),e.jsx("div",{className:"client-funeral-row",children:e.jsxs("div",{className:`client-funeral-field ${re.causeOfDeath?"error-field":""}`,children:[e.jsxs("label",{children:["Cause of Death",e.jsx("span",{className:"required-marker",children:"*"})]}),e.jsx("input",{type:"text",value:i.causeOfDeath,onChange:de=>se("causeOfDeath",de.target.value)}),re.causeOfDeath]})}),e.jsxs("label",{className:"sub-cc",children:["Wake Location ",e.jsx("span",{className:"required-marker",children:"*"})]}),e.jsxs("div",{className:"client-funeral-row",children:[e.jsxs("div",{className:`client-funeral-field location-dropdown-container ${re.wake_barangay?"error-field":""}`,children:[e.jsxs("label",{children:["Wake Barangay ",e.jsx("span",{className:"required-marker",children:"*"})]}),e.jsx("input",{type:"text",name:"wake_barangay",value:i.wake_barangay||"",onChange:T,onFocus:()=>$e("wake_barangay"),placeholder:"Type to search",autoComplete:"off"}),re.wake_barangay,u==="wake_barangay"&&x.wake_barangay.length>0&&e.jsx("div",{className:"location-dropdown",children:x.wake_barangay.map((de,Me)=>e.jsx("div",{onClick:()=>te(de),className:"location-dropdown-item",children:de},Me))})]}),e.jsxs("div",{className:`client-funeral-field location-dropdown-container ${re.wake_municipality?"error-field":""}`,children:[e.jsxs("label",{children:["Wake Municipality ",e.jsx("span",{className:"required-marker",children:"*"})]}),e.jsx("input",{type:"text",name:"wake_municipality",value:i.wake_municipality||"",onChange:ie,onFocus:()=>$e("wake_municipality"),placeholder:"Type to search",autoComplete:"off"}),re.wake_municipality,u==="wake_municipality"&&x.wake_municipality.length>0&&e.jsx("div",{className:"location-dropdown",children:x.wake_municipality.map((de,Me)=>e.jsx("div",{onClick:()=>q(de),className:"location-dropdown-item",children:de},Me))})]}),e.jsxs("div",{className:`client-funeral-field location-dropdown-container ${re.wake_province?"error-field":""}`,children:[e.jsxs("label",{children:["Wake Province ",e.jsx("span",{className:"required-marker",children:"*"})]}),e.jsx("input",{type:"text",name:"wake_province",value:i.wake_province||"",onChange:ae,onFocus:()=>$e("wake_province"),placeholder:"Type to search",autoComplete:"off"}),re.wake_province,u==="wake_province"&&x.wake_province.length>0&&e.jsx("div",{className:"location-dropdown",children:x.wake_province.map((de,Me)=>e.jsx("div",{onClick:()=>he(de),className:"location-dropdown-item",children:de},Me))})]})]}),e.jsxs("label",{className:"sub-cc",children:["Burial Location ",e.jsx("span",{className:"required-marker",children:"*"})]}),e.jsxs("div",{className:"client-funeral-row",children:[e.jsxs("div",{className:`client-funeral-field location-dropdown-container ${re.burial_barangay?"error-field":""}`,children:[e.jsxs("label",{children:["Burial Barangay ",e.jsx("span",{className:"required-marker",children:"*"})]}),e.jsx("input",{type:"text",name:"burial_barangay",value:i.burial_barangay||"",onChange:P,onFocus:()=>$e("burial_barangay"),placeholder:"Type to search",autoComplete:"off"}),re.burial_barangay,u==="burial_barangay"&&x.burial_barangay.length>0&&e.jsx("div",{className:"location-dropdown",children:x.burial_barangay.map((de,Me)=>e.jsx("div",{onClick:()=>C(de),className:"location-dropdown-item",children:de},Me))})]}),e.jsxs("div",{className:`client-funeral-field location-dropdown-container ${re.burial_municipality?"error-field":""}`,children:[e.jsxs("label",{children:["Burial Municipality ",e.jsx("span",{className:"required-marker",children:"*"})]}),e.jsx("input",{type:"text",name:"burial_municipality",value:i.burial_municipality||"",onChange:z,onFocus:()=>$e("burial_municipality"),placeholder:"Type to search",autoComplete:"off"}),re.burial_municipality,u==="burial_municipality"&&x.burial_municipality.length>0&&e.jsx("div",{className:"location-dropdown",children:x.burial_municipality.map((de,Me)=>e.jsx("div",{onClick:()=>W(de),className:"location-dropdown-item",children:de},Me))})]}),e.jsxs("div",{className:`client-funeral-field location-dropdown-container ${re.burial_province?"error-field":""}`,children:[e.jsxs("label",{children:["Burial Province ",e.jsx("span",{className:"required-marker",children:"*"})]}),e.jsx("input",{type:"text",name:"burial_province",value:i.burial_province||"",onChange:B,onFocus:()=>$e("burial_province"),placeholder:"Type to search",autoComplete:"off"}),re.burial_province,u==="burial_province"&&x.burial_province.length>0&&e.jsx("div",{className:"location-dropdown",children:x.burial_province.map((de,Me)=>e.jsx("div",{onClick:()=>Z(de),className:"location-dropdown-item",children:de},Me))})]})]}),e.jsx("h3",{className:"client-funeral-sub-title",children:"Requester Information"}),e.jsxs("div",{className:"client-funeral-row",children:[e.jsxs("div",{className:`client-funeral-field ${re.requesterFirstName?"error-field":""}`,children:[e.jsxs("label",{children:["First Name",e.jsx("span",{className:"required-marker",children:"*"})]}),e.jsx("input",{type:"text",value:i.requesterFirstName,onChange:de=>se("requesterFirstName",de.target.value)}),re.requesterFirstName]}),e.jsxs("div",{className:"client-funeral-field",children:[e.jsx("label",{children:"Middle Name"}),e.jsx("input",{type:"text",value:i.requesterMiddleName,onChange:de=>se("requesterMiddleName",de.target.value)})]}),e.jsxs("div",{className:`client-funeral-field ${re.requesterLastName?"error-field":""}`,children:[e.jsxs("label",{children:["Last Name",e.jsx("span",{className:"required-marker",children:"*"})]}),e.jsx("input",{type:"text",value:i.requesterLastName,onChange:de=>se("requesterLastName",de.target.value)}),re.requesterLastName]})]}),e.jsxs("div",{className:"client-funeral-row",children:[e.jsxs("div",{className:`client-funeral-field ${re.relationship?"error-field":""}`,children:[e.jsxs("label",{children:["Relationship to the Deceased",e.jsx("span",{className:"required-marker",children:"*"})]}),e.jsx("input",{type:"text",value:i.relationship,onChange:de=>se("relationship",de.target.value)}),re.relationship]}),e.jsxs("div",{className:`client-funeral-field ${re.contactNumber?"error-field":""}`,children:[e.jsxs("label",{children:["Contact Number",e.jsx("span",{className:"required-marker",children:"*"})]}),e.jsx("input",{type:"text",value:i.contactNumber,onChange:de=>se("contactNumber",de.target.value)}),re.contactNumber]}),e.jsxs("div",{className:`client-funeral-field ${re.email?"error-field":""}`,children:[e.jsxs("label",{children:["Email Address",e.jsx("span",{className:"required-marker",children:"*"})]}),e.jsx("input",{type:"text",value:i.email,onChange:de=>se("email",de.target.value)}),re.email]})]}),e.jsx("h3",{className:"client-funeral-sub-title",children:"Address"}),e.jsxs("div",{className:"client-funeral-row client-funeral-address-row",children:[e.jsxs("div",{className:`client-funeral-field ${re.street?"error-field":""}`,children:[e.jsxs("label",{children:["Street",e.jsx("span",{className:"required-marker",children:"*"})]}),e.jsx("input",{type:"text",value:i.street,onChange:de=>se("street",de.target.value)}),re.street]}),e.jsxs("div",{className:`client-funeral-field location-dropdown-container ${re.barangay?"error-field":""}`,children:[e.jsxs("label",{children:["Barangay",e.jsx("span",{className:"required-marker",children:"*"})]}),e.jsx("input",{type:"text",value:i.barangay,onChange:He,onFocus:()=>$e("barangay"),placeholder:"Type to search",name:"barangay"}),re.barangay,u==="barangay"&&x.barangay.length>0&&e.jsx("div",{className:"location-dropdown",children:x.barangay.map((de,Me)=>e.jsx("div",{onClick:()=>kt(de),className:"location-dropdown-item",children:de},Me))})]}),e.jsxs("div",{className:`client-funeral-field location-dropdown-container ${re.municipality?"error-field":""}`,children:[e.jsxs("label",{children:["Municipality",e.jsx("span",{className:"required-marker",children:"*"})]}),e.jsx("input",{type:"text",value:i.municipality,onChange:Qe,onFocus:()=>$e("municipality"),placeholder:"Type to search",name:"municipality"}),re.municipality,u==="municipality"&&x.municipality.length>0&&e.jsx("div",{className:"location-dropdown",children:x.municipality.map((de,Me)=>e.jsx("div",{onClick:()=>st(de),className:"location-dropdown-item",children:de},Me))})]}),e.jsxs("div",{className:`client-funeral-field location-dropdown-container ${re.province?"error-field":""}`,children:[e.jsxs("label",{children:["Province",e.jsx("span",{className:"required-marker",children:"*"})]}),e.jsx("input",{type:"text",value:i.province,onChange:qe,onFocus:()=>$e("province"),placeholder:"Type to search",name:"province"}),re.province,u==="province"&&x.province.length>0&&e.jsx("div",{className:"location-dropdown",children:x.province.map((de,Me)=>e.jsx("div",{onClick:()=>Mt(de),className:"location-dropdown-item",children:de},Me))})]}),e.jsxs("div",{className:`client-funeral-field location-dropdown-container ${re.region?"error-field":""}`,children:[e.jsxs("label",{children:["Region",e.jsx("span",{className:"required-marker",children:"*"})]}),e.jsx("input",{type:"text",value:i.region,onChange:Ye,onFocus:()=>$e("region"),placeholder:"Type to search",name:"region"}),re.region,u==="region"&&x.region.length>0&&e.jsx("div",{className:"location-dropdown",children:x.region.map((de,Me)=>e.jsx("div",{onClick:()=>ke(de),className:"location-dropdown-item",children:de},Me))})]})]})]}),e.jsxs("div",{className:"client-funeral-requirements-container",children:[e.jsx("h2",{className:"client-funeral-requirements-title",children:"Requirements"}),Ne.length>0&&e.jsxs("div",{className:"client-funeral-error-summary",children:[e.jsx("p",{children:"The following required documents need to be uploaded and submitted:"}),e.jsx("ul",{children:Ne.map(de=>e.jsx("li",{children:de.replace(/_/g," ").split(" ").map(Me=>Me.charAt(0).toUpperCase()+Me.slice(1)).join(" ")},de))})]}),e.jsxs("div",{className:"client-funeral-requirements-box",children:[e.jsx("h3",{className:"client-funeral-section-header",children:"Documents Needed"}),e.jsxs("div",{className:"client-funeral-info-list",children:[e.jsx("div",{className:"client-funeral-info-item",children:e.jsx("p",{children:"Certificate of Death"})}),e.jsx("div",{className:"client-funeral-info-item",children:e.jsx("p",{children:"Parish Clearance"})}),e.jsx("div",{className:"client-funeral-info-item",children:e.jsx("p",{children:"Permit to Bury"})}),e.jsx("div",{className:"client-funeral-info-item",children:e.jsx("p",{children:"Certificate of Permission(if outside the Parish)"})})]}),e.jsx("h3",{className:"client-funeral-section-header",children:"Funeral Setup Requirements"}),e.jsxs("div",{className:"client-funeral-info-list",children:[e.jsx("div",{className:"client-funeral-info-item",children:e.jsx("p",{children:"Photos/memorial table allowed with limitations (not on the altar)"})}),e.jsx("div",{className:"client-funeral-info-item",children:e.jsx("p",{children:"Eulogies may be given before/after the Mass or at the cemetery"})}),e.jsx("div",{className:"client-funeral-info-item",children:e.jsx("p",{children:"Family and guests should wear respectful and modest attire"})}),e.jsx("div",{className:"client-funeral-info-item",children:e.jsx("p",{children:"No loud music, applause, or improper conduct during the Mass"})})]})]})]}),e.jsxs("div",{className:"client-funeral-button-container",children:[e.jsx("button",{className:"client-funeral-submit-btn",onClick:Ae,children:"Submit"}),e.jsx("button",{className:"client-funeral-cancel-btn",onClick:()=>t(-1),children:"Cancel"})]})]}),M&&e.jsx("div",{className:"client-funeral-modal-overlay",children:e.jsxs("div",{className:"client-funeral-modal",children:[e.jsx("h2",{children:"Submit Application"}),e.jsx("hr",{className:"client-funeral-custom-hr"}),e.jsx("p",{children:"Are you sure you want to submit your Funeral Mass application?"}),e.jsxs("div",{className:"client-funeral-modal-buttons",children:[e.jsx("button",{className:"client-funeral-yes-btn",onClick:Le,children:"Yes"}),e.jsx("button",{className:"client-funeral-modal-no-btn",onClick:()=>J(!1),children:"No"})]})]})}),K&&e.jsx("div",{className:"client-funeral-modal-overlay",children:e.jsxs("div",{className:"client-funeral-modal",children:[e.jsx("h2",{children:"Success"}),e.jsx("hr",{className:"client-funeral-custom-hr"}),e.jsx("p",{children:"Your Funeral Mass application has been submitted successfully!"}),e.jsx("div",{className:"client-funeral-modal-buttons",children:e.jsx("button",{className:"client-funeral-yes-btn",onClick:()=>H(!1),children:"OK"})})]})}),k&&e.jsx("div",{className:"client-funeral-modal-overlay",children:e.jsxs("div",{className:"client-funeral-modal",children:[e.jsx("h2",{children:"Error"}),e.jsx("hr",{className:"client-funeral-custom-hr"}),e.jsx("p",{children:D}),e.jsx("div",{className:"client-funeral-modal-buttons",children:e.jsx("button",{className:"client-funeral-modal-no-btn",onClick:()=>Y(!1),children:"OK"})})]})}),_&&e.jsx("div",{className:"client-funeral-modal-overlay",children:e.jsxs("div",{className:"client-funeral-modal",children:[e.jsx("h2",{children:"Processing Application"}),e.jsx("hr",{className:"client-funeral-custom-hr"}),e.jsx("p",{children:"Please wait while we submit your funeral mass application..."}),e.jsx("div",{className:"client-funeral-loading-spinner",children:e.jsx("div",{className:"client-funeral-spinner"})})]})})]})},uk=()=>{const a=oa(),t=Jt(),{clientID:s}=a.state||{};console.log("Received clientID:",s);const[i,r]=N.useState({preferredDate:"",preferredTime:"",firstName:"",middleName:"",lastName:"",gender:"",age:"",dateOfBirth:"",contactNumber:"",emailAddress:"",placeOfBirth:"",barangay:"",street:"",municipality:"",province:"",blessingType:"house",location:"",purpose:"",notes:""}),[c,A]=N.useState({barangay:"",municipality:"",province:""}),[d,h]=N.useState(!1),[u,v]=N.useState(!1),[x,y]=N.useState(!1),[p,F]=N.useState(!1),[b,S]=N.useState(""),[f,O]=N.useState({}),[M,J]=N.useState(!1),[K,H]=N.useState(null),[k,Y]=N.useState([]),[D,ge]=N.useState(!0),[_,X]=N.useState(null),[re,fe]=N.useState({barangay:[],municipality:[],province:[],birthBarangay:[],birthMunicipality:[],birthProvince:[]}),[Ne,ue]=N.useState([]),[_e,ce]=N.useState([]),[ye,Q]=N.useState([]),[ne,U]=N.useState([]),V=async()=>{try{const Ae=await aa.get("http://parishofdivinemercy.com/backend/get_location.php");Ae.data.success&&Y(Ae.data.locations)}catch(Ae){console.error("Error fetching locations:",Ae)}finally{ge(!1)}},T=async()=>{try{const Le=await(await fetch("http://parishofdivinemercy.com/backend/get_blessing_applications.php")).json();Le.success&&(U(Le.applications),console.log("Existing blessing applications:",Le.applications))}catch(Ae){console.error("Error fetching existing blessings:",Ae)}},ie=async()=>{try{const[Ae,Le]=await Promise.all([fetch("http://parishofdivinemercy.com/backend/schedule.php"),fetch("http://parishofdivinemercy.com/backend/get_blessing_applications.php")]),de=await Ae.json(),Me=await Le.json();if(de.success){const Ie=de.schedules.filter(ft=>ft.sacramentType.toLowerCase()==="blessing"),Ze=new Set;Me.success&&Me.applications.forEach(ft=>{Ze.add(`${ft.preferredDate}-${ft.preferredTime}`)});const nt=Ie.filter(ft=>{const It=`${ft.date}-${ft.time}`;return!Ze.has(It)});ue(nt);const ot=new Set,jt=[];nt.forEach(ft=>{ot.has(ft.date)||(ot.add(ft.date),jt.push(ft.date))}),ce(jt)}}catch(Ae){console.error("Error fetching blessing schedules:",Ae)}};N.useEffect(()=>{ie(),V(),T()},[]),N.useEffect(()=>{if(i.preferredDate){const Ae=Ne.filter(de=>de.date===i.preferredDate).map(de=>de.time),Le=[...new Set(Ae)];Q(Le),Le.includes(i.preferredTime)||r(de=>({...de,preferredTime:""}))}else Q([])},[i.preferredDate,Ne]);const ae=(Ae,Le=null,de=null)=>{if(Le&&Le.trim()!==""){const Ie=k.filter(nt=>nt.municipality===Le),Ze=[...new Set(Ie.map(nt=>nt.barangay))].sort();if(Ae&&Ae.trim()){const nt=Ae.toLowerCase();return Ze.filter(ot=>ot.toLowerCase().includes(nt))}return Ze}if(de&&de.trim()!==""){const Ie=k.filter(nt=>nt.province===de),Ze=[...new Set(Ie.map(nt=>nt.barangay))].sort();if(Ae&&Ae.trim()){const nt=Ae.toLowerCase();return Ze.filter(ot=>ot.toLowerCase().includes(nt))}return Ze}if(!Ae||!Ae.trim())return[...new Set(k.map(Ie=>Ie.barangay))].sort().slice(0,10);const Me=Ae.toLowerCase();return[...new Set(k.map(Ie=>Ie.barangay))].filter(Ie=>Ie.toLowerCase().includes(Me)).sort().slice(0,10)},P=(Ae,Le=null,de=null)=>{if(de&&de.trim()!==""){const Ie=k.filter(nt=>nt.barangay===de),Ze=[...new Set(Ie.map(nt=>nt.municipality))].sort();if(Ae&&Ae.trim()){const nt=Ae.toLowerCase();return Ze.filter(ot=>ot.toLowerCase().includes(nt))}return Ze}if(Le&&Le.trim()!==""){const Ie=k.filter(nt=>nt.province===Le),Ze=[...new Set(Ie.map(nt=>nt.municipality))].sort();if(Ae&&Ae.trim()){const nt=Ae.toLowerCase();return Ze.filter(ot=>ot.toLowerCase().includes(nt))}return Ze}if(!Ae||!Ae.trim())return[...new Set(k.map(Ie=>Ie.municipality))].sort().slice(0,10);const Me=Ae.toLowerCase();return[...new Set(k.map(Ie=>Ie.municipality))].filter(Ie=>Ie.toLowerCase().includes(Me)).sort().slice(0,10)},z=(Ae,Le=null,de=null)=>{if(Le&&Le.trim()!==""){const Ie=k.filter(nt=>nt.municipality===Le),Ze=[...new Set(Ie.map(nt=>nt.province))].sort();if(Ae&&Ae.trim()){const nt=Ae.toLowerCase();return Ze.filter(ot=>ot.toLowerCase().includes(nt))}return Ze}if(de&&de.trim()!==""){const Ie=k.filter(nt=>nt.barangay===de),Ze=[...new Set(Ie.map(nt=>nt.province))].sort();if(Ae&&Ae.trim()){const nt=Ae.toLowerCase();return Ze.filter(ot=>ot.toLowerCase().includes(nt))}return Ze}if(!Ae||!Ae.trim())return[...new Set(k.map(Ie=>Ie.province))].sort().slice(0,10);const Me=Ae.toLowerCase();return[...new Set(k.map(Ie=>Ie.province))].filter(Ie=>Ie.toLowerCase().includes(Me)).sort().slice(0,10)},B=Ae=>{const Le=Ae.target.value,de={...c,barangay:Le};A(de),he(de),_==="birthBarangay"&&fe(Me=>({...Me,birthBarangay:ae(Le,c.municipality,c.province)}))},q=Ae=>{const Le=Ae.target.value,de={...c,municipality:Le};A(de),he(de),_==="birthMunicipality"&&fe(Me=>({...Me,birthMunicipality:P(Le,c.province,c.barangay)}))},te=Ae=>{const Le=Ae.target.value,de={...c,province:Le};A(de),he(de),_==="birthProvince"&&fe(Me=>({...Me,birthProvince:z(Le)}))},he=Ae=>{const Le=Ae.barangay!==void 0?Ae.barangay:c.barangay,de=Ae.municipality!==void 0?Ae.municipality:c.municipality,Me=Ae.province!==void 0?Ae.province:c.province;let Ie=[];Le&&Ie.push(Le),de&&Ie.push(de),Me&&Ie.push(Me);const Ze=Ie.join(", ");Ze&&r(nt=>({...nt,placeOfBirth:Ze}))},W=Ae=>{const Le={...c,barangay:Ae};A(Le),he(Le),X(null);const de=k.find(Me=>Me.barangay===Ae);if(de){const Me={...Le};let Ie=!1;!Le.municipality&&de.municipality&&(Me.municipality=de.municipality,Ie=!0),!Le.province&&de.province&&(Me.province=de.province,Ie=!0),Ie&&(A(Me),he(Me))}},C=Ae=>{const Le={...c,municipality:Ae};A(Le),he(Le),X(null);const de=k.filter(Ie=>Ie.municipality===Ae),Me=[...new Set(de.map(Ie=>Ie.province))];if(Me.length===1&&!c.province){const Ie={...Le,province:Me[0]};A(Ie),he(Ie)}},Z=Ae=>{const Le={...c,province:Ae};A(Le),he(Le),X(null)},se=Ae=>{const Le=Ae.target.value;r(de=>({...de,barangay:Le})),_==="barangay"&&fe(de=>({...de,barangay:ae(Le,i.municipality,i.province)}))},Se=Ae=>{const Le=Ae.target.value;r(de=>({...de,municipality:Le})),_==="municipality"&&fe(de=>({...de,municipality:P(Le,i.province,i.barangay)}))},He=Ae=>{const Le=Ae.target.value;r(de=>({...de,province:Le})),_==="province"&&fe(de=>({...de,province:z(Le)}))},Qe=Ae=>{r(de=>({...de,barangay:Ae})),X(null);const Le=k.find(de=>de.barangay===Ae);Le&&(i.municipality||r(de=>({...de,municipality:Le.municipality})),i.province||r(de=>({...de,province:Le.province})))},qe=Ae=>{r(Me=>({...Me,municipality:Ae})),X(null);const Le=k.filter(Me=>Me.municipality===Ae),de=[...new Set(Le.map(Me=>Me.province))];de.length===1&&!i.province&&r(Me=>({...Me,province:de[0]}))},Ye=Ae=>{r(Le=>({...Le,province:Ae})),X(null)},st=Ae=>{switch(X(Ae),Ae){case"birthBarangay":fe(Le=>({...Le,birthBarangay:ae(c.barangay,c.municipality,c.province)}));break;case"birthMunicipality":fe(Le=>({...Le,birthMunicipality:P(c.municipality,c.province,c.barangay)}));break;case"birthProvince":fe(Le=>({...Le,birthProvince:z(c.province,c.municipality,c.barangay)}));break;case"barangay":fe(Le=>({...Le,barangay:ae(i.barangay||"",i.municipality,i.province)}));break;case"municipality":fe(Le=>({...Le,municipality:P(i.municipality||"",i.province,i.barangay)}));break;case"province":fe(Le=>({...Le,province:z(i.province||"",i.municipality,i.barangay)}));break}};N.useEffect(()=>{const Ae=Le=>{const de=document.querySelectorAll(".location-dropdown-container");let Me=!0;de.forEach(Ie=>{Ie.contains(Le.target)&&(Me=!1)}),Me&&X(null)};return document.addEventListener("mousedown",Ae),()=>{document.removeEventListener("mousedown",Ae)}},[]);const kt=Ae=>{const{name:Le,value:de}=Ae.target;r({...i,[Le]:de})},Mt=()=>{const Ae={};return[{name:"preferredDate",label:"Date of Blessing Ceremony"},{name:"preferredTime",label:"Time of Blessing Ceremony"},{name:"firstName",label:"First Name"},{name:"lastName",label:"Last Name"},{name:"contactNumber",label:"Contact Number"},{name:"emailAddress",label:"Email Address"},{name:"placeOfBirth",label:"Place of Birth"},{name:"barangay",label:"Barangay"},{name:"street",label:"Street"},{name:"municipality",label:"Municipality"},{name:"province",label:"Province"},{name:"purpose",label:"Purpose"}].forEach(de=>{(!i[de.name]||i[de.name].trim()==="")&&(Ae[de.name]=`${de.label} is required`)}),Ae},ke=()=>{const Ae=Mt();Object.keys(Ae).length>0?(O(Ae),J(!0),setTimeout(()=>{const de=Object.keys(Ae)[0],Me=document.querySelector(`[name="${de}"]`);Me&&(Me.scrollIntoView({behavior:"smooth",block:"center"}),H(Me))},100)):h(!0)},$e=async()=>{h(!1),F(!0);try{const Ae={street:i.street,barangay:i.barangay,municipality:i.municipality,province:i.province},Le={blessing_type:i.blessingType,purpose:i.purpose,note:i.notes},de=new FormData;de.append("clientID",s),de.append("blessingData",JSON.stringify({...i,placeOfBirth:i.placeOfBirth})),de.append("addressData",JSON.stringify(Ae)),de.append("blessingTypeData",JSON.stringify(Le));const Ie=await(await fetch("http://parishofdivinemercy.com/backend/blessing_application.php",{method:"POST",body:de})).json();if(Ie.success){try{const nt=await(await fetch("http://parishofdivinemercy.com/backend/send_blessing_email.php",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({clientID:s,blessingData:i})})).json();console.log("Email response:",nt)}catch(Ze){console.error("Error sending email:",Ze)}v(!0),F(!1),setTimeout(()=>{t("/client-appointment")},2e3)}else console.error("Server returned error:",Ie.message),S(Ie.message||"Failed to submit application"),y(!0),F(!1)}catch(Ae){console.error("Error submitting form:",Ae),S(Ae.message||"Error submitting application"),y(!0),F(!1)}};return e.jsxs("div",{className:"client-blessing-container",children:[e.jsx("div",{className:"client-blessing-header",children:e.jsxs("div",{className:"client-blessing-back-button",onClick:()=>t("/client-appointment"),children:[e.jsx(Oa,{})," Back"]})}),e.jsx("h1",{className:"client-blessing-title",children:"Blessing Registration Form"}),e.jsxs("div",{className:"client-blessing-data",children:[e.jsxs("div",{className:"client-blessing-row-date",children:[e.jsxs("div",{className:"client-blessing-field-date",children:[e.jsxs("label",{children:["Date of Appointment ",e.jsx("span",{className:"required-marker",children:"*"})]}),e.jsxs("select",{name:"preferredDate",className:M&&f.preferredDate?"input-error":"",value:i.preferredDate,onChange:Ae=>r(Le=>({...Le,preferredDate:Ae.target.value,preferredTime:""})),children:[e.jsx("option",{value:"",children:"Select Date"}),_e.map(Ae=>e.jsx("option",{value:Ae,children:Ae},Ae))]})]}),e.jsxs("div",{className:"client-blessing-field-time",children:[e.jsxs("label",{children:["Time of Appointment ",e.jsx("span",{className:"required-marker",children:"*"})]}),e.jsxs("select",{name:"preferredTime",className:M&&f.preferredTime?"input-error":"",value:i.preferredTime,onChange:Ae=>r(Le=>({...Le,preferredTime:Ae.target.value})),disabled:!i.preferredDate,children:[e.jsx("option",{value:"",children:"Select Time"}),ye.map(Ae=>e.jsx("option",{value:Ae,children:Ae},Ae))]})]})]}),e.jsxs("div",{className:"client-blessing-bypart",children:[e.jsx("h2",{className:"client-blessing-section-title",children:"Personal Information"}),e.jsxs("div",{className:"client-blessing-row",children:[e.jsxs("div",{className:`client-blessing-field ${M&&f.firstName?"field-error":""}`,children:[e.jsxs("label",{children:["First Name ",e.jsx("span",{className:"required-marker",children:"*"})]}),e.jsx("input",{type:"text",name:"firstName",value:i.firstName,onChange:kt,className:M&&f.firstName?"input-error":""})]}),e.jsxs("div",{className:"client-blessing-field",children:[e.jsx("label",{children:"Middle Name"}),e.jsx("input",{type:"text",name:"middleName",value:i.middleName,onChange:kt})]}),e.jsxs("div",{className:`client-blessing-field ${M&&f.lastName?"field-error":""}`,children:[e.jsxs("label",{children:["Last Name ",e.jsx("span",{className:"required-marker",children:"*"})]}),e.jsx("input",{type:"text",name:"lastName",value:i.lastName,onChange:kt,className:M&&f.lastName?"input-error":""})]}),e.jsxs("div",{className:`client-blessing-field ${M&&f.contactNumber?"field-error":""}`,children:[e.jsxs("label",{children:["Contact Number ",e.jsx("span",{className:"required-marker",children:"*"})]}),e.jsx("input",{type:"tel",name:"contactNumber",value:i.contactNumber,onChange:kt,className:M&&f.contactNumber?"input-error":""})]})]}),e.jsx("div",{className:"client-blessing-row",children:e.jsxs("div",{className:`client-blessing-field ${M&&f.emailAddress?"field-error":""}`,children:[e.jsxs("label",{children:["Email Address ",e.jsx("span",{className:"required-marker",children:"*"})]}),e.jsx("input",{type:"email",name:"emailAddress",value:i.emailAddress,onChange:kt,className:M&&f.emailAddress?"input-error":""})]})}),e.jsxs("label",{className:"sub-cc",children:["Place of Birth ",e.jsx("span",{className:"required-marker",children:"*"})]}),e.jsxs("div",{className:"client-blessing-row",children:[e.jsxs("div",{className:`client-blessing-field location-dropdown-container ${M&&f.placeOfBirth?"field-error":""}`,children:[e.jsx("label",{children:"Birth Barangay"}),e.jsx("input",{type:"text",placeholder:"Type to search",value:c.barangay,onChange:B,onFocus:()=>st("birthBarangay"),className:M&&f.placeOfBirth?"input-error":""}),_==="birthBarangay"&&re.birthBarangay.length>0&&e.jsx("div",{className:"location-dropdown",children:re.birthBarangay.map((Ae,Le)=>e.jsx("div",{onClick:()=>W(Ae),className:"location-dropdown-item",children:Ae},Le))})]}),e.jsxs("div",{className:`client-blessing-field location-dropdown-container ${M&&f.placeOfBirth?"field-error":""}`,children:[e.jsx("label",{children:"Birth Municipality"}),e.jsx("input",{type:"text",placeholder:"Type to search",value:c.municipality,onChange:q,onFocus:()=>st("birthMunicipality"),className:M&&f.placeOfBirth?"input-error":""}),_==="birthMunicipality"&&re.birthMunicipality.length>0&&e.jsx("div",{className:"location-dropdown",children:re.birthMunicipality.map((Ae,Le)=>e.jsx("div",{onClick:()=>C(Ae),className:"location-dropdown-item",children:Ae},Le))})]}),e.jsxs("div",{className:`client-blessing-field location-dropdown-container ${M&&f.placeOfBirth?"field-error":""}`,children:[e.jsx("label",{children:"Birth Province"}),e.jsx("input",{type:"text",placeholder:"Type to search",value:c.province,onChange:te,onFocus:()=>st("birthProvince"),className:M&&f.placeOfBirth?"input-error":""}),_==="birthProvince"&&re.birthProvince.length>0&&e.jsx("div",{className:"location-dropdown",children:re.birthProvince.map((Ae,Le)=>e.jsx("div",{onClick:()=>Z(Ae),className:"location-dropdown-item",children:Ae},Le))})]})]}),e.jsxs("label",{className:"sub-cc",children:["Current Address ",e.jsx("span",{className:"required-marker",children:"*"})]}),e.jsxs("div",{className:"client-blessing-row",children:[e.jsxs("div",{className:`client-blessing-field ${M&&f.street?"field-error":""}`,children:[e.jsxs("label",{children:["Street ",e.jsx("span",{className:"required-marker",children:"*"})]}),e.jsx("input",{name:"street",value:i.street||"",onChange:kt,placeholder:"Street",autoComplete:"off",className:M&&f.street?"input-error":""})]}),e.jsxs("div",{className:`client-blessing-field location-dropdown-container ${M&&f.barangay?"field-error":""}`,children:[e.jsxs("label",{children:["Barangay ",e.jsx("span",{className:"required-marker",children:"*"})]}),e.jsx("input",{name:"barangay",value:i.barangay||"",onChange:se,onFocus:()=>st("barangay"),placeholder:"Type to search",autoComplete:"off",className:M&&f.barangay?"input-error":""}),_==="barangay"&&re.barangay.length>0&&e.jsx("div",{className:"location-dropdown",children:re.barangay.map((Ae,Le)=>e.jsx("div",{onClick:()=>Qe(Ae),className:"location-dropdown-item",children:Ae},Le))})]}),e.jsxs("div",{className:`client-blessing-field location-dropdown-container ${M&&f.municipality?"field-error":""}`,children:[e.jsxs("label",{children:["Municipality ",e.jsx("span",{className:"required-marker",children:"*"})]}),e.jsx("input",{name:"municipality",value:i.municipality||"",onChange:Se,onFocus:()=>st("municipality"),placeholder:"Type to search",autoComplete:"off",className:M&&f.municipality?"input-error":""}),_==="municipality"&&re.municipality.length>0&&e.jsx("div",{className:"location-dropdown",children:re.municipality.map((Ae,Le)=>e.jsx("div",{onClick:()=>qe(Ae),className:"location-dropdown-item",children:Ae},Le))})]}),e.jsxs("div",{className:`client-blessing-field location-dropdown-container ${M&&f.province?"field-error":""}`,children:[e.jsxs("label",{children:["Province ",e.jsx("span",{className:"required-marker",children:"*"})]}),e.jsx("input",{name:"province",value:i.province||"",onChange:He,onFocus:()=>st("province"),placeholder:"Type to search",autoComplete:"off",className:M&&f.province?"input-error":""}),_==="province"&&re.province.length>0&&e.jsx("div",{className:"location-dropdown",children:re.province.map((Ae,Le)=>e.jsx("div",{onClick:()=>Ye(Ae),className:"location-dropdown-item",children:Ae},Le))})]})]}),e.jsxs("div",{className:"client-blessing-row",children:[e.jsxs("div",{className:"client-blessing-field",children:[e.jsxs("label",{children:["Blessing Type ",e.jsx("span",{className:"required-marker",children:"*"})]}),e.jsxs("select",{name:"blessingType",value:i.blessingType,onChange:kt,children:[e.jsx("option",{value:"house",children:"House Blessing"}),e.jsx("option",{value:"business",children:"Business Blessing"}),e.jsx("option",{value:"car",children:"Car Blessing"})]})]}),e.jsxs("div",{className:`client-blessing-field ${M&&f.purpose?"field-error":""}`,children:[e.jsxs("label",{children:["Purpose ",e.jsx("span",{className:"required-marker",children:"*"})]}),e.jsx("input",{type:"text",name:"purpose",value:i.purpose,onChange:kt,placeholder:"Brief description of the purpose for the blessing",className:M&&f.purpose?"input-error":""})]})]}),e.jsx("div",{className:"client-blessing-row",children:e.jsxs("div",{className:"client-blessing-field",children:[e.jsx("label",{children:"Notes"}),e.jsx("textarea",{name:"notes",value:i.notes,onChange:kt,placeholder:"Additional information or special requests",className:"client-blessing-textarea"})]})})]}),e.jsxs("div",{className:"client-blessing-button-container",children:[e.jsx("button",{className:"client-blessing-submit-btn",onClick:ke,children:"Submit"}),e.jsx("button",{className:"client-blessing-cancel-btn",onClick:()=>t("/client-appointment"),children:"Cancel"})]})]}),d&&e.jsx("div",{className:"client-blessing-modal-overlay",children:e.jsxs("div",{className:"client-blessing-modal",children:[e.jsx("h2",{children:"Submit Application"}),e.jsx("hr",{className:"client-blessing-custom-hr"}),e.jsxs("p",{children:["Are you sure you want to submit your ",i.blessingType.charAt(0).toUpperCase()+i.blessingType.slice(1)," Blessing application?"]}),e.jsxs("div",{className:"client-blessing-modal-buttons",children:[e.jsx("button",{className:"client-blessing-yes-btn",onClick:$e,children:"Yes"}),e.jsx("button",{className:"client-blessing-modal-no-btn",onClick:()=>h(!1),children:"No"})]})]})}),u&&e.jsx("div",{className:"client-blessing-modal-overlay",children:e.jsxs("div",{className:"client-blessing-modal",children:[e.jsx("h2",{children:"Success"}),e.jsx("hr",{className:"client-blessing-custom-hr"}),e.jsx("p",{children:"Your blessing application has been submitted successfully!"}),e.jsx("div",{className:"client-blessing-modal-buttons",children:e.jsx("button",{className:"client-blessing-yes-btn",onClick:()=>{v(!1),t("/client-appointment")},children:"OK"})})]})}),x&&e.jsx("div",{className:"client-blessing-modal-overlay",children:e.jsxs("div",{className:"client-blessing-modal",children:[e.jsx("h2",{children:"Error"}),e.jsx("hr",{className:"client-blessing-custom-hr"}),e.jsx("p",{children:b}),e.jsx("div",{className:"client-blessing-modal-buttons",children:e.jsx("button",{className:"client-blessing-modal-no-btn",onClick:()=>{y(!1),S("")},children:"OK"})})]})}),p&&e.jsx("div",{className:"client-blessing-modal-overlay",children:e.jsxs("div",{className:"client-blessing-modal",children:[e.jsx("h2",{children:"Processing Application"}),e.jsx("hr",{className:"client-blessing-custom-hr"}),e.jsx("p",{children:"Please wait while we submit your blessing application..."}),e.jsx("div",{className:"client-blessing-loading-spinner",children:e.jsx("div",{className:"client-blessing-spinner"})})]})})]})},hk=()=>{const a=oa(),t=Jt(),[s,i]=N.useState(!0),[r,c]=N.useState(null),[A,d]=N.useState(null);N.useEffect(()=>{var p,F;const x=(p=a.state)==null?void 0:p.baptismID,y=(F=a.state)==null?void 0:F.clientID;if(!x||!y){d("Missing baptism information. Please try again."),i(!1);return}h(x)},[a]);const h=async x=>{try{const p=await(await fetch(`https://parishofdivinemercy.com/backend/fetch_baptism_details.php?baptismID=${x}`)).json();if(p.success){const F=u(p.data);c(F)}else d(p.message||"Failed to fetch baptism details")}catch(y){console.error("Error fetching baptism details:",y),d("An error occurred while fetching the data")}finally{i(!1)}},u=x=>{const{baptism:y,parents:p,marital:F,address:b,godFathers:S,godMothers:f}=x;return{date:y.dateOfBaptism,time:y.timeOfBaptism,status:y.status,createdAt:y.created_at?new Date(y.created_at).toLocaleDateString():"N/A",child:{firstName:y.firstName,middleName:y.middleName,lastName:y.lastName,gender:y.sex,age:y.age,dateOfBirth:y.dateOfBirth,placeOfBirth:y.placeOfBirth,regionOfBirth:y.region||"N/A"},father:{firstName:(p==null?void 0:p.fatherFirstName)||"N/A",middleName:(p==null?void 0:p.fatherMiddleName)||"N/A",lastName:(p==null?void 0:p.fatherLastName)||"N/A",placeOfBirth:(p==null?void 0:p.fatherPlaceOfBirth)||"N/A",dateOfBirth:(p==null?void 0:p.fatherDateOfBirth)||"N/A",contact:(p==null?void 0:p.fatherContact)||"N/A"},mother:{firstName:(p==null?void 0:p.motherFirstName)||"N/A",middleName:(p==null?void 0:p.motherMiddleName)||"N/A",lastName:(p==null?void 0:p.motherLastName)||"N/A",placeOfBirth:(p==null?void 0:p.motherPlaceOfBirth)||"N/A",dateOfBirth:(p==null?void 0:p.motherDateOfBirth)||"N/A",contact:(p==null?void 0:p.motherContact)||"N/A"},maritalStatus:{type:(F==null?void 0:F.maritalStatus)||"N/A",yearsMarried:(F==null?void 0:F.yearsMarried)||"N/A"},address:{street:(b==null?void 0:b.street)||"N/A",barangay:(b==null?void 0:b.barangay)||"N/A",municipality:(b==null?void 0:b.municipality)||"N/A",province:(b==null?void 0:b.province)||"N/A",region:(b==null?void 0:b.region)||"N/A"},godParents:[...S.map(O=>({name:O,type:"godfather"})),...f.map(O=>({name:O,type:"godmother"}))]}},v=x=>e.jsx("div",{className:"client-view-value",children:x||"N/A"});return s?e.jsx("div",{className:"client-baptism-view-container",children:e.jsx("div",{className:"client-baptism-view-loading",children:"Loading baptism details..."})}):A?e.jsx("div",{className:"client-baptism-view-container",children:e.jsxs("div",{className:"client-baptism-view-error",children:[e.jsx("p",{children:A}),e.jsx("button",{onClick:()=>t("/client-appointment"),children:"Back to Appointments"})]})}):r?e.jsxs("div",{className:"client-baptism-view-container",children:[e.jsx("div",{className:"client-baptism-view-header",children:e.jsx("div",{className:"client-view-left-section",children:e.jsxs("button",{className:"client-view-back-button",onClick:()=>t("/client-appointment"),children:[e.jsx(Oa,{className:"client-view-back-icon"})," Back"]})})}),e.jsx("h1",{className:"client-view-title",children:"Baptism Application Details"}),e.jsxs("div",{className:"client-baptismal-view-data",children:[e.jsxs("div",{className:"client-baptismal-view-row-date",children:[e.jsxs("div",{className:"client-baptismal-view-field-date",children:[e.jsx("label",{children:"Date of Appointment:"}),v(r.date)]}),e.jsxs("div",{className:"client-baptismal-view-field-time",children:[e.jsx("label",{children:"Time of Appointment:"}),v(r.time)]})]}),e.jsxs("div",{className:"client-view-bypart",children:[e.jsx("h3",{className:"client-view-sub-title",children:"Baptism Information"}),e.jsxs("div",{className:"client-baptismal-view-info-card",children:[e.jsxs("div",{className:"client-baptismal-view-row",children:[e.jsxs("div",{className:"client-baptismal-view-field",children:[e.jsx("label",{children:"First Name of the Baptized:"}),v(r.child.firstName)]}),e.jsxs("div",{className:"client-baptismal-view-field",children:[e.jsx("label",{children:"Middle Name of the Baptized:"}),v(r.child.middleName)]}),e.jsxs("div",{className:"client-baptismal-view-field",children:[e.jsx("label",{children:"Last Name of the Baptized:"}),v(r.child.lastName)]})]}),e.jsxs("div",{className:"client-baptismal-view-row",children:[e.jsxs("div",{className:"client-baptismal-view-field",children:[e.jsx("label",{children:"Date of Birth:"}),v(r.child.dateOfBirth)]}),e.jsxs("div",{className:"client-baptismal-view-field",children:[e.jsx("label",{children:"Age:"}),v(r.child.age)]}),e.jsxs("div",{className:"client-baptismal-view-field",children:[e.jsx("label",{children:"Gender:"}),v(r.child.gender)]})]}),e.jsxs("div",{className:"client-baptismal-view-row",children:[e.jsxs("div",{className:"client-baptismal-view-field",children:[e.jsx("label",{children:"Place of Birth:"}),v(r.child.placeOfBirth)]}),e.jsxs("div",{className:"client-baptismal-view-field",children:[e.jsx("label",{children:"Region of Birth:"}),v(r.child.regionOfBirth)]})]})]}),e.jsx("h3",{className:"client-view-sub-title",children:"Father Information"}),e.jsxs("div",{className:"client-baptismal-view-info-card",children:[e.jsxs("div",{className:"client-baptismal-view-row",children:[e.jsxs("div",{className:"client-baptismal-view-field",children:[e.jsx("label",{children:"Father's First Name:"}),v(r.father.firstName)]}),e.jsxs("div",{className:"client-baptismal-view-field",children:[e.jsx("label",{children:"Father's Middle Name:"}),v(r.father.middleName)]}),e.jsxs("div",{className:"client-baptismal-view-field",children:[e.jsx("label",{children:"Father's Last Name:"}),v(r.father.lastName)]})]}),e.jsxs("div",{className:"client-baptismal-view-row",children:[e.jsxs("div",{className:"client-baptismal-view-field",children:[e.jsx("label",{children:"Father's Date of Birth:"}),v(r.father.dateOfBirth)]}),e.jsxs("div",{className:"client-baptismal-view-field",children:[e.jsx("label",{children:"Father's Contact Number:"}),v(r.father.contact)]}),e.jsxs("div",{className:"client-baptismal-view-field",children:[e.jsx("label",{children:"Father's Place of Birth:"}),v(r.father.placeOfBirth)]})]})]}),e.jsx("h3",{className:"client-view-sub-title",children:"Mother Information"}),e.jsxs("div",{className:"client-baptismal-view-info-card",children:[e.jsxs("div",{className:"client-baptismal-view-row",children:[e.jsxs("div",{className:"client-baptismal-view-field",children:[e.jsx("label",{children:"Mother's First Name:"}),v(r.mother.firstName)]}),e.jsxs("div",{className:"client-baptismal-view-field",children:[e.jsx("label",{children:"Mother's Middle Name:"}),v(r.mother.middleName)]}),e.jsxs("div",{className:"client-baptismal-view-field",children:[e.jsx("label",{children:"Mother's Last Name:"}),v(r.mother.lastName)]})]}),e.jsxs("div",{className:"client-baptismal-view-row",children:[e.jsxs("div",{className:"client-baptismal-view-field-fpob",children:[e.jsx("label",{children:"Mother's Date of Birth:"}),v(r.mother.dateOfBirth)]}),e.jsxs("div",{className:"client-baptismal-view-field",children:[e.jsx("label",{children:"Mother's Contact Number:"}),v(r.mother.contact)]}),e.jsxs("div",{className:"client-baptismal-view-field",children:[e.jsx("label",{children:"Mother's Place of Birth:"}),v(r.mother.placeOfBirth)]})]})]}),e.jsx("h3",{className:"client-view-sub-title",children:"Parents Marital Status"}),e.jsxs("div",{className:"client-baptismal-view-info-card",children:[e.jsxs("div",{className:"client-baptismal-view-row-pms",children:[e.jsxs("div",{className:"client-marital-view-status",children:[e.jsx("label",{className:"client-view-section-label",children:"Parents' marital status:"}),e.jsxs("div",{className:"client-marital-view-options",children:[e.jsxs("div",{className:`client-view-pms-label ${r.maritalStatus.type==="Married"?"client-view-selected-status":""}`,children:[e.jsx("span",{className:`client-view-checkbox ${r.maritalStatus.type==="Married"?"client-view-checked":""}`}),e.jsx("label",{children:"Married"})]}),e.jsxs("div",{className:`client-view-pms-label ${r.maritalStatus.type==="Civil"?"client-view-selected-status":""}`,children:[e.jsx("span",{className:`client-view-checkbox ${r.maritalStatus.type==="Civil"?"client-view-checked":""}`}),e.jsx("label",{children:"Civil"})]}),e.jsxs("div",{className:`client-view-pms-label ${r.maritalStatus.type==="Living Together"?"client-view-selected-status":""}`,children:[e.jsx("span",{className:`client-view-checkbox ${r.maritalStatus.type==="Living Together"?"client-view-checked":""}`}),e.jsx("label",{children:"Living Together"})]})]})]}),e.jsxs("div",{className:"client-years-view-married",children:[e.jsx("label",{children:"Number of Years Married: "}),e.jsx("span",{className:"client-view-years",children:r.maritalStatus.yearsMarried})]})]}),e.jsxs("div",{className:"client-baptismal-view-row client-address-view-row",children:[e.jsxs("div",{className:"client-baptismal-view-field",children:[e.jsx("label",{children:"Street:"}),v(r.address.street)]}),e.jsxs("div",{className:"client-baptismal-view-field",children:[e.jsx("label",{children:"Barangay:"}),v(r.address.barangay)]}),e.jsxs("div",{className:"client-baptismal-view-field",children:[e.jsx("label",{children:"Municipality:"}),v(r.address.municipality)]})]}),e.jsxs("div",{className:"client-baptismal-view-row client-address-view-row",children:[e.jsxs("div",{className:"client-baptismal-view-field",children:[e.jsx("label",{children:"Province:"}),v(r.address.province)]}),e.jsxs("div",{className:"client-baptismal-view-field",children:[e.jsx("label",{children:"Region:"}),v(r.address.region)]})]})]}),e.jsxs("div",{className:"client-view-bypart",children:[e.jsx("h3",{className:"client-view-sub-title",children:"Godparents Information"}),e.jsx("div",{className:"client-baptismal-view-info-card",children:r.godParents.map((x,y)=>e.jsxs("div",{className:"client-godparent-item",children:[e.jsx("h4",{className:"client-baptismal-view-godparent-header",children:x.type==="godfather"?"Godfather (Ninong)":"Godmother (Ninang)"}),e.jsx("div",{className:"client-baptismal-view-row",children:e.jsxs("div",{className:"client-baptismal-view-field",children:[e.jsx("label",{children:x.type==="godfather"?"Godfather's Name:":"Godmother's Name:"}),v(x.name)]})}),y<r.godParents.length-1&&e.jsx("hr",{className:"client-baptismal-view-godparent-divider"})]},y))})]})]}),e.jsxs("div",{className:"client-requirements-view-container",children:[e.jsx("h2",{className:"client-requirements-view-title",children:"Requirements"}),e.jsx("h3",{className:"client-view-section-header",children:"Documents Required"}),e.jsxs("div",{className:"client-info-view-list",children:[e.jsx("div",{className:"client-info-view-item",children:e.jsx("p",{children:"Birth Certificate of the Child (PSA or local civil registrar copy)"})}),e.jsx("div",{className:"client-info-view-item",children:e.jsx("p",{children:"Parents' Marriage Certificate (If married in the Church)"})}),e.jsx("div",{className:"client-info-view-item",children:e.jsx("p",{children:"Valid IDs of Parents and Godparents"})}),e.jsx("div",{className:"client-info-view-item",children:e.jsx("p",{children:"Certificate of Permission(If outside the Parish)"})})]}),e.jsx("h3",{className:"client-view-section-header",children:"Requirements for Parent"}),e.jsxs("div",{className:"client-info-view-list",children:[e.jsx("div",{className:"client-info-view-item",children:e.jsx("p",{children:"At least one parent must be Catholic"})}),e.jsx("div",{className:"client-info-view-item",children:e.jsx("p",{children:"Parents should be willing to raise the child in the Catholic faith"})}),e.jsx("div",{className:"client-info-view-item",children:e.jsx("p",{children:"Must attend Pre-Baptismal Seminar (Required in most parishes)"})})]}),e.jsx("h3",{className:"client-view-section-header",children:"Requirements for Godparents"}),e.jsxs("div",{className:"client-info-view-list",children:[e.jsx("div",{className:"client-info-view-item",children:e.jsx("p",{children:"Must be a practicing Catholic"})}),e.jsx("div",{className:"client-info-view-item",children:e.jsx("p",{children:"Must have received the Sacraments of Baptism, Confirmation, and Holy Eucharist"})}),e.jsx("div",{className:"client-info-view-item",children:e.jsx("p",{children:"Must be at least 16 years old"})}),e.jsx("div",{className:"client-info-view-item",children:e.jsx("p",{children:"If married, must be married in the Catholic Church"})}),e.jsx("div",{className:"client-info-view-item",children:e.jsx("p",{children:"Confirmation Certificate (Some parishes require this for proof of faith practice)"})}),e.jsx("div",{className:"client-info-view-item",children:e.jsx("p",{children:"Certificate of Permission (if outside the Parish)"})})]})]})]})]}):e.jsx("div",{className:"client-baptism-view-container",children:e.jsxs("div",{className:"client-baptism-view-error",children:[e.jsx("p",{children:"No baptism data found."}),e.jsx("button",{onClick:()=>t("/client-appointment"),children:"Back to Appointments"})]})})},mk=()=>{const a=oa(),t=Jt(),[s,i]=N.useState(!0),[r,c]=N.useState(null),[A,d]=N.useState(null);N.useEffect(()=>{var f,O;const b=(f=a.state)==null?void 0:f.marriageID,S=(O=a.state)==null?void 0:O.clientID;if(!b||!S){d("Missing marriage information. Please try again."),i(!1);return}h(b)},[a]);const h=async b=>{try{const f=await(await fetch(`https://parishofdivinemercy.com/backend/fetch_marriage_details.php?marriageID=${b}`)).json();f.success?c(f.data):d(f.message||"Failed to fetch marriage details")}catch(S){console.error("Error fetching marriage details:",S),d("An error occurred while fetching the data")}finally{i(!1)}},u=b=>e.jsx("div",{className:"client-view-value",children:b||"N/A"});if(s)return e.jsx("div",{className:"client-marriage-view-container",children:e.jsx("div",{className:"client-marriage-view-loading",children:"Loading marriage details..."})});if(A)return e.jsx("div",{className:"client-marriage-view-container",children:e.jsxs("div",{className:"client-marriage-view-error",children:[e.jsx("p",{children:A}),e.jsx("button",{onClick:()=>t("/client-appointment"),children:"Back to Appointments"})]})});if(!r)return e.jsx("div",{className:"client-marriage-view-container",children:e.jsxs("div",{className:"client-marriage-view-error",children:[e.jsx("p",{children:"No marriage data found."}),e.jsx("button",{onClick:()=>t("/client-appointment"),children:"Back to Appointments"})]})});const{marriage:v,groomAddress:x,brideAddress:y,firstWitness:p,secondWitness:F}=r;return e.jsxs("div",{className:"client-marriage-view-container",children:[e.jsx("div",{className:"client-marriage-view-header",children:e.jsx("div",{className:"client-view-left-section",children:e.jsxs("button",{className:"client-view-back-button",onClick:()=>t("/client-appointment"),children:[e.jsx(Oa,{className:"client-view-back-icon"})," Back"]})})}),e.jsx("h1",{className:"client-view-title",children:"Marriage Application Details"}),e.jsxs("div",{className:"client-marriage-view-data",children:[e.jsxs("div",{className:"client-view-bypart",children:[e.jsx("h3",{className:"client-view-sub-title",children:"Wedding Information"}),e.jsx("div",{className:"client-marriage-view-info-card",children:e.jsxs("div",{className:"client-marriage-view-row",children:[e.jsxs("div",{className:"client-marriage-view-field",children:[e.jsx("label",{children:"Date of Appointment:"}),u(v.date)]}),e.jsxs("div",{className:"client-marriage-view-field",children:[e.jsx("label",{children:"Time of Appointment:"}),u(v.time)]})]})})]}),e.jsxs("div",{className:"client-view-bypart",children:[e.jsx("h3",{className:"client-view-sub-title",children:"Groom's Information"}),e.jsxs("div",{className:"client-marriage-view-info-card",children:[e.jsxs("div",{className:"client-marriage-view-row",children:[e.jsxs("div",{className:"client-marriage-view-field",children:[e.jsx("label",{children:"First Name:"}),u(v.groom_first_name)]}),e.jsxs("div",{className:"client-marriage-view-field",children:[e.jsx("label",{children:"Middle Name:"}),u(v.groom_middle_name)]}),e.jsxs("div",{className:"client-marriage-view-field",children:[e.jsx("label",{children:"Last Name:"}),u(v.groom_last_name)]})]}),e.jsxs("div",{className:"client-marriage-view-row",children:[e.jsxs("div",{className:"client-marriage-view-field",children:[e.jsx("label",{children:"Age:"}),u(v.groom_age)]}),e.jsxs("div",{className:"client-marriage-view-field",children:[e.jsx("label",{children:"Date of Birth:"}),u(v.groom_dateOfBirth)]})]}),e.jsxs("div",{className:"client-marriage-view-row",children:[e.jsxs("div",{className:"client-marriage-view-field",children:[e.jsx("label",{children:"Date of Baptism:"}),u(v.groom_dateOfBaptism)]}),e.jsxs("div",{className:"client-marriage-view-field",children:[e.jsx("label",{children:"Church of Baptism:"}),u(v.groom_churchOfBaptism)]}),e.jsxs("div",{className:"client-marriage-view-field",children:[e.jsx("label",{children:"Place of Birth:"}),u(v.groom_placeOfBirth)]})]})]})]}),e.jsxs("div",{className:"client-view-bypart",children:[e.jsx("h3",{className:"client-view-sub-title",children:"Groom's Address"}),e.jsxs("div",{className:"client-marriage-view-info-card",children:[e.jsxs("div",{className:"client-marriage-view-row",children:[e.jsxs("div",{className:"client-marriage-view-field",children:[e.jsx("label",{children:"Street:"}),u(x.street)]}),e.jsxs("div",{className:"client-marriage-view-field",children:[e.jsx("label",{children:"Barangay:"}),u(x.barangay)]}),e.jsxs("div",{className:"client-marriage-view-field",children:[e.jsx("label",{children:"Municipality:"}),u(x.municipality)]})]}),e.jsxs("div",{className:"client-marriage-view-row",children:[e.jsxs("div",{className:"client-marriage-view-field",children:[e.jsx("label",{children:"Province:"}),u(x.province)]}),e.jsxs("div",{className:"client-marriage-view-field",children:[e.jsx("label",{children:"Region:"}),u(x.region)]})]})]})]}),e.jsxs("div",{className:"client-view-bypart",children:[e.jsx("h3",{className:"client-view-sub-title",children:"Bride's Information"}),e.jsxs("div",{className:"client-marriage-view-info-card",children:[e.jsxs("div",{className:"client-marriage-view-row",children:[e.jsxs("div",{className:"client-marriage-view-field",children:[e.jsx("label",{children:"First Name:"}),u(v.bride_first_name)]}),e.jsxs("div",{className:"client-marriage-view-field",children:[e.jsx("label",{children:"Middle Name:"}),u(v.bride_middle_name)]}),e.jsxs("div",{className:"client-marriage-view-field",children:[e.jsx("label",{children:"Last Name:"}),u(v.bride_last_name)]})]}),e.jsxs("div",{className:"client-marriage-view-row",children:[e.jsxs("div",{className:"client-marriage-view-field",children:[e.jsx("label",{children:"Age:"}),u(v.bride_age)]}),e.jsxs("div",{className:"client-marriage-view-field",children:[e.jsx("label",{children:"Date of Birth:"}),u(v.bride_dateOfBirth)]})]}),e.jsxs("div",{className:"client-marriage-view-row",children:[e.jsxs("div",{className:"client-marriage-view-field",children:[e.jsx("label",{children:"Date of Baptism:"}),u(v.bride_dateOfBaptism)]}),e.jsxs("div",{className:"client-marriage-view-field",children:[e.jsx("label",{children:"Church of Baptism:"}),u(v.bride_churchOfBaptism)]}),e.jsxs("div",{className:"client-marriage-view-field",children:[e.jsx("label",{children:"Place of Birth:"}),u(v.bride_placeOfBirth)]})]})]})]}),e.jsxs("div",{className:"client-view-bypart",children:[e.jsx("h3",{className:"client-view-sub-title",children:"Bride's Address"}),e.jsxs("div",{className:"client-marriage-view-info-card",children:[e.jsxs("div",{className:"client-marriage-view-row",children:[e.jsxs("div",{className:"client-marriage-view-field",children:[e.jsx("label",{children:"Street:"}),u(y.street)]}),e.jsxs("div",{className:"client-marriage-view-field",children:[e.jsx("label",{children:"Barangay:"}),u(y.barangay)]}),e.jsxs("div",{className:"client-marriage-view-field",children:[e.jsx("label",{children:"Municipality:"}),u(y.municipality)]})]}),e.jsxs("div",{className:"client-marriage-view-row",children:[e.jsxs("div",{className:"client-marriage-view-field",children:[e.jsx("label",{children:"Province:"}),u(y.province)]}),e.jsxs("div",{className:"client-marriage-view-field",children:[e.jsx("label",{children:"Region:"}),u(y.region)]})]})]})]}),e.jsxs("div",{className:"client-view-bypart",children:[e.jsx("h3",{className:"client-view-sub-title",children:"Witnesses"}),e.jsxs("div",{className:"client-marriage-view-info-card",children:[e.jsxs("div",{className:"client-witness-section",children:[e.jsx("h4",{className:"client-witness-header",children:"First Witness"}),e.jsxs("div",{className:"client-marriage-view-row",children:[e.jsxs("div",{className:"client-marriage-view-field",children:[e.jsx("label",{children:"First Name:"}),u(p.first_name)]}),e.jsxs("div",{className:"client-marriage-view-field",children:[e.jsx("label",{children:"Middle Name:"}),u(p.middle_name)]}),e.jsxs("div",{className:"client-marriage-view-field",children:[e.jsx("label",{children:"Last Name:"}),u(p.last_name)]})]}),e.jsxs("div",{className:"client-marriage-view-row",children:[e.jsxs("div",{className:"client-marriage-view-field",children:[e.jsx("label",{children:"Date of Birth:"}),u(p.dateOfBirth)]}),e.jsxs("div",{className:"client-marriage-view-field",children:[e.jsx("label",{children:"Age:"}),u(p.age)]}),e.jsxs("div",{className:"client-marriage-view-field",children:[e.jsx("label",{children:"Gender:"}),u(p.gender)]})]}),e.jsx("div",{className:"client-marriage-view-row",children:e.jsxs("div",{className:"client-marriage-view-field",children:[e.jsx("label",{children:"Contact Number:"}),u(p.contact_number)]})}),e.jsx("div",{className:"client-marriage-view-row",children:e.jsxs("div",{className:"client-marriage-view-field",children:[e.jsx("label",{children:"Address:"}),u(`${p.street}, ${p.barangay}, ${p.municipality}, ${p.province}, ${p.region}`)]})})]}),e.jsx("hr",{className:"client-witness-divider"}),e.jsxs("div",{className:"client-witness-section",children:[e.jsx("h4",{className:"client-witness-header",children:"Second Witness"}),e.jsxs("div",{className:"client-marriage-view-row",children:[e.jsxs("div",{className:"client-marriage-view-field",children:[e.jsx("label",{children:"First Name:"}),u(F.first_name)]}),e.jsxs("div",{className:"client-marriage-view-field",children:[e.jsx("label",{children:"Middle Name:"}),u(F.middle_name)]}),e.jsxs("div",{className:"client-marriage-view-field",children:[e.jsx("label",{children:"Last Name:"}),u(F.last_name)]})]}),e.jsxs("div",{className:"client-marriage-view-row",children:[e.jsxs("div",{className:"client-marriage-view-field",children:[e.jsx("label",{children:"Date of Birth:"}),u(F.dateOfBirth)]}),e.jsxs("div",{className:"client-marriage-view-field",children:[e.jsx("label",{children:"Age:"}),u(F.age)]}),e.jsxs("div",{className:"client-marriage-view-field",children:[e.jsx("label",{children:"Gender:"}),u(F.gender)]})]}),e.jsx("div",{className:"client-marriage-view-row",children:e.jsxs("div",{className:"client-marriage-view-field",children:[e.jsx("label",{children:"Contact Number:"}),u(F.contact_number)]})}),e.jsx("div",{className:"client-marriage-view-row",children:e.jsxs("div",{className:"client-marriage-view-field",children:[e.jsx("label",{children:"Address:"}),u(`${F.street}, ${F.barangay}, ${F.municipality}, ${F.province}, ${F.region}`)]})})]})]})]}),e.jsxs("div",{className:"client-requirements-view-container",children:[e.jsx("h2",{className:"client-requirements-view-title",children:"Requirements"}),e.jsx("h3",{className:"client-view-section-header",children:"Documents Requirements(Bring the following documents)"}),e.jsxs("div",{className:"client-info-view-list",children:[e.jsx("div",{className:"client-info-view-item",children:e.jsx("p",{children:"Certificate of Baptism"})}),e.jsx("div",{className:"client-info-view-item",children:e.jsx("p",{children:"Certificate of Confirmation"})}),e.jsx("div",{className:"client-info-view-item",children:e.jsx("p",{children:"Birth Certificate"})}),e.jsx("div",{className:"client-info-view-item",children:e.jsx("p",{children:"Certificate of No Marriage"})}),e.jsx("div",{className:"client-info-view-item",children:e.jsx("p",{children:"Publication of Banns"})}),e.jsx("div",{className:"client-info-view-item",children:e.jsx("p",{children:"Permit from Proper Parish"})}),e.jsx("div",{className:"client-info-view-item",children:e.jsx("p",{children:"Pre-Cana Seminar or Marriage Preparation Program"})}),e.jsx("div",{className:"client-info-view-item",children:e.jsx("p",{children:"Complete list of sponsors"})}),e.jsx("div",{className:"client-info-view-item",children:e.jsx("p",{children:"Canonical Interview/Examination"})}),e.jsx("div",{className:"client-info-view-item",children:e.jsx("p",{children:"Certificate of Permission (if outside the Parish)"})})]}),e.jsx("h3",{className:"client-view-section-header",children:"Marriage Requirements Information"}),e.jsxs("div",{className:"client-info-view-list",children:[e.jsx("div",{className:"client-info-view-item",children:e.jsx("p",{children:"Both parties must be free to marry in the Catholic Church"})}),e.jsx("div",{className:"client-info-view-item",children:e.jsx("p",{children:"At least one party must be Catholic"})}),e.jsx("div",{className:"client-info-view-item",children:e.jsx("p",{children:"Completion of Pre-Cana (Pre-Marriage) Seminar"})}),e.jsx("div",{className:"client-info-view-item",children:e.jsx("p",{children:"Valid government-issued marriage license"})}),e.jsx("div",{className:"client-info-view-item",children:e.jsx("p",{children:"Canonical interview with the parish priest"})}),e.jsx("div",{className:"client-info-view-item",children:e.jsx("p",{children:"Two witnesses present at the ceremony"})})]})]})]})]})},fk=()=>{const a=oa(),t=Jt(),[s,i]=N.useState(!0),[r,c]=N.useState(null),[A,d]=N.useState(null);N.useEffect(()=>{var S,f;const F=(S=a.state)==null?void 0:S.communionID,b=(f=a.state)==null?void 0:f.clientID;if(!F||!b){d("Missing communion information. Please try again."),i(!1);return}h(F)},[a]);const h=async F=>{try{const S=await(await fetch(`https://parishofdivinemercy.com/backend/fetch_communion_details.php?communionID=${F}`)).json();S.success?c(S.data):d(S.message||"Failed to fetch communion details")}catch(b){console.error("Error fetching communion details:",b),d("An error occurred while fetching the data")}finally{i(!1)}},u=F=>e.jsx("div",{className:"client-view-value",children:F||"N/A"});if(s)return e.jsx("div",{className:"client-communion-view-container",children:e.jsx("div",{className:"loading",children:"Loading communion details..."})});if(A)return e.jsx("div",{className:"client-communion-view-container",children:e.jsxs("div",{className:"error",children:[e.jsx("p",{children:A}),e.jsx("button",{onClick:()=>t("/client-appointment"),children:"Back to Appointments"})]})});if(!r)return e.jsx("div",{className:"client-communion-view-container",children:e.jsxs("div",{className:"error",children:[e.jsx("p",{children:"No communion data found."}),e.jsx("button",{onClick:()=>t("/client-appointment"),children:"Back to Appointments"})]})});const{communion:v,address:x,father:y,mother:p}=r;return e.jsxs("div",{className:"client-communion-view-container",children:[e.jsx("div",{className:"client-communion-view-header",children:e.jsx("div",{className:"client-view-left-section",children:e.jsxs("button",{className:"client-view-back-button",onClick:()=>t("/client-appointment"),children:[e.jsx(Oa,{className:"client-view-back-icon"})," Back"]})})}),e.jsx("h1",{className:"client-view-title",children:"Holy Communion Application Details"}),e.jsxs("div",{className:"client-communion-view-data",children:[e.jsx("div",{className:"client-communion-view-info-card",children:e.jsxs("div",{className:"client-communion-view-row-date",children:[e.jsxs("div",{className:"client-communion-view-field-date",children:[e.jsx("label",{children:"Date of Appointment:"}),u(v.date)]}),e.jsxs("div",{className:"client-communion-view-field-time",children:[e.jsx("label",{children:"Time of Appointment:"}),u(v.time)]})]})}),e.jsxs("div",{className:"client-view-bypart",children:[e.jsx("h3",{className:"client-view-sub-title",children:"Child's Information"}),e.jsxs("div",{className:"client-communion-view-info-card",children:[e.jsxs("div",{className:"client-communion-view-row",children:[e.jsxs("div",{className:"client-communion-view-field",children:[e.jsx("label",{children:"First Name"}),u(v.first_name)]}),e.jsxs("div",{className:"client-communion-view-field",children:[e.jsx("label",{children:"Middle Name"}),u(v.middle_name)]}),e.jsxs("div",{className:"client-communion-view-field",children:[e.jsx("label",{children:"Last Name"}),u(v.last_name)]}),e.jsxs("div",{className:"client-communion-view-field",children:[e.jsx("label",{children:"Date of Birth"}),u(v.dateOfBirth)]})]}),e.jsxs("div",{className:"client-communion-view-row",children:[e.jsxs("div",{className:"client-communion-view-field",children:[e.jsx("label",{children:"Age"}),u(v.age)]}),e.jsxs("div",{className:"client-communion-view-field",children:[e.jsx("label",{children:"Gender"}),u(v.gender)]}),e.jsxs("div",{className:"client-communion-view-field",children:[e.jsx("label",{children:"Date of Baptism"}),u(v.dateOfBaptism)]}),e.jsxs("div",{className:"client-communion-view-field",children:[e.jsx("label",{children:"Church of Baptism"}),u(v.churchOfBaptism)]})]}),e.jsx("div",{className:"client-communion-view-row",children:e.jsxs("div",{className:"client-communion-view-field",children:[e.jsx("label",{children:"Place of Birth"}),u(v.placeOfBirth)]})}),e.jsxs("div",{className:"client-communion-view-row",children:[e.jsxs("div",{className:"client-communion-view-field",children:[e.jsx("label",{children:"Street"}),e.jsx("div",{className:"client-view-value-add",children:x.street})]}),e.jsxs("div",{className:"client-communion-view-field",children:[e.jsx("label",{children:"Barangay"}),e.jsx("div",{className:"client-view-value-add",children:x.barangay})]}),e.jsxs("div",{className:"client-communion-view-field",children:[e.jsx("label",{children:"Municipality"}),e.jsx("div",{className:"client-view-value-add",children:x.municipality})]}),e.jsxs("div",{className:"client-communion-view-field",children:[e.jsx("label",{children:"Province"}),e.jsx("div",{className:"client-view-value-add",children:x.province})]}),e.jsxs("div",{className:"client-communion-view-field",children:[e.jsx("label",{children:"Region"}),e.jsx("div",{className:"client-view-value-add",children:x.region})]})]})]}),e.jsx("h3",{className:"client-view-sub-title",children:"Father's Information"}),e.jsxs("div",{className:"client-communion-view-info-card",children:[e.jsxs("div",{className:"client-communion-view-row",children:[e.jsxs("div",{className:"client-communion-view-field",children:[e.jsx("label",{children:"Father's First Name"}),u(y.first_name)]}),e.jsxs("div",{className:"client-communion-view-field",children:[e.jsx("label",{children:"Father's Middle Name"}),u(y.middle_name)]}),e.jsxs("div",{className:"client-communion-view-field",children:[e.jsx("label",{children:"Father's Last Name"}),u(y.last_name)]})]}),e.jsxs("div",{className:"client-communion-view-row",children:[e.jsxs("div",{className:"client-communion-view-field",children:[e.jsx("label",{children:"Father's Date of Birth"}),u(y.dateOfBirth)]}),e.jsxs("div",{className:"client-communion-view-field",children:[e.jsx("label",{children:"Father's Contact Number"}),u(y.contact_number)]}),e.jsxs("div",{className:"client-communion-view-field",children:[e.jsx("label",{children:"Father's Place of Birth"}),u(y.placeOfBirth)]})]})]}),e.jsx("h3",{className:"client-view-sub-title",children:"Mother's Information"}),e.jsxs("div",{className:"client-communion-view-info-card",children:[e.jsxs("div",{className:"client-communion-view-row",children:[e.jsxs("div",{className:"client-communion-view-field",children:[e.jsx("label",{children:"Mother's First Name"}),u(p.first_name)]}),e.jsxs("div",{className:"client-communion-view-field",children:[e.jsx("label",{children:"Mother's Middle Name"}),u(p.middle_name)]}),e.jsxs("div",{className:"client-communion-view-field",children:[e.jsx("label",{children:"Mother's Last Name"}),u(p.last_name)]})]}),e.jsxs("div",{className:"client-communion-view-row",children:[e.jsxs("div",{className:"client-communion-view-field",children:[e.jsx("label",{children:"Mother's Date of Birth"}),u(p.dateOfBirth)]}),e.jsxs("div",{className:"client-communion-view-field",children:[e.jsx("label",{children:"Mother's Contact Number"}),u(p.contact_number)]}),e.jsxs("div",{className:"client-communion-view-field",children:[e.jsx("label",{children:"Mother's Place of Birth"}),u(p.placeOfBirth)]})]})]})]}),e.jsxs("div",{className:"client-requirements-view-container",children:[e.jsx("h2",{className:"client-requirements-view-title",children:"Requirements"}),e.jsxs("div",{className:"client-requirements-view-box",children:[e.jsx("h3",{className:"client-view-section-header",children:"Documents Status"}),e.jsxs("div",{className:"client-info-view-list",children:[e.jsx("div",{className:"client-info-view-item",children:e.jsx("p",{children:"Certificate of Baptism(Proof of Catholic Baptism)"})}),e.jsx("div",{className:"client-info-view-item",children:e.jsx("p",{children:"First Communion Certificate(If Applicable, for record purposes)"})}),e.jsx("div",{className:"client-info-view-item",children:e.jsx("p",{children:"Birth Certificate(For verification purposes)"})}),e.jsx("div",{className:"client-info-view-item",children:e.jsx("p",{children:"Certificate of Permission(If outside the Parish)"})})]}),e.jsx("h3",{className:"client-view-section-header",children:"Requirements for Candidate"}),e.jsxs("div",{className:"client-info-view-list",children:[e.jsx("div",{className:"client-info-view-item",children:e.jsx("p",{children:"Must be a baptized Catholic"})}),e.jsx("div",{className:"client-info-view-item",children:e.jsx("p",{children:"Must have reached the age of reason (usually around 7 years old)"})}),e.jsx("div",{className:"client-info-view-item",children:e.jsx("p",{children:"Must have received the Sacrament of Reconciliation (Confession) before First Communion"})}),e.jsx("div",{className:"client-info-view-item",children:e.jsx("p",{children:"Must attend a First Communion Catechesis or Religious Instruction Program"})}),e.jsx("div",{className:"client-info-view-item",children:e.jsx("p",{children:"Must understand the significance of the Holy Eucharist and believe in the real presence of Christ in the sacrament"})}),e.jsx("div",{className:"client-info-view-item",children:e.jsx("p",{children:"Must attend a First Communion Retreat (if required by the parish)"})})]}),e.jsx("h3",{className:"client-view-section-header",children:"Parish Requirements"}),e.jsxs("div",{className:"client-info-view-list",children:[e.jsx("div",{className:"client-info-view-item",children:e.jsx("p",{children:"Must be registered in the parish where First Communion will be received"})}),e.jsx("div",{className:"client-info-view-item",children:e.jsx("p",{children:"Must attend the required preparation classes and rehearsals"})}),e.jsx("div",{className:"client-info-view-item",children:e.jsx("p",{children:"Must participate in a First Communion Retreat (if required by the parish)"})})]}),e.jsx("h3",{className:"client-view-section-header",children:"Dress Code (If Specified by Parish)"}),e.jsxs("div",{className:"client-info-view-list",children:[e.jsx("div",{className:"client-info-view-item",children:e.jsx("p",{children:"Boys: White polo or barong, black pants, and formal shoes"})}),e.jsx("div",{className:"client-info-view-item",children:e.jsx("p",{children:"Girls: White dress with sleeves (modest), white veil (optional), and formal shoes"})})]})]})]})]})]})},pk=()=>{const a=oa(),t=Jt(),[s,i]=N.useState(!0),[r,c]=N.useState(null),[A,d]=N.useState(null);N.useEffect(()=>{var S,f;const F=(S=a.state)==null?void 0:S.confirmationID,b=(f=a.state)==null?void 0:f.clientID;if(!F||!b){d("Missing confirmation information. Please try again."),i(!1);return}h(F)},[a]);const h=async F=>{try{const S=await(await fetch(`https://parishofdivinemercy.com/backend/fetch_confirmation_details.php?confirmationID=${F}`)).json();S.success?c(S.data):d(S.message||"Failed to fetch confirmation details")}catch(b){console.error("Error fetching confirmation details:",b),d("An error occurred while fetching the data")}finally{i(!1)}},u=F=>e.jsx("div",{className:"client-view-value",children:F||"N/A"});if(s)return e.jsx("div",{className:"client-kumpil-view-container",children:e.jsx("div",{className:"loading",children:"Loading confirmation details..."})});if(A)return e.jsx("div",{className:"client-kumpil-view-container",children:e.jsxs("div",{className:"error",children:[e.jsx("p",{children:A}),e.jsx("button",{onClick:()=>t("/client-appointment"),children:"Back to Appointments"})]})});if(!r)return e.jsx("div",{className:"client-kumpil-view-container",children:e.jsxs("div",{className:"error",children:[e.jsx("p",{children:"No confirmation data found."}),e.jsx("button",{onClick:()=>t("/client-appointment"),children:"Back to Appointments"})]})});const{confirmation:v,address:x,father:y,mother:p}=r;return e.jsxs("div",{className:"client-kumpil-view-container",children:[e.jsx("div",{className:"client-kumpil-view-header",children:e.jsx("div",{className:"client-view-left-section",children:e.jsxs("button",{className:"client-view-back-button",onClick:()=>t("/client-appointment"),children:[e.jsx(Oa,{className:"client-view-back-icon"})," Back"]})})}),e.jsx("h1",{className:"client-view-title",children:"Confirmation Application Details"}),e.jsxs("div",{className:"client-kumpil-view-data",children:[e.jsx("div",{className:"client-kumpil-view-info-card",children:e.jsxs("div",{className:"client-kumpil-view-row-date",children:[e.jsxs("div",{className:"client-kumpil-view-field-date",children:[e.jsx("label",{children:"Date of Appointment:"}),u(v.date)]}),e.jsxs("div",{className:"client-kumpil-view-field-time",children:[e.jsx("label",{children:"Time of Appointment:"}),u(v.time)]})]})}),e.jsxs("div",{className:"client-view-bypart",children:[e.jsx("h3",{className:"client-view-sub-title",children:"Personal Information"}),e.jsxs("div",{className:"client-kumpil-view-info-card",children:[e.jsxs("div",{className:"client-kumpil-view-row",children:[e.jsxs("div",{className:"client-kumpil-view-field",children:[e.jsx("label",{children:"First Name"}),u(v.first_name)]}),e.jsxs("div",{className:"client-kumpil-view-field",children:[e.jsx("label",{children:"Middle Name"}),u(v.middle_name)]}),e.jsxs("div",{className:"client-kumpil-view-field",children:[e.jsx("label",{children:"Last Name"}),u(v.last_name)]}),e.jsxs("div",{className:"client-kumpil-view-field",children:[e.jsx("label",{children:"Date of Birth"}),u(v.dateOfBirth)]})]}),e.jsxs("div",{className:"client-kumpil-view-row",children:[e.jsxs("div",{className:"client-kumpil-view-field",children:[e.jsx("label",{children:"Age"}),u(v.age)]}),e.jsxs("div",{className:"client-kumpil-view-field",children:[e.jsx("label",{children:"Gender"}),u(v.gender)]}),e.jsxs("div",{className:"client-kumpil-view-field",children:[e.jsx("label",{children:"Date of Baptism"}),u(v.dateOfBaptism)]}),e.jsxs("div",{className:"client-kumpil-view-field",children:[e.jsx("label",{children:"Church of Baptism"}),u(v.churchOfBaptism)]})]}),e.jsx("label",{className:"sub-mini-cc",children:"Place of Birth"}),e.jsx("div",{className:"client-kumpil-view-row",children:e.jsxs("div",{className:"client-kumpil-view-field",children:[e.jsx("label",{children:"Place of Birth"}),u(v.placeOfBirth)]})}),e.jsx("label",{className:"sub-mini-cc",children:"Home Address"}),e.jsxs("div",{className:"client-kumpil-view-row",children:[e.jsxs("div",{className:"client-kumpil-view-field",children:[e.jsx("label",{children:"Street"}),e.jsx("div",{className:"client-view-value-add",children:x.street})]}),e.jsxs("div",{className:"client-kumpil-view-field",children:[e.jsx("label",{children:"Barangay"}),e.jsx("div",{className:"client-view-value-add",children:x.barangay})]}),e.jsxs("div",{className:"client-kumpil-view-field",children:[e.jsx("label",{children:"Municipality"}),e.jsx("div",{className:"client-view-value-add",children:x.municipality})]}),e.jsxs("div",{className:"client-kumpil-view-field",children:[e.jsx("label",{children:"Province"}),e.jsx("div",{className:"client-view-value-add",children:x.province})]}),e.jsxs("div",{className:"client-kumpil-view-field",children:[e.jsx("label",{children:"Region"}),e.jsx("div",{className:"client-view-value-add",children:x.region})]})]})]}),e.jsx("h3",{className:"client-view-sub-title",children:"Father's Information"}),e.jsxs("div",{className:"client-kumpil-view-info-card",children:[e.jsxs("div",{className:"client-kumpil-view-row",children:[e.jsxs("div",{className:"client-kumpil-view-field",children:[e.jsx("label",{children:"First Name"}),u(y.first_name)]}),e.jsxs("div",{className:"client-kumpil-view-field",children:[e.jsx("label",{children:"Middle Name"}),u(y.middle_name)]}),e.jsxs("div",{className:"client-kumpil-view-field",children:[e.jsx("label",{children:"Last Name"}),u(y.last_name)]})]}),e.jsxs("div",{className:"client-kumpil-view-row",children:[e.jsxs("div",{className:"client-kumpil-view-field",children:[e.jsx("label",{children:"Date of Birth"}),u(y.dateOfBirth)]}),e.jsxs("div",{className:"client-kumpil-view-field",children:[e.jsx("label",{children:"Contact Number"}),u(y.contact_number)]}),e.jsxs("div",{className:"client-kumpil-view-field",children:[e.jsx("label",{children:"Place of Birth"}),u(y.placeOfBirth)]})]})]}),e.jsx("h3",{className:"client-view-sub-title",children:"Mother's Information"}),e.jsxs("div",{className:"client-kumpil-view-info-card",children:[e.jsxs("div",{className:"client-kumpil-view-row",children:[e.jsxs("div",{className:"client-kumpil-view-field",children:[e.jsx("label",{children:"First Name"}),u(p.first_name)]}),e.jsxs("div",{className:"client-kumpil-view-field",children:[e.jsx("label",{children:"Middle Name"}),u(p.middle_name)]}),e.jsxs("div",{className:"client-kumpil-view-field",children:[e.jsx("label",{children:"Last Name"}),u(p.last_name)]})]}),e.jsxs("div",{className:"client-kumpil-view-row",children:[e.jsxs("div",{className:"client-kumpil-view-field",children:[e.jsx("label",{children:"Date of Birth"}),u(p.dateOfBirth)]}),e.jsxs("div",{className:"client-kumpil-view-field",children:[e.jsx("label",{children:"Contact Number"}),u(p.contact_number)]}),e.jsxs("div",{className:"client-kumpil-view-field",children:[e.jsx("label",{children:"Place of Birth"}),u(p.placeOfBirth)]})]})]})]}),e.jsxs("div",{className:"client-requirements-view-container",children:[e.jsx("h2",{className:"client-requirements-view-title",children:"Requirements"}),e.jsxs("div",{className:"client-requirements-view-box",children:[e.jsx("h3",{className:"client-view-section-header",children:"Requirements Documents"}),e.jsxs("div",{className:"client-info-view-list",children:[e.jsx("div",{className:"client-info-view-item",children:e.jsx("div",{className:"client-view-req-label",children:e.jsx("p",{children:"Certificate of Baptism"})})}),e.jsx("div",{className:"client-info-view-item",children:e.jsx("div",{className:"client-view-req-label",children:e.jsx("p",{children:"Birth Certificate"})})}),e.jsx("div",{className:"client-info-view-item",children:e.jsx("div",{className:"client-view-req-label",children:e.jsx("p",{children:"Valid ID for the candidate"})})}),e.jsx("div",{className:"client-info-view-item",children:e.jsx("div",{className:"client-view-req-label",children:e.jsx("p",{children:"Must receive the Sacrament of Confession before Confirmation"})})})]}),e.jsx("h3",{className:"client-view-section-header",children:"Requirements for Candidate"}),e.jsxs("div",{className:"client-info-view-list",children:[e.jsx("div",{className:"client-info-view-item",children:e.jsx("div",{className:"client-view-req-label",children:e.jsx("p",{children:"Must have received the Sacraments of Baptism and Holy Eucharist"})})}),e.jsx("div",{className:"client-info-view-item",children:e.jsx("div",{className:"client-view-req-label",children:e.jsx("p",{children:"Must be at least 12 years old (Age requirement may vary by parish)"})})}),e.jsx("div",{className:"client-info-view-item",children:e.jsx("div",{className:"client-view-req-label",children:e.jsx("p",{children:"Must attend Catechism Classes or Confirmation Seminar"})})}),e.jsx("div",{className:"client-info-view-item",children:e.jsx("div",{className:"client-view-req-label",children:e.jsx("p",{children:"Must receive the Sacrament of Confession before Confirmation"})})}),e.jsx("div",{className:"client-info-view-item",children:e.jsx("div",{className:"client-view-req-label",children:e.jsx("p",{children:"Must attend a Confirmation Retreat (if required by parish)"})})})]})]})]})]})]})},gk=()=>{var F,b,S,f,O,M,J,K;const a=oa(),t=Jt(),{clientID:s,blessingID:i,viewOnly:r,appointmentData:c}=a.state||{},[A,d]=N.useState(!0),[h,u]=N.useState(null),[v,x]=N.useState(null);N.useEffect(()=>{i?y():d(!1)},[i]);const y=async()=>{try{d(!0);const k=await(await fetch(`https://parishofdivinemercy.com/backend/fetch_blessing_details.php?blessingID=${i}`)).json();k.success?u(k.data):x(k.message||"Failed to fetch blessing details")}catch(H){console.error("Error fetching blessing details:",H),x("Error fetching blessing details. Please try again later.")}finally{d(!1)}};if(A)return e.jsx("div",{className:"client-blessing-view-container",children:e.jsx("div",{className:"client-blessing-view-loading",children:e.jsx("p",{children:"Loading blessing details..."})})});if(v)return e.jsx("div",{className:"client-blessing-view-container",children:e.jsxs("div",{className:"client-blessing-view-error",children:[e.jsx("h2",{children:"Error"}),e.jsx("p",{children:v}),e.jsx("button",{className:"client-blessing-view-back-button",onClick:()=>t("/client-appointment"),children:"Back to Appointments"})]})});const p=h?{preferredDate:h.blessing.preferredDate,preferredTime:h.blessing.preferredTime,firstName:h.blessing.firstName,middleName:h.blessing.middleName,lastName:h.blessing.lastName,contactNumber:h.blessing.contactNumber,emailAddress:h.blessing.emailAddress,placeOfBirth:h.blessing.placeOfBirth,status:h.blessing.status,dateCreated:h.blessing.dateCreated,street:((F=h.address)==null?void 0:F.street)||"",barangay:((b=h.address)==null?void 0:b.barangay)||"",municipality:((S=h.address)==null?void 0:S.municipality)||"",province:((f=h.address)==null?void 0:f.province)||"",blessingType:((O=h.type)==null?void 0:O.blessing_type)||"house",purpose:((M=h.type)==null?void 0:M.purpose)||"",notes:((J=h.type)==null?void 0:J.note)||""}:c||{preferredDate:"Not specified",preferredTime:"Not specified",firstName:"Not specified",middleName:"",lastName:"Not specified",contactNumber:"Not specified",emailAddress:"Not specified",placeOfBirth:"Not specified",blessingType:"house",street:"Not specified",barangay:"Not specified",municipality:"Not specified",province:"Not specified",purpose:"Not specified",notes:""};return e.jsxs("div",{className:"client-blessing-view-container",children:[e.jsx("div",{className:"client-blessing-view-header",children:e.jsx("div",{className:"client-blessing-view-left-section",children:e.jsxs("button",{className:"client-blessing-view-back-button",onClick:()=>t("/client-appointment"),children:[e.jsx(Oa,{className:"client-blessing-view-back-icon"})," Back"]})})}),e.jsx("h1",{className:"client-blessing-view-title",children:"Blessing Ceremony Application Details"}),e.jsx("div",{className:"client-blessing-view-status-container",children:e.jsx("span",{className:`client-blessing-view-application-status client-blessing-view-status-${((K=p.status)==null?void 0:K.toLowerCase())||"pending"}`,children:p.status||"Pending"})}),e.jsxs("div",{className:"client-blessing-view-data",children:[e.jsx("div",{className:"client-blessing-view-info-card",children:e.jsxs("div",{className:"client-blessing-view-row-date",children:[e.jsxs("div",{className:"client-blessing-view-field-date",children:[e.jsx("label",{children:"Date of Appointment:"}),e.jsx("div",{className:"client-blessing-view-value",children:p.preferredDate})]}),e.jsxs("div",{className:"client-blessing-view-field-time",children:[e.jsx("label",{children:"Time of Appointment:"}),e.jsx("div",{className:"client-blessing-view-value",children:p.preferredTime})]})]})}),e.jsxs("div",{className:"client-blessing-view-bypart",children:[e.jsx("h2",{className:"client-blessing-view-sub-title",children:"Personal Information"}),e.jsxs("div",{className:"client-blessing-view-info-card",children:[e.jsxs("div",{className:"client-blessing-view-row",children:[e.jsxs("div",{className:"client-blessing-view-field",children:[e.jsx("label",{children:"First Name"}),e.jsx("div",{className:"client-blessing-view-value",children:p.firstName})]}),e.jsxs("div",{className:"client-blessing-view-field",children:[e.jsx("label",{children:"Middle Name"}),e.jsx("div",{className:"client-blessing-view-value",children:p.middleName})]}),e.jsxs("div",{className:"client-blessing-view-field",children:[e.jsx("label",{children:"Last Name"}),e.jsx("div",{className:"client-blessing-view-value",children:p.lastName})]})]}),e.jsxs("div",{className:"client-blessing-view-row",children:[e.jsxs("div",{className:"client-blessing-view-field",children:[e.jsx("label",{children:"Contact Number"}),e.jsx("div",{className:"client-blessing-view-value",children:p.contactNumber})]}),e.jsxs("div",{className:"client-blessing-view-field",children:[e.jsx("label",{children:"Email Address"}),e.jsx("div",{className:"client-blessing-view-value",children:p.emailAddress})]}),e.jsxs("div",{className:"client-blessing-view-field",children:[e.jsx("label",{children:"Place of Birth"}),e.jsx("div",{className:"client-blessing-view-value",children:p.placeOfBirth})]})]})]}),e.jsx("h2",{className:"client-blessing-view-sub-title",children:"Blessing Details"}),e.jsxs("div",{className:"client-blessing-view-info-card",children:[e.jsx("label",{className:"sub-mini-cc",children:"Location"}),e.jsxs("div",{className:"client-blessing-view-row",children:[e.jsxs("div",{className:"client-blessing-view-field",children:[e.jsx("label",{children:"Street"}),e.jsx("div",{className:"client-blessing-view-value-add",children:p.street})]}),e.jsxs("div",{className:"client-blessing-view-field",children:[e.jsx("label",{children:"Barangay"}),e.jsx("div",{className:"client-blessing-view-value-add",children:p.barangay})]}),e.jsxs("div",{className:"client-blessing-view-field",children:[e.jsx("label",{children:"Municipality"}),e.jsx("div",{className:"client-blessing-view-value-add",children:p.municipality})]}),e.jsxs("div",{className:"client-blessing-view-field",children:[e.jsx("label",{children:"Province"}),e.jsx("div",{className:"client-blessing-view-value-add",children:p.province})]})]}),e.jsxs("div",{className:"client-blessing-view-row",children:[e.jsxs("div",{className:"client-blessing-view-field",children:[e.jsx("label",{children:"Blessing Type"}),e.jsxs("div",{className:"client-blessing-view-value",children:[p.blessingType.charAt(0).toUpperCase()+p.blessingType.slice(1)," Blessing"]})]}),e.jsxs("div",{className:"client-blessing-view-field",children:[e.jsx("label",{children:"Purpose"}),e.jsx("div",{className:"client-blessing-view-value",children:p.purpose})]})]}),e.jsx("div",{className:"client-blessing-view-row",children:e.jsxs("div",{className:"client-blessing-view-field",children:[e.jsx("label",{children:"Notes"}),e.jsx("div",{className:"client-blessing-view-value",children:p.notes||"No additional notes provided."})]})})]})]})]})]})},vk=()=>{const a=oa(),t=Jt(),[s,i]=N.useState(!0),[r,c]=N.useState(null),[A,d]=N.useState(null);N.useEffect(()=>{var S,f;const F=(S=a.state)==null?void 0:S.funeralID,b=(f=a.state)==null?void 0:f.clientID;if(!F||!b){d("Missing funeral information. Please try again."),i(!1);return}h(F)},[a]);const h=async F=>{try{const S=await(await fetch(`https://parishofdivinemercy.com/backend/fetch_funeral_details.php?funeralID=${F}`)).json();S.success?c(S.data):d(S.message||"Failed to fetch funeral details")}catch(b){console.error("Error fetching funeral details:",b),d("An error occurred while fetching the data")}finally{i(!1)}},u=F=>e.jsx("div",{className:"client-funeral-view-value",children:F||"N/A"});if(s)return e.jsx("div",{className:"client-funeral-view-container",children:e.jsx("div",{className:"loading",children:"Loading funeral details..."})});if(A)return e.jsx("div",{className:"client-funeral-view-container",children:e.jsxs("div",{className:"error",children:[e.jsx("p",{children:A}),e.jsx("button",{onClick:()=>t("/client-appointment"),children:"Back to Appointments"})]})});if(!r)return e.jsx("div",{className:"client-funeral-view-container",children:e.jsxs("div",{className:"error",children:[e.jsx("p",{children:"No funeral data found."}),e.jsx("button",{onClick:()=>t("/client-appointment"),children:"Back to Appointments"})]})});const{funeral:v,deceased:x,requester:y,address:p}=r;return e.jsxs("div",{className:"client-funeral-view-container",children:[e.jsx("div",{className:"client-funeral-view-header",children:e.jsx("div",{className:"client-funeral-view-left-section",children:e.jsxs("button",{className:"client-funeral-view-back-button",onClick:()=>t("/client-appointment"),children:[e.jsx(Oa,{className:"client-funeral-view-back-icon"})," Back"]})})}),e.jsx("h1",{className:"client-funeral-view-title",children:"Funeral Mass Application Details"}),e.jsxs("div",{className:"client-funeral-view-data",children:[e.jsx("div",{className:"client-funeral-view-info-card",children:e.jsxs("div",{className:"client-funeral-view-row-date",children:[e.jsxs("div",{className:"client-funeral-view-field-date",children:[e.jsx("label",{children:"Date of Appointment:"}),u(v.dateOfFuneralMass)]}),e.jsxs("div",{className:"client-funeral-view-field-time",children:[e.jsx("label",{children:"Time of Appointment:"}),u(v.timeOfFuneralMass)]})]})}),e.jsxs("div",{className:"client-funeral-view-bypart",children:[e.jsx("h3",{className:"client-funeral-view-sub-title",children:"Deceased Information"}),e.jsxs("div",{className:"client-funeral-view-info-card",children:[e.jsxs("div",{className:"client-funeral-view-row",children:[e.jsxs("div",{className:"client-funeral-view-field",children:[e.jsx("label",{children:"First Name"}),u(x.first_name)]}),e.jsxs("div",{className:"client-funeral-view-field",children:[e.jsx("label",{children:"Middle Name"}),u(x.middle_name)]}),e.jsxs("div",{className:"client-funeral-view-field",children:[e.jsx("label",{children:"Last Name"}),u(x.last_name)]})]}),e.jsxs("div",{className:"client-funeral-view-row",children:[e.jsxs("div",{className:"client-funeral-view-field",children:[e.jsx("label",{children:"Date of Birth"}),u(x.dateOfBirth)]}),e.jsxs("div",{className:"client-funeral-view-field",children:[e.jsx("label",{children:"Age"}),u(x.age)]}),e.jsxs("div",{className:"client-funeral-view-field",children:[e.jsx("label",{children:"Gender"}),u(x.sex)]}),e.jsxs("div",{className:"client-funeral-view-field",children:[e.jsx("label",{children:"Date of Death"}),u(x.dateOfDeath)]})]}),e.jsx("div",{className:"client-funeral-view-row",children:e.jsxs("div",{className:"client-funeral-view-field",children:[e.jsx("label",{children:"Cause of Death"}),u(x.causeOfDeath)]})}),e.jsx("div",{className:"client-funeral-view-row",children:e.jsxs("div",{className:"client-funeral-view-field",children:[e.jsx("label",{children:"Wake Location"}),u(x.wake_location)]})}),e.jsx("div",{className:"client-funeral-view-row",children:e.jsxs("div",{className:"client-funeral-view-field",children:[e.jsx("label",{children:"Burial Location"}),u(x.burial_location)]})})]}),e.jsx("h3",{className:"client-funeral-view-sub-title",children:"Requester Information"}),e.jsxs("div",{className:"client-funeral-view-info-card",children:[e.jsxs("div",{className:"client-funeral-view-row",children:[e.jsxs("div",{className:"client-funeral-view-field",children:[e.jsx("label",{children:"First Name"}),u(y.first_name)]}),e.jsxs("div",{className:"client-funeral-view-field",children:[e.jsx("label",{children:"Middle Name"}),u(y.middle_name)]}),e.jsxs("div",{className:"client-funeral-view-field",children:[e.jsx("label",{children:"Last Name"}),u(y.last_name)]})]}),e.jsxs("div",{className:"client-funeral-view-row",children:[e.jsxs("div",{className:"client-funeral-view-field",children:[e.jsx("label",{children:"Relationship to the Deceased"}),u(y.relationship)]}),e.jsxs("div",{className:"client-funeral-view-field",children:[e.jsx("label",{children:"Contact Number"}),u(y.contact_number)]}),e.jsxs("div",{className:"client-funeral-view-field",children:[e.jsx("label",{children:"Email Address"}),u(y.email)]})]})]}),e.jsx("h3",{className:"client-funeral-view-sub-title",children:"Address"}),e.jsx("div",{className:"client-funeral-view-info-card",children:e.jsxs("div",{className:"client-funeral-view-row client-funeral-view-address-row",children:[e.jsxs("div",{className:"client-funeral-view-field",children:[e.jsx("label",{children:"Street"}),u(p.street)]}),e.jsxs("div",{className:"client-funeral-view-field",children:[e.jsx("label",{children:"Barangay"}),u(p.barangay)]}),e.jsxs("div",{className:"client-funeral-view-field",children:[e.jsx("label",{children:"Municipality"}),u(p.municipality)]}),e.jsxs("div",{className:"client-funeral-view-field",children:[e.jsx("label",{children:"Province"}),u(p.province)]})]})})]}),e.jsxs("div",{className:"client-funeral-view-requirements-container",children:[e.jsx("h2",{className:"client-funeral-view-requirements-title",children:"Requirements"}),e.jsxs("div",{className:"client-funeral-view-requirements-box",children:[e.jsx("h3",{className:"client-funeral-view-section-header",children:"Documents Needed(Bring the following documents)"}),e.jsxs("div",{className:"client-funeral-view-info-list",children:[e.jsx("div",{className:"client-funeral-view-info-item",children:e.jsx("p",{children:"Certificate of Death"})}),e.jsx("div",{className:"client-funeral-view-info-item",children:e.jsx("p",{children:"Parish Clearance"})}),e.jsx("div",{className:"client-funeral-view-info-item",children:e.jsx("p",{children:"Permit to Bury"})}),e.jsx("div",{className:"client-funeral-view-info-item",children:e.jsx("p",{children:"Certificate of Permission(if outside the Parish)"})})]}),e.jsx("h3",{className:"client-funeral-view-section-header",children:"Funeral Setup Requirements"}),e.jsxs("div",{className:"client-funeral-view-info-list",children:[e.jsx("div",{className:"client-funeral-view-info-item",children:e.jsx("p",{children:"Photos/memorial table allowed with limitations (not on the altar)"})}),e.jsx("div",{className:"client-funeral-view-info-item",children:e.jsx("p",{children:"Eulogies may be given before/after the Mass or at the cemetery"})}),e.jsx("div",{className:"client-funeral-view-info-item",children:e.jsx("p",{children:"Family and guests should wear respectful and modest attire"})}),e.jsx("div",{className:"client-funeral-view-info-item",children:e.jsx("p",{children:"No loud music, applause, or improper conduct during the Mass"})})]})]})]})]})]})},xk=()=>{const a=oa(),t=Jt(),{clientID:s}=a.state||{};console.log("Received clientID:",s);const[i,r]=N.useState({}),[c,A]=N.useState(!1),[d,h]=N.useState({dateOfAnointing:"",timeOfAnointing:"",firstName:"",middleName:"",lastName:"",sex:"",age:"",dateOfBirth:"",placeOfBirth:"",religion:"",reasonForAnointing:"",contactFirstName:"",contactMiddleName:"",contactLastName:"",contactRelationship:"",contactPhone:"",contactEmail:"",locationType:"Hospital",locationName:"",roomNumber:"",barangay:"",street:"",municipality:"",province:"",locationRegion:"",isCritical:!1,needsViaticum:!1,needsReconciliation:!1,additionalNotes:""}),[u,v]=N.useState([]),[x,y]=N.useState(!0),[p,F]=N.useState(null),[b,S]=N.useState({barangay:[],municipality:[],province:[],region:[],regionOfBirth:[],birthBarangay:[],birthMunicipality:[],birthProvince:[],placeOfBirth:[]}),[f,O]=N.useState([]),[M,J]=N.useState([]),[K,H]=N.useState([]),[k,Y]=N.useState([]),[D,ge]=N.useState([]),[_,X]=N.useState([]),[re,fe]=N.useState({}),[Ne,ue]=N.useState({}),[_e,ce]=N.useState(!1),[ye,Q]=N.useState(!1),[ne,U]=N.useState(!1),[V,T]=N.useState(""),[ie,ae]=N.useState(!1);N.useRef(null),N.useRef(null);const[P,z]=N.useState({barangay:"",municipality:"",province:""}),B=N.useMemo(()=>{if(!u.length)return{};const pe={},we={},ze={},Xe={},wt={},yt={};return u.forEach(Qt=>{pe[Qt.barangay.toLowerCase()]||(pe[Qt.barangay.toLowerCase()]=[]),pe[Qt.barangay.toLowerCase()].push(Qt),we[Qt.municipality.toLowerCase()]||(we[Qt.municipality.toLowerCase()]=[]),we[Qt.municipality.toLowerCase()].push(Qt),ze[Qt.province.toLowerCase()]||(ze[Qt.province.toLowerCase()]=[]),ze[Qt.province.toLowerCase()].push(Qt);const ta=Qt.municipality.toLowerCase();Xe[ta]||(Xe[ta]=new Set),Xe[ta].add(Qt.barangay);const Ft=Qt.province.toLowerCase();wt[Ft]||(wt[Ft]=new Set),wt[Ft].add(Qt.barangay),yt[Ft]||(yt[Ft]=new Set),yt[Ft].add(Qt.municipality)}),Object.keys(Xe).forEach(Qt=>{Xe[Qt]=Array.from(Xe[Qt])}),Object.keys(wt).forEach(Qt=>{wt[Qt]=Array.from(wt[Qt])}),Object.keys(yt).forEach(Qt=>{yt[Qt]=Array.from(yt[Qt])}),{barangays:pe,municipalities:we,provinces:ze,barangaysByMunicipality:Xe,barangaysByProvince:wt,municipalitiesByProvince:yt}},[u]),q=N.useMemo(()=>u.length?[...new Set(u.map(pe=>pe.province))].sort():[],[u]),te=N.useMemo(()=>u.length?[...new Set(u.map(pe=>pe.municipality))].sort():[],[u]),he=N.useMemo(()=>u.length?[...new Set(u.map(pe=>pe.barangay))].sort():[],[u]);N.useEffect(()=>{C(),Z(),W()},[]);const W=async()=>{try{const pe=await aa.get("http://parishofdivinemercy.com/backend/get_location.php");pe.data.success&&v(pe.data.locations)}catch(pe){console.error("Error fetching locations:",pe)}finally{y(!1)}},C=async()=>{try{const[pe,we]=await Promise.all([fetch("http://parishofdivinemercy.com/backend/schedule.php"),fetch("http://parishofdivinemercy.com/backend/get_anointing_applications.php")]),ze=await pe.json(),Xe=await we.json();if(ze.success){const wt=ze.schedules.filter(Aa=>Aa.sacramentType.toLowerCase()==="anointing of the sick and viaticum"),yt=new Set;Xe.success&&Xe.applications.forEach(Aa=>{yt.add(`${Aa.dateOfAnointing}-${Aa.timeOfAnointing}`)});const Qt=wt.filter(Aa=>{const Ue=`${Aa.date}-${Aa.time}`;return!yt.has(Ue)});O(Qt);const ta=new Set,Ft=[];Qt.forEach(Aa=>{ta.has(Aa.date)||(ta.add(Aa.date),Ft.push(Aa.date))}),Ft.sort((Aa,Ue)=>new Date(Aa)-new Date(Ue)),H(Ft)}}catch(pe){console.error("Error fetching schedules:",pe)}},Z=async()=>{try{const we=await(await fetch("http://parishofdivinemercy.com/backend/parish.php")).json();we.success?J(we.parishes):console.error("Error fetching priests:",we.message)}catch(pe){console.error("Error fetching priests:",pe)}};N.useEffect(()=>{if(d.dateOfAnointing){const pe=f.filter(ze=>ze.date===d.dateOfAnointing).map(ze=>ze.time),we=[...new Set(pe)];Y(we),we.includes(d.timeOfAnointing)||h(ze=>({...ze,timeOfAnointing:"",priestName:""}))}else Y([])},[d.dateOfAnointing,f]),N.useEffect(()=>{if(d.dateOfAnointing&&d.timeOfAnointing){const pe=f.filter(ze=>ze.date===d.dateOfAnointing&&ze.time===d.timeOfAnointing).map(ze=>ze.parishName),we=[...new Set(pe)];ge(we),we.includes(d.priestName)||h(ze=>({...ze,priestName:""}))}else ge([])},[d.dateOfAnointing,d.timeOfAnointing,f]);const se=(pe,we=null,ze=null)=>{if(!pe.trim()||!B.barangays){if(we&&B.barangaysByMunicipality){const yt=we.toLowerCase();if(B.barangaysByMunicipality[yt])return B.barangaysByMunicipality[yt].slice(0,10)}else if(ze&&B.barangaysByProvince){const yt=ze.toLowerCase();if(B.barangaysByProvince[yt])return B.barangaysByProvince[yt].slice(0,10)}return he.slice(0,10)}const Xe=pe.toLowerCase();let wt=[];if(we&&ze){const yt=we.toLowerCase();B.barangaysByMunicipality[yt]&&(wt=B.barangaysByMunicipality[yt].filter(Qt=>Qt.toLowerCase().includes(Xe)))}else if(we){const yt=we.toLowerCase();B.barangaysByMunicipality[yt]&&(wt=B.barangaysByMunicipality[yt].filter(Qt=>Qt.toLowerCase().includes(Xe)))}else if(ze){const yt=ze.toLowerCase();B.barangaysByProvince[yt]&&(wt=B.barangaysByProvince[yt].filter(Qt=>Qt.toLowerCase().includes(Xe)))}else wt=he.filter(yt=>yt.toLowerCase().includes(Xe));return wt.slice(0,10)},Se=(pe,we=null)=>{if(!pe.trim()||!B.municipalities){if(we&&B.municipalitiesByProvince){const wt=we.toLowerCase();if(B.municipalitiesByProvince[wt])return B.municipalitiesByProvince[wt].slice(0,10)}return te.slice(0,10)}const ze=pe.toLowerCase();let Xe=[];if(we){const wt=we.toLowerCase();B.municipalitiesByProvince[wt]&&(Xe=B.municipalitiesByProvince[wt].filter(yt=>yt.toLowerCase().includes(ze)))}else Xe=te.filter(wt=>wt.toLowerCase().includes(ze));return Xe.slice(0,10)},He=pe=>{if(!pe.trim()||!q)return q.slice(0,10);const we=pe.toLowerCase();return q.filter(Xe=>Xe.toLowerCase().includes(we)).slice(0,10)},Qe=pe=>{const we=["NCR - National Capital Region","CAR - Cordillera Administrative Region","Region I - Ilocos Region","Region II - Cagayan Valley","Region III - Central Luzon","Region IV-A - CALABARZON","Region IV-B - MIMAROPA","Region V - Bicol Region","Region VI - Western Visayas","Region VII - Central Visayas","Region VIII - Eastern Visayas","Region IX - Zamboanga Peninsula","Region X - Northern Mindanao","Region XI - Davao Region","Region XII - SOCCSKSARGEN","Region XIII - Caraga","BARMM - Bangsamoro Autonomous Region in Muslim Mindanao"];if(!pe.trim())return we.slice(0,10);const ze=pe.toLowerCase();return we.filter(Xe=>Xe.toLowerCase().includes(ze)).slice(0,10)},qe=(pe,we)=>{h(ze=>({...ze,[pe]:we}))},Ye=(pe,we)=>{if(!we){qe(pe,"");return}qe(pe,we);{const ze=new Date(we),Xe=new Date;let wt=Xe.getFullYear()-ze.getFullYear();const yt=Xe.getMonth()-ze.getMonth();(yt<0||yt===0&&Xe.getDate()<ze.getDate())&&wt--,qe("age",wt.toString())}},st=pe=>{h(we=>({...we,[pe]:!we[pe]}))},kt=pe=>{const we=pe.target.value;if(qe("barangay",we),p==="barangay"){const ze=se(we,d.municipality,d.province);S(Xe=>({...Xe,barangay:ze}))}},Mt=pe=>{const we=pe.target.value;if(qe("municipality",we),p==="municipality"){const ze=Se(we,d.province);S(Xe=>({...Xe,municipality:ze}))}if(we&&B.municipalities){const ze=we.toLowerCase(),Xe=B.municipalities[ze];Xe&&Xe.length>0&&!d.province&&qe("province",Xe[0].province)}},ke=pe=>{const we=pe.target.value;if(qe("province",we),p==="province"){const ze=He(we);S(Xe=>({...Xe,province:ze}))}},$e=pe=>{const we=pe.target.value;if(qe("locationRegion",we),p==="locationRegion"){const ze=Qe(we);S(Xe=>({...Xe,region:ze}))}},Ae=pe=>{if(qe("barangay",pe),F(null),B.barangays){const we=pe.toLowerCase(),ze=B.barangays[we];ze&&ze.length>0&&(d.municipality||qe("municipality",ze[0].municipality),d.province||qe("province",ze[0].province))}},Le=pe=>{if(qe("municipality",pe),B.municipalities){const we=pe.toLowerCase(),ze=B.municipalities[we];ze&&ze.length>0&&!d.province&&qe("province",ze[0].province)}F(null)},de=pe=>{qe("province",pe),F(null)},Me=pe=>{qe("locationRegion",pe),F(null)},Ie=pe=>{const we=pe.target.value,ze={...P,barangay:we};z(ze),It(ze),p==="birthBarangay"&&S(Xe=>({...Xe,birthBarangay:se(we,P.municipality,P.province)}))},Ze=pe=>{const we=pe.target.value,ze={...P,municipality:we};if(z(ze),It(ze),p==="birthMunicipality"&&S(Xe=>({...Xe,birthMunicipality:Se(we,P.province)})),we&&B.municipalities){const Xe=we.toLowerCase(),wt=B.municipalities[Xe];if(wt&&wt.length>0&&!P.province){const yt={...ze,province:wt[0].province};z(yt),It(yt)}}},nt=pe=>{const we=pe.target.value,ze={...P,province:we};z(ze),It(ze),p==="birthProvince"&&S(Xe=>({...Xe,birthProvince:He(we)}))},ot=pe=>{const we={...P,barangay:pe};if(z(we),It(we),F(null),B.barangays){const ze=pe.toLowerCase(),Xe=B.barangays[ze];if(Xe&&Xe.length>0){const wt=Xe[0].municipality,yt=Xe[0].province,Qt={...we};let ta=!1;!we.municipality&&wt&&(Qt.municipality=wt,ta=!0),!we.province&&yt&&(Qt.province=yt,ta=!0),ta&&(z(Qt),It(Qt))}}},jt=pe=>{const we={...P,municipality:pe};if(z(we),It(we),B.municipalities){const ze=pe.toLowerCase(),Xe=B.municipalities[ze];if(Xe&&Xe.length>0&&!P.province){const wt=Xe[0].province,yt={...we,province:wt};z(yt),It(yt)}}F(null)},ft=pe=>{const we={...P,province:pe};z(we),It(we),F(null)},It=pe=>{const we=pe.barangay!==void 0?pe.barangay:P.barangay,ze=pe.municipality!==void 0?pe.municipality:P.municipality,Xe=pe.province!==void 0?pe.province:P.province;let wt=[];we&&wt.push(we),ze&&wt.push(ze),Xe&&wt.push(Xe);const yt=wt.join(", ");yt&&(console.log("Updating placeOfBirth to:",yt),h(Qt=>({...Qt,placeOfBirth:yt})))},Ke=pe=>{switch(F(pe),pe){case"birthBarangay":S(we=>({...we,birthBarangay:se(P.barangay,P.municipality,P.province)}));break;case"birthMunicipality":S(we=>({...we,birthMunicipality:Se(P.municipality,P.province)}));break;case"birthProvince":S(we=>({...we,birthProvince:He(P.province)}));break;case"barangay":S(we=>({...we,barangay:se(d.barangay,d.municipality,d.province)}));break;case"municipality":S(we=>({...we,municipality:Se(d.municipality,d.province)}));break;case"province":S(we=>({...we,province:He(d.province)}));break;case"regionOfBirth":S(we=>({...we,regionOfBirth:Qe(d.regionOfBirth)}));break;case"locationRegion":S(we=>({...we,region:Qe(d.locationRegion)}));break}};N.useEffect(()=>{const pe=we=>{const ze=document.querySelectorAll(".aos-location-dropdown-container");let Xe=!0;ze.forEach(wt=>{wt.contains(we.target)&&(Xe=!1)}),Xe&&F(null)};return document.addEventListener("mousedown",pe),()=>{document.removeEventListener("mousedown",pe)}},[]);const it=()=>{const pe={};return["dateOfAnointing","timeOfAnointing","firstName","lastName","sex","dateOfBirth","contactFirstName","contactLastName","contactPhone","barangay","street","municipality","province"].forEach(ze=>{(!d[ze]||d[ze].trim()==="")&&(pe[ze]="This field is required")}),r(pe),Object.keys(pe).length===0},De=()=>{A(!0),it()?ce(!0):window.scrollTo(0,0)},Be=async()=>{ce(!1),ae(!0);try{const pe=new FormData;pe.append("clientID",s),pe.append("anointingData",JSON.stringify(d));const ze=await(await fetch("http://parishofdivinemercy.com/backend/anointing_application.php",{method:"POST",body:pe})).json();if(ae(!1),ze.success){try{const Xe=await fetch("http://parishofdivinemercy.com/backend/send_anointing_email.php",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({clientID:s,anointingData:d})});console.log("Email response:",await Xe.json())}catch(Xe){console.error("Error sending email:",Xe)}Q(!0),setTimeout(()=>{t("/client-appointment")},2e3)}else T(ze.message||"Failed to submit application"),U(!0)}catch(pe){ae(!1),console.error("Error submitting form:",pe),T("An error occurred while submitting the application"),U(!0)}};return e.jsxs("div",{className:"aos-container",children:[e.jsx("div",{className:"aos-header",children:e.jsx("div",{className:"aos-left-section",children:e.jsxs("button",{className:"aos-back-button",onClick:()=>t(-1),children:[e.jsx(Oa,{className:"aos-back-icon"})," Back"]})})}),e.jsx("h1",{className:"aos-title",children:"Anointing of the Sick and Viaticum Application"}),e.jsxs("div",{className:"aos-data",children:[c&&Object.keys(i).length>0&&e.jsx("div",{className:"aos-error-message",children:"Please fill in all required fields marked with (*)."}),e.jsxs("div",{className:"aos-row-date",children:[e.jsxs("div",{className:"aos-field-date",children:[e.jsxs("label",{children:["Date of Appointment ",e.jsx("span",{className:"required",children:"*"})]}),e.jsxs("select",{value:d.dateOfAnointing,onChange:pe=>qe("dateOfAnointing",pe.target.value),className:c&&i.dateOfAnointing?"input-error":"",children:[e.jsx("option",{value:"",children:"Select Date"}),K.map(pe=>e.jsx("option",{value:pe,children:new Date(pe).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})},pe))]})]}),e.jsxs("div",{className:"aos-field-time",children:[e.jsxs("label",{children:["Time of Appointment ",e.jsx("span",{className:"required",children:"*"})]}),e.jsxs("select",{value:d.timeOfAnointing,onChange:pe=>qe("timeOfAnointing",pe.target.value),disabled:!d.dateOfAnointing,className:c&&i.timeOfAnointing?"input-error":"",children:[e.jsx("option",{value:"",children:"Select Time"}),k.map(pe=>e.jsx("option",{value:pe,children:pe},pe))]})]})]}),e.jsxs("div",{className:"aos-section",children:[e.jsx("h3",{className:"aos-sub-title",children:"Sick Person Information"}),e.jsxs("div",{className:"aos-row",children:[e.jsxs("div",{className:"aos-field",children:[e.jsxs("label",{children:["First Name of the Sick Person ",e.jsx("span",{className:"required",children:"*"})]}),e.jsx("input",{type:"text",value:d.firstName,onChange:pe=>qe("firstName",pe.target.value),className:c&&i.firstName?"input-error":""})]}),e.jsxs("div",{className:"aos-field",children:[e.jsx("label",{children:"Middle Name"}),e.jsx("input",{type:"text",value:d.middleName,onChange:pe=>qe("middleName",pe.target.value)})]}),e.jsxs("div",{className:"aos-field",children:[e.jsxs("label",{children:["Last Name ",e.jsx("span",{className:"required",children:"*"})]}),e.jsx("input",{type:"text",value:d.lastName,onChange:pe=>qe("lastName",pe.target.value),className:c&&i.lastName?"input-error":""})]}),e.jsxs("div",{className:"aos-field",children:[e.jsxs("label",{children:["Date of Birth ",e.jsx("span",{className:"required",children:"*"})]}),e.jsx("input",{type:"date",className:`date-input ${c&&i.dateOfBirth?"input-error":""}`,onChange:pe=>Ye("dateOfBirth",pe.target.value)})]})]}),e.jsxs("div",{className:"aos-row",children:[e.jsxs("div",{className:"aos-field-ga",children:[e.jsx("label",{children:"Age"}),e.jsx("input",{type:"text",value:d.age,onChange:pe=>qe("age",pe.target.value),readOnly:!0})]}),e.jsxs("div",{className:"aos-field-ga",children:[e.jsxs("label",{children:["Sex ",e.jsx("span",{className:"required",children:"*"})]}),e.jsxs("select",{value:d.sex,onChange:pe=>qe("sex",pe.target.value),className:c&&i.sex?"input-error":"",children:[e.jsx("option",{value:"",children:"Select"}),e.jsx("option",{value:"Male",children:"Male"}),e.jsx("option",{value:"Female",children:"Female"})]})]})]}),e.jsxs("div",{className:"aos-row",children:[e.jsxs("div",{className:"aos-field aos-location-dropdown-container",children:[e.jsx("label",{children:"Birth Barangay"}),e.jsx("input",{type:"text",placeholder:"Type to search",value:P.barangay,onChange:Ie,onFocus:()=>Ke("birthBarangay")}),p==="birthBarangay"&&b.birthBarangay.length>0&&e.jsx("div",{className:"aos-location-dropdown",children:b.birthBarangay.map((pe,we)=>e.jsx("div",{onClick:()=>ot(pe),className:"aos-location-dropdown-item",children:pe},we))})]}),e.jsxs("div",{className:"aos-field aos-location-dropdown-container",children:[e.jsx("label",{children:"Birth Municipality"}),e.jsx("input",{type:"text",placeholder:"Type to search",value:P.municipality,onChange:Ze,onFocus:()=>Ke("birthMunicipality")}),p==="birthMunicipality"&&b.birthMunicipality.length>0&&e.jsx("div",{className:"aos-location-dropdown",children:b.birthMunicipality.map((pe,we)=>e.jsx("div",{onClick:()=>jt(pe),className:"aos-location-dropdown-item",children:pe},we))})]}),e.jsxs("div",{className:"aos-field aos-location-dropdown-container",children:[e.jsx("label",{children:"Birth Province"}),e.jsx("input",{type:"text",placeholder:"Type to search",value:P.province,onChange:nt,onFocus:()=>Ke("birthProvince")}),p==="birthProvince"&&b.birthProvince.length>0&&e.jsx("div",{className:"aos-location-dropdown",children:b.birthProvince.map((pe,we)=>e.jsx("div",{onClick:()=>ft(pe),className:"aos-location-dropdown-item",children:pe},we))})]}),e.jsxs("div",{className:"aos-field",children:[e.jsx("label",{children:"Religion"}),e.jsx("input",{type:"text",value:d.religion,onChange:pe=>qe("religion",pe.target.value)})]})]}),e.jsx("div",{className:"aos-row",children:e.jsxs("div",{className:"aos-field-wide",children:[e.jsx("label",{children:"Reason for Anointing (Medical Condition)"}),e.jsx("textarea",{value:d.reasonForAnointing,onChange:pe=>qe("reasonForAnointing",pe.target.value),rows:3,placeholder:"Please describe the medical condition or reason for requesting the sacrament"})]})}),e.jsx("h3",{className:"aos-sub-title",children:"Contact Person Information"}),e.jsxs("div",{className:"aos-row",children:[e.jsxs("div",{className:"aos-field",children:[e.jsxs("label",{children:["Contact Person's First Name ",e.jsx("span",{className:"required",children:"*"})]}),e.jsx("input",{type:"text",value:d.contactFirstName,onChange:pe=>qe("contactFirstName",pe.target.value),className:c&&i.contactFirstName?"input-error":""})]}),e.jsxs("div",{className:"aos-field",children:[e.jsx("label",{children:"Middle Name"}),e.jsx("input",{type:"text",value:d.contactMiddleName,onChange:pe=>qe("contactMiddleName",pe.target.value)})]}),e.jsxs("div",{className:"aos-field",children:[e.jsxs("label",{children:["Last Name ",e.jsx("span",{className:"required",children:"*"})]}),e.jsx("input",{type:"text",value:d.contactLastName,onChange:pe=>qe("contactLastName",pe.target.value),className:c&&i.contactLastName?"input-error":""})]})]}),e.jsxs("div",{className:"aos-row",children:[e.jsxs("div",{className:"aos-field",children:[e.jsx("label",{children:"Relationship to Sick Person"}),e.jsx("input",{type:"text",value:d.contactRelationship,onChange:pe=>qe("contactRelationship",pe.target.value)})]}),e.jsxs("div",{className:"aos-field",children:[e.jsxs("label",{children:["Phone Number ",e.jsx("span",{className:"required",children:"*"})]}),e.jsx("input",{type:"text",value:d.contactPhone,onChange:pe=>qe("contactPhone",pe.target.value),className:c&&i.contactPhone?"input-error":""})]}),e.jsxs("div",{className:"aos-field",children:[e.jsx("label",{children:"Email Address"}),e.jsx("input",{type:"email",value:d.contactEmail,onChange:pe=>qe("contactEmail",pe.target.value)})]})]}),e.jsx("h3",{className:"aos-sub-title",children:"Location Information"}),e.jsxs("div",{className:"aos-row",children:[e.jsxs("div",{className:"aos-field",children:[e.jsx("label",{children:"Location Type"}),e.jsxs("select",{value:d.locationType,onChange:pe=>qe("locationType",pe.target.value),children:[e.jsx("option",{value:"Hospital",children:"Hospital"}),e.jsx("option",{value:"Home",children:"Home"}),e.jsx("option",{value:"Hospice",children:"Hospice"}),e.jsx("option",{value:"Nursing Home",children:"Nursing Home"}),e.jsx("option",{value:"Other",children:"Other"})]})]}),e.jsxs("div",{className:"aos-field",children:[e.jsx("label",{children:"Location Name"}),e.jsx("input",{type:"text",value:d.locationName,onChange:pe=>qe("locationName",pe.target.value),placeholder:"Name of hospital, hospice, etc."})]}),e.jsxs("div",{className:"aos-field",children:[e.jsx("label",{children:"Room/Room Number"}),e.jsx("input",{type:"text",value:d.roomNumber,onChange:pe=>qe("roomNumber",pe.target.value)})]})]}),e.jsxs("div",{className:"aos-row aos-address-row",children:[e.jsxs("div",{className:"aos-field",children:[e.jsxs("label",{children:["Street ",e.jsx("span",{className:"required",children:"*"})]}),e.jsx("input",{type:"text",value:d.street,onChange:pe=>qe("street",pe.target.value),className:c&&i.street?"input-error":""})]}),e.jsxs("div",{className:"aos-field aos-location-dropdown-container",children:[e.jsxs("label",{children:["Barangay ",e.jsx("span",{className:"required",children:"*"})]}),e.jsx("input",{type:"text",value:d.barangay,onChange:kt,onFocus:()=>Ke("barangay"),placeholder:"Type to search",className:c&&i.barangay?"input-error":""}),p==="barangay"&&b.barangay.length>0&&e.jsx("div",{className:"aos-location-dropdown",children:b.barangay.map((pe,we)=>e.jsx("div",{onClick:()=>Ae(pe),className:"aos-location-dropdown-item",children:pe},we))})]}),e.jsxs("div",{className:"aos-field aos-location-dropdown-container",children:[e.jsxs("label",{children:["Municipality ",e.jsx("span",{className:"required",children:"*"})]}),e.jsx("input",{type:"text",value:d.municipality,onChange:Mt,onFocus:()=>Ke("municipality"),placeholder:"Type to search",className:c&&i.municipality?"input-error":""}),p==="municipality"&&b.municipality.length>0&&e.jsx("div",{className:"aos-location-dropdown",children:b.municipality.map((pe,we)=>e.jsx("div",{onClick:()=>Le(pe),className:"aos-location-dropdown-item",children:pe},we))})]}),e.jsxs("div",{className:"aos-field aos-location-dropdown-container",children:[e.jsxs("label",{children:["Province ",e.jsx("span",{className:"required",children:"*"})]}),e.jsx("input",{type:"text",value:d.province,onChange:ke,onFocus:()=>Ke("province"),placeholder:"Type to search",className:c&&i.province?"input-error":""}),p==="province"&&b.province.length>0&&e.jsx("div",{className:"aos-location-dropdown",children:b.province.map((pe,we)=>e.jsx("div",{onClick:()=>de(pe),className:"aos-location-dropdown-item",children:pe},we))})]}),e.jsxs("div",{className:"aos-field aos-location-dropdown-container",children:[e.jsx("label",{children:"Region"}),e.jsx("input",{type:"text",value:d.locationRegion,onChange:$e,onFocus:()=>Ke("locationRegion"),placeholder:"Type to search"}),p==="locationRegion"&&b.region.length>0&&e.jsx("div",{className:"aos-location-dropdown",children:b.region.map((pe,we)=>e.jsx("div",{onClick:()=>Me(pe),className:"aos-location-dropdown-item",children:pe},we))})]})]}),e.jsx("h3",{className:"aos-sub-title",children:"Additional Information"}),e.jsx("div",{className:"aos-row",children:e.jsxs("div",{className:"aos-checkbox-container",children:[e.jsx("input",{type:"checkbox",id:"isCritical",checked:d.isCritical,onChange:()=>st("isCritical")}),e.jsx("label",{htmlFor:"isCritical",children:"Is the person in critical condition?"})]})}),e.jsx("div",{className:"aos-row",children:e.jsxs("div",{className:"aos-checkbox-container",children:[e.jsx("input",{type:"checkbox",id:"needsViaticum",checked:d.needsViaticum,onChange:()=>st("needsViaticum")}),e.jsx("label",{htmlFor:"needsViaticum",children:"Needs Viaticum (Holy Communion)"})]})}),e.jsx("div",{className:"aos-row",children:e.jsxs("div",{className:"aos-checkbox-container",children:[e.jsx("input",{type:"checkbox",id:"needsReconciliation",checked:d.needsReconciliation,onChange:()=>st("needsReconciliation")}),e.jsx("label",{htmlFor:"needsReconciliation",children:"Needs Sacrament of Reconciliation (Confession)"})]})}),e.jsx("div",{className:"aos-row",children:e.jsxs("div",{className:"aos-field-wide",children:[e.jsx("label",{children:"Additional Notes or Special Requests"}),e.jsx("textarea",{value:d.additionalNotes,onChange:pe=>qe("additionalNotes",pe.target.value),rows:3,placeholder:"Include any special circumstances, accessibility needs, or other important information"})]})})]})]}),e.jsxs("div",{className:"aos-requirements-container",children:[e.jsx("h2",{className:"aos-requirements-title",children:"About Anointing of the Sick"}),e.jsxs("div",{className:"aos-requirements-box",children:[e.jsx("h3",{className:"aos-section-header",children:"Documents Required(Bring the following documents)"}),e.jsxs("div",{className:"aos-info-list",children:[e.jsx("div",{className:"aos-info-item",children:e.jsx("p",{children:"Medical Certificate or Doctor's note"})}),e.jsx("div",{className:"aos-info-item",children:e.jsx("p",{children:"Valid IDs of the sick person or the contact person"})}),e.jsx("div",{className:"aos-info-item",children:e.jsx("p",{children:"Certificate of Permission(if the candidate is not a resident of the parish)"})})]}),e.jsx("h3",{className:"aos-section-header",children:"About Anointing of the Sick"}),e.jsxs("div",{className:"aos-info-list",children:[e.jsx("div",{className:"aos-info-item",children:e.jsx("p",{children:"The Sacrament of Anointing of the Sick provides spiritual strength and comfort to those who are ill or facing serious medical conditions."})}),e.jsx("div",{className:"aos-info-item",children:e.jsx("p",{children:"Viaticum is the Holy Communion given to a dying person as spiritual food for their journey to eternal life."})}),e.jsx("div",{className:"aos-info-item",children:e.jsx("p",{children:"This sacrament can be received by any Catholic who is seriously ill, facing surgery, or weakened by old age."})})]}),e.jsx("h3",{className:"aos-section-header",children:"Important Notes"}),e.jsxs("div",{className:"aos-info-list",children:[e.jsx("div",{className:"aos-info-item",children:e.jsx("p",{children:"For emergency cases, please call the parish emergency number directly at _______ instead of using this form."})}),e.jsx("div",{className:"aos-info-item",children:e.jsx("p",{children:"A priest will visit the location provided to administer the sacrament."})}),e.jsx("div",{className:"aos-info-item",children:e.jsx("p",{children:"Please ensure someone will be present to receive the priest and guide them to the sick person."})}),e.jsx("div",{className:"aos-info-item",children:e.jsx("p",{children:"You will receive a confirmation email once your request has been processed."})})]})]})]}),e.jsxs("div",{className:"aos-button-container",children:[e.jsx("button",{className:"aos-submit-btn",onClick:De,children:"Submit"}),e.jsx("button",{className:"aos-cancel-btn",onClick:()=>t(-1),children:"Cancel"})]}),_e&&e.jsx("div",{className:"aos-modal-overlay",children:e.jsxs("div",{className:"aos-modal",children:[e.jsx("h2",{children:"Submit Application"}),e.jsx("hr",{className:"custom-hr-aos"}),e.jsx("p",{children:"Are you sure you want to submit your Anointing of the Sick application?"}),e.jsxs("div",{className:"aos-modal-buttons",children:[e.jsx("button",{className:"aos-yes-btn",onClick:Be,children:"Yes"}),e.jsx("button",{className:"aos-modal-no-btn",onClick:()=>ce(!1),children:"No"})]})]})}),ye&&e.jsx("div",{className:"aos-modal-overlay",children:e.jsxs("div",{className:"aos-modal",children:[e.jsx("h2",{children:"Success"}),e.jsx("hr",{className:"custom-hr-aos"}),e.jsx("p",{children:"Your Anointing of the Sick application has been submitted successfully!"}),e.jsx("div",{className:"aos-modal-buttons",children:e.jsx("button",{className:"aos-yes-btn",onClick:()=>Q(!1),children:"OK"})})]})}),ne&&e.jsx("div",{className:"aos-modal-overlay",children:e.jsxs("div",{className:"aos-modal",children:[e.jsx("h2",{children:"Error"}),e.jsx("hr",{className:"custom-hr-aos"}),e.jsx("p",{children:V}),e.jsx("div",{className:"aos-modal-buttons",children:e.jsx("button",{className:"aos-modal-no-btn",onClick:()=>U(!1),children:"OK"})})]})}),ie&&e.jsx("div",{className:"aos-modal-overlay",children:e.jsxs("div",{className:"aos-modal",children:[e.jsx("h2",{children:"Processing Application"}),e.jsx("hr",{className:"custom-hr-aos"}),e.jsx("p",{children:"Please wait while we submit your Anointing of the Sick application..."}),e.jsx("div",{className:"client-anointing-loading-spinner",children:e.jsx("div",{className:"client-anointing-spinner"})})]})})]})},yk=()=>{const a=oa(),t=Jt(),[s,i]=N.useState(!0),[r,c]=N.useState(null),[A,d]=N.useState(null);N.useEffect(()=>{var f,O;const b=(f=a.state)==null?void 0:f.anointingID,S=(O=a.state)==null?void 0:O.clientID;if(!b||!S){d("Missing anointing information. Please try again."),i(!1);return}h(b)},[a]);const h=async b=>{try{const f=await(await fetch(`https://parishofdivinemercy.com/backend/fetch_anointing_details.php?anointingID=${b}`)).json();if(f.success){const O={anointing:f.data.anointing||{},contact:f.data.contact||{},locationInfo:f.data.locationInfo||{},additionalInfo:f.data.additionalInfo||{},requirements:f.data.requirements||{}};c(O)}else d(f.message||"Failed to fetch anointing details")}catch(S){console.error("Error fetching anointing details:",S),d("An error occurred while fetching the data")}finally{i(!1)}},u=b=>e.jsx("div",{className:"client-anointing-view-value",children:b||"N/A"});if(s)return e.jsx("div",{className:"client-anointing-view-container",children:e.jsx("div",{className:"loading",children:"Loading anointing details..."})});if(A)return e.jsx("div",{className:"client-anointing-view-container",children:e.jsxs("div",{className:"error",children:[e.jsx("p",{children:A}),e.jsx("button",{onClick:()=>t("/client-appointment"),children:"Back to Appointments"})]})});if(!r)return e.jsx("div",{className:"client-anointing-view-container",children:e.jsxs("div",{className:"error",children:[e.jsx("p",{children:"No anointing data found."}),e.jsx("button",{onClick:()=>t("/client-appointment"),children:"Back to Appointments"})]})});const{anointing:v={},contact:x={},locationInfo:y={},additionalInfo:p={},requirements:F={}}=r;return e.jsxs("div",{className:"client-anointing-view-container",children:[e.jsx("div",{className:"client-anointing-view-header",children:e.jsx("div",{className:"client-anointing-view-left-section",children:e.jsxs("button",{className:"client-anointing-view-back-button",onClick:()=>t("/client-appointment"),children:[e.jsx(Oa,{className:"client-anointing-view-back-icon"})," Back"]})})}),e.jsx("h1",{className:"client-anointing-view-title",children:"Anointing of the Sick and Viaticum Application Details"}),e.jsxs("div",{className:"client-anointing-view-data",children:[e.jsxs("div",{className:"client-anointing-view-row-date",children:[e.jsxs("div",{className:"client-anointing-view-field-date",children:[e.jsx("label",{children:"Date of Appointment:"}),u(v.dateOfAnointing)]}),e.jsxs("div",{className:"client-anointing-view-field-time",children:[e.jsx("label",{children:"Time of Appointment:"}),u(v.timeOfAnointing)]})]}),e.jsxs("div",{className:"client-anointing-view-bypart",children:[e.jsx("h3",{className:"client-anointing-view-sub-title",children:"Sick Person Information"}),e.jsxs("div",{className:"client-anointing-view-info-card",children:[e.jsxs("div",{className:"client-anointing-view-row",children:[e.jsxs("div",{className:"client-anointing-view-field",children:[e.jsx("label",{children:"First Name of the Sick Person:"}),u(v.firstName)]}),e.jsxs("div",{className:"client-anointing-view-field",children:[e.jsx("label",{children:"Middle Name:"}),u(v.middleName)]}),e.jsxs("div",{className:"client-anointing-view-field",children:[e.jsx("label",{children:"Last Name:"}),u(v.lastName)]})]}),e.jsxs("div",{className:"client-anointing-view-row",children:[e.jsxs("div",{className:"client-anointing-view-field",children:[e.jsx("label",{children:"Date of Birth:"}),u(v.dateOfBirth)]}),e.jsxs("div",{className:"client-anointing-view-field",children:[e.jsx("label",{children:"Sex:"}),u(v.sex)]}),e.jsxs("div",{className:"client-anointing-view-field",children:[e.jsx("label",{children:"Age:"}),u(v.age)]})]}),e.jsx("div",{className:"client-anointing-view-row",children:e.jsxs("div",{className:"client-anointing-view-field",children:[e.jsx("label",{children:"Place of Birth:"}),u(v.placeOfBirth)]})}),e.jsx("div",{className:"client-anointing-view-row",children:e.jsxs("div",{className:"client-anointing-view-field-wide",children:[e.jsx("label",{children:"Reason for Anointing (Medical Condition):"}),u(v.reasonForAnointing)]})})]}),e.jsx("h3",{className:"client-anointing-view-sub-title",children:"Contact Person Information"}),e.jsxs("div",{className:"client-anointing-view-info-card",children:[e.jsxs("div",{className:"client-anointing-view-row",children:[e.jsxs("div",{className:"client-anointing-view-field",children:[e.jsx("label",{children:"Contact Person's First Name:"}),u(x.contactFirstName)]}),e.jsxs("div",{className:"client-anointing-view-field",children:[e.jsx("label",{children:"Middle Name:"}),u(x.contactMiddleName)]}),e.jsxs("div",{className:"client-anointing-view-field",children:[e.jsx("label",{children:"Last Name:"}),u(x.contactLastName)]})]}),e.jsxs("div",{className:"client-anointing-view-row",children:[e.jsxs("div",{className:"client-anointing-view-field",children:[e.jsx("label",{children:"Relationship to Sick Person:"}),u(x.contactRelationship)]}),e.jsxs("div",{className:"client-anointing-view-field",children:[e.jsx("label",{children:"Phone Number:"}),u(x.contactPhone)]}),e.jsxs("div",{className:"client-anointing-view-field",children:[e.jsx("label",{children:"Email Address:"}),u(x.contactEmail)]})]})]}),e.jsx("h3",{className:"client-anointing-view-sub-title",children:"Location Information"}),e.jsxs("div",{className:"client-anointing-view-info-card",children:[e.jsxs("div",{className:"client-anointing-view-row",children:[e.jsxs("div",{className:"client-anointing-view-field",children:[e.jsx("label",{children:"Location Type:"}),u(y==null?void 0:y.locationType)]}),e.jsxs("div",{className:"client-anointing-view-field",children:[e.jsx("label",{children:"Location Name:"}),u(y==null?void 0:y.locationName)]}),e.jsxs("div",{className:"client-anointing-view-field",children:[e.jsx("label",{children:"Room/Room Number:"}),u(y==null?void 0:y.roomNumber)]}),e.jsxs("div",{className:"client-anointing-view-field",children:[e.jsx("label",{children:"Region:"}),u(y==null?void 0:y.locationRegion)]})]}),e.jsxs("div",{className:"client-anointing-view-row client-anointing-address-view-row",children:[e.jsxs("div",{className:"client-anointing-view-field",children:[e.jsx("label",{children:"Street:"}),u(y==null?void 0:y.street)]}),e.jsxs("div",{className:"client-anointing-view-field",children:[e.jsx("label",{children:"Barangay:"}),u(y==null?void 0:y.barangay)]}),e.jsxs("div",{className:"client-anointing-view-field",children:[e.jsx("label",{children:"Municipality:"}),u(y==null?void 0:y.municipality)]}),e.jsxs("div",{className:"client-anointing-view-field",children:[e.jsx("label",{children:"Province:"}),u(y==null?void 0:y.province)]})]})]}),e.jsx("h3",{className:"client-anointing-view-sub-title",children:"Additional Information"}),e.jsxs("div",{className:"client-anointing-view-info-card",children:[e.jsx("div",{className:"client-anointing-view-row",children:e.jsxs("div",{className:"client-anointing-checkbox-container",children:[e.jsx("span",{className:`client-anointing-view-checkbox ${parseInt((p==null?void 0:p.isCritical)||0)===1?"client-anointing-view-checked":""}`}),e.jsx("label",{children:"Is the person in critical condition?"})]})}),e.jsx("div",{className:"client-anointing-view-row",children:e.jsxs("div",{className:"client-anointing-checkbox-container",children:[e.jsx("span",{className:`client-anointing-view-checkbox ${parseInt((p==null?void 0:p.needsViaticum)||0)===1?"client-anointing-view-checked":""}`}),e.jsx("label",{children:"Needs Viaticum (Holy Communion)"})]})}),e.jsx("div",{className:"client-anointing-view-row",children:e.jsxs("div",{className:"client-anointing-checkbox-container",children:[e.jsx("span",{className:`client-anointing-view-checkbox ${parseInt((p==null?void 0:p.needsReconciliation)||0)===1?"client-anointing-view-checked":""}`}),e.jsx("label",{children:"Needs Sacrament of Reconciliation (Confession)"})]})}),e.jsx("div",{className:"client-anointing-view-row",children:e.jsxs("div",{className:"client-anointing-view-field-wide",children:[e.jsx("label",{children:"Additional Notes or Special Requests:"}),u(p==null?void 0:p.additionalNotes)]})})]})]}),e.jsxs("div",{className:"client-anointing-requirements-view-container",children:[e.jsx("h2",{className:"client-anointing-requirements-view-title",children:"About Anointing of the Sick"}),e.jsxs("div",{className:"client-anointing-requirements-view-box",children:[e.jsx("h3",{className:"client-anointing-view-section-header",children:"Documents Required"}),e.jsxs("div",{className:"client-anointing-info-view-list",children:[e.jsx("div",{className:"client-anointing-info-view-item",children:e.jsx("p",{children:"Medical Certificate or Doctor's note"})}),e.jsx("div",{className:"client-anointing-info-view-item",children:e.jsx("p",{children:"Valid IDs of the sick person or the contact person"})}),e.jsx("div",{className:"client-anointing-info-view-item",children:e.jsx("p",{children:"Certificate of Permission(if the candidate is not a resident of the parish)"})})]}),e.jsx("h3",{className:"client-anointing-view-section-header",children:"About Anointing of the Sick"}),e.jsxs("div",{className:"client-anointing-info-view-list",children:[e.jsx("div",{className:"client-anointing-info-view-item",children:e.jsx("p",{children:"The Sacrament of Anointing of the Sick provides spiritual strength and comfort to those who are ill or facing serious medical conditions."})}),e.jsx("div",{className:"client-anointing-info-view-item",children:e.jsx("p",{children:"Viaticum is the Holy Communion given to a dying person as spiritual food for their journey to eternal life."})}),e.jsx("div",{className:"client-anointing-info-view-item",children:e.jsx("p",{children:"This sacrament can be received by any Catholic who is seriously ill, facing surgery, or weakened by old age."})})]}),e.jsx("h3",{className:"client-anointing-view-section-header",children:"Important Notes"}),e.jsxs("div",{className:"client-anointing-info-view-list",children:[e.jsx("div",{className:"client-anointing-info-view-item",children:e.jsx("p",{children:"For emergency cases, please call the parish emergency number directly instead of using this form."})}),e.jsx("div",{className:"client-anointing-info-view-item",children:e.jsx("p",{children:"A priest will visit the location provided to administer the sacrament."})}),e.jsx("div",{className:"client-anointing-info-view-item",children:e.jsx("p",{children:"Please ensure someone will be present to receive the priest and guide them to the sick person."})}),e.jsx("div",{className:"client-anointing-info-view-item",children:e.jsx("p",{children:"You will receive a confirmation email once your request has been processed."})})]})]})]})]})]})},Km=()=>{const t=oa().pathname.split("/")[1];return e.jsx("div",{className:"login-page-container",children:e.jsx("div",{className:"login-form-wrapper",children:t==="parish-login"?e.jsx(v4,{}):t==="secretary-login"?e.jsx(x4,{}):t==="ministry-login"?e.jsx(y4,{}):e.jsx(b4,{})})})},sa=()=>{const a=oa(),t=a.pathname.startsWith("/ministry"),s=a.pathname.startsWith("/secretary"),i=a.pathname.startsWith("/client"),r=a.pathname.startsWith("/parish"),c=()=>{var A;if(a.pathname==="/baptism-view"||a.pathname==="/marriage-view"||a.pathname==="/funeral-mass-view"||a.pathname==="/confirmation-view"||a.pathname==="/communion-view"||a.pathname==="/anointing-of-the-sick-view"||a.pathname==="/blessing-view"){const d=(A=a.state)==null?void 0:A.source;return d==="secretary"?e.jsx(kg,{}):d==="parish"?e.jsx(Og,{}):e.jsx(Og,{})}return t?e.jsx(w4,{}):s?e.jsx(kg,{}):i?e.jsx(N4,{}):r?e.jsx(Og,{}):e.jsx(kg,{})};return e.jsxs("div",{className:"main-container",children:[e.jsxs("div",{className:"sidebar-container",children:[e.jsxs("div",{className:"logo-container",children:[e.jsx("img",{src:Ii,alt:"Parish Logo",className:"sidebar-logo"}),e.jsxs("div",{className:"logo-text",children:[e.jsx("h1",{className:"logo-title",children:"PARISH OF THE DIVINE MERCY"}),e.jsx("h2",{className:"logo-subtitle",children:"Management Information System"})]})]}),c()]}),e.jsx("div",{className:"form-container",children:a.pathname==="/parish-dashboard"?e.jsx(i3,{}):a.pathname==="/parish-appointment"?e.jsx(s3,{}):a.pathname==="/parish-activities-event"?e.jsx(n3,{}):a.pathname==="/baptism-view"?e.jsx(IU,{}):a.pathname==="/marriage-view"?e.jsx(QU,{}):a.pathname==="/funeral-mass-view"?e.jsx(TU,{}):a.pathname==="/confirmation-view"?e.jsx(RU,{}):a.pathname==="/communion-view"?e.jsx(PU,{}):a.pathname==="/blessing-view"?e.jsx(HU,{}):a.pathname==="/anointing-of-the-sick-view"?e.jsx(qU,{}):a.pathname==="/ministry-dashboard"?e.jsx(e3,{}):a.pathname==="/ministry-profile"?e.jsx(t3,{}):a.pathname==="/ministry-activities-event"?e.jsx(a3,{}):a.pathname==="/secretary-dashboard"?e.jsx(KU,{}):a.pathname==="/secretary-schedule"?e.jsx(VU,{}):a.pathname==="/secretary-appointment"?e.jsx(zU,{}):a.pathname==="/secretary-activities-event"?e.jsx($U,{}):a.pathname==="/secretary-payment"?e.jsx(GU,{}):a.pathname==="/secretary-report"?e.jsx(OO,{}):a.pathname==="/secretary-user-management"?e.jsx(kO,{}):a.pathname==="/secretary-baptism"?e.jsx(IO,{}):a.pathname==="/secretary-marriage"?e.jsx(QO,{}):a.pathname==="/secretary-funeral-mass"?e.jsx(TO,{}):a.pathname==="/secretary-blessing"?e.jsx(RO,{}):a.pathname==="/secretary-confirmation"?e.jsx(PO,{}):a.pathname==="/secretary-communion"?e.jsx(HO,{}):a.pathname==="/secretary-baptism-view"?e.jsx(qO,{}):a.pathname==="/secretary-confirmation-view"?e.jsx(KO,{}):a.pathname==="/secretary-marriage-view"?e.jsx(VO,{}):a.pathname==="/secretary-communion-view"?e.jsx(zO,{}):a.pathname==="/secretary-funeral-mass-view"?e.jsx($O,{}):a.pathname==="/secretary-blessing-view"?e.jsx(GO,{}):a.pathname==="/secretary-anointing-of-the-sick"?e.jsx(WO,{}):a.pathname==="/secretary-anointing-of-the-sick-view"?e.jsx(YO,{}):a.pathname==="/baptism"?e.jsx(XO,{}):a.pathname==="/marriage"?e.jsx(JO,{}):a.pathname==="/funeral-mass"?e.jsx(ZO,{}):a.pathname==="/blessing"?e.jsx(ek,{}):a.pathname==="/communion"?e.jsx(tk,{}):a.pathname==="/confirmation"?e.jsx(ik,{}):a.pathname==="/anointing-of-the-sick"?e.jsx(ak,{}):a.pathname==="/client-dashboard"?e.jsx(sk,{}):a.pathname==="/client-profile"?e.jsx(nk,{}):a.pathname==="/client-appointment"?e.jsx(rk,{}):a.pathname==="/client-baptism"?e.jsx(lk,{}):a.pathname==="/client-baptism-view"?e.jsx(hk,{}):a.pathname==="/client-marriage"?e.jsx(ck,{}):a.pathname==="/client-marriage-view"?e.jsx(mk,{}):a.pathname==="/client-confirmation"?e.jsx(ok,{}):a.pathname==="/client-confirmation-view"?e.jsx(pk,{}):a.pathname==="/client-communion"?e.jsx(Ak,{}):a.pathname==="/client-communion-view"?e.jsx(fk,{}):a.pathname==="/client-funeral-mass"?e.jsx(dk,{}):a.pathname==="/client-funeral-mass-view"?e.jsx(vk,{}):a.pathname==="/client-blessing"?e.jsx(uk,{}):a.pathname==="/client-blessing-view"?e.jsx(gk,{}):a.pathname==="/client-anointing-of-the-sick"?e.jsx(xk,{}):a.pathname==="/client-anointing-of-the-sick-view"?e.jsx(yk,{}):e.jsx(k0,{})}),e.jsx("div",{className:"main-divider"})]})},bk=()=>e.jsx(g5,{children:e.jsxs($C,{children:[e.jsx(Yt,{path:"/",element:e.jsx(k0,{})}),e.jsx(Yt,{path:"/parish-login",element:e.jsx(Km,{})}),e.jsx(Yt,{path:"/secretary-login",element:e.jsx(Km,{})}),e.jsx(Yt,{path:"/ministry-login",element:e.jsx(Km,{})}),e.jsx(Yt,{path:"/client-login",element:e.jsx(Km,{})}),e.jsx(Yt,{path:"/parish-dashboard",element:e.jsx(sa,{})}),e.jsx(Yt,{path:"/parish-appointment",element:e.jsx(sa,{})}),e.jsx(Yt,{path:"/parish-activities-event",element:e.jsx(sa,{})}),e.jsx(Yt,{path:"/baptism-view",element:e.jsx(sa,{})}),e.jsx(Yt,{path:"/marriage-view",element:e.jsx(sa,{})}),e.jsx(Yt,{path:"/funeral-mass-view",element:e.jsx(sa,{})}),e.jsx(Yt,{path:"/confirmation-view",element:e.jsx(sa,{})}),e.jsx(Yt,{path:"/communion-view",element:e.jsx(sa,{})}),e.jsx(Yt,{path:"/blessing-view",element:e.jsx(sa,{})}),e.jsx(Yt,{path:"/anointing-of-the-sick-view",element:e.jsx(sa,{})}),e.jsx(Yt,{path:"/ministry-dashboard",element:e.jsx(sa,{})}),e.jsx(Yt,{path:"/ministry-profile",element:e.jsx(sa,{})}),e.jsx(Yt,{path:"/ministry-activities-event",element:e.jsx(sa,{})}),e.jsx(Yt,{path:"/secretary-dashboard",element:e.jsx(sa,{})}),e.jsx(Yt,{path:"/secretary-schedule",element:e.jsx(sa,{})}),e.jsx(Yt,{path:"/secretary-appointment",element:e.jsx(sa,{})}),e.jsx(Yt,{path:"/secretary-activities-event",element:e.jsx(sa,{})}),e.jsx(Yt,{path:"/secretary-payment",element:e.jsx(sa,{})}),e.jsx(Yt,{path:"/secretary-report",element:e.jsx(sa,{})}),e.jsx(Yt,{path:"/secretary-user-management",element:e.jsx(sa,{})}),e.jsx(Yt,{path:"/secretary-baptism",element:e.jsx(sa,{})}),e.jsx(Yt,{path:"/secretary-marriage",element:e.jsx(sa,{})}),e.jsx(Yt,{path:"/secretary-funeral-mass",element:e.jsx(sa,{})}),e.jsx(Yt,{path:"/secretary-blessing",element:e.jsx(sa,{})}),e.jsx(Yt,{path:"/secretary-confirmation",element:e.jsx(sa,{})}),e.jsx(Yt,{path:"/secretary-communion",element:e.jsx(sa,{})}),e.jsx(Yt,{path:"/secretary-baptism-view",element:e.jsx(sa,{})}),e.jsx(Yt,{path:"/secretary-confirmation-view",element:e.jsx(sa,{})}),e.jsx(Yt,{path:"/secretary-marriage-view",element:e.jsx(sa,{})}),e.jsx(Yt,{path:"/secretary-communion-view",element:e.jsx(sa,{})}),e.jsx(Yt,{path:"/secretary-funeral-mass-view",element:e.jsx(sa,{})}),e.jsx(Yt,{path:"/secretary-blessing-view",element:e.jsx(sa,{})}),e.jsx(Yt,{path:"/secretary-anointing-of-the-sick",element:e.jsx(sa,{})}),e.jsx(Yt,{path:"/secretary-anointing-of-the-sick-view",element:e.jsx(sa,{})}),e.jsx(Yt,{path:"/baptism",element:e.jsx(sa,{})}),e.jsx(Yt,{path:"/marriage",element:e.jsx(sa,{})}),e.jsx(Yt,{path:"/funeral-mass",element:e.jsx(sa,{})}),e.jsx(Yt,{path:"/blessing",element:e.jsx(sa,{})}),e.jsx(Yt,{path:"/communion",element:e.jsx(sa,{})}),e.jsx(Yt,{path:"/confirmation",element:e.jsx(sa,{})}),e.jsx(Yt,{path:"/anointing-of-the-sick",element:e.jsx(sa,{})}),e.jsx(Yt,{path:"/client-dashboard",element:e.jsx(sa,{})}),e.jsx(Yt,{path:"/client-profile",element:e.jsx(sa,{})}),e.jsx(Yt,{path:"/client-appointment",element:e.jsx(sa,{})}),e.jsx(Yt,{path:"/client-baptism",element:e.jsx(sa,{})}),e.jsx(Yt,{path:"/client-baptism-view",element:e.jsx(sa,{})}),e.jsx(Yt,{path:"/client-marriage",element:e.jsx(sa,{})}),e.jsx(Yt,{path:"/client-marriage-view",element:e.jsx(sa,{})}),e.jsx(Yt,{path:"/client-confirmation",element:e.jsx(sa,{})}),e.jsx(Yt,{path:"/client-confirmation-view",element:e.jsx(sa,{})}),e.jsx(Yt,{path:"/client-communion",element:e.jsx(sa,{})}),e.jsx(Yt,{path:"/client-communion-view",element:e.jsx(sa,{})}),e.jsx(Yt,{path:"/client-funeral-mass",element:e.jsx(sa,{})}),e.jsx(Yt,{path:"/client-funeral-mass-view",element:e.jsx(sa,{})}),e.jsx(Yt,{path:"/client-blessing",element:e.jsx(sa,{})}),e.jsx(Yt,{path:"/client-blessing-view",element:e.jsx(sa,{})}),e.jsx(Yt,{path:"/client-anointing-of-the-sick",element:e.jsx(sa,{})}),e.jsx(Yt,{path:"/client-anointing-of-the-sick-view",element:e.jsx(sa,{})})]})});iC.createRoot(document.getElementById("root")).render(e.jsx(N.StrictMode,{children:e.jsx(bk,{})}));export{$a as _,wk as c,Mj as g};
